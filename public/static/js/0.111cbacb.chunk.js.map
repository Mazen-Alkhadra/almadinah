{"version":3,"sources":["../node_modules/devextreme/ui/data_grid/ui.data_grid.core.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.utils.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.modules.js","../node_modules/devextreme/ui/shared/accessibility.js","../node_modules/devextreme/exporter/excel/excel.tag_helper.js","../node_modules/devextreme-react/data-grid.js","../node_modules/devextreme/ui/shared/filtering.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.columns_view.js","../node_modules/devextreme-react/ui/form.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.data_source_adapter.js","../node_modules/devextreme/ui/tree_view.js","../node_modules/devextreme/ui/filter_builder/utils.js","../node_modules/devextreme/events/double_click.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.accessibility.js","../node_modules/devextreme/ui/context_menu.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.utils.js","../node_modules/devextreme/format_helper.js","../node_modules/devextreme/ui/context_menu/ui.menu_base.js","../node_modules/devextreme/ui/hierarchical_collection/ui.hierarchical_collection_widget.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.grouping.core.js","../node_modules/devextreme/ui/shared/ui.editor_factory_mixin.js","../node_modules/devextreme/ui/overlay/utils.js","../node_modules/devextreme/exporter/file_saver.js","../node_modules/devextreme/exporter/excel_format_converter.js","../node_modules/devextreme/localization/language_codes.js","../node_modules/devextreme/exporter/excel/excel.fill_helper.js","../node_modules/devextreme/exporter/excel/excel.color_helper.js","../node_modules/devextreme/exporter/excel/excel.font_helper.js","../node_modules/devextreme/exporter/image_creator.js","../node_modules/devextreme/core/utils/svg.js","../node_modules/devextreme-react/form.js","../node_modules/devextreme/ui/data_grid.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.base.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.column_headers.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.column_headers.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.column_state_mixin.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.columns_controller.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.columns_controller.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.data_controller.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.data_source_adapter.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.data_controller.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.sorting.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.sorting.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.sorting_mixin.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.rows.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.rows.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.context_menu.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.context_menu.js","../node_modules/devextreme/ui/context_menu/ui.context_menu.js","../node_modules/devextreme/ui/hierarchical_collection/ui.data_adapter.js","../node_modules/devextreme/ui/hierarchical_collection/ui.data_converter.js","../node_modules/devextreme/ui/context_menu/ui.menu_base.edit.strategy.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.error_handling.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.error_handling.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.grid_view.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.grid_view.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.header_panel.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.header_panel.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.state_storing.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.state_storing.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.state_storing_core.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.selection.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.selection.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.column_chooser.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.column_chooser.js","../node_modules/devextreme/ui/tree_view/ui.tree_view.search.js","../node_modules/devextreme/ui/tree_view/ui.tree_view.base.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.grouping.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.grouping.expanded.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.grouping.collapsed.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.master_detail.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.master_detail.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.editing.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.editor_factory.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.editor_factory.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.editing.js","../node_modules/devextreme/ui/dialog.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.validating.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.validating.js","../node_modules/devextreme/ui/tooltip.js","../node_modules/devextreme/ui/tooltip/tooltip.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.virtual_scrolling.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.virtual_scrolling.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.virtual_scrolling_core.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.filter_row.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.filter_row.js","../node_modules/devextreme/ui/menu.js","../node_modules/devextreme/ui/menu/ui.menu.js","../node_modules/devextreme/ui/menu/ui.submenu.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.header_filter.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.header_filter.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.header_filter_core.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.filter_sync.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.filter_sync.js","../node_modules/devextreme/ui/filter_builder/between.js","../node_modules/devextreme/ui/filter_builder/ui.filter_operations_dictionary.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.filter_custom_operations.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.filter_builder.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.filter_builder.js","../node_modules/devextreme/ui/filter_builder.js","../node_modules/devextreme/ui/filter_builder/filter_builder.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.filter_panel.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.filter_panel.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.search.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.search.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.pager.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.pager.js","../node_modules/devextreme/ui/pager.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.columns_resizing_reordering.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.columns_resizing_reordering.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.keyboard_navigation.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.keyboard_navigation.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.summary.js","../node_modules/devextreme/ui/data_grid/aggregate_calculator.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.column_fixing.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.column_fixing.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.adaptivity.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.adaptivity.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.virtual_columns.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.virtual_columns.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.virtual_columns_core.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.export.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.export_mixin.js","../node_modules/devextreme/exporter.js","../node_modules/devextreme/exporter/excel_creator.js","../node_modules/jszip/dist/jszip.min.js","../node_modules/buffer/index.js","../node_modules/base64-js/index.js","../node_modules/ieee754/index.js","../node_modules/isarray/index.js","../node_modules/timers-browserify/main.js","../node_modules/setimmediate/setImmediate.js","../node_modules/devextreme/exporter/excel/excel.file.js","../node_modules/devextreme/exporter/excel/excel.cell_format_helper.js","../node_modules/devextreme/exporter/excel/excel.cell_alignment_helper.js","../node_modules/devextreme/exporter/excel/excel.pattern_fill_helper.js","../node_modules/devextreme/exporter/excel/excel.number_format_helper.js","../node_modules/devextreme/exporter/svg_creator.js","../node_modules/devextreme/exporter/pdf_creator.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.focus.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.focus.js","../node_modules/devextreme/ui/data_grid/ui.data_grid.row_dragging.js","../node_modules/devextreme/ui/grid_core/ui.grid_core.row_dragging.js"],"names":["exports","default","_uiGrid_core","_interopRequireDefault","require","obj","__esModule","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","configurable","writable","_default","modules","module","_renderer","_type","_deferred","_filtering","_string","_iterator","_extend","_position","_data","_common","_load_panel","_utils","_format_helper","_window","_events_engine","DATE_INTERVAL_SELECTORS","year","getFullYear","month","getMonth","day","getDate","quarter","Math","floor","hour","getHours","minute","getMinutes","second","getSeconds","getIntervalSelector","data","this","calculateCellValue","isDefined","isDateType","dataType","nameIntervalSelector","groupInterval","Number","setEmptyText","$container","get","textContent","normalizeSortingInfo","sort","result","isExpanded","formatValue","options","valueText","format","toString","formatObject","getDisplayFormat","customizeText","call","getSummaryText","summaryItem","summaryTexts","displayFormat","columnCaption","summaryType","valueFormat","getWidgetInstance","$element","editorData","dxComponents","widgetName","renderNoDataText","element","noDataClass","addWidgetPrefix","noDataElement","find","last","isVisible","_dataController","isEmpty","isLoading","addClass","appendTo","removeClass","text","_getNoDataText","renderLoadPanel","isLocalStore","loadPanelOptions","that","_loadPanel","remove","option","enabled","extend","shading","message","position","$window","getWindow","height","of","boundary","collision","container","_createComponent","getIndexByKey","items","keyName","index","Array","isArray","item","equalByValue","combineFilters","filters","operation","resultFilter","checkChanges","changes","changeNames","changesWithChangeNamesCount","equalFilterParameters","filter1","filter2","isFunction","columnIndex","toComparable","filterValue","proxyMethod","instance","methodName","defaultResult","dataSource","_dataSource","getFormatOptionsByColumn","column","trueText","falseText","getDisplayValue","rowType","displayValueMap","calculateDisplayValue","lookup","calculateGroupValue","getGroupRowSummaryText","summaryItems","getFormatByDataType","getHeaderFilterGroupParameters","remoteGrouping","dataField","name","getGroupInterval","each","interval","selector","bind","sortingMethod","compare","equalSortParameters","sortParameters1","sortParameters2","ignoreIsExpanded","selector1","selector2","originalCallback","desc","Boolean","getPointsByColumns","pointCreated","isVertical","startColumnIndex","offset","rtlEnabled","cellsLength","notCreatePoint","eq","css","point","x","left","getBoundingRect","width","y","top","prevItemOffset","getExpandCellTemplate","allowRenderToDetachedContainer","render","isContinuation","row","isNewRow","rowsView","component","getView","setAria","localize","getSelectionRange","focusedElement","selectionStart","selectionEnd","e","setSelectionRange","selectionRange","focusAndSelectElement","trigger","isSelectTextOnEditingStart","keyboardController","getController","isEditingNavigationMode","_isFastEditingStarted","is","editor","closest","when","_loadItemDeferred","done","select","getLastResizableColumnIndex","columns","resultWidths","lastColumnIndex","hasResizableColumns","some","command","fixed","allowResizing","isElementInCurrentGrid","controller","getWidgetContainerClass","parent","_class","_callbacks","_array","_ui","_message","ModuleItem","inherit","_endUpdateCore","ctor","_updateLockCount","_actions","_actionConfigs","callbackNames","flags","callbackFlags","unique","syncStrategy","init","publicMethods","beginUpdate","endUpdate","optionCache","_optionCache","_silentOption","_setOptionWithoutOptionChange","on","off","optionChanged","args","createAction","handled","getAction","actionName","$target","prefix","setAttribute","attr","_controllers","config","action","_createAction","event","_createActionByOption","executeAction","dispose","empty","className","NAME","slice","toLowerCase","containerName","Controller","ViewController","_views","getViews","View","_isReady","isReady","callBase","_requireReady","_requireRender","_requireResize","_$parent","_invalidate","requireResize","requireReady","hasWindow","_renderCore","_resizeCore","_afterRender","_parentElement","renderCompleted","resizeCompleted","_$element","getElementHeight","marginTop","parseFloat","marginBottom","offsetHeight","getTemplate","_getTemplate","$parent","toggleClass","fire","resize","isResizing","focus","MODULES_ORDER_MAX_INDEX","registerModule","controllerTypes","viewTypes","registerModulesOrder","moduleNames","modulesOrder","unregisterModule","grep","processModules","componentClass","module1","module2","orderIndex1","inArray","orderIndex2","controllers","moduleName","views","type","Error","subclassOf","extenders","extender","createModuleItems","moduleTypes","moduleItems","moduleType","moduleItem","registerPublicMethods","callModuleItemsMethod","subscribeVisibilityChange","_dom_adapter","getDocument","onDocumentVisibilityChange","unsubscribeVisibilityChange","hiddenFocus","isHiddenFocusing","registerKeyboardAction","viewName","executeKeyDown","noop","$mainElement","keyDownHandler","fireKeyDownEvent","originalEvent","_index","normalizeKeyName","ariaLabel","targetIndex","getActiveAccessibleElements","focusedElementInfo","viewInstance","saveFocusedElementInfo","FOCUS_STATE_CLASS","selectView","processKeyDown","mouseDownHandler","isMouseDown","focusinHandler","restoreFocus","$targetElement","setTabIndex","GRID_ROW_SELECTOR","GRID_CELL_SELECTOR","concat","TREELIST_ROW_SELECTOR","TREELIST_CELL_SELECTOR","viewItemSelectorMap","groupPanel","columnHeaders","filterRow","footer","filterPanel","pager","viewElement","$viewElement","findFocusedViewElement","viewSelectors","$focusViewElement","first","visibilityState","ctrlKey","viewNames","viewItemIndex","indexOf","_viewName","toXml","tagName","attributes","content","attributeName","attributeValue","join","__extends","extendStatics","d","b","setPrototypeOf","__proto__","p","hasOwnProperty","__","constructor","prototype","create","ValueFormat","ValidationRule","TotalItem","ToolbarItem","Texts","SummaryTexts","Summary","StringLengthRule","StateStoring","Sorting","SortByGroupSummaryInfo","Show","Selection","SearchPanel","Scrolling","RowDragging","RequiredRule","RemoteOperations","RangeRule","Position","Popup","PatternRule","Paging","Pager","OperationDescriptions","Offset","NumericRule","My","MasterDetail","Lookup","LoadPanel","Label","KeyboardNavigation","Hide","HeaderFilter","GroupPanel","GroupOperationDescriptions","GroupItem","GroupingTexts","Grouping","FormItem","Format","Form","FilterRow","FilterPanelTexts","FilterPanel","FilterOperationDescriptions","FilterBuilderPopup","FilterBuilder","FieldLookup","Field","ExportTexts","Export","EmailRule","EditingTexts","Editing","DataGridHeaderFilterTexts","DataGridHeaderFilter","CustomRule","CustomOperation","CursorOffset","CompareRule","ColumnLookup","ColumnHeaderFilter","ColumnFixingTexts","ColumnFixing","ColumnChooser","Column","Collision","ColCountByScreen","Button","BoundaryOffset","At","AsyncRule","Animation","DataGrid","data_grid_1","PropTypes","component_1","nested_option_1","_super","_this","_WidgetClass","subscribableOptions","_defaults","defaultColumns","defaultEditing","defaultFilterPanel","defaultFilterValue","defaultFocusedColumnIndex","defaultFocusedRowIndex","defaultFocusedRowKey","defaultPaging","defaultSearchPanel","defaultSelectedRowKeys","defaultSelectionFilter","_expectedChildren","optionName","isCollectionItem","columnChooser","columnFixing","dataGridHeaderFilter","editing","export","filterBuilder","filterBuilderPopup","grouping","headerFilter","keyboardNavigation","loadPanel","masterDetail","paging","remoteOperations","rowDragging","scrolling","searchPanel","selection","sortByGroupSummaryInfo","sorting","stateStoring","summary","_templateProps","tmplOption","keyFn","_instance","Component","propTypes","accessKey","string","activeStateEnabled","bool","allowColumnReordering","allowColumnResizing","autoNavigateToFocusedRow","cacheEnabled","cellHintEnabled","columnAutoWidth","columnHidingEnabled","columnMinWidth","number","columnResizingMode","oneOf","array","columnWidth","customizeColumns","func","oneOfType","dateSerializationFormat","disabled","elementAttr","errorRowEnabled","filterSyncEnabled","focusedColumnIndex","focusedRowEnabled","focusedRowIndex","focusStateEnabled","highlightChanges","hint","hoverStateEnabled","keyExpr","noDataText","onAdaptiveDetailRowPreparing","onCellClick","onCellDblClick","onCellHoverChanged","onCellPrepared","onContentReady","onContextMenuPreparing","onDataErrorOccurred","onDisposing","onEditCanceled","onEditCanceling","onEditingStart","onEditorPrepared","onEditorPreparing","onExporting","onFocusedCellChanged","onFocusedCellChanging","onFocusedRowChanged","onFocusedRowChanging","onInitialized","onInitNewRow","onKeyDown","onOptionChanged","onRowClick","onRowCollapsed","onRowCollapsing","onRowDblClick","onRowExpanded","onRowExpanding","onRowInserted","onRowInserting","onRowPrepared","onRowRemoved","onRowRemoving","onRowUpdated","onRowUpdating","onRowValidating","onSaved","onSaving","onSelectionChanged","onToolbarPreparing","renderAsync","repaintChangesOnly","rowAlternationEnabled","selectedRowKeys","selectionFilter","showBorders","showColumnHeaders","showColumnLines","showRowLines","tabIndex","twoWayBindingEnabled","visible","wordWrapEnabled","OptionName","ExpectedChildren","hide","show","IsCollectionItem","PredefinedProps","TemplateProps","DefaultsProps","defaultFilterValues","defaultGroupIndex","defaultSelectedFilterOperation","defaultSortIndex","defaultSortOrder","defaultVisible","defaultVisibleIndex","button","columnHeaderFilter","columnLookup","formItem","validationRule","columnFixingTexts","texts","dataGridHeaderFilterTexts","defaultChanges","defaultEditColumnName","defaultEditRowKey","editingTexts","form","popup","exportTexts","fieldLookup","defaultValue","customOperation","field","filterOperationDescriptions","groupOperationDescriptions","defaultHeight","defaultPosition","defaultWidth","defaultFilterEnabled","filterPanelTexts","operationDescriptions","defaultFormData","colCountByScreen","label","groupingTexts","defaultPageIndex","defaultPageSize","animation","toolbarItem","at","boundaryOffset","my","cursorOffset","defaultText","groupItem","totalItem","DEFAULT_DATE_INTERVAL","DEFAULT_DATETIME_INTERVAL","dateIntervals","getFilterSelector","displayField","getFilterExpressionByRange","endFilterValue","startFilterExpression","endFilterExpression","date","getMilliseconds","Date","getTime","setDate","getFilterExpressionForDate","selectedFilterOperation","dateStart","dateEnd","dateInterval","dateValue","values","isDate","map","split","getFilterExpressionForNumber","defaultCalculateFilterExpression","isSearchByDisplayValue","_typeof","Symbol","iterator","ColumnsView","_element_data","_pointer","_click","_double_click","_browser","_style","_element","iteratorUtils","cache","_getRequireWildcardCache","has","newObj","hasPropertyDescriptor","set","_interopRequireWildcard","_uiGrid_core2","_uiGrid_core3","WeakMap","SCROLL_CONTAINER_CLASS","ROW_CLASS","GROUP_ROW_CLASS","DETAIL_ROW_CLASS","HIDDEN_COLUMNS_WIDTH","CELL_HINT_VISIBLE","appendElementTemplate","append","getWidthStyle","isNumeric","setCellWidth","cell","style","maxWidth","_createScrollableOptions","scrollingOptions","useNativeScrolling","pushBackValue","direction","bounceEnabled","useKeyboard","useNative","useSimulatedScrollbar","_updateCell","$cell","parameters","_cellPrepared","_createCell","alignment","getDefaultAlignment","createElement","textAlign","headerId","cssClass","colspan","isBand","visibleWidth","minWidth","_createRow","rowObject","_isAltRow","dataIndex","_createTable","isAppend","$table","_createColGroup","safari","mozilla","preventDefault","currentTarget","$row","isDataRow","hasClass","isHeaderRow","isGroupRow","isMasterDetailRow","isFilterRow","visibleColumns","_columnsController","getVisibleColumns","rowOptions","cellOptions","cells","msieCorrection","msie","cellTemplate","headerCellTemplate","groupIndex","groupCellTemplate","removeAttr","scrollWidth","clientWidth","getOptions","$fieldItemContent","delegateTarget","resultOptions","cellElement","getPublicElement","eventType","formItemOptions","getVisibleIndex","touchTarget","touchCurrentTarget","timeoutId","clearTouchTargets","timeout","setTimeout","clearTimeout","down","_isNativeClick","rowIndex","getRowIndex","rowElement","getColumns","_rowPointerDown","_rowClick","_rowDblClick","subscribeToRowEvents","colgroupElement","j","_createCol","col","setWidth","renderDelayedTemplates","delayedTemplates","_delayedTemplates","syncTemplates","template","async","asyncTemplates","_renderDelayedTemplatesCore","_renderDelayedTemplatesCoreAsync","templates","isAsync","templateParameters","shift","doc","_processTemplate","renderingTemplate","isRenderer","model","deferred","resolve","renderedTemplate","nodeType","templateID","isString","_templatesCache","renderTemplate","templateDeferred","Deferred","templateOptions","onRendered","showEditorAlways","reject","promise","_getBodies","tableElement","children","not","_wrapRowIfNeed","$tBodies","_tableElement","$tbody","_appendRow","appendTemplate","scrollLeft","_scrollLeft","scrollTo","$root","_renderTable","changeType","change","_renderRows","rows","_getRows","columnIndices","changeTypes","_renderRow","$wrappedRow","_renderCells","_addWatchMethod","_rowPrepared","_needRenderCell","_renderCell","oldValue","oldValues","_updateCells","$rowElement","$newRowElement","$cells","$newCells","cellUpdatedClass","$newCell","replaceWith","newElement","oldAttributes","newAttributes","nodeName","hasAttribute","removeAttribute","nodeValue","copyAttributes","_setCellAriaAttributes","columnIndexOffset","getColumnIndexOffset","ariaColIndex","_getCellOptions","_renderCellContent","appendChild","_getCellTemplate","isAltRow","watchers","watch","getter","updateFunc","watcher","newValue","JSON","stringify","splice","update","_columnOptionChanged","optionNames","widths","setColumnWidths","getCellIndex","cellIndex","getTableElements","_getTableElement","_setTableElement","excludeValidators","category","afterExecute","_afterRowPrepared","columnsChanged","add","changed","_handleDataChanged","pos","$scrollContainer","_wrapTableInScrollContainer","_this2","scrollChanged","_updateContent","$newTableElement","_findContentElement","_getWidths","$cellElements","legacyRendering","offsetWidth","getBoundingClientRect","clientRect","ceil","getColumnWidths","$tableElement","$rows","isRowVisible","display","getVisibleColumnIndex","_ref","$cols","visibleIndex","toFixed","getCellElements","_getCellElementsCore","_getRowElements","_getCellElement","columnIdentifier","columnVisibleIndex","_getVisibleColumnIndex","_getRowElement","$tableElements","_","getCellElement","getRowElement","elements","columnOption","getColumnElements","getCell","cellPosition","getRowsCount","_getRowElementsCore","tBodies","getName","setScrollerSpacing","paddingLeft","paddingRight","isScrollbarVisible","isHorizontal","outerWidth","outerHeight","__createBinding","o","m","k","k2","undefined","__exportStar","form_1","dataSourceAdapterType","getGroupCriteria","setGroupValue","group","convertGroupToNegationGroup","criteria","convertNegationGroupToGroup","isNegationValue","isNegationGroup","convertGroupToNewStructure","substring","getNormalizedGroupValue","changeCriteriaValue","getGroupMenuItem","availableGroups","groupValue","getGroupValue","getFilterOperations","getCaptionByOperation","getOperationFromAvailable","availableOperations","getCustomOperation","getAvailableOperations","customOperations","filterOperations","isLookupField","dataTypes","notForLookup","DEFAULT_DATA_TYPE","icon","EMPTY_MENU_ICON","caption","_inflector","captionize","isCustom","_ui2","getIconByFilterOperation","getDefaultOperation","createCondition","condition","filterOperation","updateConditionByOperation","removeItem","createEmptyGroup","isEmptyGroup","isCondition","addItem","unshift","getField","isGroup","convertToInnerStructure","getNormalizedFields","fields","reduce","normalizedField","AVAILABLE_FIELD_PROPERTIES","getFilterExpression","getConditionFilterExpression","_filterExpression","getNormalizedFilter","itemsForRemove","normalizedGroupValue","isValidCondition","setGroupCriteria","getCurrentLookupValueText","handler","lookupDataSource","_data_source","DataSource","loadSingle","valueExpr","displayExpr","compileGetter","fail","getCurrentValueText","checkDefaultValue","getArrayValueText","_len","_key","getPrimitiveValueText","getItems","getCaptionWithParents","plainItems","hasParent","parentId","getParentIdFromItemDataField","getOperationValue","getMergedOperations","betweenCaption","context","betweenIndex","_between","getConfig","removeFieldConditionsFromFilter","isMatchedCondition","syncConditionIntoGroup","syncFilters","addedFilter","AND_GROUP_OPERATION","getMatchedConditions","filterHasField","renderValueText","_errors","DATATYPE_OPERATIONS","datetime","DEFAULT_FORMAT","LOOKUP_OPERATIONS","FILTER_BUILDER_ITEM_TEXT_SEPARATOR_CLASS","FILTER_BUILDER_ITEM_TEXT_CLASS","getCriteriaOperation","errors","entity","getDefaultFilterOperations","operationName","getNameByFilterOperation","filteredOperations","defaultFilterOperation","extendedFields","convertToInnerGroup","groupOperation","innerGroup","convertToInnerCondition","conditionHasCustomOperation","filterExpression","calculateFilterExpression","createFilterExpression","fieldFormat","getFormattedValueText","v","itemExists","pushItemAndCheckParent","originalItems","id","generateCaptionByDataField","allowHierarchicalFields","lastIndexOf","arr","hasValue","addedFilterDataField","canPush","lastItemIndex","t","valueSeparator","_dom","_event_registrator","DBLCLICK_EVENT_NAME","NAMESPACED_CLICK_EVENT","addNamespace","DblClick","_handlerCount","_forgetLastClick","_firstClickTarget","_lastClickTimeStamp","_clickHandler","timeStamp","now","timeBetweenClicks","fireEvent","closestCommonParent","accessibility","isKeyboardEnabled","createGroupFilter","path","storeLoadOptions","groups","_date","_number","_date2","_dependency_injector","_format","formatIsValid","isPlainObject","valueIsValid","getTimeFormat","showSecond","_normalizeFormat","formatPart","getDateFormatByDifferences","dateDifferences","intervalFormat","resultFormat","needSpecialSecondFormatter","millisecond","getMonthNames","getDateFormatByTicks","ticks","maxDiff","currentDiff","getDatesDifferences","count","getDateFormatByTickInterval","startValue","endValue","tickInterval","dateUnitInterval","correctDateDifferences","differences","minDate","maxDate","getDateUnitInterval","week","_uiMenu_baseEdit","_devices","_item","_classCallCheck","Constructor","TypeError","_defineProperties","props","descriptor","_get","property","receiver","Reflect","base","_getPrototypeOf","_superPropBase","_setPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","construct","sham","Proxy","_isNativeReflectConstruct","Super","NewTarget","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","getPrototypeOf","ITEM_CLASS","DX_MENU_CLASS","DX_MENU_SELECTED_ITEM_CLASS","DX_MENU_ITEM_WRAPPER_CLASS","DX_MENU_ITEM_POPOUT_CLASS","DEFAULT_DELAY","MenuBase","_HierarchicalCollecti","subClass","superClass","_inherits","protoProps","staticProps","showSubmenuMode","delay","from","to","duration","selectByClick","focusOnSelectedItem","_itemAttributes","role","useInkRipple","_itemContainer","space","$item","_isSelectionEnabled","selectItem","pageUp","pageDown","_activeStateUnit","_renderSelectedItem","_initActions","itemData","itemText","$itemContainer","itemContent","String","$popOutContainer","$popOutImage","rootValue","multipleSelection","recursiveSelection","recursiveExpansion","searchValue","selectedItem","nodeToSelect","_dataAdapter","getNodeByItem","toggleSelection","internalFields","selectedKeys","getSelectedNodesKeys","selectedKey","node","getNodeByKey","selectable","_selectByItem","_addCustomCssClass","_renderInkRipple","_inkRipple","showWave","hideWave","optionValue","isObject","_isDesktopDevice","real","deviceType","Strategy","_editStrategy","$itemElement","_getItemElementByEventArgs","_isItemDisabled","stopPropagation","_getShowSubmenuMode","_showSubmenusTimeout","_showSubmenu","_getSubmenuDelay","$itemElements","_disabledGetter","_itemDataKey","_addExpandedClass","itemElement","eventArgs","_itemClass","childrenKeys","_renderItems","getRootNodes","nodes","submenuContainer","hasIcons","$nodeContainer","_renderContainer","firstVisibleIndex","nextGroupFirstIndex","isVisibleNode","beginGroup","_renderSeparator","_renderItem","$wrapper","$node","$nodeElement","_createDOMElement","$itemFrame","_hasSubmenu","_itemIndexKey","hasText","hasIcon","hasSubmenu","$itemContent","selectedIndex","_selectedGetter","_isItemSelectable","_selectedItemClass","_setAriaSelected","$itemsContainer","_skipHandling","itemClickActionHandler","_updateSubmenuVisibilityOnClick","_itemDXEventHandler","actionArgs","_updateSelectedItemOnClick","_isItemSelectionAllowed","selectedItemKey","selectedNode","_toggleItemSelection","_fireSelectionChangeEvent","isSelectionByClickEnabled","_isContainerEmpty","_itemsGetter","asyncNoop","_updateSelectedItems","_getElementByItem","_this3","_itemElements","oldSelection","newSelection","addedSelection","removedSelection","addedItems","removedItems","_getItemData","selected","ItemClass","_icon","_uiCollection_widget","_bindable_template","DISABLED_STATE_CLASS","_getDefaultOptions","selectedExpr","disabledExpr","itemsExpr","parentIdExpr","expandedExpr","_defaultOptionsRules","device","isSimulator","_init","_initAccessors","_initDataAdapter","_initDynamicTemplates","_initDataSource","paginate","accessors","_createDataAdapterAccessors","dataAccessors","getters","setters","_getDataAdapterOptions","_templateManager","addDefaultTemplates","BindableTemplate","html","_getIconContainer","_getTextContainer","_getPopoutContainer","_addContentClasses","_displayGetter","getImageContainer","_getAccessors","accessor","_compileAccessor","_compileDisplayGetter","_getChildNodes","childNode","_hasChildren","setter","optionExpr","compileSetter","getterName","setterName","newAccessor","_initMarkup","_addWidgetClass","_focusTarget","_widgetClass","_renderItemFrame","_optionChanged","repaint","createOffsetFilter","filterElement","currentFilter","_uiData_grid","GroupingHelper","findGroupInfoByKey","groupsInfo","hash","getGroupInfoIndexByOffset","leftIndex","rightIndex","middleIndex","cleanGroupsInfo","groupsCount","calculateItemsCount","isGroupItemCountable","dataSourceAdapter","reset","_groupsInfo","_totalCountCorrection","totalCountCorrection","updateTotalItemsCount","_isVirtualPaging","scrollingMode","itemsCount","groupCount","foreachGroups","callback","childrenAtFirst","foreachCollapsedGroups","updateOffsets","updateParentOffsets","foreachGroupsCore","parents","callbackResults","executeCallback","callbackResult","pop","currentParents","always","_updateGroupInfoOffsets","groupInfo","parentIndex","a","findGroupInfo","pathIndex","addGroupInfo","groupInfoData","allowCollapseAll","refresh","oldGroups","_group","min","handleDataLoading","handleDataLoaded","handleDataLoadedCore","_variable_wrapper","isWrapped","getResultConfig","readOnly","placeholder","inputAttr","editorOptions","checkEnterBug","ios","getTextEditorConfig","isEnterBug","sharedData","onValueChanged","needDelayedUpdate","parentType","isInputOrKeyUpEvent","updateValue","notFireEvent","setValue","valueChangeTimeout","updateValueTimeout","_input","valueChangeEvent","prepareBooleanEditor","prepareSelectBox","editorName","prepareCheckBox","displayGetter","postProcess","selectBox","stopWatch","watchLookupDataSource","normalizeDataSourceOptions","pageIndex","allowClearing","searchEnabled","searchExpr","showClearButton","showAllText","params","createEditor","cancel","editorElement","blur","prepareDateBox","prepareNumberBox","isSearching","editorType","mode","prepareTextBox","isOnForm","showValidationMark","$editorElement","dxTextBox","registerKeyHandler","dxDateBox","dxTextArea","shiftKey","createEditorCore","getElementMaxHeightByWindow","startLocation","actualOffset","elementOffset","innerHeight","scrollTop","offsetTop","offsetBottom","max","fileSaver","MIME_TYPES","_console","window","navigator","getNavigator","FILE_EXTESIONS","EXCEL","CSS","PNG","JPEG","GIF","SVG","PDF","_revokeObjectURLTimeout","_getDataUri","mimeType","_getMimeType","_linkDownloader","fileName","href","exportLinkElement","download","_formDownloader","proxyUrl","contentType","formAttributes","method","enctype","exportForm","setAttributes","_saveByProxy","_winJSBlobSave","blob","savePicker","Windows","Storage","Pickers","FileSavePicker","suggestedStartLocation","PickerLocationId","documentsLibrary","fileExtension","fileTypeChoices","insert","suggestedFileName","pickSaveFileAsync","then","file","openAsync","FileAccessMode","readWrite","outputStream","inputStream","msDetachStream","Streams","RandomAccessStream","copyAsync","flushAsync","close","link","dispatchEvent","MouseEvent","cancelable","createEvent","initMouseEvent","_saveBlobAs","_blobSaved","msSaveOrOpenBlob","WinJS","URL","webkitURL","mozURL","msURL","oURL","objectURL","createObjectURL","downloadLink","revokeObjectURL","_objectUrlRevoked","logger","warn","saveAs","proxyURL","forceProxy","log","Blob","userAgent","match","_language_codes","DEFINED_NUMBER_FORMTATS","thousands","millions","billions","trillions","percent","decimal","fixedpoint","exponential","currency","PERIOD_REGEXP","DAY_REGEXP","DO_REGEXP","STANDALONE_MONTH_REGEXP","HOUR_REGEXP","SLASH_REGEXP","SQUARE_OPEN_BRACKET_REGEXP","SQUARE_CLOSE_BRACKET_REGEXP","ANY_REGEXP","excelFormatConverter","_applyPrecision","precision","_hasArabicDigits","code","charCodeAt","ARABIC_ZERO_CODE","_convertDateFormatToOpenXml","replace","datePart","_convertDateFormat","formattedValue","getFormat","_getLanguageInfo","defaultPattern","languageID","getLanguageId","languageIDStr","languageInfo","_convertNumberFormat","excelFormat","getOpenXmlCurrencyFormat","convertFormat","LANGUAGE_CODES","_core","locale","ar","bg","ca","cs","da","de","el","en","es","fi","fr","he","hu","it","ja","ko","nl","no","pl","pt","rm","ro","ru","hr","sk","sq","sv","th","tr","ur","uk","be","sl","et","lv","lt","tg","fa","vi","hy","az","eu","hsb","mk","tn","xh","zu","af","ka","fo","hi","mt","se","ga","ms","kk","ky","sw","tk","uz","tt","bn","pa","gu","or","ta","te","kn","ml","as","mr","sa","mn","bo","cy","km","lo","gl","kok","syr","si","iu","am","tzm","ne","fy","ps","fil","dv","ha","yo","quz","nso","ba","lb","kl","ig","ii","arn","moh","br","ug","mi","oc","co","gsw","sah","qut","rw","wo","prs","gd","smn","sms","zh","nn","bs","sma","nb","sr","dsb","smj","_excel","_excel2","fillHelper","tryCreateTag","sourceObj","patternFill","tryCreateFillFromSimpleFormat","backgroundColor","fillPatternType","fillPatternColor","patternType","foregroundColor","rgb","copySimpleFormat","copy","areEqual","leftTag","rightTag","tag","colorHelper","_tryConvertColor","colorCode","substr","theme","fontHelper","size","family","scheme","bold","italic","underline","color","val","getData","imageCreator","testFormats","formats","canvas","createCanvas","r","f","toDataURL","supported","unsupported","_color","_svg","parseAttributes","_math","PI","_min","_abs","abs","_sqrt","sqrt","_pow","pow","_atan2","atan2","_cos","cos","_sin","sin","TEXT_DECORATION_LINE_WIDTH_COEFF","margin","hidden","arcTo","x1","y1","x2","y2","radius","largeArcFlag","clockwise","cBx","cBy","aB","opSide","adjSide","centerX","centerY","startAngle","endAngle","arc","getElementOptions","rootAppended","coords","transform","translateX","translateY","rotationAngle","rotationX","rotationY","scaleX","scaleY","camelize","isElementNode","getComputedStyle","prop","textDecoration","textDecorationLine","globalAlpha","opacity","parseStyles","parseUrl","urlString","matches","setFontStyle","fontParams","fontSize","fontFamily","fill","fontStyle","fontWeight","font","fillStyle","drawText","shared","applyFilter","fillText","strokeElement","textWidth","measureText","textHeight","parseInt","lineHeight","rect","fillElement","drawTextDecoration","hasTspan","childNodes","drawTextElement","line","lines","drawElement","elementOptions","mergedOptions","offsets","dy","commonWidth","xDiff","currentOffset","parentOptions","isText","isImage","visibility","save","transformElement","clipElement","strokeOpacity","fillOpacity","aggregateOpacity","beginPath","image","Image","onload","drawImage","restore","onerror","src","dAttr","prevParams","prevParamsLen","dArray","trim","moveTo","lineTo","bezierCurveTo","closePath","drawPath","cornerRadius","rx","translate","drawRect","cx","gradients","box","getBBox","gradient","createLinearGradient","opt","addColorStop","stopColor","applyGradient","filterOptions","offsetX","offsetY","shadowOffsetX","shadowOffsetY","shadowColor","shadowBlur","rotate","isFinite","scale","clipPaths","clip","createFilter","stdDeviation","dx","hexColor","alpha","g","hex2rgba","asyncEach","isPromise","drawCanvasElements","onDone","patterns","_ref2","createGradient","stroke","setLineDash","lineJoin","lineWidth","strokeStyle","strokeText","search","pattern","patternCanvas","patternContext","getContext","createPattern","getPattern","drawBackground","fillRect","createInvisibleDiv","invisibleDiv","convertSvgToCanvas","svg","getImageData","markup","__parseAttributesFn","svgToCanvas","svgElem","getSvgElement","markupIsDomElement","getBody","dir","fromPromise","contains","removeChild","getCanvasFromSvg","dataURL","atob","getStringFromCanvas","binaryData","_getBlob","_getBase64","dataArray","Uint8Array","buffer","btoa","getSvgMarkup","fixNamespaces","temp","clone","cloneNode","innerHTML","getMarkup","isNode","DOMParser","parseFromString","TabPanelOptionsItem","TabPanelOptions","TabbedItem","Tab","SimpleItem","Item","EmptyItem","ButtonOptions","ButtonItem","alignItemLabels","alignItemLabelsInAllGroups","colCount","customizeItem","formData","labelLocation","minColWidth","onEditorEnterKey","onFieldDataChanged","optionalMark","requiredMark","requiredMessage","screenByWidth","scrollingEnabled","showColonAfterLabel","showOptionalMark","showRequiredMark","showValidationSummary","validationGroup","buttonOptions","itemType","tab","tabPanelOptions","defaultItems","defaultSelectedIndex","defaultSelectedItem","defaultSelectedItemKeys","defaultSelectedItems","tabPanelOptionsItem","_component_registrator","_themes","defaultOptions","_setDeprecatedOptions","_deprecatedOptions","since","alias","platform","isMaterial","useIcons","webkit","loadingTimeout","easing","_device","expandMode","_clean","_dimensionChanged","updateDimensions","_visibilityChanged","_renderContentImpl","_renderContent","deferRender","templateName","_dispose","ColumnHeadersView","columnHeadersView","CELL_CONTENT_CLASS","HEADERS_CLASS","NOWRAP_CLASS","HEADER_ROW_CLASS","VISIBILITY_HIDDEN_CLASS","TEXT_CONTENT_ALIGNMENT_CLASS_PREFIX","MULTI_ROW_HEADER_CLASS","createCellContent","$cellContent","addCssClassesToCellContent","contentAlignment","getHeaderContentAlignment","$indicatorElements","_getIndicatorElements","$visibleIndicatorElements","indicatorCount","columnAlignment","_getColumnAlignment","sortIndicatorClassName","_getIndicatorClassName","sortIndexIndicatorClassName","$sortIndicator","$sortIndexIndicator","_isLegacyKeyboardNavigation","_getDefaultTemplate","$content","_getHeaderTemplate","_isGroupingChanged","_handleActionKeyDown","_lastActionElement","headerFilterController","$column","getColumnIndexByElement","showHeaderFilterMenu","_processHeaderAction","isLoaded","_hasRowElements","getRowCount","_getRowVisibleColumns","$cellElement","rowspan","rowCount","_isElementVisible","_alignCaptionByCenter","$indicatorsContainer","_getIndicatorContainer","insertBefore","_updateIndicator","indicatorName","$indicatorElement","returnAll","_isSortableElement","getHeadersRowHeight","$headerRows","toArray","sum","headerRow","getHeaderElement","columnElements","bandColumnIndex","columnsController","getChildrenByBandColumn","$columnElements","allowDragging","sourceLocation","draggingPanels","draggableColumnCount","canHideColumn","allowHiding","allowDrag","allowReordering","allowGrouping","isColumnOptionUsed","draggingPanel","getColumnCount","getHeight","getContextMenuItems","sortingOptions","allowSorting","onItemClick","changeSortOrder","ascendingText","sortOrder","descendingText","clearText","setRowsOpacity","columnID","setColumnOpacity","ownerBand","COLUMN_INDICATORS_CLASS","_applyColumnState","_that$component","isGroupPanelItem","rootElement","_createIndicatorContainer","$span","indicatorAlignment","indicator","_renderIndicator","ignoreIndicatorAlignment","$indicatorContainer","$indicator","_updateIndicators","commonColumnSettings","allowExporting","_config","_object","_date_serialization","_abstract_store","USER_STATE_FIELD_NAMES_15_1","USER_STATE_FIELD_NAMES","IGNORE_COLUMN_OPTION_NAMES","bestFitWidth","bufferedFilterValue","MAX_SAFE_INTEGER","GROUP_COMMAND_COLUMN_NAME","regExp","globalColumnId","allowFiltering","allowEditing","encodeHtml","adaptColumnWidthByRatio","regenerateColumnsByVisibleItems","DEFAULT_COLUMN_OPTIONS","showInColumnChooser","COLUMN_INDEX_OPTIONS","grouped","sortIndex","GROUP_LOCATION","COLUMN_CHOOSER_LOCATION","setFilterOperationsAsDefaultValues","defaultFilterOperations","createColumn","columnOptions","userStateColumnOptions","bandColumn","commonColumnOptions","setName","deepExtendArraySafe","getCommonSettings","calculatedColumnOptions","_createCalculatedColumnOptions","createColumnsFromOptions","columnsOptions","_columnsUserState","checkUserStateColumn","hasColumns","getParentBandColumns","columnParentByIndex","_getChildrenByBandColumn","columnChildrenByIndex","recursive","showWhenGrouped","getColumnFullPath","bandColumnsCache","getBandColumnsCache","callbackFilter","isPlain","_columns","calculateColspan","getValueDataType","getSerializationFormat","getDateSerializationFormat","updateSerializers","deserializeValue","deserializeDate","serializeValue","serializeDate","serializationFormat","parsedValue","isNaN","customizeTextForBooleanDataType","getCustomizeTextByDataType","updateColumnIndexes","_commandColumns","updateColumnGroupIndexes","currentColumn","normalizeIndexes","getColumnIndexByVisibleIndex","location","getGroupColumns","getChooserColumns","userStateColumn","applyUserState","userStateColumnIndex","columnsUserState","ignoreColumnOptionNames","_ignoreColumnOptionNames","columnCountById","resultColumns","allColumnsHaveState","userStateColumnIndexes","applyFieldsState","fieldName","findUserStateColumn","_hasUserState","initialIndex","hasAddedBands","columnUserState","added","assignColumns","updateIndexes","isSortOrderValid","updateColumnSortIndexes","resetBandColumnsCache","bandColumns","parentBandColumns","updateColumnVisibleIndexes","resetColumnsCache","updateColumnDataTypes","updateColumnChanges","columnChanges","_columnChanges","fireColumnsChanged","onColumnsChanging","reinitOptionNames","isInitialized","reinit","updateSortOrderWhenGrouping","prevGroupIndex","lastSortOrder","sortMode","fireOptionChanged","prevValue","fullOptionName","fullOptionPath","_skipProcessingColumnsChange","_notifyOptionChanged","columnOptionCore","initialColumn","optionGetter","functionsAsIs","optionSetter","_checkColumns","getColumnByPath","defaultSetCellValue","dotCount","getDataColumns","bandColumnID","isCustomCommandColumn","commandColumn","getFixedPosition","fixedPosition","processExpandColumns","expandColumns","customColumnIndex","expandColumnsByType","expandColumn","numberToString","digitsCount","str","mergeColumns","commandColumns","needToExtend","commandColumnIndex","isColumnFixing","_isColumnFixing","defaultCommandColumns","getCommandColumnIndex","columnType","allowFixing","isColumnFixed","_bandColumnsCache","findColumn","identifier","identifierOptionName","_getExpandColumnOptions","_getFirstItems","getFirstItemsCore","childItems","collapsedItems","_isColumnsFromOptions","addCommandColumn","addExpandColumn","_dataSourceApplied","applyDataSource","columnIndexes","getColumnByIndexes","needUpdateRequireResize","previousValue","fullName","_updateRequireResize","_args$fullName","_args$fullName2","_args$fullName3","_args$fullName4","_args$fullName5","isEditingPopup","isEditingForm","isEditRowKey","isEditColumnName","isChanges","columnOptionValue","columnOptionName","forceApplying","isDataSourceLoaded","_dataSourceColumnsCount","columnsFromDataSource","firstItems","processedFields","createColumnsFromDataSource","updateColumns","isAllDataTypesDefined","_visibleColumns","_fixedColumns","_rowCount","getUserState","isDataSourceApplied","groupingOptions","groupPanelOptions","autoExpandGroup","autoExpandAll","allowCollapsing","allowColumnDragging","contextMenuEnabled","checkSerializers","defaultCalculateCellValue","isBandColumnsUsed","_getVisibleColumnsCore","getFixedColumns","_getFixedColumnsCore","getFilteringColumns","allowHeaderFiltering","notFixedColumnCount","transparentColumnIndex","lastFixedPosition","transparentColumn","transparentColspan","prevColumn","newColumn","_getExpandColumnsCore","getExpandColumns","firstGroupColumn","isFixedFirstGroupColumn","_isColumnVisible","isParentColumnVisible","isFixedToEnd","rowspanGroupColumns","rowspanExpandColumns","positiveIndexedColumns","negativeIndexedColumns","notGroupedColumnsCount","columnDigitsCount","processBandColumns","indexedColumns","orderEach","firstPositiveIndexColumn","columnsByFixing","columnsByVisibleIndex","getInvisibleColumns","hiddenColumnsByBand","getAllColumns","allowMoveColumn","fromVisibleIndex","toVisibleIndex","targetLocation","sourceColumn","moveColumn","targetGroupIndex","fromIndex","toIndex","groupColumns","moveColumnToGroup","targetColumn","sortingMode","needResetSorting","nextSortOrder","getSortDataSourceParameters","useLocalSelector","sortColumns","sortItem","calculateSortValue","getGroupDataSourceParameters","updateNewLookupsOnly","deferreds","valueMap","_updateColumnOptions","calculateCallbackName","calculateCallback","isRTL","getAlignmentByDataType","isColumnDataTypesUpdated","lookupDataType","valueDataType","_customizeColumns","updateSortingGrouping","sortParameters","groupParameters","filterParameters","lastLoadOptions","_updateChanges","filtering","dataController","getCombinedFilter","fromDataSource","isColumnsChanged","updateSortGroupParameterIndexes","indexParameterName","columnsGroupParameters","columnsSortParameters","updateFilter","remoteFiltering","forceIsoDateParsing","columnCount","clearSorting","clearGrouping","addColumn","deleteColumn","childIndexes","handleStateField","setUserState","state","isFilterPanelHidden","usedNames","hasEditableColumnWithoutName","duplicatedNames","_column$columns","isEditable","setCellValue","skipDeserialization","parseValue","parse","userDataType","updateValueMap","calculateValue","displayValue","dataSourceOptions","load","resizedCallbacks","resized","defaultOptionName","charAt","toUpperCase","invisibleParents","_getRowCount","alwaysGetRowIndex","onlyVisibleDirectChildren","column1","column2","isParentBandColumn","getColumnId","DataController","_uiData_grid2","_getDataSourceAdapter","_getSpecificDataSourceOption","_array_store","_array_utils","cloneItems","calculateOperationTypes","loadOptions","isFullReload","operationTypes","reload","fullReload","groupExpanding","groupExpand","skip","take","getPageDataFromCache","cachedPagesData","pages","_remoteOperations","_isLastPage","isLastPage","_hasLastPage","_currentTotalCount","_cachedPagesData","_lastOperationTypes","_eventsStrategy","_skipCorrection","_isLoadingAll","loadingChanged","loadError","customizeStoreLoadOptions","changing","_dataChangedHandler","_dataLoadingHandler","_handleDataLoading","_dataLoadedHandler","_handleDataLoaded","_loadingChangedHandler","_handleLoadingChanged","_loadErrorHandler","_handleLoadError","_pushHandler","_handlePush","_changingHandler","_handleChanging","store","memberName","member","isSharedDataSource","resetCurrentTotalCount","resetCache","_cachedStoreData","_cachedPagingData","resetPagesCache","_needClearStoreDataCache","_lastLoadOptions","every","fromStore","applyBatch","keyInfo","_applyBatch","getDataIndexGetter","_dataIndexGetter","indexByKey","storeData","isCacheUpdated","getKeyHash","keyOf","_getKeyInfo","totalCount","isVirtualMode","getItemCount","_items","oldItemCount","useInsertIndex","_needCleanCacheByOperation","operationType","operationTypesByOrder","operationTypeIndex","_customizeRemoteOperations","cachedStoreData","cachedPagingData","isCustomLoading","originalStoreLoadOptions","_isRefreshing","isRefreshing","_loadingOperationTypes","_isRefreshed","_lastOperationId","operationId","_handleDataLoadingCore","cachedExtra","extra","localLoadOptionNames","requireTotalCount","localPaging","needCache","needPageCache","needPagingCache","needStoreCache","mergeStoreLoadData","error","_handleDataLoadedCore","setPageDataToCache","currentTotalCount","pageSize","pageCount","_operationTypes","_scheduleCustomLoadCallbacks","_isCustomLoading","loadingOperationTypes","totalItemsCount","hasKnownLastPage","loadFromStore","_this4","dataSourceLoadOptions","loadResult","_customLoadOptions","isLoadingAll","_scheduleLoadCallbacks","executeAsync","full","getCachedStoreData","_custom_store","_data_helper","_array_compare","include","changePaging","_skipProcessingPagingChange","pageChanged","members","_currentOperationTypes","_columnsChangedHandler","_handleColumnsChanged","_customizeStoreLoadOptionsHandler","_handleCustomizeStoreLoadOptions","_isLoading","_repaintChangesOnly","_changes","dataErrorOccurred","_refreshDataSource","stopOnFalse","_setPagingOptions","_useSortingGroupingFromColumns","getDataSource","returnDataField","combinedFilter","additionalFilter","_calculateAdditionalFilter","waitReady","_readyDeferred","updateItems","_columnsUpdating","filterValues","filterApplied","_applyFilter","_needApplyFilter","updateItemsHandler","isAsyncDataSourceApplying","_isDataSourceApplying","isDelayed","needApplyFilter","_isAllDataTypesDefined","hasAdditionalFilter","_fireLoadingChanged","fireError","pagingEnabled","appendMode","isChanged","oldDataSource","setDataSource","_loadDataSource","_beforeProcessItems","getRowIndexDelta","_processItems","rowIndexDelta","visibleItems","lastVisibleItem","_processItem","_generateDataItem","_processDataItem","dataItem","generateDataValues","isModified","_applyChange","_applyChangeUpdate","_applyChangesOnly","_applyChangeFull","_getRowIndices","rowIndices","correctedRowIndex","allowInvisibleRowIndices","prevIndex","rowIndexCorrection","equalItems","item1","item2","strict","isEditing","oldItem","oldNextItem","newItem","newNextItem","isFullUpdate","_partialUpdateRow","_isCellChanged","oldRow","newRow","visibleRowIndex","isLiveUpdate","isCellModified","modifiedValues","_getChangedColumnIndices","changedColumnIndices","_isItemEquals","_item1$data","_item2$data","_item1$data2","_item2$data2","expandedMatch","summaryCellsMatch","summaryCells","continuationMatch","isContinuationOnNextPage","newIndexByKey","getRowKey","oldItems","findChanges","_correctRowIndices","newRowIndex","_updateItemsCore","getVisibleRows","isDataChanged","needUpdateDimensions","_fireChanged","_loadingText","filterExpr","clearFilter","filterName","clearColumnOption","searchByText","_fireDataSourceChanged","changedHandler","dataSourceChanged","_createDataSourceAdapterCore","isCustomStore","_createDataSourceAdapter","enabledRemoteOperations","groupPaging","cancelAll","_isSharedDataSource","loadAll","getKeyByRowIndex","getRowIndexByKey","byKey","getRowIndexOffset","getDataByKeys","rowKeys","keyData","beginCustomLoading","messageText","endCustomLoading","changesOnly","customizeLoadResult","_disposeDataSource","repaintRows","rowIndexes","skipProcessingPagingChange","searchText","showSortIndexes","$cellElementFromEvent","editingController","editingMode","headerPanel","_createGroupPanelItem","$rootElement","groupColumn","_processGroupItemAction","groupColumnIndex","SORT_CLASS","SORT_NONE_CLASS","SORT_INDEX_ICON_CLASS","ariaSortState","isSortingAllowed","prepend","RowsView","_remove_event","GROUP_CELL_CLASS","FREE_SPACE_CLASS","COLUMN_LINES_CLASS","ROW_ALTERNATION_CLASS","LAST_ROW_BORDER","getMaxHorizontalScrollOffset","scrollable","showIndicator","indicatorSrc","showPane","rowTemplate","defaultCellTemplate","isDataTextEmpty","_getDefaultGroupTemplate","groupContinuedMessage","groupContinuesMessage","_update","isRowExpanded","_setAriaRowIndex","isPagerMode","arg","deep","skipImmediate","_renderScrollable","force","_renderLoadPanel","getScrollable","allColumnsHasWidth","_hasHeight","_renderScrollableCore","_handleScroll","_isScrollByEvent","_scrollTop","scrollOffset","_scrollRight","dxScrollableOptions","scrollHandler","onScroll","onStop","_scrollable","_scrollableContainer","_$container","contentElement","newTableElement","executors","rowInsertedClass","$rowsElement","toggle","insertAfter","prependTo","_createEmptyRow","isFixed","_appendEmptyRow","$emptyRow","isTableContainer","$colgroup","_renderFreeSpaceRow","$freeSpaceRowElement","_checkRowKeys","_needUpdateRowHeight","_rowHeight","_getRowsHeight","_updateRowHeight","rowsHeight","_getFreeSpaceRowElements","tableElements","evaluate","expr","_getColumnsCountBeforeGroups","_getGroupCellOptions","columnsCountBeforeGroups","_renderGroupedCells","groupCellOptions","groupColumnAlignment","updateFreeSpaceRowHeight","resizeCompletedHandler","scrollableInstance","document","_lastColumnWidths","groupingTextsOptions","_setRowsOpacityCore","_getDevicePixelRatio","devicePixelRatio","getCellOptions","getRow","itemCount","freeSpaceRowElements","isFreeSpaceRowVisible","deferUpdate","scrollbarWidth","getScrollbarWidth","elementHeightWithoutScrollbar","showFreeSpaceRow","resultHeight","_getHeightCorrection","_updateLastRowBorder","freeSpaceRowCount","setHeight","isZoomedWebkit","hasExtraBorderTop","version","_fireColumnResizedCallbacks","_editorFactoryController","setLoading","contentWidth","scrollableContainer","clientHeight","getScrollableBottomPadding","lastColumnWidths","columnWidths","_updateScrollable","dxScrollable","getInstance","_updateHorizontalScrollPosition","maxHorizontalScrollOffset","_height","hasHeight","visibilityOptions","_hideLoadingTimeoutID","groupCellIndex","getTopVisibleItemIndex","isFloor","itemIndex","prevOffsetTop","scrollPosition","$contentElement","contentElementOffsetTop","rowElements","round","getTopVisibleRowData","_scrollToElement","scrollToElement","_context_menu","footerView","VIEW_NAMES","contextMenu","dxEvent","$targetRowElement","$targetCellElement","menuItems","view","targetElement","_contextMenuPrepared","contextMenuView","onPositioning","contextMenuInstance","_guid","_fx","_overlay","DX_MENU_ITEM_CLASS","DX_MENU_ITEM_EXPANDED_CLASS","DX_MENU_ITEMS_CONTAINER_CLASS","DX_SUBMENU_CLASS","DX_STATE_HOVER_CLASS","FOCUS_DOWN","FOCUS_FIRST","FOCUS_LAST","ACTIONS","LOCAL_SUBMENU_DIRECTIONS","DEFAULT_SHOW_EVENT","ContextMenu","_MenuBase","showEventOption","showEvent","closeOnOutsideClick","onShowing","onShown","onSubmenuCreated","onHiding","onHidden","submenuDirection","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu","_optionsByReference","escape","$availableItems","_getAvailableItems","$focusedItem","$hoveredItem","$newTarget","$items","_getItemsByLocation","$oldTarget","_getActiveItem","itemsContainer","$activeItemHighlighted","_prevItem","_setFocusedElement","_nextItem","_hideSubmenuHandler","_expandSubmenuHandler","$activeItem","$curItem","$parentItem","_hideSubmenusOnSameLevel","_hideSubmenu","isItemHasSubmenu","$submenu","_detachShowContextMenuEvents","_getTarget","_renderVisibility","_attachShowContextMenuEvents","_keyboardListenerId","overlayOptions","_getOverlayOptions","$overlayContent","_addPlatformDependentClass","_attachContextMenuEvent","current","phone","getShowEvent","eventName","_showContextMenuEventHandler","contextMenuAction","getShowDelay","_show","validatingTargetName","isWindow","$holder","submenuElement","innerOverlay","_closeOnOutsideClickHandler","propagateOutsideClick","closeOnTargetScroll","deferRendering","showTitle","_overlayShownActionHandler","_overlayHidingActionHandler","_overlayHiddenActionHandler","_hideAllShownSubmenus","isDocument","$activeItemContainer","_getActiveItemsContainer","$itemContainers","_getItemsContainers","$clickedItem","_searchActiveItem","$rootItem","isRootItemClicked","_isIncludeOverlay","_hideAllShownChildSubmenus","_$content","$activeOverlay","$allOverlays","isSame","$overlay","$submenuElements","shownSubmenus","_shownSubmenus","$context","isSubmenuRendered","_renderSubmenuItems","_isSubmenuVisible","_drawSubmenu","$expandedItems","siblings","_hideSubmenuCore","submenuPosition","_getSubmenuPosition","stop","setup","_animate","animate","h","notCloseMenuOnItemClick","closeMenuOnClick","$prevSubmenu","canceled","$curSubmenu","_this5","_stopAnimate","_this6","showing","_hide","jQEvent","_positionContextMenu","_renderContextMenuOverlay","_renderFocusState","_attachHoverEvents","_attachClickEvent","_setAriaAttributes","_overlayContentId","_getContextMenuPosition","isInitialPosition","_isInitialOptionValue","positioningAction","lastPosition","_cleanAriaAttributes","_query","_store_helper","_ui3","EXPANDED","SELECTED","_defaultOptions","dataConverter","setDataAccessors","_selectedNodesKeys","_expandedNodesKeys","_dataStructure","_createInternalDataStructure","getTreeNodes","setOption","_updateSelection","searchMode","onNodeChanged","_initialDataStructure","createPlainStructure","_updateExpansion","_setChildrenSelection","_setParentSelection","_updateNodesKeysArray","_updateOneBranch","_setParentExpansion","_getDataBySelectionMode","_isNodeVisible","getFullData","_getByKey","getByKey","isSelected","_toggleChildrenSelection","getParentNode","parentKey","_iterateParents","newParentState","_calculateSelectedState","_setFieldState","expanded","_iterateChildren","processedKeys","nodeKey","child","selectedItemsCount","invisibleItemsCount","isChildInvisible","childState","publicNode","_markChildren","_removeNode","counter","_addNode","_convertItemToNode","_updateFields","updateChildrenKeys","getExpandedNodesKeys","getNodesByItems","convertToPublicNodes","getItemsCount","getVisibleItemsCount","getPublicNode","getChildrenNodes","selectRecursive","isSingleModeUnselect","_isSingleModeUnselect","selectionState","toggleNodeDisabledState","toggleSelectAll","lastSelectedKey","dataStructure","selectionRequired","isAllSelected","toggleExpansion","isFiltered","_filterDataStructure","_createCriteria","searchFilter","getOperationBySearchMode","lookForParents","queryByOptions","_indexByKey","setChildrenKeys","_itemsCount","_visibleItemsCount","_convertItemsToNodes","_getParentId","_checkForDuplicateId","_itemHasChildren","_dataAccessors","_dataType","_getUniqueKey","keyGetter","itemKey","isPrimitive","_rootValue","_makeObjectFromPrimitive","_convertToPublicNode","publicNodes","updateIndexByKey","removeChildrenKeys","_PlainEditStrategy","MenuBaseEditStrategy","_collectionWidget","getMenuItems","_getTemplateString","ERROR_ROW_CLASS","ERROR_MESSAGE_CLASS","errorHandling","_columnHeadersView","_rowsView","_createErrorRow","$errorRow","$closeButton","$errorMessage","_renderErrorMessage","errorRowIndex","removeErrorRow","fireContentReadyAction","colSpan","url","$message","renderErrorRow","$popupContent","$errorMessageElement","$firstErrorRow","next","resizingController","$columnHeaders","$rowsViewElement","errorHandlingController","hasChanges","BORDERS_CLASS","TABLE_FIXED_CLASS","HIDDEN_CLASS","GRIDBASE_CONTAINER_CLASS","isPercentWidth","mergeArraysByMaxValue","values1","values2","calculateFreeWidth","_getTotalWidth","resizing","_initPostRenderHandlers","_refreshSizesHandler","resizeDeferred","_setAriaRowColCount","_fireContentReadyAction","_getBestFitWidths","rowsColumnWidths","headerColumnWidths","footerColumnWidths","_footerView","_setVisibleWidths","columnId","_toggleBestFitModeForView","isBestFit","$rowsTables","$viewTables","$tableBody","$rowsTable","$viewTable","_toggleBestFitMode","$rowsFixedTable","_needStretch","_synchronizeColumns","resetBestFitMode","needBestFit","_needBestFit","hasMinWidth","isColumnWidthsCorrected","getActiveElement","isPixelWidth","bottom","_correctColumnWidths","expandColumnWidth","normalizeWidthsByExpandColumns","_processStretch","c","_getAverageColumnsWidth","hasPercentWidth","hasAutoWidth","hasWidth","_hasWidth","_loop","isHiddenColumn","averageColumnsWidth","currentMinWidth","calculateFreeWidthWithCurrentMinWidth","realColumnWidth","_getRealColumnWidth","_maxWidth","totalWidth","resultSizes","groupSize","tableSize","unusedIndexes","diff","diffElement","onePixelElementsCount","groupWidth","ratio","percentTotalWidth","pixelTotalWidth","freeSpace","percentTotalWidthInPixel","updateSize","$groupElement","importantMarginClass","detach","checkSize","_checkSize","prevResult","_resizeDeferred","_resetGroupElementHeight","_updateDimensionsCore","groupElement","_lastWidth","_lastHeight","_setScrollerSpacingCore","vScrollbarWidth","hScrollbarWidth","_setScrollerSpacing","$testDiv","rootElementHeight","maxHeight","maxHeightHappened","editorFactory","isMaxHeightApplied","scrollHeight","_updateLastSizes","_renderDimensions","synchronizeScrolling","_scrollChangedHandler","gridView","_resizingController","_getWidgetAriaLabel","_groupElement","_renderViews","_getTableRoleName","isFirstRender","_rootElement","HeaderPanel","_toolbar","_visibility_change","TOOLBAR_BUTTON_CLASS","_getToolbarItems","_getButtonContainer","_getToolbarButtonClass","specificClass","secondClass","_getToolbarOptions","toolbarOptions","onItemRendered","itemRenderedCallback","toolbarItems","_toolbarOptions","setToolbarItemDisabled","toolbarInstance","itemOptionPrefix","updateToolbarDimensions","triggerResizeEvent","getHeaderPanel","processLoadState","selectionController","exportController","updateState","selectionChanged","_initialPageSize","_initialFilterValue","pagerView","allowedPageSizes","getPageSizes","filterEnabled","focusedRowKey","getDataState","selectionOnlyChanged","exportSelectionOnly","selectionOnly","storageKey","customLoad","customSave","savingTimeout","StateStoringController","stateLoaded","isStateLoading","_state","applyState","isEnabled","oldState","newState","oldStateHash","newStateHash","isVirtualScrollingMode","showPageSizeSelector","filterSyncController","hasFilterState","getFilterValueFromColumns","getFilterValue","stateStoringController","_restoreStateTimeoutID","_fireSelectionChanged","isDeferredSelection","_storage","DATE_REGEX","parseDates","exec","UTC","getStorage","storage","sessionStorage","localStorage","protocol","getUniqueStorageKey","_loadState","getItem","_saveState","setItem","_isLoaded","_windowUnloadHandler","_savingTimeoutID","_support","_hold","_selection","EDITOR_CELL_CLASS","ROW_SELECTION_CLASS","SELECT_CHECKBOX_CLASS","COMMAND_SELECT_CLASS","SHOW_CHECKBOXES_MODE","SELECTION_MODE","processLongTap","isSelectionWithCheckboxes","stopSelectionWithCheckboxes","startSelectionWithCheckboxes","changeItemSelection","control","showCheckBoxesMode","allowSelectAll","selectAllMode","maxFilterLengthInRequest","selectionCellTemplate","isRowSelected","renderSelectCheckBoxContainer","selectionHeaderTemplate","_renderSelectAllCheckBox","_attachSelectAllCheckBoxClickEvent","_selectionMode","_isSelectionWithCheckboxes","_createSelection","_updateSelectColumn","_getSelectionConfig","selectionOptions","dataFields","isItemSelected","isSelectableItem","getItemData","oldData","isSelectColumnVisible","argument","_updateCheckboxesState","isDeferredMode","selectedItemKeys","removedItemKeys","keyIndex","isComplexKey","isSeveralRowsSelected","selectionChangedOptions","changedItemIndexes","getChangedItemIndexes","itemIndexes","addedItemKeys","_selectedItemsInternalChange","selectedRowsData","selectedItems","currentSelectedRowKeys","currentDeselectedRowKeys","isDataItem","oldSelectionMode","selectionMode","selectRows","_isOnePageSelectAll","isSelectAll","getSelectAllState","selectAll","deselectAll","clearSelection","preserve","isDeselect","getSelectedRowKeys","getSelectedItemKeys","deselectRows","selectRowsByIndexes","indexes","getSelectedRowsData","getSelectedItems","focusedItemIndex","_focusedItemIndex","hasSelectColumn","currentItem","isUpdateSelection","removedKeys","_updateSelectAllValue","$editor","dxCheckBox","isEmptyData","_attachCheckBoxClickEvent","_renderSelectCheckBox","_e$event","_updateCheckboxesClass","touch","isSelectionDisabled","isClickableElement","isCommandKeyPressed","isCheckBoxesHidden","ColumnChooserView","ColumnChooserController","columnChooserView","_button","_tree_view","_popup","COLUMN_CHOOSER_BUTTON_CLASS","NOTOUCH_ACTION_CLASS","COLUMN_CHOOSER_ICON_NAME","COLUMN_CHOOSER_ITEM_CLASS","processItems","chooserColumns","isSelectMode","disableCheckBox","allowSearch","searchTimeout","title","emptyPanelText","renderShowColumnChooserButton","$columnChooserButton","columnChooserButtonClass","columnChooserEnabled","$showColumnChooserButton","onClick","showColumnChooser","integrationOptions","getPosition","_isWinDevice","win","_updateList","_popupContainer","columnChooserList","_columnChooserList","unselectItem","_wrapper","_renderTreeView","_initializePopupContainer","columnChooserOptions","themeName","isGenericTheme","isGeneric","dxPopupOptions","showCloseButton","dragEnabled","resizeEnabled","toolbar","shortcut","treeViewConfig","itemTemplate","$checkBox","$treeViewNode","checkBoxInstance","_prepareSelectModeConfig","_prepareDragModeConfig","selectNodesRecursive","onItemSelectionChanged","needPartialRender","needFullRender","all","$nodes","columnVisible","isColumnChooserVisible","_container","right","hideColumnChooser","popupContainer","_appendColumnChooserItem","hintText","widget","showText","locateInMenu","_uiTree_view","WIDGET_CLASS","NODE_CONTAINER_CLASS","TreeViewSearch","_addWidgetPrefix","_showCheckboxes","_isRecursiveSelection","_removeSelection","_updateSearch","_repaintContainer","_updateDataAdapter","_searchEditor","_getSearchEditorOptions","rootNodes","_renderEmptyMessage","isSearchMode","_removeSearchBox","_check_box","_load_indicator","NODE_CLASS","NODE_LOAD_INDICATOR_CLASS","OPENED_NODE_CONTAINER_CLASS","IS_LEAF","ITEM_WITH_CHECKBOX_CLASS","ITEM_WITHOUT_CHECKBOX_CLASS","ITEM_DATA_KEY","TOGGLE_ITEM_VISIBILITY_CLASS","LOAD_INDICATOR_CLASS","LOAD_INDICATOR_WRAPPER_CLASS","TOGGLE_ITEM_VISIBILITY_OPENED_CLASS","SELECT_ALL_ITEM_CLASS","INVISIBLE_STATE_CLASS","EXPAND_EVENT_NAMESPACE","DATA_ITEM_ID","_supportedKeys","click","_itemClickHandler","_getEventNameByOption","_expandEventHandler","_changeCheckBoxState","toggleExpandedNestedItems","rootItem","_toggleExpandedNestedItems","enter","asterisk","minus","checkboxInstance","_getCheckBoxInstance","currentState","_updateItemSelection","len","_toggleExpandedState","_getNodeElement","_encodeString","$nodeByKey","querySelector","animationEnabled","expandAllEnabled","hasItemsExpr","expandNodesRecursive","selectAllText","onItemExpanded","onItemCollapsed","scrollDirection","virtualModeEnabled","expandEvent","createChildren","onSelectAllValueChanged","useDeferUpdateForTemplates","_initSelectedItems","_syncSelectionOptions","selectionChangePromise","_selectionChangePromise","_createSelectAllValueChangedAction","_selectAllValueChangedAction","_fireSelectAllValueChanged","_checkBoxModeChange","selectAllExists","_$selectAllItem","_renderSelectAllItem","_filter","_initExpandEvent","_useCustomChildrenLoader","_loadChildrenByCustomLoader","newItems","_isVirtualMode","_initVirtualMode","custom","internal","_isDataStructurePlain","parentNode","invocationResult","_combineFilter","_dataSourceLoadErrorHandler","_initStoreChangeHandlers","_dataSourceChangedHandler","_initialized","_removeTreeViewLoadIndicator","_treeViewLoadIndicator","_createTreeViewLoadIndicator","_dataSourceLoadingChangedHandler","_updateLevel","_parentIdGetter","removedKey","_markChildrenItemsToRemove","_removeItems","_getContainerByParentKey","_getOldContainer","_renderNodeContainer","_isRootLevel","_renderScrollableContainer","_isSingleSelection","_selectAllEnabled","skipContentReadyAction","_expandedGetter","level","_getLevel","_renderedItemsCount","nodeIndex","nodeData","showCheckBox","_renderCheckBox","_toggleSelectedClass","_renderChildren","_renderToggleItemVisibilityIcon","_loadSublevel","_renderSublevel","_getActualNode","_addLeafClass","cachedNode","_hasItemsGetter","childrenNodes","_loadNestedItems","$nestedNodeContainer","childNodesByChildrenKeys","firstChild","_updateParentsState","_normalizeIconState","_executeItemRenderAction","_getNode","_getItemRenderAction","expandedEventName","itemSelector","_itemSelector","_getNodeByElement","_decodeString","_createLoadIndicator","_updateExpandedItemsUI","$icon","_renderToggleItemVisibilityIconClick","_this7","isHiddenNode","nodeContainerExists","completionCallback","_animateNodeContainer","_loadNestedItemsWithUpdate","_this8","actualNodeData","_this9","_areNodesExists","_appendItems","keyOfRootItem","fullData","nodeHeight","complete","_fireExpandedStateUpdatedEvent","_itemEventHandler","hasNewItems","$loadIndicator","_emptyMessageContainer","_contentAlreadyRendered","_toggleSelectAll","before","_updateItemsUI","$checkbox","_changeCheckboxValue","_toggleNodeDisabledState","_itemOptionChanged","_isLastSelectedBranch","selectedNodesKeys","_isLastRequired","isSingleMode","getSelectedNodeKeys","_this10","checkbox","initiator","_findItemElementByItem","_this11","nodeSelection","$parentNode","parentValue","_itemEventHandlerImpl","_extendActionArgs","_itemContextMenuHandler","_createEventHandler","_itemHoldHandler","clickSelector","pointerDownSelector","pointerDownEvent","_itemPointerDownHandler","isDefaultPrevented","_updateSelectionToFirstItem","startIndex","_updateSelectionToLastItem","_focusInHandler","_this12","_updateFocusState","_setFocusedItemTimeout","_setFocusedItem","_findNonDisabledNodes","_moveFocus","FOCUS_UP","FOCUS_LEFT","FOCUS_RIGHT","_nodeElements","$prevItem","prevItemElement","_getNodeItemElement","$nextItem","nextItemElement","$firstItem","$lastItem","_expandFocusedContainer","_collapseFocusedContainer","$focusedNode","_getClosestNonDisabledNode","nodeElement","collapsedNode","encodeURI","decodeURI","_this13","resolveWith","expandItem","collapseItem","getNodes","getSelectedNodes","_this14","unselectAll","expandAll","dataAdapter","collapseAll","scrollToItem","keyOrItemOrElement","_this15","nodeKeysToExpand","scrollCallback","_expandNodes","reverse","scrollToElementTopLeft","keysToExpand","_this16","resultCallback","callbacksByNodes","GroupingHeaderPanelExtender","_uiData_gridGrouping","_uiData_gridGrouping2","_accessibility","DATAGRID_GROUP_PANEL_CLASS","DATAGRID_GROUP_PANEL_ITEM_CLASS","GroupingDataSourceAdapterExtender","_initGroupingHelper","_grouping","isAutoExpandAll","isFocusedRowEnabled","_collapseExpandAll","isExpand","changeRowExpand","beginLoading","_changeRowExpandCore","endLoading","_hasGroupLevelsExpandState","GroupingDataControllerExtender","_processGroupItems","_processGroupItem","groupedColumns","collectContinuationItems","resultItems","expandRow","collapseRow","onGroupingMenuItemClick","_appendGroupingItem","_isGroupPanelVisible","isRendered","$groupPanel","_updateGroupPanelContent","_renderGroupPanelItems","$groupPanelItem","$toolbarElement","$groupedColumnElement","isColumnGrouped","ungroup","ungroupAll","GroupingRowsViewExtender","isGroupRowStateChanged","isExpandButtonClicked","_changeGroupRowState","columnHeadersViewExtender","groupByThisColumn","loadTotalCount","correctSkipLoadOption","skipCorrection","resultSkip","processGroupItems","skipFirstItem","removeLastItemsCount","needRemoveFirstItem","offsetInfo","pathEquals","path1","path2","keysEqual","updateGroupOffsets","additionalGroupInfo","getGroupCount","collapsedGroups","collapsedItemsCount","sorts","arrangeSortingInfo","removeGroupLoadOption","createNotGroupFilter","appendCollapsedPath","collapsedGroup","keyValue","pathValue","query","multiLevelGroup","enumerate","groupedData","itemsCountCorrection","groupCountQuery","beginPageIndex","dataSourceItems","groupOffsetQuery","getContinuationGroupCount","groupOffset","pageOffset","foreachExpandedGroups","updateGroups","expandedInfo","isLastGroupExpanded","paths","lastCount","updateGroupInfoItem","isLastGroupLevel","_isGroupExpanded","updateGroupInfos","loadedGroupCount","skips","isGroupExpanded","getTotalOffset","groupInfos","totalOffset","childrenTotalCount","applyContinuationToGroupItem","groupLevel","expandedItemIndex","takes","isLastExpandedItem","isFirstExpandedItem","lastExpandedItemSkip","isItemsTruncatedByTake","isDataDeferred","makeDataDeferred","loadGroupItems","currentGroupCount","currentGroupIndex","fillSkipTakeInExpandedInfo","currentGroup","requireGroupCount","groupSummary","loadExpandedGroups","expandedFilters","expandedPath","isPagingLocal","isLastLevelGroupItemsPagingLocal","sortLastLevelGroupItems","expandedItems","loadLastLevelGroupItems","loadGroupTotalCount","isGrouping","isVirtualPaging","_updatePagingOptions","skipChildrenTotalCount","takeCorrection","parentTakeCorrection","continuationGroupCount","skipContinuationGroupCount","groupInfoCount","childrenGroupInfoCount","remoteGroupPaging","remotePaging","isLastGroup","_processPaging","_processSkips","firstItem","_processTakes","lastItem","maxTakeCount","handleGroup","MASTER_DETAIL_CELL_CLASS","MASTER_DETAIL_ROW_CLASS","CELL_FOCUS_DISABLED_CLASS","initMasterDetail","_expandedItems","_isExpandAll","expandIndex","_getRowIndicesForExpand","detailColumnIndex","isEnabledChanged","isAutoExpandAllChanged","_updateParentDataGrids","$masterDetailRow","_updateMasterDataGrid","$detailElement","masterRowOptions","masterDataGrid","isFixedColumns","_updateFixedMasterDetailGrids","masterRowIndex","detailElementWidth","isDetailHorizontalScrollCanBeShown","isDetailGridWidthChanged","isEditRow","_isDetailRow","_editingController","_position2","FOCUS_OVERLAY_CLASS","FOCUSED_ELEMENT_CLASS","MODULE_NAMESPACE","UPDATE_FOCUS_EVENTS","DX_HIDDEN","_getFocusedElement","$dataGridElement","rowSelector","focusedElementSelector","_getFocusCellSelector","_updateFocusCore","$focusCell","hideBorders","$focus","_$focusedElement","loseFocus","_updateFocus","isFocusOverlay","_isFocusOverlay","_updateFocusTimeoutID","_updateFocusOverlaySize","calculate","oversize","hideBorder","_focusTimeoutID","renderFocusOverlay","focused","refocus","_$focusOverlay","align","elemCoord","focusOverlayPosition","precise","$focusedElement","_updateFocusHandler","_attachContainerEventHandlers","_dialog","_form","iconUtils","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","iter","_iterableToArray","minLen","n","test","_unsupportedIterableToArray","_nonIterableSpread","arr2","EDIT_FORM_CLASS","EDIT_FORM_ITEM_CLASS","READONLY_CLASS","ROW_SELECTED","EDIT_ROW","COMMAND_EDIT_CLASS","COMMAND_EDIT_WITH_ICONS_CLASS","INSERT_INDEX","CELL_MODIFIED","EDITORS_INPUT_SELECTOR","FOCUSABLE_ELEMENT_SELECTOR","EDIT_MODE_BATCH","EDIT_MODE_ROW","EDIT_MODE_CELL","EDIT_MODE_FORM","EDIT_MODE_POPUP","DATA_EDIT_DATA_INSERT_TYPE","DATA_EDIT_DATA_UPDATE_TYPE","DATA_EDIT_DATA_REMOVE_TYPE","DEFAULT_START_EDIT_ACTION","EDIT_MODES","ROW_BASED_MODES","CELL_BASED_MODES","FORM_BASED_MODES","MODES_WITH_DELAYED_FOCUS","EDIT_LINK_CLASS","edit","undelete","EDIT_ICON_CLASS","METHOD_NAMES","ACTION_OPTION_NAMES","BUTTON_NAMES","EDITING_POPUP_OPTION_NAME","EDITING_CHANGES_OPTION_NAME","EDITING_EDITROWKEY_OPTION_NAME","EDITING_EDITCOLUMNNAME_OPTION_NAME","createFailureHandler","_getEditMode","editMode","_isRowEditMode","isEditingCell","isEditingOrShowEditorAlwaysDataCell","isCommandCell","isEditorCell","refreshMode","allowAdding","allowUpdating","allowDeleting","selectTextOnEditStart","confirmDelete","editRow","saveAllChanges","saveRowChanges","cancelAllChanges","cancelRowChanges","addRow","deleteRow","undeleteRow","confirmDeleteMessage","confirmDeleteTitle","startEditAction","editRowKey","editColumnName","getDefaultEditorTemplate","getButtonIndex","buttons","getButtonName","forEachFormItems","callBack","tabs","$pointerDownTarget","_editForm","_updateEditFormDeferred","_lastOperation","_deferreds","_saveEditorHandler","_pointerUpEditorHandler","_that$getController","_pointerDownEditorHandler","targetComponent","_editCellInProgress","isEditorPopup","checkEditorPopup","isDomElement","isAnotherComponent","_disposed","isAddRowButton","isCellEditMode","_closeEditItem","up","_updateEditColumn","_updateEditButtons","_internalState","getChanges","resetChanges","_getInternalData","_addInternalData","internalData","_getOldData","_this$_getInternalDat","getUpdatedData","editIndex","createObjectWithChanges","getInsertedData","getRemovedData","_fireDataErrorOccurred","getPopupContent","_needToCloseEditableCell","$targetCell","isEditCell","closeEditCell","editForm","_repaintEditPopup","_isDefaultButtonVisible","isRowMode","isBatchMode","_getVisibleEditRowIndex","removed","_isButtonVisible","_getButtonConfig","buttonName","addRowToNode","getEditingTexts","editingOptions","allowAction","_getEditingButtons","buttonIndex","haveCustomButtons","_renderEditingButtons","_createButton","_getEditCommandCellTemplate","isRowEditMode","isFormEditMode","isCellOrBatchEditMode","getEditMode","getFirstEditableColumnIndex","firstFormItem","_firstFormItem","editRowIndex","$editFormElements","_getEditFormEditorVisibleIndex","getFirstEditableCellInRow","getFocusedCellInRow","_inputFocusTimeoutID","editPopup","_editPopup","popupOptionName","_handleEditRowKeyChange","_handleEditColumnNameChange","_handleChangesChange","_resetEditColumnName","_resetEditRowKey","oldRowIndexCorrection","_getEditRowIndexCorrection","oldRowIndex","_getVisibleEditColumnIndex","_editCellFromOptionChanged","_editRowFromOptionChanged","cancelEditData","oldColumnIndex","_repaintEditCell","isPageChanged","needResetIndexes","_pageIndex","isEditRowKeyDefined","isEditColumnNameDefined","_setEditRowKey","silent","_setEditRowKeyByIndex","getEditRowIndex","getEditFormRowIndex","popupVisible","_$popupContent","getEditForm","_needInsertItem","endPageIndex","dataRowIndex","_generateNewItem","_getLoadedRowIndexByInsertKey","loadedRowIndexOffset","loadedRowIndex","removeCount","processDataItem","_changes$editIndex","modified","_initNewRow","_getInsertKey","insertKey","_getInsertRowIndex","_getInsertIndex","parentRowIndex","maxInsertIndex","editItem","param","oldEditRowIndex","saveEditData","_allowRowAdding","__KEY__","_addRowCore","insertIndex","initialOldEditRowIndex","_addChange","_showEditPopup","_focusFirstEditableCellInRow","_afterInsertRow","$firstCell","_delayedInputFocus","eventToTrigger","_isEditingStart","_beforeEditCell","_beforeUpdateItems","_setEditColumnNameByIndex","_visibleColumns$index","_setEditColumnName","_getEditColumn","_getColumnByName","editColumn","columnName","_resetEditIndices","_needFocusEditor","_focusEditorIfNeed","$editingCell","_this$_rowsView","editColumnIndex","_focusEditingCell","repaintForm","isMobileDevice","popupOptions","fullScreen","_getSaveButtonConfig","_getCancelButtonConfig","contentTemplate","_getPopupEditFormTemplate","$popupContainer","_getEditPopupHiddenHandler","defaultAnimation","formTemplate","getEditFormTemplate","_removeInternalData","_removeChange","executeOperation","waitForDeferredOperations","editCell","_editCell","coreResult","_editCellCore","_getNormalizedEditCellOptions","oldColumn","isEditByOptionChanged","_this$_getNormalizedE","_prepareEditCell","_processCanceledEditingCell","beforeFocusCallback","callBeforeFocusCallbackAlways","inputFocus","$focusableElement","_beforeFocusCallback","android","$editCell","_checkAndDeleteRow","showDialogTitle","confirm","confirmResult","_deleteRowCore","isEmptyObject","_fireOnSaving","onSavingParams","_executeEditingAction","_processChanges","results","dataChanges","changeCopy","_beforeSaveEditData","newData","doneDeferred","_processSaveEditDataResult","hasSavedData","changesLength","_fireSaveEditDataEvents","isSaving","_resolveAfterSave","_saving","_saveEditDataInner","_ref3","_afterSaveEditData","_this17","_ref4","_endSaving","_cancelSaving","_resetModifiedClassCells","_this18","columnsCount","_ref5","_changes$","_refreshDataAfterSave","_cancelEditDataCore","_this19","isFullRefresh","isEditColumnVisible","_isEditColumnVisible","isVisibleWithCurrentEditMode","_applyModified","_beforeCloseEditCellInBatchMode","_beforeCancelEditData","_hideEditPopup","hasEditData","isError","withoutSaveEditData","_this20","_closeEditCellCore","_getRowIndicesForCascadeUpdating","skipCurrentRow","addDeferred","_this21","_prepareChange","_options$row","rowKey","_updateRowValues","updateFieldValue","forceUpdateRow","_this22","_focusPreviousEditingCellIfNeed","_updateEditRow","_needUpdateRow","isCustomSetCellValue","isCustomCalculateCellValue","visibleColumn","isUpdateInCellMode","_updateEditRowCore","_getFormEditItemTemplate","editCellTemplate","renderFormEditTemplate","detailCellOptions","isReadOnly","isCustomEditorType","getEditorType","rowData","getItemID","getFormEditorTemplate","_validator","validator","validatorOptions","contents","dxValidator","validationRules","dataGetter","getEditFormOptions","detailOptions","userCustomizeItem","editFormItemClass","itemId","formID","isRequired","rule","itemVisible","renderFormOnly","editFormOptions","baseEditFormOptions","$buttonsContainer","getColumnTemplate","editingStartOptions","isRowEditing","isCellEditing","$button","iconType","getImageSourceType","localizationName","getButtonLocalizationNames","prepareEditButtons","titleButtonTextByClassNames","revert","classNameButtonByNames","buttonItems","prepareButtonItem","isButtonDisabled","EDIT_BUTTON_CLASS","highlightDataCell","_allowEditAction","allowEditAction","needCallback","editFormRowIndex","isRowRemoved","isRowInserted","isRowModified","_getColumnIndexByElement","_getColumnIndexByElementCore","_editCellByClick","_this23","_pointerDownTimeout","isEditForm","isEditableCell","_editCellPrepared","_formItemPrepared","_isFormItem","isDetailRow","isPopupEditing","cellValue","alert","FakeDialogComponent","_component","_action","_view_port","DEFAULT_BUTTON","DX_DIALOG_CLASSNAME","DX_DIALOG_WRAPPER_CLASSNAME","DX_DIALOG_ROOT_CLASSNAME","DX_DIALOG_CONTENT_CLASSNAME","DX_DIALOG_MESSAGE_CLASSNAME","DX_DIALOG_BUTTONS_CLASSNAME","DX_DIALOG_BUTTON_CLASSNAME","DX_BUTTON_CLASSNAME","lWidth","pWidth","isMessageHtmlDefined","messageHtml","popupToolbarItems","popupInstance","execute","ensureDefined","widthOption","ignoreChildEvents","bottomToolbar","resetActiveElement","$firstButton","_selectors","_validation_engine","_tooltip","INVALIDATE_CLASS","REVERT_TOOLTIP_CLASS","ROWS_VIEW_CLASS","WIDGET_INVALID_MESSAGE_CLASS","VALIDATOR_CLASS","PENDING_INDICATOR_CLASS","VALIDATION_PENDING_CLASS","VALIDATION_STATUS","EDIT_DATA_INSERT_TYPE","VALIDATION_CANCELLED","validationResultIsValid","cellValueShouldBeValidated","validationCancelChanges","validating","_validationState","_rowIsValidated","validationData","_getValidationData","validated","isValid","_getBrokenRules","validationResults","brokenRules","brokenRule","_rowValidating","getChangeByKey","errorText","getHiddenValidatorsErrorText","brokenRulesMessages","isGroupExpandColumn","isVisibleColumn","validate","isFull","completeList","_isValidationInProgress","validationResult","validateGroup","_currentCellValidator","_findGroup","_validationResult","getGroupConfig","validators","resetRowValidationResults","isRowDataModified","updateValidationState","setDisableApplyValidationResults","setValidator","renderCellPendingIndicator","disposeCellPendingIndicator","validationStatusChanged","updateCellValidationResult","validatorInitialized","validatorDisposing","getCellValidationResult","status","cancelCellValidationResult","applyValidationResult","requestIsDisabled","disabledPendingId","_disableApplyValidationResults","getEditorInstance","createValidator","needCreateValidator","isCellOrBatchEditingAllowed","getValue","useDefaultValidator","adapter","applyValidationResults","validationRequestsCallbacks","flag","getDisableApplyValidationResults","isCurrentValidatorProcessing","validateCell","cellParams","stateRestored","_validationData$valid","removeCellValidationResult","_ref6","isInvalidCell","_ref7","getCellValidator","_ref8","groupConfig","setCellValidationStatus","validationStatus","validatingController","_updateRowAndPageIndices","startInsertIndex","_ref9","_ref10","isNotCanceled","addInValidItem","isInsert","getIndexByChange","isInserted","_createInvisibleColumnValidators","invisibleColumns","invisibleColumnValidators","isCellVisible","disposeValidators","isFullValid","_showErrorRow","validationState","resetRowAndPageIndices","currentValidator","cellModified","isValidated","needValidation","isCellInvalid","_showRevertButton","$tooltipElement","tooltipOptions","$buttonElement","onPositioned","_positionedHandler","_hideFixedGroupCell","$nextFixedRowElement","$groupCellElement","nextRowOptions","isOverlayVisible","__skipPositionProcessing","isRevertButton","needRepaint","normalizedPosition","_normalizeValidationMessagePositionAndMaxWidth","_showValidationMessage","messages","revertTooltip","editorPopup","myPosition","atPosition","$overlayContainer","errorMessageText","$overlayElement","_shiftValidationMessageIfNeed","fixedColumns","visibleTableWidth","w1","w2","getWidthOfVisibleCells","validationMessageWidth","overlayContent","needMaxWidth","boundaryNonFixedColumnsInfo","firstNonFixedColumnIndex","lastNonFixedColumnIndex","endColumnIndex","getBoundaryNonFixedColumnsInfo","$revertContent","contentOffset","revertContentOffset","_getTooltipsSelector","invalidMessageClass","skipValidator","updateCellState","errorMessages","$tooltips","oldValidationStatus","newValidationStatus","rowIsModified","cellIsMarkedAsInvalid","$rowElements","$freeSpaceRowElements","$tooltipContent","_popover","Tooltip","titleTemplate","onTitleRendered","bottomTemplate","_render","_contentId","_toggleAriaDescription","_translator","BOTTOM_LOAD_PANEL_CLASS","TABLE_CONTENT_CLASS","CONTENT_CLASS","FREESPACE_CLASS","VIRTUAL_ROW_CLASS","SCROLLING_MODE_INFINITE","SCROLLING_MODE_VIRTUAL","PIXELS_LIMIT","isAppendMode","isVirtualRowRendering","rowRenderingMode","_correctCount","fromEnd","isItemCountableFunc","isItemCountableByDataSource","VirtualScrollingDataSourceAdapterExtender","_updateLoading","_virtualScrollController","viewportSize","getViewportItemIndex","VirtualScrollController","updateLoading","viewportItems","onChanged","changingDuration","_renderTime","_startLoadTime","handleDataChanged","isBase","virtualScrollController","delayDeferred","_delayDeferred","VirtualScrollingRowsViewExtender","removeEmptyRows","$emptyRows","_dataController$state","scrollToPage","_scrollToCurrentPageOnResize","resizeHandler","itemSize","getItemSize","itemSizes","getItemSizes","_updateContentPosition","startRenderTime","virtualItemsCount","_contentHeight","_removeRowsElements","contentTable","_restoreErrorRow","_updateBottomLoading","_addVirtualRow","$virtualRow","_getRowHeights","_correctRowHeights","rowHeights","correctedRowHeights","visibleRows","firstCountableItem","isRender","rowHeight","viewportItemSize","_updateContentPositionCore","setContentSize","getContentOffset","$tables","$virtualRows","_isFixedTableRendering","contentHeight","$contentTable","virtualTable","_contentTableHeight","getVirtualContentSize","move","_isTableLinesDisplaysCorrect","_isColumnElementsEqual","_renderVirtualTableContent","table","$columns","$virtualColumns","freeSpaceCellsHtml","columnLinesClass","createFreeSpaceRowHtml","classes","_getCellClasses","classString","isExpandColumn","_findBottomLoadPanel","$bottomLoadPanel","virtualMode","showBottomLoading","bottomLoadPanelElement","setViewportPosition","viewportHeight","_windowScroll","subscribeToExternalScrollers","scrollPos","loadIfNeed","_scrollTimeoutID","updateTimeout","minTimeout","renderingThreshold","removeInvisiblePages","rowPageSize","preloadEnabled","loadTwoPagesOnStart","baseResult","initVirtualRows","getRowPageSize","rowsScrollController","_rowsScrollController","getItemIndexByPosition","rowIndexOffset","isSortingOperation","virtualRowsRendering","_visibleItems","_rowPageIndex","isItemCountable","correctCount","isNextAfterLast","countableOnly","begin","positionChanged","_that$_dataSource","setViewportItemIndex","delta","isRefresh","allItems","byLoadedRows","sizes","_resizeTimeout","_lastTime","getContentHeightLimit","getPixelRatio","_isVirtual","needTwoPagesLoading","_viewportItemIndex","browser","scrollChangedHandler","$scrollElement","scrollableArray","scrollToArray","disposeArray","getElementOffset","$scrollableElement","scrollableOffset","widgetScrollStrategy","subscribeToScrollEvents","eventsStrategy","createWindowScrollHandler","topOffset","scrollMethod","getPreloadPageCount","previous","realViewportSize","_viewportSize","_viewportItemSize","_itemSizes","getViewportPageCount","getBeginPageIndex","_cache","getEndPageIndex","fireChanged","_isChangedFiring","processDelayChanged","_isDelayChanged","processChanged","isDelayChanged","removeCacheItem","isPrepend","removeItemCount","itemsLength","_lastPageIndex","isVirtual","_sizeRatio","_loadingPageIndexes","beginItemsCount","end","scrollingTimeout","_setViewportPositionCore","getViewportPosition","defaultItemSize","itemOffset","itemOffsetsWithSize","itemOffsetWithSize","itemOffsetDiff","_contentSize","virtualContentSize","contentHeightLimit","getItemOffset","isEnd","currentItemIndex","newPageIndex","lastPageSize","maxPageIndex","pageIndexForLoad","getPageIndexForLoad","loadCore","lastCacheLength","cacheItem","subscribeToWindowScrollEvents","_editor","_menu","OPERATION_ICONS","notcontains","startswith","endswith","between","OPERATION_DESCRIPTORS","FILTER_ROW_CLASS","FILTER_RANGE_OVERLAY_CLASS","FILTER_RANGE_START_CLASS","EDITOR_WITH_MENU_CLASS","EDITOR_CONTAINER_CLASS","HIGHLIGHT_OUTLINE_CLASS","FOCUSED_CLASS","FILTER_RANGE_CONTENT_CLASS","FILTER_MODIFIED_CLASS","BETWEEN_OPERATION_DATA_TYPES","isOnClickApplyFilterMode","ColumnHeadersViewFilterRowExtender","$editorContainer","componentNames","getRangeTextByFilterValue","rangeEnd","getColumnFilterValue","formatOptions","getColumnSelectedFilterOperation","bufferedSelectedFilterOperation","isFilterRange","isRangeStart","isValidFilterValue","updateFilterValue","_applyFilterViewController","setHighLight","columnFilterValue","normalizeFilterValue","_updateEditorValue","$editorRangeElements","$menu","overlayInstance","_updateFilterRangeContent","_updateFilterOperationChooser","_renderFilterRangeContent","_renderEditor","_getEditorOptions","_hideFilterRange","_filterRangeOverlayInstance","isFilterRowVisible","_initFilterRangeOverlay","$prevElement","prev","_updateFilterRangeOverlay","_showFilterRange","getFilterRangeOverlayInstance","_renderFilterCell","_renderFilterOperationChooser","accessibilityOptions","_getFilterInputAccessibilityAttributes","columnAriaLabel","$filterRangeContent","isCellWasFocused","menu","_focusEditor","showFirstSubmenuMode","hideSubmenuOnMouseLeave","_getFilterOperationMenuItems","properties","columnSelectedFilterOperation","notFocusEditor","isOnClickMode","onSubmenuShown","_isEditorFocused","onSubmenuHiding","_visibleSubmenu","filterRowOptions","availableFilterOperations","descriptionName","resetOperationText","DataControllerFilterRowExtender","skipCalculateColumnFilters","showOperationChooser","applyFilterText","equal","notEqual","lessThan","lessThanOrEqual","greaterThan","greaterThanOrEqual","startsWith","notContains","endsWith","isBlank","isNotBlank","betweenStartText","betweenEndText","_getHeaderPanel","_headerPanel","enableApplyButton","removeHighLights","columnHeadersViewElement","columnsResizer","_startResizing","_targetPoint","_endResizing","_prepareFilterItem","filterItem","_isShowApplyFilterButton","_hover","DX_MENU_HORIZONTAL_CLASS","DX_CONTEXT_MENU_CLASS","DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS","DX_ADAPTIVE_MODE_CLASS","DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS","SHOW_SUBMENU_OPERATION","NEXTITEM_OPERATION","PREVITEM_OPERATION","Menu","orientation","onSubmenuShowing","onSubmenuHidden","adaptivityEnabled","rootMenuElements","submenuElements","_submenuItemElements","currentSubmenu","_submenus","isMenuHorizontal","_isMenuHorizontal","_getItemsNavigationOperation","_getKeyboardNavigationAction","navigationAction","navOperation","_resizeEventTimer","_menuItemsWidth","_updateItemsWidthCache","$menuItems","_getSummaryItemsWidth","_isAdaptivityEnabled","containerWidth","_toggleAdaptiveMode","_initAdaptivity","_hamburger","_toggleTreeView","_toggleHamburgerActiveState","$menuItemsContainer","$adaptiveElements","_hideVisibleSubmenu","_treeView","_$adaptiveContainer","menuOptions","_treeviewItemClickHandler","$hamburger","_renderHamburgerButton","_getTreeViewOptions","_getAdaptiveOverlayOptions","delayType","submenu","_createSubmenu","_renderBorderElement","$submenuContainer","_getSubmenuOptions","_parentKey","onHoverStart","_clearTimeouts","getSubmenuPosition","_attachSubmenuHandlers","$submenuTarget","onFocusedItemChanged","_nestedItemOnSelectionChangedHandler","_nestedItemOnItemClickHandler","_nestedItemOnItemRenderedHandler","_moveMainMenuFocus","$currentItem","$newItem","_clearSelectionInSubmenus","_clearRootSelection","targetSubmenu","cleanAllSubmenus","isOtherItem","$selectedItem","selectedItemData","_clearSelectedItems","$prevSelectedItem","submenus","getOverlayContent","submenuMouseLeaveName","_submenuOnShowingHandler","_submenuOnShownHandler","_submenuOnHidingHandler","_submenuOnHiddenHandler","_submenuMouseLeaveHandler","$border","relatedTarget","_getSubmenuByRootElement","_hideSubmenuAfterTimeout","_getDelay","isRootItemHovered","isSubmenuItemHovered","isHorizontalMenu","mouseMoveEventName","isSelectionActive","which","_getShowFirstSubmenuMode","_getSubmenuByElement","_itemMouseMoveHandler","_showSubmenuTimer","eventArg","_hideSubmenuTimer","_hoveredRootItem","pointers","_changeSubmenusOption","_removeAdaptivity","_ContextMenu","Submenu","_renderDelimiter","$contentDelimiter","_overlayPositionedActionHandler","_showDelimiter","_toggleFocusClass","hoverStartAction","containerOffset","vLocation","hLocation","rootOffset","offsetLeft","rootWidth","rootHeight","submenuWidth","submenuHeight","DATE_INTERVAL_FORMATS","HeaderFilterController","_headerFilterView","_updateSelectedState","isExclude","filterType","updateHeaderFilterItemSelectionState","_normalizeGroupItem","currentLevel","valueSelector","displaySelector","getHeaderItemText","headerFilterOptions","firstValueText","secondValue","secondValueText","getFormatOptions","emptyValue","groupItems","headerFilterDataSource","isLookup","lookupDataSourceOptions","cutoffLevel","_currentColumn","useDefaultSearch","origPostProcess","getCurrentColumn","isGroupPanel","$columnElement","showHeaderFilterMenuBase","columnElement","dxResizableInstance","dxResizable","headerFilterByColumn","isFilterBuilder","hideHeaderFilterMenu","ColumnHeadersViewHeaderFilterExtender","headerFilterMixin","$headerFilterIndicator","_subscribeToIndicatorEvent","_updateHeaderFilterIndicators","_needUpdateFilterIndicators","HeaderPanelHeaderFilterExtender","invertFilterExpression","ok","headerFilterView","HeaderFilterView","filterValuesMatch","isExcludeFilter","resetChildrenItemSelection","_list","HEADER_FILTER_CLASS","updateSelectAllState","selectAllCheckBox","isSearchEnabled","getPopupContainer","getListContainer","_listContainer","applyHeaderFilter","list","fillSelectedItemKeys","hasChildrenWithSelection","updatePopup","headerFilterMenu","_cleanPopupContent","_getSearchExpr","useDefaultSearchExpr","_initializeListContainer","widgetOptions","pageLoadMode","showSelectionControls","_selectedItemsUpdating","filterValueIndex","_isHeaderFilterEmpty","FILTER_ROW_OPERATIONS","FILTER_TYPES_INCLUDE","FILTER_TYPES_EXCLUDE","getColumnIdentifier","filterSync","getEmptyFilterValues","canSyncHeaderFilterWithFilterRow","getConditionFromFilterRow","getConditionFromHeaderFilter","selectedOperation","updateHeaderFilterCondition","headerFilterCondition","hasArrayValue","getHeaderFilterFromCondition","updateFilterRowCondition","syncFilterValue","_skipSyncColumnOptions","filterConditions","filterCondition","_initSync","checkForErrors","filteringColumns","isFilterSyncActive","_getSyncFilterRow","_getSyncHeaderFilter","syncFilterRow","syncHeaderFilter","getCustomFilterOperations","filterBuilderCustomOperations","anyOf","noneOf","filterSyncEnabledValue","calculatedFilterValue","_parseColumnPropertyName","propertyName","editorTemplate","FILTER_BUILDER_RANGE_CLASS","conditionInfo","$editorStart","$editorEnd","getStartValue","getEndValue","_editorFactory","isblank","isnotblank","OPERATION_NAME","grid","baseOperation","baseOp","baseFilter","getFullText","parentText","getSelectedItemsTexts","selectedItemsTexts","lastIndex","div","closeEditor","fieldInfo","_filter_builder","_scroll_view","and","notAnd","notOr","filterBuilderView","_updatePopupOptions","_initPopup","_filterBuilderPopup","_disposePopup","_filterBuilder","_getPopupContentTemplate","_getPopupToolbarItems","$filterBuilderContainer","_utils2","FILTER_BUILDER_CLASS","FILTER_BUILDER_GROUP_CLASS","FILTER_BUILDER_GROUP_ITEM_CLASS","FILTER_BUILDER_GROUP_CONTENT_CLASS","FILTER_BUILDER_ACTION_CLASS","FILTER_BUILDER_IMAGE_CLASS","FILTER_BUILDER_ITEM_VALUE_CLASS","ACTIVE_CLASS","SOURCE","ENTER_KEY","ESCAPE_KEY","OPERATORS","EditorFactory","defaultGroupOperation","groupOperations","maxGroupLevel","closePopupOnTargetScroll","_initCustomOperations","disableInvalidateForValue","_disableInvalidateForValue","_initModel","_getNormalizedFields","_model","_customOperations","_updateFilter","normalizedValue","_getModel","_initEditorFactory","actionConfig","_createGroupElementByCriteria","_createConditionElement","_createConditionItem","$group","_createGroupElement","$groupContent","groupCriteria","innerCriteria","$groupItem","_createRemoveButton","_createGroupOperationButton","_createAddButton","newGroup","newCondition","_getGroupOperations","groupMenuItem","$operationButton","_createButtonWithMenu","removeMenu","FILTER_BUILDER_OVERLAY_CLASS","info","treeViewElement","treeView","dxTreeView","_subscribeOnClickAndEnterKey","_createPopupWithTreeView","_hasValueButton","_createOperationButtonWithMenu","currentOperation","$valueButton","_createValueButton","_createOperationAndValueButtons","_createFieldButtonWithMenu","getFullCaption","$fieldButton","$removeButton","addGroupHandler","addConditionHandler","_createValueText","$text","_createValueEditorWithEvents","_updateConditionValue","_addDocumentKeyUp","isComposing","hasCompositionJustEnded","documentKeyUpHandler","input","_documentKeyUpHandler","_addDocumentClick","closeEditorFunc","documentClickHandler","_isFocusOnEditorParts","_documentClickHandler","activeElement","_removeEvents","createValueText","_createValueEditor","$popup","$menuContainer","FILTER_PANEL_CLASS","filterEnabledHint","filterPanelView","$leftContainer","_filterValueBuffer","_getCheckElement","_getFilterElement","_getTextElement","_getRemoveButtonElement","_showFilterBuilder","_addTabIndexToElement","filterText","$textElement","getFilterText","customText","clearFilterValue","tabindex","_getConditionText","fieldText","operationText","_getValueMaskedText","_getValueText","hasCustomOperation","getConditionText","getGroupText","isInnerGroup","textParts","groupText","SEARCH_PANEL_CLASS","SEARCH_TEXT_CLASS","highlightSearchText","highlightCaseSensitive","searchVisibleColumnsOnly","onQueryDone","valueGetter","_i","calculateSearchFilter","getSearchPanelOptions","_prepareSearchItem","searchPanelOptions","$search","getSearchTextEditor","$searchPanel","_searchParams","_getFormattedSearchText","_getStringNormalizer","isCaseSensitive","_findHighlightingTextNodes","stringNormalizer","normalizedSearchText","$contents","_highlightSearchTextCore","$textNode","$searchTextSpan","firstContentElement","after","createTextNode","_highlightSearchText","isEquals","textNodes","textNode","_highlightTimer","_pager","getPageIndex","_isVisible","_getPager","pagerOptions","maxPagesCount","showPageSizes","showInfo","displayMode","pagesNavigatorVisible","showNavigationButtons","pageSizes","pageIndexChanged","pageSizeChanged","useLegacyKeyboardNavigation","infoText","_pageSizes","pagerVisible","isPager","isPaging","isDataSource","isScrolling","_select_box","_number_box","PAGER_PAGE_CLASS","PAGER_PAGE_CLASS_SELECTOR","PAGER_PAGES_CLASS","PAGER_SELECTION_CLASS","PAGER_PAGE_SIZE_CLASS","PAGER_PAGE_SIZE_CLASS_SELECTOR","PAGER_PREV_BUTTON_CLASS","PAGER_NEXT_BUTTON_CLASS","PAGER_INFO_CLASS","PAGER_BUTTON_DISABLE_CLASS","Page","_$page","_value","getFormatter","pagesCountText","lightModeEnabled","_toggleVisibility","_getPages","currentPage","firstValue","showMoreButton","PAGES_LIMITER","_getPageByValue","page","_pages","_processSelectedPage","selectedPageIndex","isPageIndexValid","selectedPage","_selectPageByValue","nextPage","morePage","pagesLength","prevPage","_updatePagesTabIndices","$selectedPage","updatePageIndices","_nextPage","_wrapClickAction","_pointerUpHappened","_renderPages","$separator","clickPagesIndexAction","pageNumber","_pageClickHandler","_$pagesChooser","Name","_calculateLightPagesWidth","$pageIndex","_renderLightPages","clickAction","_pageIndexEditor","PAGER_INFO_TEXT_CLASS","$pageCount","_renderPagesChooser","_renderInfo","_renderNavigateButton","_updatePagesChooserWidth","_renderPageSizes","pageSizeValue","$pageSize","pagesSizesLength","currentPageSize","clickPagesSizeAction","_$pagesSizeChooser","_calculateLightPageSizesWidth","_renderLightPageSizes","_pageSizeEditor","_renderPagesSizeChooser","_pagesSizeChooserWidth","_$info","_isInfoHide","_infoWidth","_updatePageSizes","_updatePages","_updateLightMode","forceRender","_updateButtonsState","_isPageIndexInvalid","isNextDirection","nextButton","prevButton","_pageKeyDownHandler","_getMinPagerWidth","_pagesChooserWidth","deferUpdater","lastPageWidth","infoWidth","_previousWidth","TrackerView","ColumnsResizerViewController","TablePositionViewController","ColumnsSeparatorView","DraggingHeaderViewController","DraggingHeaderView","draggingHeaderView","draggingHeader","columnsSeparatorView","tablePosition","trackerView","_drag","_swatch_container","COLUMNS_SEPARATOR_TRANSPARENT","DRAGGING_HEADER_CLASS","HEADERS_DRAG_ACTION_CLASS","TRACKER_CLASS","HEADERS_DROP_HIGHLIGHT_CLASS","BLOCK_SEPARATOR_CLASS","_unsubscribeFromCallback","_positionChanged","_tablePositionController","_subscribeToCallback","SeparatorView","_isShown","_isTransparent","columnsSeparatorTransparent","moveByX","outerX","changeCursor","cursorName","BlockSeparatorView","startAnimate","toOptions","_isDragging","isDragging","_getDraggingPanelByPos","_dragOptions","boundingRect","_resetTargetColumnOptions","_dropOptions","targetColumnIndex","targetColumnElement","isLast","posX","posY","_getVisibleIndexObject","_controller","_columnsResizerViewController","dragHeader","isCommandColumn","sourceIndex","sourceColumnIndex","sourceColumnElement","_onSelectStart","onselectstart","drag","whiteSpace","getSwatchContainer","moveHeader","eventData","dragOptions","moveDeltaX","deltaX","moveDeltaY","deltaY","newLeft","newTop","dockHeader","targetDraggingPanel","isVerticalOrientation","axisName","pointsByTarget","pointsByColumns","_generatePointsByColumns","centerPosition","dock","dropHeader","drop","isNextColumnResizingMode","_isHeadersRowArea","headersRowHeight","_isRtlParentStyle","_this$_$parentContain","_$parentContainer","_pointCreated","isNextColumnMode","isRtlParentStyle","firstPointColumnIndex","nextColumn","_getTargetPoint","currentX","_moveSeparator","columnsSeparatorWidth","_columnsSeparatorView","parentOffset","parentOffsetLeft","_isResizing","_resizingInfo","_updateColumnsWidthIfNeeded","currentColumnIndex","_previousParentOffset","_isReadyResizing","_trackerView","_getNextColumnIndex","_setupResizingInfo","nextColumnIndex","currentHeader","nextHeader","startPosX","currentColumnWidth","nextColumnWidth","isTouchEvent","_pointsByColumns","_unsubscribeFromEvents","_moveSeparatorHandler","_startResizingHandler","_endResizingHandler","_subscribeToEvents","nextCellWidth","cellWidth","needUpdate","resizingInfo","setColumnWidth","oldColumnWidth","totalPercent","correctContentWidth","_subscribesToCallbacks","_unsubscribeFromCallbacks","subscribe","_unsubscribes","generatePointsByColumnsHandler","generatePointsByColumnsScrollHandler","previousScrollbarVisibility","previousTableHeight","scrollbarVisibility","diffOffsetTop","columnsHeadersHeight","scrollBarWidth","columnsResizerController","_pagerView","targetPoint","blockSeparatorView","nameDraggingPanel","subscribeToEvents","start","_getSeparator","_blockSeparatorView","hideSeparators","blockSeparator","columnsSeparator","_animationColumnIndex","_draggingHeaderView","_headerPanelView","_columnChooserView","allowDrop","headersView","separator","hasTargetVisibleIndex","_short","FREESPACE_ROW_CLASS","COMMAND_EXPAND_CLASS","COMMAND_CELL_SELECTOR","FAST_EDITING_DELETE_KEY","INTERACTIVE_ELEMENTS_SELECTOR","FOCUS_TYPE_CELL","COLUMN_HEADERS_VIEW","isCellElement","isElementDefined","isMobile","isCellInHeaderRow","enterKeyAction","enterKeyDirection","editOnKeyPress","_selectionController","_updateFocusTimeout","_fastEditingStarted","_focusedCellPosition","_canceledCellPosition","setupFocusedView","_isNeedScroll","_focusedView","_initViewHandlers","_initDocumentHandlers","rowsViewFocusHandler","isRelatedTargetInRowsView","$focusedCell","_getFocusedCell","$rowsView","isFocusedViewCorrect","isFocusedElementCorrect","_initPointerEventHandler","_initKeyDownHandler","_setRowsViewAttributes","_isNeedFocus","_isHiddenFocus","isCurrentRowsViewClick","_isEventInCurrentGrid","isEditorOverlay","isColumnResizing","_resetFocusedView","_getRowsViewElement","_applyTabIndexToElement","pointerEventName","_pointerEventAction","_pointerEventHandler","keyboard","_keyDownListener","_keyDownHandler","isRowFocusType","focusType","isCellFocusType","setRowFocusType","setCellFocusType","needStopPropagation","isHandled","_processOnKeyDown","_updateFocusedCellPositionByTarget","_leftRightKeysHandler","ctrl","_upDownKeysHandler","_pageUpDownKeyHandler","_spaceKeyHandler","_ctrlAKeyHandler","_beginFastEditing","_tabKeyHandler","_enterKeyHandler","_escapeKeyHandler","_ctrlFKeyHandler","_f2KeyHandler","_isFastEditingAllowed","alt","altKey","_closeEditCell","getVisibleRowIndex","$event","directionCode","_getDirectionCodeByKey","_isVirtualColumnRender","_processVirtualHorizontalPosition","_getNextCell","_arrowKeysHandlerFocusCell","isUpArrow","_navigateNextCell","_isVirtualRowRender","_scrollBy","isPageUp","pageStep","_isVirtualScrolling","isFocusedRowElement","_getElementType","isOriginalHandlerRequired","_isLastValidCell","_isFirstValidCell","eventTarget","focusedViewElement","_handleTabKeyOnMasterDetailCell","_resetFocusedCell","_editingCellTabHandler","_targetCellTabHandler","_getMaxHorizontalOffset","_isColumnRendered","allVisibleColumns","renderedVisibleColumns","_isFixedColumn","_isColumnVirtual","localColumnIndex","getColumnIndex","horizontalScrollPosition","needToScroll","_getVisibleColumnCount","_getHorizontalScrollPositionOffset","scrollBy","positionOffset","$currentCell","_getCell","currentCellWidth","rtlMultiplier","isEditingAllowed","_getCellElementFromTarget","elementType","_updateFocusedCellPosition","nextCellInfo","_getNextCellByTabKey","_getRowIndex","_isDataRow","_focusCell","isHighlighted","_editFocusedCell","_focusInteractiveElement","$lastInteractiveElement","_getInteractiveElement","getFirstValidCellInRow","_checkNewLineTransition","_fireFocusedCellChanging","$newCellElement","_getCellPosition","_fireFocusedRowChanging","rowIndexChanged","setFocusedColumnIndex","_processEnterKeyForDataCell","_getEnterKeyDirection","allowEditingOnEnterKey","_allowEditingOnEnterKey","_handleEnterKeyEditingCell","_startEditing","isShift","_focusEditFormCell","searchTextEditor","keyCode","_isCellValid","$nextCell","isVerticalDirection","_fireFocusChangingEvents","_focus","isDeleting","fastEditingKey","fromCharCode","isInteractiveElement","isExpandCommandCell","_isInsideEditForm","_focusView","_isMasterDetailCell","_clickTargetCellHandler","_isCellEditMode","setFocusedRowIndex","prevRowIndex","resetFocusedRow","_resetFocusedRow","_allowRowUpdating","isInteractiveTarget","isDisabled","activeElementSelector","_focusElement","getFocusedView","rowsViewElement","$focusedView","_getFocusedViewByElement","$view","disableFocus","isNotFocusedRow","$focusElement","focusedView","one","isRenderView","_hasSkipRow","_checkCellOverlapped","$focusedElementInsideCell","isFocusedElementDefined","cellOffset","isOverlapped","_this$_focusedCellPos","setFocusedCellPosition","_getFocusedColumnIndexOffset","_getFixedColumnIndexOffset","isFixedColumnIndexOffsetRequired","_applyColumnIndexBoundaries","preventScroll","_this$_focusedView","renderFocusState","restoreFocusableElement","_getNewPositionByCode","_hasValidCellAfterPosition","_isLastRow","_hasValidCellBeforePosition","visibleColumnsCount","_isCellByPositionValid","isFirstValidCell","hasValidCells","checkingPosition","visibleColumnCount","isClick","isShowWhenGrouped","isDataCell","rowItems","isRowEditingInCurrentRow","_isLegacyNavigation","$result","focusedCellPosition","includeCommandCells","newFocusedCellPosition","isLastCellOnDirection","_isCellInRow","visibleColumnIndex","_isAllowEditing","_startEditCell","colIndex","editResult","_editingCellHandler","editorValue","$input","keyDownEvent","keyPressEvent","inputEvent","$widgetContainer","fireRowEvent","newColumnIndex","prevCellIndex","prevColumnIndex","_fireFocusedCellChanged","localRowIndex","$newFocusedRow","prevFocusedRowIndex","_fireFocusedRowChanged","focusController","getFocusedRowIndexByKey","$masterDetailCell","$masterDetailGrid","_processNextCellInMasterDetail","_processCanceledEditCellPosition","isCanceled","needTriggerPointerEventHandler","_triggerPointerDownEventHandler","cellElements","updateFocusElementTabIndex","_updateFocusedCellTabIndex","cellElementsLength","updateCellTabIndex","isMasterDetailCell","isValidCell","editorInstance","_getEditorInstance","_handleEditingNavigationMode","originalKeyHandler","keyboardNavigationController","_keyboardNavigationController","getRowIndexCorrection","focusedRowIndexCorrection","adaptiveColumns","_showHiddenCellsInView","_hideVisibleCellInView","FooterView","renderSummaryCell","_aggregate_calculator","DATAGRID_GROUP_FOOTER_ROW_TYPE","$summaryItems","getSummaryCellOptions","getGroupAggregates","aggregates","recalculateWhileEditing","footerItems","$newTable","$newRow","totalColumnIndices","SummaryDataSourceAdapterExtender","forEachGroup","_totalAggregates","_summaryGetter","summaryGetter","_summary","totalAggregates","sortByGroupsInfo","sortByGroups","groupedItems","itemsPath","SummaryDataSourceAdapterClientExtender","applyAddedData","insertedData","applyRemovedData","removedData","updatedData","updatedItems","calculateAggregates","calculator","groupAggregates","sortGroupsBySummaryCore","sortBy","thenBy","sortedItems","sortGroupsBySummary","totalSummary","totalItems","calculateCustomSummary","skipEmptyValues","sumOtherColumn","minOtherColumn","maxOtherColumn","avg","avgOtherColumn","_isDataColumn","_isGroupFooterVisible","showInColumn","showInGroupFooter","isGroupFooterVisible","summaryGroupItems","afterGroupColumnIndex","_calculateSummaryCells","alignByColumn","calculateTargetColumnIndex","summaryCellsByColumns","summaryIndex","aggregate","_getSummaryCells","summaryTotalItems","_footerItems","oldSummaryCells","summaryCell","_prepareUnsavedDataSelector","_prepareAggregateSelector","aggregator","_getAggregates","commonSkipEmptyValues","summaryProcess","seed","totalValue","step","finalize","_addSortInfo","_findSummaryItem","summaryItemIndex","getFullName","_getSummarySortByGroups","groupSummaryItems","currentRemoteOperations","_getSummaryOptions","totalSummaryItems","methods","getTotalSummaryValue","summaryItemName","_refreshSummary","_renderGroupSummaryCells","_hasAlignByColumnSummaryItems","_getAlignByColumnCellCount","groupCellColSpan","alignByColumnCellCount","$groupCell","_renderGroupSummaryCellsCore","_getSummaryCellIndex","depthFirstSearch","depth","root","normalizeAggregate","aggregators","_groupLevel","_groupAggregates","_totals","_calculateTotals","_calculateGroups","_aggregate","_accumulate","_seed","_finalize","maxLevel","seedFn","stepFn","finalizeFn","innerNode","NaN","aggregateIndex","fin","_wheel","CONTENT_FIXED_CLASS","FIRST_CELL_CLASS","LAST_CELL_CLASS","HOVER_STATE_CLASS","FIXED_COL_CLASS","POINTER_EVENTS_NONE_CLASS","COMMAND_TRANSPARENT","getTransparentColumnIndex","normalizeColumnWidths","fixedWidths","fixedColumnIndex","baseFixedColumns","_isFixedColumns","_correctColumnIndicesForFixedColumns","$fixedTable","_fixedTableElement","fixedCorrection","fixedCells","prevFixedColumn","columnCommand","isRowAltStyle","isEmptyCell","isFixedTableRendering","isGroupCell","alignByFixedColumnCellCount","fixedCellElements","fixedColumn","getFixedColumnsOffset","$transparentColumn","positionTransparentColumn","getTransparentColumnElement","getFixedTableElement","synchronizeRows","isWidthsSynchronized","isColumnWidthChanged","useVisibleColumns","_getClientHeight","boundingClientRectElement","$fixedRowElements","fixedRowHeights","heightTable","heightFixedTable","fixedRowHeight","fix","unfix","leftPosition","rightPosition","columnFixingOptions","getFixedColumnElements","$transparentColumnElement","$fixedColumnElements","_detachHoverEvents","attachHoverEvent","isHover","contentClass","scrollDelay","_fixedScrollTimeout","$nearestScrollable","_updateFixedTablePosition","needFocus","vWidth","hWidth","styles","$fixedContent","_getElasticScrollTop","elasticScrollTop","reachedBottom","scrollableContent","_applyElasticScrolling","normalizeColumnIndicesByPoints","correctIndex","pointsByFixedColumns","_pointsByFixedColumns","isWidgetResizingMode","ROWS_VIEW","COLUMN_VIEWS","ADAPTIVE_ROW_TYPE","HIDDEN_COLUMN_CLASS","ADAPTIVE_COLUMN_NAME_CLASS","COMMAND_ADAPTIVE_HIDDEN_CLASS","ADAPTIVE_ITEM_TEXT_CLASS","ADAPTIVE_COLUMN_NAME","getDataCellElements","adaptiveCellTemplate","$adaptiveColumnButton","adaptiveColumnsController","toggleExpandAdaptiveDetailRow","_isItemModified","_renderFormViewTemplate","focusAction","renderFormTemplate","isItemEdited","_isItemEdited","_isVisibleColumnsValid","getCommandColumnsCount","_calculatePercentWidths","percentWidths","_getItemPercentWidth","_isPercentWidth","_isColumnHidden","_hiddenColumns","hiddenColumn","columnsCanFit","fixedColumnsWidth","columnsWithoutFixedWidthCount","_calculatePercentWidth","_calculateColumnWidth","contentColumns","colWidth","columnFitted","partialWidth","resultWidth","_getNotTruncatedColumnWidth","_getCommandColumnsWidth","adaptiveExpandedKey","_getFormItemsByHiddenColumns","hiddenColumns","_getAdaptiveColumnVisibleIndex","_hideAdaptiveColumn","_hideVisibleColumn","cssClassNameToRemove","_showHiddenColumns","$hiddenCommandCells","$hiddenCells","_hideVisibleColumnInView","rowsCount","currentVisibleIndex","_findCellElementInRow","$rowCells","cellIsInsideGroup","groupCellLength","cssClassNameToAdd","hideRedundantColumns","hiddenQueue","hasHiddenColumns","needHideColumn","rootElementWidth","getVisibleContentColumns","visibleContentColumns","contentColumnsCount","columnBestFitWidth","getItemContentByColumnIndex","_$itemContents","alwaysExpanded","createFormByHiddenColumns","userFormOptions","defaultFormOptions","formOptions","updateForm","hasAdaptiveDetailRowExpanded","_contentReadyAction","updateHidingQueue","columnsHasHidingPriority","hideableColumns","_hidingColumnsQueue","hidingPriority","getHiddenColumns","getHidingColumnsQueue","adaptiveHidden","isAdaptiveVisible","isAdaptiveDetailRowExpanded","expandAdaptiveDetailRow","collapseAdaptiveDetailRow","_adaptiveColumnsController","hidingColumnsQueueLength","hiddenColumnsLength","_updateColumnWidth","hasHiddenColumnsOnly","hasAdaptiveHiddenWidth","$itemContents","_adaptiveController","oldExpandRowIndex","_isForceRowAdaptiveExpand","_collapseAdaptiveDetailRow","_cancelEditAdaptiveDetailRow","expandedKey","_adaptiveExpandedKey","_updateScrollableForIE","_updateScrollableTimeoutID","adaptiveController","oldHiddenColumns","hidingColumnsQueue","expandRowIndex","lastRowIndex","oldExpandLoadedRowIndex","newExpandLoadedRowIndex","isCellOrBatchMode","focusHandler","$dataCells","isCellElementsEquals","HeaderFooterViewExtender","columnRenderingMode","columnPageSize","columnRenderingThreshold","getWidths","_beginPageIndex","_endPageIndex","_virtualVisibleColumns","currentPosition","getColumnPageSize","getTotalWidth","_fireColumnsChanged","setScrollPosition","_changedTimeout","_setScrollPositionCore","needColumnsChanged","visibleColumnsHash","endIndex","beginFixedColumnCount","beginFixedColumns","beginColumns","beginWidth","endFixedColumnCount","endFixedColumns","endColumns","endWidth","columnsInfo","createColumnsInfo","leftFixedColumnCount","foreachColumnInfo","newInfo","columnInfo","cellColspan","lastProcessedIndexes","processedColumnCount","ExportController","DataProvider","_exporter","DATAGRID_EXPORT_EXCEL_ICON","DATAGRID_EXPORT_SELECTED_ICON","TOOLBAR_ITEM_AUTO_HIDE_CLASS","_getGroupValue","_options","_correctCellIndex","_initOptions","_exportController","excelWrapTextEnabled","_getColumns","_initialColumnWidthsByColumnIndex","_selectedRowsOnly","_selectionOnly","_getSelectedItems","_getAllItems","isHeadersVisible","customizeExportData","wrapTextEnabled","customizeExcelCell","hasCustomizeExcelCell","cellSourceData","gridCell","initialColumnWidthsByColumnIndex","selectedRowsOnly","getStyles","wrapText","_getTotalCellStyleId","getStyleId","getHeaderRowCount","isTotalCell","getColumnsByAllRows","getColumnsWidths","getGroupLevel","getCellType","ready","_convertFromGridGroupSummaryItems","gridGroupSummaryItems","getCellData","isExcelJS","correctedCellIndex","gridColumn","itemValues","totalSummaryItemName","correctCellIndex","isSummaryAlignByColumn","getCellMerging","exportColspan","getFrozenArea","_getEmptyCell","currentHeaderRow","columnWidthsByColumnIndex","_getColumnWidths","_headersView","_needColumnExporting","currentColspan","_calculateExportColspan","_prepareItems","childColumns","childColumn","_getFooterSummaryItems","isTotal","estimatedItemsCount","_hasSummaryGroupFooters","_getItemsWithSummaryGroupFooters","sourceItems","beforeGroupFooterItems","groupFooterItems","_updateGroupValuesWithSummaryByColumn","summaryValues","groupColumnCount","merge","_processUnExportedItems","isDetailExpandColumn","selectedRowData","getExportFormat","getDataProvider","columnsLastRowVisibleColumns","exportToExcel","autoFilterEnabled","ignoreErrors","exportingAction","exportedAction","fileSavingAction","excel","_isSelectedRows","excelFilterEnabled","allowExportSelectedData","ignoreExcelErrors","exportTo","exportAll","exportSelectedRows","callbackList","editingChanged","_appendExportItems","exportOptions","exportItems","_renderButton","_renderExportMenu","menuItemTemplate","_renderList","allowExportSelected","_correctItemsPosition","withText","_getButtonOptions","$buttonContainer","wrapperNode","wrapInner","_renderFakeButton","exportSelected","iconName","BUTTON_CLASS","$toolbarItem","itemA","itemB","_contextMenu","_isExportButtonVisible","_defaultSetter","_cloneItem","cols","_c","_file_saver","pdf","_excel_creator","_image_creator","_svg_creator","_excel_format_converter","_pdf_creator","creator","ExcelCreator","formatConverter","svgCreator","excelCreator","_checkZipState","_jszip","XML_TAG","OPEN_XML_FORMAT_URL","XL_FOLDER_NAME","WORKBOOK_FILE_NAME","SHAREDSTRING_FILE_NAME","STYLE_FILE_NAME","WORKSHEET_FILE_NAME","VALID_TYPES","EXCEL_START_TIME","UNSUPPORTED_FORMAT_MAPPING","quarterAndYear","_getXMLTag","_convertToExcelCellRef","zeroBasedRowIndex","zeroBasedCellIndex","charCode","isCellIndexFound","_convertToExcelCellRefAndTrackMaxIndex","_maxRowIndex","_maxColumnIndex","_getDataType","_tryGetExcelCellDataType","isBoolean","boolean","_formatObjectConverter","formatter","_tryConvertToExcelNumberFormat","newFormat","_appendString","_stringHash","_stringArray","_tryGetExcelDateValue","days","_prepareValue","sourceValue","dataProvider","_dataProvider","_callCustomizeExcelCell","sourceData","styleCopy","copyCellFormat","numberFormat","clearStyle","horizontalAlignment","verticalAlignment","horizontal","vertical","newStyle","_getDataArray","cellsArray","cellData","rowsLength","styleArrayIndex","cellStyleId","_styleArrayIndexToCellStyleIdMap","modifiedExcelCell","_styleArray","cellDataType","excelDateValue","_excelFile","registerCellFormat","_needSheetPr","_calculateWidth","pixelsWidth","_prepareStyleData","_colsArray","fonts","registerFont","_prepareCellData","_cellsArray","_createXMLRelationships","xmlRelationships","_createXMLRelationship","_getWorkbookContent","_getContentTypesContent","_generateStylesXML","folder","_zip","XML","generateNumberFormatsXml","generateFontsXml","generateFillsXml","generateCellFormatsXml","_generateStringsXML","stringIndex","stringsLength","sharedStringXml","_getPaneXML","frozenArea","_getAutoFilterXML","maxCellIndex","_getIgnoredErrorsXML","_generateWorksheetXML","xmlCells","xmlRows","colsLength","rSpans","headerRowCount","xmlResult","_rtlEnabled","rightBottomCellRef","_generateMergingXML","l","mergeIndex","columnsLength","usedArea","mergeArray","mergeXML","cellMerge","mergeArrayLength","_generateCommonXML","relsFileContent","relsXML","_generateContent","_generateWorkXML","JSZip","isBlob","compression","generateAsync","generate","s","u","1","encode","getTypeOf","decode","uint8array","2","compressedSize","uncompressedSize","crc32","compressedContent","getContentWorker","Promise","pipe","uncompressWorker","streamInfo","data_length","getCompressedWorker","withStreamInfo","createWorkerFrom","compressWorker","3","STORE","magic","DEFLATE","4","5","base64","binary","createFolders","compressionOptions","comment","unixPermissions","dosPermissions","6","lie","7","Uint16Array","Uint32Array","_pako","_pakoAction","_pakoOptions","meta","inherits","processChunk","_createPako","transformTo","flush","cleanUp","raw","onData","pako","8","A","O","utf8encode","I","w","S","z","C","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCFullYear","getUTCMonth","getUTCDate","B","E","fileRecord","R","LOCAL_FILE_HEADER","dirRecord","CENTRAL_FILE_HEADER","bytesWritten","zipComment","zipPlatform","encodeFileName","streamFiles","accumulate","contentBuffer","dirRecords","currentSourceOffset","entriesCount","currentFile","_sources","openedSource","closedSource","DATA_DESCRIPTOR","CENTRAL_DIRECTORY_END","prepareNextSource","isPaused","pause","resume","registerPrevious","generatedError","lock","9","generateWorker","_compressWorker","10","files","loadAsync","support","defaults","external","11","decompressed","checkCRC32","optimizedBinaryString","decodeFileName","utf8decode","isStream","prepareContent","fileNameStr","fileCommentStr","12","_upstreamEnded","_bindStream","_stream","13","Readable","_helper","emit","_read","14","Buffer","newBufferFrom","allocBuffer","alloc","isBuffer","15","generateInternalStream","checkSupport","generateNodeStream","toNodejsStream","16","stream","17","byteAt","zero","lastIndexOfSignature","readAndCheckSignature","readData","checkOffset","18","checkIndex","setIndex","readInt","readString","readDate","19","20","21","subarray","22","23","ZIP64_CENTRAL_DIRECTORY_LOCATOR","ZIP64_CENTRAL_DIRECTORY_END","24","destType","25","26","propName","27","dataIsReady","_tickScheduled","_tickAndRepeat","isFinished","_tick","28","extraStreamInfo","isLocked","_listeners","mergeStreamInfo","29","nodestream","_internalType","_outputType","_mimeType","newBlob","_worker","objectMode","30","arraybuffer","ArrayBuffer","nodebuffer","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","getBlob","31","leftOver","applyFromCharCode","Utf8DecodeWorker","Utf8EncodeWorker","32","stringifyByChunk","stringifyByChar","applyCanBeUsed","byteLength","MAX_VALUE_16BITS","MAX_VALUE_32BITS","pretty","FileReader","readAsArrayBuffer","33","checkSignature","reader","isSignature","readBlockEndOfCentral","diskNumber","diskWithCentralDirStart","centralDirRecordsOnThisDisk","centralDirRecords","centralDirSize","centralDirOffset","zipCommentLength","readBlockZip64EndOfCentral","zip64EndOfCentralSize","zip64ExtensibleData","readBlockZip64EndOfCentralLocator","diskWithZip64CentralDirStart","relativeOffsetEndOfZip64CentralDir","disksCount","readLocalFiles","localHeaderOffset","readLocalPart","handleUTF8","processAttributes","readCentralDir","zip64","readCentralPart","readEndOfCentral","prepareReader","34","isEncrypted","bitFlag","useUTF8","fileNameLength","compressionMethod","versionMadeBy","extraFieldsLength","fileCommentLength","diskNumberStart","internalFileAttributes","externalFileAttributes","readExtraFields","parseZIP64ExtraField","fileComment","extraFields","findExtraFieldUnicodePath","findExtraFieldUnicodeComment","35","_dataBinary","internalStream","_decompressWorker","nodeStream","36","MutationObserver","WebKitMutationObserver","observe","characterData","setImmediate","MessageChannel","onreadystatechange","documentElement","port1","onmessage","port2","postMessage","global","37","queue","outcome","onFulfilled","callFulfilled","otherCallFulfilled","onRejected","callRejected","otherCallRejected","finally","catch","race","immediate","38","assign","39","chunkSize","windowBits","memLevel","strategy","gzip","err","msg","ended","chunks","strm","avail_out","deflateInit2","header","deflateSetHeader","dictionary","string2buf","deflateSetDictionary","_dict_set","next_in","avail_in","output","Buf8","next_out","deflate","onEnd","buf2binstring","shrinkBuf","deflateEnd","flattenChunks","Deflate","deflateRaw","40","inflateInit2","Z_OK","inflateGetHeader","Z_FINISH","Z_NO_FLUSH","binstring2buf","inflate","Z_NEED_DICT","inflateSetDictionary","Z_BUF_ERROR","Z_STREAM_END","Z_SYNC_FLUSH","utf8border","buf2string","arraySet","inflateEnd","Inflate","inflateRaw","ungzip","41","Int32Array","setTyped","Buf16","Buf32","42","43","44","Z_PARTIAL_FLUSH","Z_FULL_FLUSH","Z_BLOCK","Z_TREES","Z_ERRNO","Z_STREAM_ERROR","Z_DATA_ERROR","Z_NO_COMPRESSION","Z_BEST_SPEED","Z_BEST_COMPRESSION","Z_DEFAULT_COMPRESSION","Z_FILTERED","Z_HUFFMAN_ONLY","Z_RLE","Z_FIXED","Z_DEFAULT_STRATEGY","Z_BINARY","Z_TEXT","Z_UNKNOWN","Z_DEFLATED","45","46","T","D","F","pending","pending_buf","pending_out","total_out","N","_tr_flush_block","block_start","strstart","U","P","L","max_chain_length","prev_length","nice_match","w_size","w_mask","good_match","lookahead","match_start","window_size","hash_size","head","wrap","adler","total_in","ins_h","hash_shift","hash_mask","Z","match_length","_tr_tally","max_lazy_match","last_lit","W","prev_match","match_available","M","good_length","max_lazy","nice_length","max_chain","H","pending_buf_size","gzhead","gzindex","last_flush","w_bits","hash_bits","dyn_ltree","dyn_dtree","bl_tree","l_desc","d_desc","bl_desc","bl_count","heap","heap_len","heap_max","l_buf","lit_bufsize","d_buf","opt_len","static_len","bi_buf","bi_valid","G","data_type","_tr_init","K","Y","deflateInit","deflateReset","deflateResetKeep","hcrc","time","os","_tr_align","_tr_stored_block","deflateInfo","47","xflags","extra_len","48","dmax","wsize","whave","wnext","hold","bits","lencode","distcode","lenbits","distbits","sane","49","havedict","check","total","wbits","ncode","nlen","ndist","have","lens","work","lendyn","distdyn","back","was","inflateReset","inflateReset2","inflateResetKeep","inflateInit","inflateInfo","50","51","0","52","static_tree","extra_bits","extra_base","elems","max_length","has_stree","dyn_tree","max_code","stat_desc","X","V","q","J","53","54","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","RangeError","encodingOrOffset","allocUnsafe","byteOffset","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","write","fromString","checked","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","arrayIndexOf","indexSize","arrLength","valLength","read","buf","readUInt16BE","foundIndex","found","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","utf16leToBytes","fromByteArray","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","decodeCodePointsArray","SlowBuffer","INSPECT_MAX_BYTES","foo","typedArraySupport","poolSize","_augment","species","allocUnsafeSlow","_isBuffer","swap16","swap32","swap64","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","includes","toJSON","_arr","ret","out","toHex","bytes","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","stringtrim","base64clean","dst","b64","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","num","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","rt","LN2","scope","Function","Timeout","clearFn","_id","_clearFn","setInterval","clearInterval","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","attachTo","process","handle","nextTick","runIfPresent","importScripts","postMessageIsAsynchronous","oldOnMessage","canUsePostMessage","messagePrefix","random","onGlobalMessage","addEventListener","attachEvent","installPostMessageImplementation","channel","installMessageChannelImplementation","script","installReadyStateChangeImplementation","task","run","_excel3","_excel4","_excel5","ExcelFile","_cellFormatTags","_fillTags","_fontTags","_numberFormatTags","cellFormat","cellFormatTag","registerFill","registerNumberFormat","cellFormatTagsAsXmlStringsArray","fillTag","tagsAsXmlStringsArray","fontTag","xmlStringsArray","ID_PROPERTY_NAME","_convertNumberFormatIndexToId","cellFormatHelper","sharedItemsContainer","numberFormatId","fontId","fillId","applyNumberFormat","isAlignmentEmpty","xfId","applyAlignment","numFmtId","cellAlignmentHelper","patternFillHelper","numberFormatHelper","formatCode","_ajax","_markup","_imageArray","_imageDeferreds","_getBinaryFile","sendRequest","responseType","_loadImages","response","_parseImages","_prepareImages","$svgObject","dataURI","regexpString","RegExp","imageString","curDate","widthPt","heightPt","mainPage","mainPageTemplate","infoTemplate","_version","imageStartTemplate","imageEndTemplate","xref","mainPageLength","contentLength","infoLength","xrefTemplate","pad","mainContent","trailer","trailerTemplate","composePdfString","getBase64","isRowClick","_isFocusedRowInsideGroup","focusedRow","_getGroupPath","groupPath","_expandGroupByPath","_calculateGlobalRowIndexByGroupedData","_generateFilterByKey","isGroupKey","_concatWithCombinedFilter","_calculateExpandedRowGlobalIndex","_calculateGlobalRowIndexByFlatData","groupFilter","isVirtualScrolling","dataOffset","groupContinuationCount","ROW_FOCUSED_CLASS","_keyboardController","_focusRowByIndex","_triggerFocusedRowChangedIfNeed","_focusRowByKey","isAutoNavigateToFocusedRow","_focusRowByIndexCore","setKeyByIndex","_isValidFocusedRowIndex","_getLastItemIndex","isRowFocused","_isLocalRowIndex","virtualItems","virtualItemsBegin","visibleRowsCount","visiblePagesCount","_setFocusedRowKeyByIndex","_navigateToRow","isFocusedRowKeyDefined","navigateToRow","needFocusRow","isAutoNavigate","rowIndexByKey","isPaginate","_navigateTo","getPageIndexByKey","isVirtualRowRenderingMode","_navigateToVirtualRow","_navigateToVisibleRow","_triggerUpdateFocusedRow","scrollToRowElement","triggerUpdateFocusedRow","_focusRowByKeyOrIndex","currentFocusedRowIndex","updateFocusedRow","_change$items","isMainTable","_clearPreviousFocusedRow","_prepareFocusedRow","changedItem","$prevRowFocusedElement","$focusedRowTable","scrollToElementVertically","visibleRow","isRowElement","sortByKey","isLocalOperations","notSortedKeys","notSortedKey","isPartialUpdateWithDeleting","_updatePageIndexes","processUpdateFocusedRow","prevRenderingPageIndex","_lastRenderingPageIndex","renderingPageIndex","_isPagingByRendering","isPagingByRendering","isValidRowIndexByKey","getGlobalRowIndexByKey","globalIndex","useGroup","_generateOperationFilterByKey","_generateBooleanFilter","sortInfo","booleanFilter","sortFilter","dataSourceKey","keyPart","_setFocusedRowElementTabIndex","_findRowElementForTabIndex","_scrollToFocusOnResize","getScrollElementPosition","_sortable","COMMAND_HANDLE_CLASS","SORTABLE_WITHOUT_HANDLE_CLASS","showDragIcons","dropFeedbackMode","allowDropInsideItem","_updateHandleColumn","_allowReordering","isHandleColumnVisible","_getHandleTemplate","sortableName","sortableFixedName","currentSortableName","anotherSortableName","togglePointerEventsStyle","_this$sortableFixedNa","dragTemplate","_getDraggableRowTemplate","onDragStart","_rowDragging$onDragSt","onDragEnter","onDragLeave","onDragEnd","_rowDragging$onDragEn","_sortableFixed","sortable","_getDraggableGridOptions","gridOptions","showScrollbar","$dataGridContainer"],"mappings":"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CJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,IAAK,GACLC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,IAAK,GACLC,IAAK,GACLC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,IAAK,GACLC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,IAAK,IACLC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,IAAK,IACLC,IAAK,IACLC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,IAAK,IACLC,IAAK,IACLC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,GAAI,IACJC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJ,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,aAAc,KACd,QAAS,KACT,QAAS,KACT,QAAS,KACT,aAAc,KACd,QAAS,KACT,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,aAAc,KACd,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,SAAU,KACV,SAAU,KACV,QAAS,KACT,aAAc,KACd,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,SAAU,KACV,QAAS,KACT,aAAc,KACd,QAAS,KACT,SAAU,KACV,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,SAAU,KACV,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,SAAU,KACV,SAAU,KACV,SAAU,KACV,QAAS,KACT,QAAS,KACT,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,aAAc,KACd,QAAS,KACT,aAAc,KACd,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,aAAc,KACd,QAAS,KACT,aAAc,KACd,aAAc,KACd,cAAe,KACf,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,aAAc,KACd,QAAS,KACT,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,SAAU,KA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","file":"static/js/0.111cbacb.chunk.js","sourcesContent":["/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.core.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.utils\"));\r\nvar _uiGrid_core2 = _interopRequireDefault(require(\"../grid_core/ui.grid_core.modules\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction ownKeys(object, enumerableOnly) {\r\n    var keys = Object.keys(object);\r\n    if (Object.getOwnPropertySymbols) {\r\n        var symbols = Object.getOwnPropertySymbols(object);\r\n        if (enumerableOnly) {\r\n            symbols = symbols.filter(function(sym) {\r\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\r\n            })\r\n        }\r\n        keys.push.apply(keys, symbols)\r\n    }\r\n    return keys\r\n}\r\n\r\nfunction _objectSpread(target) {\r\n    for (var i = 1; i < arguments.length; i++) {\r\n        var source = null != arguments[i] ? arguments[i] : {};\r\n        if (i % 2) {\r\n            ownKeys(Object(source), true).forEach(function(key) {\r\n                _defineProperty(target, key, source[key])\r\n            })\r\n        } else {\r\n            if (Object.getOwnPropertyDescriptors) {\r\n                Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\r\n            } else {\r\n                ownKeys(Object(source)).forEach(function(key) {\r\n                    Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\r\n                })\r\n            }\r\n        }\r\n    }\r\n    return target\r\n}\r\n\r\nfunction _defineProperty(obj, key, value) {\r\n    if (key in obj) {\r\n        Object.defineProperty(obj, key, {\r\n            value: value,\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true\r\n        })\r\n    } else {\r\n        obj[key] = value\r\n    }\r\n    return obj\r\n}\r\nvar _default = _objectSpread(_objectSpread(_objectSpread({}, _uiGrid_core2.default), _uiGrid_core.default), {}, {\r\n    modules: []\r\n});\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.utils.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _filtering = _interopRequireDefault(require(\"../shared/filtering\"));\r\nvar _string = require(\"../../core/utils/string\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _position = require(\"../../core/utils/position\");\r\nvar _data = require(\"../../core/utils/data\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _load_panel = _interopRequireDefault(require(\"../load_panel\"));\r\nvar _utils = _interopRequireDefault(require(\"../../data/utils\"));\r\nvar _format_helper = _interopRequireDefault(require(\"../../format_helper\"));\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar DATAGRID_SELECTION_DISABLED_CLASS = \"dx-selection-disabled\";\r\nvar DATAGRID_GROUP_OPENED_CLASS = \"dx-datagrid-group-opened\";\r\nvar DATAGRID_GROUP_CLOSED_CLASS = \"dx-datagrid-group-closed\";\r\nvar DATAGRID_EXPAND_CLASS = \"dx-datagrid-expand\";\r\nvar NO_DATA_CLASS = \"nodata\";\r\nvar DATE_INTERVAL_SELECTORS = {\r\n    year: function(value) {\r\n        return value && value.getFullYear()\r\n    },\r\n    month: function(value) {\r\n        return value && value.getMonth() + 1\r\n    },\r\n    day: function(value) {\r\n        return value && value.getDate()\r\n    },\r\n    quarter: function(value) {\r\n        return value && Math.floor(value.getMonth() / 3) + 1\r\n    },\r\n    hour: function(value) {\r\n        return value && value.getHours()\r\n    },\r\n    minute: function(value) {\r\n        return value && value.getMinutes()\r\n    },\r\n    second: function(value) {\r\n        return value && value.getSeconds()\r\n    }\r\n};\r\nvar getIntervalSelector = function() {\r\n    var data = arguments[1];\r\n    var value = this.calculateCellValue(data);\r\n    if (!(0, _type.isDefined)(value)) {\r\n        return null\r\n    } else {\r\n        if (isDateType(this.dataType)) {\r\n            var nameIntervalSelector = arguments[0];\r\n            return DATE_INTERVAL_SELECTORS[nameIntervalSelector](value)\r\n        } else {\r\n            if (\"number\" === this.dataType) {\r\n                var groupInterval = arguments[0];\r\n                return Math.floor(Number(value) / groupInterval) * groupInterval\r\n            }\r\n        }\r\n    }\r\n};\r\nvar equalSelectors = function(selector1, selector2) {\r\n    if ((0, _type.isFunction)(selector1) && (0, _type.isFunction)(selector2)) {\r\n        if (selector1.originalCallback && selector2.originalCallback) {\r\n            return selector1.originalCallback === selector2.originalCallback && selector1.columnIndex === selector2.columnIndex\r\n        }\r\n    }\r\n    return selector1 === selector2\r\n};\r\n\r\nfunction isDateType(dataType) {\r\n    return \"date\" === dataType || \"datetime\" === dataType\r\n}\r\nvar setEmptyText = function($container) {\r\n    $container.get(0).textContent = \"\\xa0\"\r\n};\r\nvar normalizeSortingInfo = function(sort) {\r\n    sort = sort || [];\r\n    var result = _utils.default.normalizeSortingInfo(sort);\r\n    for (var i = 0; i < sort.length; i++) {\r\n        if (sort && sort[i] && void 0 !== sort[i].isExpanded) {\r\n            result[i].isExpanded = sort[i].isExpanded\r\n        }\r\n        if (sort && sort[i] && void 0 !== sort[i].groupInterval) {\r\n            result[i].groupInterval = sort[i].groupInterval\r\n        }\r\n    }\r\n    return result\r\n};\r\nvar formatValue = function(value, options) {\r\n    var valueText = _format_helper.default.format(value, options.format) || value && value.toString() || \"\";\r\n    var formatObject = {\r\n        value: value,\r\n        valueText: options.getDisplayFormat ? options.getDisplayFormat(valueText) : valueText,\r\n        target: options.target || \"row\",\r\n        groupInterval: options.groupInterval\r\n    };\r\n    return options.customizeText ? options.customizeText.call(options, formatObject) : formatObject.valueText\r\n};\r\nvar getSummaryText = function(summaryItem, summaryTexts) {\r\n    var displayFormat = summaryItem.displayFormat || summaryItem.columnCaption && summaryTexts[summaryItem.summaryType + \"OtherColumn\"] || summaryTexts[summaryItem.summaryType];\r\n    return formatValue(summaryItem.value, {\r\n        format: summaryItem.valueFormat,\r\n        getDisplayFormat: function(valueText) {\r\n            return displayFormat ? (0, _string.format)(displayFormat, valueText, summaryItem.columnCaption) : valueText\r\n        },\r\n        customizeText: summaryItem.customizeText\r\n    })\r\n};\r\nvar getWidgetInstance = function($element) {\r\n    var editorData = $element.data && $element.data();\r\n    var dxComponents = editorData && editorData.dxComponents;\r\n    var widgetName = dxComponents && dxComponents[0];\r\n    return widgetName && editorData[widgetName]\r\n};\r\nvar equalFilterParameters = function equalFilterParameters(filter1, filter2) {\r\n    if (Array.isArray(filter1) && Array.isArray(filter2)) {\r\n        if (filter1.length !== filter2.length) {\r\n            return false\r\n        } else {\r\n            for (var i = 0; i < filter1.length; i++) {\r\n                if (!equalFilterParameters(filter1[i], filter2[i])) {\r\n                    return false\r\n                }\r\n            }\r\n        }\r\n        return true\r\n    } else {\r\n        if ((0, _type.isFunction)(filter1) && filter1.columnIndex >= 0 && (0, _type.isFunction)(filter2) && filter2.columnIndex >= 0) {\r\n            return filter1.columnIndex === filter2.columnIndex && (0, _data.toComparable)(filter1.filterValue) === (0, _data.toComparable)(filter2.filterValue)\r\n        } else {\r\n            return (0, _data.toComparable)(filter1) == (0, _data.toComparable)(filter2)\r\n        }\r\n    }\r\n};\r\nvar _default = {\r\n    renderNoDataText: function($element) {\r\n        var that = this;\r\n        $element = $element || this.element();\r\n        if (!$element) {\r\n            return\r\n        }\r\n        var noDataClass = that.addWidgetPrefix(NO_DATA_CLASS);\r\n        var noDataElement = $element.find(\".\" + noDataClass).last();\r\n        var isVisible = this._dataController.isEmpty();\r\n        var isLoading = this._dataController.isLoading();\r\n        if (!noDataElement.length) {\r\n            noDataElement = (0, _renderer.default)(\"<span>\").addClass(noDataClass).appendTo($element)\r\n        }\r\n        if (isVisible && !isLoading) {\r\n            noDataElement.removeClass(\"dx-hidden\").text(that._getNoDataText())\r\n        } else {\r\n            noDataElement.addClass(\"dx-hidden\")\r\n        }\r\n    },\r\n    renderLoadPanel: function($element, $container, isLocalStore) {\r\n        var that = this;\r\n        var loadPanelOptions;\r\n        that._loadPanel && that._loadPanel.$element().remove();\r\n        loadPanelOptions = that.option(\"loadPanel\");\r\n        if (loadPanelOptions && (\"auto\" === loadPanelOptions.enabled ? !isLocalStore : loadPanelOptions.enabled)) {\r\n            loadPanelOptions = (0, _extend.extend)({\r\n                shading: false,\r\n                message: loadPanelOptions.text,\r\n                position: function() {\r\n                    var $window = (0, _renderer.default)((0, _window.getWindow)());\r\n                    if ($element.height() > $window.height()) {\r\n                        return {\r\n                            of: $window,\r\n                            boundary: $element,\r\n                            collision: \"fit\"\r\n                        }\r\n                    }\r\n                    return {\r\n                        of: $element\r\n                    }\r\n                },\r\n                container: $container\r\n            }, loadPanelOptions);\r\n            that._loadPanel = that._createComponent((0, _renderer.default)(\"<div>\").appendTo($container), _load_panel.default, loadPanelOptions)\r\n        } else {\r\n            that._loadPanel = null\r\n        }\r\n    },\r\n    getIndexByKey: function(key, items, keyName) {\r\n        var index = -1;\r\n        if (void 0 !== key && Array.isArray(items)) {\r\n            keyName = arguments.length <= 2 ? \"key\" : keyName;\r\n            for (var i = 0; i < items.length; i++) {\r\n                var item = (0, _type.isDefined)(keyName) ? items[i][keyName] : items[i];\r\n                if ((0, _common.equalByValue)(key, item)) {\r\n                    index = i;\r\n                    break\r\n                }\r\n            }\r\n        }\r\n        return index\r\n    },\r\n    combineFilters: function(filters, operation) {\r\n        var resultFilter = [];\r\n        operation = operation || \"and\";\r\n        for (var i = 0; i < filters.length; i++) {\r\n            if (!filters[i]) {\r\n                continue\r\n            }\r\n            if (resultFilter.length) {\r\n                resultFilter.push(operation)\r\n            }\r\n            resultFilter.push(filters[i])\r\n        }\r\n        if (1 === resultFilter.length) {\r\n            resultFilter = resultFilter[0]\r\n        }\r\n        if (resultFilter.length) {\r\n            return resultFilter\r\n        }\r\n    },\r\n    checkChanges: function(changes, changeNames) {\r\n        var changesWithChangeNamesCount = 0;\r\n        for (var i = 0; i < changeNames.length; i++) {\r\n            if (changes[changeNames[i]]) {\r\n                changesWithChangeNamesCount++\r\n            }\r\n        }\r\n        return changes.length && changes.length === changesWithChangeNamesCount\r\n    },\r\n    equalFilterParameters: equalFilterParameters,\r\n    proxyMethod: function(instance, methodName, defaultResult) {\r\n        if (!instance[methodName]) {\r\n            instance[methodName] = function() {\r\n                var dataSource = this._dataSource;\r\n                return dataSource ? dataSource[methodName].apply(dataSource, arguments) : defaultResult\r\n            }\r\n        }\r\n    },\r\n    formatValue: formatValue,\r\n    getFormatOptionsByColumn: function(column, target) {\r\n        return {\r\n            format: column.format,\r\n            getDisplayFormat: column.getDisplayFormat,\r\n            customizeText: column.customizeText,\r\n            target: target,\r\n            trueText: column.trueText,\r\n            falseText: column.falseText\r\n        }\r\n    },\r\n    getDisplayValue: function(column, value, data, rowType) {\r\n        if (column.displayValueMap && void 0 !== column.displayValueMap[value]) {\r\n            return column.displayValueMap[value]\r\n        } else {\r\n            if (column.calculateDisplayValue && data && \"group\" !== rowType) {\r\n                return column.calculateDisplayValue(data)\r\n            } else {\r\n                if (column.lookup && !(\"group\" === rowType && (column.calculateGroupValue || column.calculateDisplayValue))) {\r\n                    return column.lookup.calculateCellValue(value)\r\n                }\r\n            }\r\n        }\r\n        return value\r\n    },\r\n    getGroupRowSummaryText: function(summaryItems, summaryTexts) {\r\n        var result = \"(\";\r\n        for (var i = 0; i < summaryItems.length; i++) {\r\n            var summaryItem = summaryItems[i];\r\n            result += (i > 0 ? \", \" : \"\") + getSummaryText(summaryItem, summaryTexts)\r\n        }\r\n        return result += \")\"\r\n    },\r\n    getSummaryText: getSummaryText,\r\n    normalizeSortingInfo: normalizeSortingInfo,\r\n    getFormatByDataType: function(dataType) {\r\n        switch (dataType) {\r\n            case \"date\":\r\n                return \"shortDate\";\r\n            case \"datetime\":\r\n                return \"shortDateShortTime\"\r\n        }\r\n    },\r\n    getHeaderFilterGroupParameters: function(column, remoteGrouping) {\r\n        var result = [];\r\n        var dataField = column.dataField || column.name;\r\n        var groupInterval = _filtering.default.getGroupInterval(column);\r\n        if (groupInterval) {\r\n            (0, _iterator.each)(groupInterval, function(index, interval) {\r\n                result.push(remoteGrouping ? {\r\n                    selector: dataField,\r\n                    groupInterval: interval,\r\n                    isExpanded: index < groupInterval.length - 1\r\n                } : getIntervalSelector.bind(column, interval))\r\n            });\r\n            return result\r\n        }\r\n        if (remoteGrouping) {\r\n            result = [{\r\n                selector: dataField,\r\n                isExpanded: false\r\n            }]\r\n        } else {\r\n            result = function result(data) {\r\n                var result = column.calculateCellValue(data);\r\n                if (void 0 === result || \"\" === result) {\r\n                    result = null\r\n                }\r\n                return result\r\n            };\r\n            if (column.sortingMethod) {\r\n                result = [{\r\n                    selector: result,\r\n                    compare: column.sortingMethod.bind(column)\r\n                }]\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    equalSortParameters: function(sortParameters1, sortParameters2, ignoreIsExpanded) {\r\n        sortParameters1 = normalizeSortingInfo(sortParameters1);\r\n        sortParameters2 = normalizeSortingInfo(sortParameters2);\r\n        if (Array.isArray(sortParameters1) && Array.isArray(sortParameters2)) {\r\n            if (sortParameters1.length !== sortParameters2.length) {\r\n                return false\r\n            } else {\r\n                for (var i = 0; i < sortParameters1.length; i++) {\r\n                    if (!equalSelectors(sortParameters1[i].selector, sortParameters2[i].selector) || sortParameters1[i].desc !== sortParameters2[i].desc || sortParameters1[i].groupInterval !== sortParameters2[i].groupInterval || !ignoreIsExpanded && Boolean(sortParameters1[i].isExpanded) !== Boolean(sortParameters2[i].isExpanded)) {\r\n                        return false\r\n                    }\r\n                }\r\n            }\r\n            return true\r\n        } else {\r\n            return (!sortParameters1 || !sortParameters1.length) === (!sortParameters2 || !sortParameters2.length)\r\n        }\r\n    },\r\n    getPointsByColumns: function(items, pointCreated, isVertical, startColumnIndex) {\r\n        var cellsLength = items.length;\r\n        var notCreatePoint = false;\r\n        var item;\r\n        var offset;\r\n        var columnIndex = startColumnIndex || 0;\r\n        var result = [];\r\n        var rtlEnabled;\r\n        for (var i = 0; i <= cellsLength; i++) {\r\n            if (i < cellsLength) {\r\n                item = items.eq(i);\r\n                offset = item.offset();\r\n                rtlEnabled = \"rtl\" === item.css(\"direction\")\r\n            }\r\n            var point = {\r\n                index: columnIndex,\r\n                x: offset ? offset.left + (!isVertical && rtlEnabled ^ i === cellsLength ? (0, _position.getBoundingRect)(item[0]).width : 0) : 0,\r\n                y: offset ? offset.top + (isVertical && i === cellsLength ? (0, _position.getBoundingRect)(item[0]).height : 0) : 0,\r\n                columnIndex: columnIndex\r\n            };\r\n            if (!isVertical && i > 0) {\r\n                var prevItemOffset = items.eq(i - 1).offset();\r\n                if (prevItemOffset.top < point.y) {\r\n                    point.y = prevItemOffset.top\r\n                }\r\n            }\r\n            if (pointCreated) {\r\n                notCreatePoint = pointCreated(point)\r\n            }\r\n            if (!notCreatePoint) {\r\n                result.push(point)\r\n            }\r\n            columnIndex++\r\n        }\r\n        return result\r\n    },\r\n    getExpandCellTemplate: function() {\r\n        return {\r\n            allowRenderToDetachedContainer: true,\r\n            render: function(container, options) {\r\n                var $container = (0, _renderer.default)(container);\r\n                if ((0, _type.isDefined)(options.value) && !(options.data && options.data.isContinuation) && !options.row.isNewRow) {\r\n                    var rowsView = options.component.getView(\"rowsView\");\r\n                    $container.addClass(DATAGRID_EXPAND_CLASS).addClass(DATAGRID_SELECTION_DISABLED_CLASS);\r\n                    (0, _renderer.default)(\"<div>\").addClass(options.value ? DATAGRID_GROUP_OPENED_CLASS : DATAGRID_GROUP_CLOSED_CLASS).appendTo($container);\r\n                    rowsView.setAria(\"label\", options.value ? rowsView.localize(\"dxDataGrid-ariaCollapse\") : rowsView.localize(\"dxDataGrid-ariaExpand\"), $container)\r\n                } else {\r\n                    setEmptyText($container)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    setEmptyText: setEmptyText,\r\n    isDateType: isDateType,\r\n    getSelectionRange: function(focusedElement) {\r\n        try {\r\n            if (focusedElement) {\r\n                return {\r\n                    selectionStart: focusedElement.selectionStart,\r\n                    selectionEnd: focusedElement.selectionEnd\r\n                }\r\n            }\r\n        } catch (e) {}\r\n        return {}\r\n    },\r\n    setSelectionRange: function(focusedElement, selectionRange) {\r\n        try {\r\n            if (focusedElement && focusedElement.setSelectionRange) {\r\n                focusedElement.setSelectionRange(selectionRange.selectionStart, selectionRange.selectionEnd)\r\n            }\r\n        } catch (e) {}\r\n    },\r\n    focusAndSelectElement: function(component, $element) {\r\n        _events_engine.default.trigger($element, \"focus\");\r\n        var isSelectTextOnEditingStart = component.option(\"editing.selectTextOnEditStart\");\r\n        var keyboardController = component.getController(\"keyboardNavigation\");\r\n        var isEditingNavigationMode = keyboardController && keyboardController._isFastEditingStarted();\r\n        var element = $element.get(0);\r\n        if (isSelectTextOnEditingStart && !isEditingNavigationMode && $element.is(\".dx-texteditor-input\") && !$element.is(\"[readonly]\")) {\r\n            var editor = getWidgetInstance($element.closest(\".dx-texteditor\"));\r\n            (0, _deferred.when)(editor && editor._loadItemDeferred).done(function() {\r\n                element.select()\r\n            })\r\n        }\r\n    },\r\n    getWidgetInstance: getWidgetInstance,\r\n    getLastResizableColumnIndex: function(columns, resultWidths) {\r\n        var hasResizableColumns = columns.some(function(column) {\r\n            return column && !column.command && !column.fixed && false !== column.allowResizing\r\n        });\r\n        var lastColumnIndex;\r\n        for (lastColumnIndex = columns.length - 1; columns[lastColumnIndex]; lastColumnIndex--) {\r\n            var column = columns[lastColumnIndex];\r\n            var width = resultWidths && resultWidths[lastColumnIndex];\r\n            var allowResizing = !hasResizableColumns || false !== column.allowResizing;\r\n            if (!column.command && !column.fixed && \"adaptiveHidden\" !== width && allowResizing) {\r\n                break\r\n            }\r\n        }\r\n        return lastColumnIndex\r\n    },\r\n    isElementInCurrentGrid: function(controller, $element) {\r\n        if ($element && $element.length) {\r\n            var $grid = $element.closest(\".\" + controller.getWidgetContainerClass()).parent();\r\n            return $grid.is(controller.component.$element())\r\n        }\r\n        return false\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.modules.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _class = _interopRequireDefault(require(\"../../core/class\"));\r\nvar _callbacks = _interopRequireDefault(require(\"../../core/utils/callbacks\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _array = require(\"../../core/utils/array\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _ui = _interopRequireDefault(require(\"../widget/ui.errors\"));\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _window = require(\"../../core/utils/window\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar WIDGET_WITH_LEGACY_CONTAINER_NAME = \"dxDataGrid\";\r\nvar ModuleItem = _class.default.inherit({\r\n    _endUpdateCore: function() {},\r\n    ctor: function(component) {\r\n        var that = this;\r\n        that._updateLockCount = 0;\r\n        that.component = component;\r\n        that._actions = {};\r\n        that._actionConfigs = {};\r\n        (0, _iterator.each)(this.callbackNames() || [], function(index, name) {\r\n            var flags = that.callbackFlags(name) || {};\r\n            flags.unique = true, flags.syncStrategy = true;\r\n            that[this] = (0, _callbacks.default)(flags)\r\n        })\r\n    },\r\n    init: function() {},\r\n    callbackNames: function() {},\r\n    callbackFlags: function() {},\r\n    publicMethods: function() {},\r\n    beginUpdate: function() {\r\n        this._updateLockCount++\r\n    },\r\n    endUpdate: function() {\r\n        if (this._updateLockCount > 0) {\r\n            this._updateLockCount--;\r\n            if (!this._updateLockCount) {\r\n                this._endUpdateCore()\r\n            }\r\n        }\r\n    },\r\n    option: function(name) {\r\n        var component = this.component;\r\n        var optionCache = component._optionCache;\r\n        if (1 === arguments.length && optionCache) {\r\n            if (!(name in optionCache)) {\r\n                optionCache[name] = component.option(name)\r\n            }\r\n            return optionCache[name]\r\n        }\r\n        return component.option.apply(component, arguments)\r\n    },\r\n    _silentOption: function(name, value) {\r\n        var component = this.component;\r\n        var optionCache = component._optionCache;\r\n        if (optionCache) {\r\n            optionCache[name] = value\r\n        }\r\n        return component._setOptionWithoutOptionChange(name, value)\r\n    },\r\n    localize: function(name) {\r\n        var optionCache = this.component._optionCache;\r\n        if (optionCache) {\r\n            if (!(name in optionCache)) {\r\n                optionCache[name] = _message.default.format(name)\r\n            }\r\n            return optionCache[name]\r\n        }\r\n        return _message.default.format(name)\r\n    },\r\n    on: function() {\r\n        return this.component.on.apply(this.component, arguments)\r\n    },\r\n    off: function() {\r\n        return this.component.off.apply(this.component, arguments)\r\n    },\r\n    optionChanged: function(args) {\r\n        if (args.name in this._actions) {\r\n            this.createAction(args.name, this._actionConfigs[args.name]);\r\n            args.handled = true\r\n        }\r\n    },\r\n    getAction: function(actionName) {\r\n        return this._actions[actionName]\r\n    },\r\n    setAria: function(name, value, $target) {\r\n        var target = $target.get(0);\r\n        var prefix = \"role\" !== name && \"id\" !== name ? \"aria-\" : \"\";\r\n        if (target.setAttribute) {\r\n            target.setAttribute(prefix + name, value)\r\n        } else {\r\n            $target.attr(prefix + name, value)\r\n        }\r\n    },\r\n    _createComponent: function() {\r\n        return this.component._createComponent.apply(this.component, arguments)\r\n    },\r\n    getController: function(name) {\r\n        return this.component._controllers[name]\r\n    },\r\n    createAction: function(actionName, config) {\r\n        if ((0, _type.isFunction)(actionName)) {\r\n            var action = this.component._createAction(actionName.bind(this), config);\r\n            return function(e) {\r\n                action({\r\n                    event: e\r\n                })\r\n            }\r\n        } else {\r\n            this._actions[actionName] = this.component._createActionByOption(actionName, config);\r\n            this._actionConfigs[actionName] = config\r\n        }\r\n    },\r\n    executeAction: function(actionName, options) {\r\n        var action = this._actions[actionName];\r\n        return action && action(options)\r\n    },\r\n    dispose: function() {\r\n        var that = this;\r\n        (0, _iterator.each)(that.callbackNames() || [], function() {\r\n            that[this].empty()\r\n        })\r\n    },\r\n    addWidgetPrefix: function(className) {\r\n        var componentName = this.component.NAME;\r\n        return \"dx-\" + componentName.slice(2).toLowerCase() + (className ? \"-\" + className : \"\")\r\n    },\r\n    getWidgetContainerClass: function() {\r\n        var containerName = this.component.NAME === WIDGET_WITH_LEGACY_CONTAINER_NAME ? null : \"container\";\r\n        return this.addWidgetPrefix(containerName)\r\n    }\r\n});\r\nvar Controller = ModuleItem;\r\nvar ViewController = Controller.inherit({\r\n    getView: function(name) {\r\n        return this.component._views[name]\r\n    },\r\n    getViews: function() {\r\n        return this.component._views\r\n    }\r\n});\r\nvar View = ModuleItem.inherit({\r\n    _isReady: function() {\r\n        return this.component.isReady()\r\n    },\r\n    _endUpdateCore: function() {\r\n        this.callBase();\r\n        if (!this._isReady() && this._requireReady) {\r\n            this._requireRender = false;\r\n            this.component._requireResize = false\r\n        }\r\n        if (this._requireRender) {\r\n            this._requireRender = false;\r\n            this.render(this._$parent)\r\n        }\r\n    },\r\n    _invalidate: function(requireResize, requireReady) {\r\n        this._requireRender = true;\r\n        this.component._requireResize = (0, _window.hasWindow)() && (this.component._requireResize || requireResize);\r\n        this._requireReady = this._requireReady || requireReady\r\n    },\r\n    _renderCore: function() {},\r\n    _resizeCore: function() {},\r\n    _afterRender: function() {},\r\n    _parentElement: function() {\r\n        return this._$parent\r\n    },\r\n    ctor: function(component) {\r\n        this.callBase(component);\r\n        this.renderCompleted = (0, _callbacks.default)();\r\n        this.resizeCompleted = (0, _callbacks.default)()\r\n    },\r\n    element: function() {\r\n        return this._$element\r\n    },\r\n    getElementHeight: function() {\r\n        var $element = this.element();\r\n        if (!$element) {\r\n            return 0\r\n        }\r\n        var marginTop = parseFloat($element.css(\"marginTop\")) || 0;\r\n        var marginBottom = parseFloat($element.css(\"marginBottom\")) || 0;\r\n        var offsetHeight = $element.get(0).offsetHeight;\r\n        return offsetHeight + marginTop + marginBottom\r\n    },\r\n    isVisible: function() {\r\n        return true\r\n    },\r\n    getTemplate: function(name) {\r\n        return this.component._getTemplate(name)\r\n    },\r\n    render: function($parent, options) {\r\n        var $element = this._$element;\r\n        var isVisible = this.isVisible();\r\n        if (!$element && !$parent) {\r\n            return\r\n        }\r\n        this._requireReady = false;\r\n        if (!$element) {\r\n            $element = this._$element = (0, _renderer.default)(\"<div>\").appendTo($parent);\r\n            this._$parent = $parent\r\n        }\r\n        $element.toggleClass(\"dx-hidden\", !isVisible);\r\n        if (isVisible) {\r\n            this.component._optionCache = {};\r\n            this._renderCore(options);\r\n            this.component._optionCache = void 0;\r\n            this._afterRender($parent);\r\n            this.renderCompleted.fire(options)\r\n        }\r\n    },\r\n    resize: function() {\r\n        this.isResizing = true;\r\n        this._resizeCore();\r\n        this.resizeCompleted.fire();\r\n        this.isResizing = false\r\n    },\r\n    focus: function() {\r\n        _events_engine.default.trigger(this.element(), \"focus\")\r\n    }\r\n});\r\nvar MODULES_ORDER_MAX_INDEX = 1e6;\r\nvar processModules = function(that, componentClass) {\r\n    var modules = componentClass.modules;\r\n    var modulesOrder = componentClass.modulesOrder;\r\n    var controllerTypes = componentClass.controllerTypes || {};\r\n    var viewTypes = componentClass.viewTypes || {};\r\n    if (!componentClass.controllerTypes) {\r\n        if (modulesOrder) {\r\n            modules.sort(function(module1, module2) {\r\n                var orderIndex1 = (0, _array.inArray)(module1.name, modulesOrder);\r\n                var orderIndex2 = (0, _array.inArray)(module2.name, modulesOrder);\r\n                if (orderIndex1 < 0) {\r\n                    orderIndex1 = MODULES_ORDER_MAX_INDEX\r\n                }\r\n                if (orderIndex2 < 0) {\r\n                    orderIndex2 = MODULES_ORDER_MAX_INDEX\r\n                }\r\n                return orderIndex1 - orderIndex2\r\n            })\r\n        }(0, _iterator.each)(modules, function() {\r\n            var controllers = this.controllers;\r\n            var moduleName = this.name;\r\n            var views = this.views;\r\n            controllers && (0, _iterator.each)(controllers, function(name, type) {\r\n                if (controllerTypes[name]) {\r\n                    throw _ui.default.Error(\"E1001\", moduleName, name)\r\n                } else {\r\n                    if (!(type && type.subclassOf && type.subclassOf(Controller))) {\r\n                        type.subclassOf(Controller);\r\n                        throw _ui.default.Error(\"E1002\", moduleName, name)\r\n                    }\r\n                }\r\n                controllerTypes[name] = type\r\n            });\r\n            views && (0, _iterator.each)(views, function(name, type) {\r\n                if (viewTypes[name]) {\r\n                    throw _ui.default.Error(\"E1003\", moduleName, name)\r\n                } else {\r\n                    if (!(type && type.subclassOf && type.subclassOf(View))) {\r\n                        throw _ui.default.Error(\"E1004\", moduleName, name)\r\n                    }\r\n                }\r\n                viewTypes[name] = type\r\n            })\r\n        });\r\n        (0, _iterator.each)(modules, function() {\r\n            var extenders = this.extenders;\r\n            if (extenders) {\r\n                extenders.controllers && (0, _iterator.each)(extenders.controllers, function(name, extender) {\r\n                    if (controllerTypes[name]) {\r\n                        controllerTypes[name] = controllerTypes[name].inherit(extender)\r\n                    }\r\n                });\r\n                extenders.views && (0, _iterator.each)(extenders.views, function(name, extender) {\r\n                    if (viewTypes[name]) {\r\n                        viewTypes[name] = viewTypes[name].inherit(extender)\r\n                    }\r\n                })\r\n            }\r\n        });\r\n        componentClass.controllerTypes = controllerTypes;\r\n        componentClass.viewTypes = viewTypes\r\n    }\r\n    var registerPublicMethods = function(that, name, moduleItem) {\r\n        var publicMethods = moduleItem.publicMethods();\r\n        if (publicMethods) {\r\n            (0, _iterator.each)(publicMethods, function(index, methodName) {\r\n                if (moduleItem[methodName]) {\r\n                    if (!that[methodName]) {\r\n                        that[methodName] = function() {\r\n                            return moduleItem[methodName].apply(moduleItem, arguments)\r\n                        }\r\n                    } else {\r\n                        throw _ui.default.Error(\"E1005\", methodName)\r\n                    }\r\n                } else {\r\n                    throw _ui.default.Error(\"E1006\", name, methodName)\r\n                }\r\n            })\r\n        }\r\n    };\r\n    var createModuleItems = function(moduleTypes) {\r\n        var moduleItems = {};\r\n        (0, _iterator.each)(moduleTypes, function(name, moduleType) {\r\n            var moduleItem = new moduleType(that);\r\n            moduleItem.name = name;\r\n            registerPublicMethods(that, name, moduleItem);\r\n            moduleItems[name] = moduleItem\r\n        });\r\n        return moduleItems\r\n    };\r\n    that._controllers = createModuleItems(controllerTypes);\r\n    that._views = createModuleItems(viewTypes)\r\n};\r\nvar callModuleItemsMethod = function(that, methodName, args) {\r\n    args = args || [];\r\n    if (that._controllers) {\r\n        (0, _iterator.each)(that._controllers, function() {\r\n            this[methodName] && this[methodName].apply(this, args)\r\n        })\r\n    }\r\n    if (that._views) {\r\n        (0, _iterator.each)(that._views, function() {\r\n            this[methodName] && this[methodName].apply(this, args)\r\n        })\r\n    }\r\n};\r\nvar _default = {\r\n    modules: [],\r\n    View: View,\r\n    ViewController: ViewController,\r\n    Controller: Controller,\r\n    registerModule: function(name, module) {\r\n        var modules = this.modules;\r\n        for (var i = 0; i < modules.length; i++) {\r\n            if (modules[i].name === name) {\r\n                return\r\n            }\r\n        }\r\n        module.name = name;\r\n        modules.push(module);\r\n        delete this.controllerTypes;\r\n        delete this.viewTypes\r\n    },\r\n    registerModulesOrder: function(moduleNames) {\r\n        this.modulesOrder = moduleNames\r\n    },\r\n    unregisterModule: function(name) {\r\n        this.modules = (0, _common.grep)(this.modules, function(module) {\r\n            return module.name !== name\r\n        });\r\n        delete this.controllerTypes;\r\n        delete this.viewTypes\r\n    },\r\n    processModules: processModules,\r\n    callModuleItemsMethod: callModuleItemsMethod\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/shared/accessibility.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.subscribeVisibilityChange = subscribeVisibilityChange;\r\nexports.unsubscribeVisibilityChange = unsubscribeVisibilityChange;\r\nexports.hiddenFocus = hiddenFocus;\r\nexports.registerKeyboardAction = registerKeyboardAction;\r\nexports.restoreFocus = restoreFocus;\r\nexports.selectView = selectView;\r\nexports.setTabIndex = setTabIndex;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _index = require(\"../../events/utils/index\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _dom_adapter = _interopRequireDefault(require(\"../../core/dom_adapter\"));\r\nvar _common = require(\"../../core/utils/common\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar FOCUS_STATE_CLASS = \"dx-state-focused\";\r\nvar FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar FOCUSED_ROW_SELECTOR = \".dx-row-focused\";\r\nvar GRID_ROW_SELECTOR = \".dx-datagrid-rowsview .dx-row\";\r\nvar GRID_CELL_SELECTOR = \"\".concat(GRID_ROW_SELECTOR, \" > td\");\r\nvar TREELIST_ROW_SELECTOR = \".dx-treelist-rowsview .dx-row\";\r\nvar TREELIST_CELL_SELECTOR = \"\".concat(TREELIST_ROW_SELECTOR, \" > td\");\r\nvar viewItemSelectorMap = {\r\n    groupPanel: [\".dx-datagrid-group-panel .dx-group-panel-item[tabindex]\"],\r\n    columnHeaders: [\".dx-datagrid-headers .dx-header-row > td.dx-datagrid-action\", \".dx-treelist-headers .dx-header-row > td.dx-treelist-action\"],\r\n    filterRow: [\".dx-datagrid-headers .dx-datagrid-filter-row .dx-editor-cell .dx-texteditor-input\", \".dx-treelist-headers .dx-treelist-filter-row .dx-editor-cell .dx-texteditor-input\"],\r\n    rowsView: [\"\".concat(FOCUSED_ROW_SELECTOR), \"\".concat(GRID_ROW_SELECTOR, \"[tabindex]\"), \"\".concat(GRID_CELL_SELECTOR, \"[tabindex]\"), \"\".concat(GRID_CELL_SELECTOR), \"\".concat(TREELIST_ROW_SELECTOR, \"[tabindex]\"), \"\".concat(TREELIST_CELL_SELECTOR, \"[tabindex]\"), \"\".concat(TREELIST_CELL_SELECTOR)],\r\n    footer: [\".dx-datagrid-total-footer .dx-datagrid-summary-item\", \".dx-treelist-total-footer .dx-treelist-summary-item\"],\r\n    filterPanel: [\".dx-datagrid-filter-panel .dx-icon-filter\", \".dx-treelist-filter-panel .dx-icon-filter\"],\r\n    pager: [\".dx-datagrid-pager [tabindex]\", \".dx-treelist-pager [tabindex]\"]\r\n};\r\nvar isMouseDown = false;\r\nvar isHiddenFocusing = false;\r\nvar focusedElementInfo = null;\r\n\r\nfunction processKeyDown(viewName, instance, event, action, $mainElement, executeKeyDown) {\r\n    var isHandled = fireKeyDownEvent(instance, event.originalEvent, executeKeyDown);\r\n    if (isHandled) {\r\n        return\r\n    }\r\n    var keyName = (0, _index.normalizeKeyName)(event);\r\n    if (\"enter\" === keyName || \"space\" === keyName) {\r\n        saveFocusedElementInfo(event.target, instance);\r\n        action && action({\r\n            event: event\r\n        })\r\n    } else {\r\n        if (\"tab\" === keyName) {\r\n            $mainElement.addClass(FOCUS_STATE_CLASS)\r\n        } else {\r\n            selectView(viewName, instance, event)\r\n        }\r\n    }\r\n}\r\n\r\nfunction saveFocusedElementInfo(target, instance) {\r\n    var $target = (0, _renderer.default)(target);\r\n    var ariaLabel = $target.attr(\"aria-label\");\r\n    var $activeElements = getActiveAccessibleElements(ariaLabel, instance.element());\r\n    var targetIndex = $activeElements.index($target);\r\n    focusedElementInfo = (0, _extend.extend)({}, {\r\n        ariaLabel: ariaLabel,\r\n        index: targetIndex\r\n    }, {\r\n        viewInstance: instance\r\n    })\r\n}\r\n\r\nfunction getActiveAccessibleElements(ariaLabel, viewElement) {\r\n    var $viewElement = (0, _renderer.default)(viewElement);\r\n    var $activeElements;\r\n    if (ariaLabel) {\r\n        $activeElements = $viewElement.find('[aria-label=\"'.concat(ariaLabel, '\"][tabindex]'))\r\n    } else {\r\n        $activeElements = $viewElement.find(\"[tabindex]\")\r\n    }\r\n    return $activeElements\r\n}\r\n\r\nfunction findFocusedViewElement(viewSelectors) {\r\n    for (var index in viewSelectors) {\r\n        var selector = viewSelectors[index];\r\n        var $focusViewElement = (0, _renderer.default)(selector).first();\r\n        if ($focusViewElement.length) {\r\n            return $focusViewElement\r\n        }\r\n    }\r\n}\r\n\r\nfunction fireKeyDownEvent(instance, event, executeAction) {\r\n    var args = {\r\n        event: event,\r\n        handled: false\r\n    };\r\n    if (executeAction) {\r\n        executeAction(args)\r\n    } else {\r\n        instance._createActionByOption(\"onKeyDown\")(args)\r\n    }\r\n    return args.handled\r\n}\r\n\r\nfunction onDocumentVisibilityChange() {\r\n    isHiddenFocusing = \"visible\" === _dom_adapter.default.getDocument().visibilityState\r\n}\r\n\r\nfunction subscribeVisibilityChange() {\r\n    _events_engine.default.on(_dom_adapter.default.getDocument(), \"visibilitychange\", onDocumentVisibilityChange)\r\n}\r\n\r\nfunction unsubscribeVisibilityChange() {\r\n    _events_engine.default.off(_dom_adapter.default.getDocument(), \"visibilitychange\", onDocumentVisibilityChange)\r\n}\r\n\r\nfunction hiddenFocus(element) {\r\n    isHiddenFocusing = true;\r\n    element.focus();\r\n    isHiddenFocusing = false\r\n}\r\n\r\nfunction registerKeyboardAction(viewName, instance, $element, selector, action, executeKeyDown) {\r\n    if (instance.option(\"useLegacyKeyboardNavigation\")) {\r\n        return _common.noop\r\n    }\r\n    var $mainElement = (0, _renderer.default)(instance.element());\r\n    var keyDownHandler = function(e) {\r\n        return processKeyDown(viewName, instance, e, action, $mainElement, executeKeyDown)\r\n    };\r\n    var mouseDownHandler = function() {\r\n        isMouseDown = true;\r\n        $mainElement.removeClass(FOCUS_STATE_CLASS)\r\n    };\r\n    var focusinHandler = function() {\r\n        var needShowOverlay = !isMouseDown && !isHiddenFocusing;\r\n        if (needShowOverlay) {\r\n            $mainElement.addClass(FOCUS_STATE_CLASS)\r\n        }\r\n        isMouseDown = false\r\n    };\r\n    _events_engine.default.on($element, \"keydown\", selector, keyDownHandler);\r\n    _events_engine.default.on($element, \"mousedown\", selector, mouseDownHandler);\r\n    _events_engine.default.on($element, \"focusin\", selector, focusinHandler);\r\n    return function() {\r\n        _events_engine.default.off($element, \"keydown\", selector, keyDownHandler);\r\n        _events_engine.default.off($element, \"mousedown\", selector, mouseDownHandler);\r\n        _events_engine.default.off($element, \"focusin\", selector, focusinHandler)\r\n    }\r\n}\r\n\r\nfunction restoreFocus(instance) {\r\n    if (!instance.option(\"useLegacyKeyboardNavigation\") && focusedElementInfo) {\r\n        var viewInstance = focusedElementInfo.viewInstance;\r\n        if (viewInstance) {\r\n            var $activeElements = getActiveAccessibleElements(focusedElementInfo.ariaLabel, viewInstance.element());\r\n            var $targetElement = $activeElements.eq(focusedElementInfo.index);\r\n            focusedElementInfo = null;\r\n            _events_engine.default.trigger($targetElement, \"focus\")\r\n        }\r\n    }\r\n}\r\n\r\nfunction selectView(viewName, instance, event) {\r\n    var keyName = (0, _index.normalizeKeyName)(event);\r\n    if (event.ctrlKey && (\"upArrow\" === keyName || \"downArrow\" === keyName)) {\r\n        var viewNames = Object.keys(viewItemSelectorMap);\r\n        var viewItemIndex = viewNames.indexOf(viewName);\r\n        while (viewItemIndex >= 0 && viewItemIndex < viewNames.length) {\r\n            viewItemIndex = \"upArrow\" === keyName ? --viewItemIndex : ++viewItemIndex;\r\n            var _viewName = viewNames[viewItemIndex];\r\n            var viewSelectors = viewItemSelectorMap[_viewName];\r\n            var $focusViewElement = findFocusedViewElement(viewSelectors);\r\n            if ($focusViewElement && $focusViewElement.length) {\r\n                $focusViewElement.attr(\"tabindex\", instance.option(\"tabindex\") || 0);\r\n                _events_engine.default.trigger($focusViewElement, \"focus\");\r\n                $focusViewElement.removeClass(FOCUS_DISABLED_CLASS);\r\n                break\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction setTabIndex(instance, $element) {\r\n    if (!instance.option(\"useLegacyKeyboardnavigation\")) {\r\n        $element.attr(\"tabindex\", instance.option(\"tabindex\") || 0)\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (exporter/excel/excel.tag_helper.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _type = require(\"../../core/utils/type\");\r\nvar tagHelper = {\r\n    toXml: function(tagName, attributes, content) {\r\n        var result = [\"<\", tagName];\r\n        for (var attributeName in attributes) {\r\n            var attributeValue = attributes[attributeName];\r\n            if ((0, _type.isDefined)(attributeValue)) {\r\n                result.push(\" \", attributeName, '=\"', attributeValue, '\"')\r\n            }\r\n        }\r\n        if ((0, _type.isDefined)(content) && \"\" !== content) {\r\n            result.push(\">\", content, \"</\", tagName, \">\")\r\n        } else {\r\n            result.push(\" />\")\r\n        }\r\n        return result.join(\"\")\r\n    }\r\n};\r\nvar _default = tagHelper;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/*!\n * devextreme-react\n * Version: 20.2.5\n * Build date: Fri Jan 15 2021\n *\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-react\n */\n\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValueFormat = exports.ValidationRule = exports.TotalItem = exports.ToolbarItem = exports.Texts = exports.SummaryTexts = exports.Summary = exports.StringLengthRule = exports.StateStoring = exports.Sorting = exports.SortByGroupSummaryInfo = exports.Show = exports.Selection = exports.SearchPanel = exports.Scrolling = exports.RowDragging = exports.RequiredRule = exports.RemoteOperations = exports.RangeRule = exports.Position = exports.Popup = exports.PatternRule = exports.Paging = exports.Pager = exports.OperationDescriptions = exports.Offset = exports.NumericRule = exports.My = exports.MasterDetail = exports.Lookup = exports.LoadPanel = exports.Label = exports.KeyboardNavigation = exports.Hide = exports.HeaderFilter = exports.GroupPanel = exports.GroupOperationDescriptions = exports.GroupItem = exports.GroupingTexts = exports.Grouping = exports.FormItem = exports.Format = exports.Form = exports.FilterRow = exports.FilterPanelTexts = exports.FilterPanel = exports.FilterOperationDescriptions = exports.FilterBuilderPopup = exports.FilterBuilder = exports.FieldLookup = exports.Field = exports.ExportTexts = exports.Export = exports.EmailRule = exports.EditingTexts = exports.Editing = exports.DataGridHeaderFilterTexts = exports.DataGridHeaderFilter = exports.CustomRule = exports.CustomOperation = exports.CursorOffset = exports.CompareRule = exports.ColumnLookup = exports.ColumnHeaderFilter = exports.ColumnFixingTexts = exports.ColumnFixing = exports.ColumnChooser = exports.Column = exports.Collision = exports.ColCountByScreen = exports.Button = exports.BoundaryOffset = exports.At = exports.AsyncRule = exports.Animation = exports.DataGrid = void 0;\nvar data_grid_1 = require(\"devextreme/ui/data_grid\");\nvar PropTypes = require(\"prop-types\");\nvar component_1 = require(\"./core/component\");\nvar nested_option_1 = require(\"./core/nested-option\");\nvar DataGrid = /** @class */ (function (_super) {\n    __extends(DataGrid, _super);\n    function DataGrid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._WidgetClass = data_grid_1.default;\n        _this.subscribableOptions = [\"columns\", \"editing\", \"editing.changes\", \"editing.editColumnName\", \"editing.editRowKey\", \"filterPanel\", \"filterPanel.filterEnabled\", \"filterValue\", \"focusedColumnIndex\", \"focusedRowIndex\", \"focusedRowKey\", \"paging\", \"paging.pageIndex\", \"paging.pageSize\", \"searchPanel\", \"searchPanel.text\", \"selectedRowKeys\", \"selectionFilter\"];\n        _this._defaults = {\n            defaultColumns: \"columns\",\n            defaultEditing: \"editing\",\n            defaultFilterPanel: \"filterPanel\",\n            defaultFilterValue: \"filterValue\",\n            defaultFocusedColumnIndex: \"focusedColumnIndex\",\n            defaultFocusedRowIndex: \"focusedRowIndex\",\n            defaultFocusedRowKey: \"focusedRowKey\",\n            defaultPaging: \"paging\",\n            defaultSearchPanel: \"searchPanel\",\n            defaultSelectedRowKeys: \"selectedRowKeys\",\n            defaultSelectionFilter: \"selectionFilter\"\n        };\n        _this._expectedChildren = {\n            column: { optionName: \"columns\", isCollectionItem: true },\n            columnChooser: { optionName: \"columnChooser\", isCollectionItem: false },\n            columnFixing: { optionName: \"columnFixing\", isCollectionItem: false },\n            dataGridHeaderFilter: { optionName: \"headerFilter\", isCollectionItem: false },\n            editing: { optionName: \"editing\", isCollectionItem: false },\n            export: { optionName: \"export\", isCollectionItem: false },\n            filterBuilder: { optionName: \"filterBuilder\", isCollectionItem: false },\n            filterBuilderPopup: { optionName: \"filterBuilderPopup\", isCollectionItem: false },\n            filterPanel: { optionName: \"filterPanel\", isCollectionItem: false },\n            filterRow: { optionName: \"filterRow\", isCollectionItem: false },\n            grouping: { optionName: \"grouping\", isCollectionItem: false },\n            groupPanel: { optionName: \"groupPanel\", isCollectionItem: false },\n            headerFilter: { optionName: \"headerFilter\", isCollectionItem: false },\n            keyboardNavigation: { optionName: \"keyboardNavigation\", isCollectionItem: false },\n            loadPanel: { optionName: \"loadPanel\", isCollectionItem: false },\n            masterDetail: { optionName: \"masterDetail\", isCollectionItem: false },\n            pager: { optionName: \"pager\", isCollectionItem: false },\n            paging: { optionName: \"paging\", isCollectionItem: false },\n            remoteOperations: { optionName: \"remoteOperations\", isCollectionItem: false },\n            rowDragging: { optionName: \"rowDragging\", isCollectionItem: false },\n            scrolling: { optionName: \"scrolling\", isCollectionItem: false },\n            searchPanel: { optionName: \"searchPanel\", isCollectionItem: false },\n            selection: { optionName: \"selection\", isCollectionItem: false },\n            sortByGroupSummaryInfo: { optionName: \"sortByGroupSummaryInfo\", isCollectionItem: true },\n            sorting: { optionName: \"sorting\", isCollectionItem: false },\n            stateStoring: { optionName: \"stateStoring\", isCollectionItem: false },\n            summary: { optionName: \"summary\", isCollectionItem: false }\n        };\n        _this._templateProps = [{\n                tmplOption: \"rowTemplate\",\n                render: \"rowRender\",\n                component: \"rowComponent\",\n                keyFn: \"rowKeyFn\"\n            }];\n        return _this;\n    }\n    Object.defineProperty(DataGrid.prototype, \"instance\", {\n        get: function () {\n            return this._instance;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return DataGrid;\n}(component_1.Component));\nexports.DataGrid = DataGrid;\nDataGrid.propTypes = {\n    accessKey: PropTypes.string,\n    activeStateEnabled: PropTypes.bool,\n    allowColumnReordering: PropTypes.bool,\n    allowColumnResizing: PropTypes.bool,\n    autoNavigateToFocusedRow: PropTypes.bool,\n    cacheEnabled: PropTypes.bool,\n    cellHintEnabled: PropTypes.bool,\n    columnAutoWidth: PropTypes.bool,\n    columnChooser: PropTypes.object,\n    columnFixing: PropTypes.object,\n    columnHidingEnabled: PropTypes.bool,\n    columnMinWidth: PropTypes.number,\n    columnResizingMode: PropTypes.oneOf([\n        \"nextColumn\",\n        \"widget\"\n    ]),\n    columns: PropTypes.array,\n    columnWidth: PropTypes.number,\n    customizeColumns: PropTypes.func,\n    dataSource: PropTypes.oneOfType([\n        PropTypes.array,\n        PropTypes.object,\n        PropTypes.string\n    ]),\n    dateSerializationFormat: PropTypes.string,\n    disabled: PropTypes.bool,\n    editing: PropTypes.object,\n    elementAttr: PropTypes.object,\n    errorRowEnabled: PropTypes.bool,\n    export: PropTypes.object,\n    filterBuilder: PropTypes.object,\n    filterBuilderPopup: PropTypes.object,\n    filterPanel: PropTypes.object,\n    filterRow: PropTypes.object,\n    filterSyncEnabled: PropTypes.oneOfType([\n        PropTypes.bool,\n        PropTypes.oneOf([\n            \"auto\"\n        ])\n    ]),\n    filterValue: PropTypes.oneOfType([\n        PropTypes.array,\n        PropTypes.func,\n        PropTypes.string\n    ]),\n    focusedColumnIndex: PropTypes.number,\n    focusedRowEnabled: PropTypes.bool,\n    focusedRowIndex: PropTypes.number,\n    focusStateEnabled: PropTypes.bool,\n    grouping: PropTypes.object,\n    groupPanel: PropTypes.object,\n    headerFilter: PropTypes.object,\n    height: PropTypes.oneOfType([\n        PropTypes.func,\n        PropTypes.number,\n        PropTypes.string\n    ]),\n    highlightChanges: PropTypes.bool,\n    hint: PropTypes.string,\n    hoverStateEnabled: PropTypes.bool,\n    keyboardNavigation: PropTypes.object,\n    keyExpr: PropTypes.oneOfType([\n        PropTypes.array,\n        PropTypes.string\n    ]),\n    loadPanel: PropTypes.object,\n    masterDetail: PropTypes.object,\n    noDataText: PropTypes.string,\n    onAdaptiveDetailRowPreparing: PropTypes.func,\n    onCellClick: PropTypes.oneOfType([\n        PropTypes.func,\n        PropTypes.string\n    ]),\n    onCellDblClick: PropTypes.func,\n    onCellHoverChanged: PropTypes.func,\n    onCellPrepared: PropTypes.func,\n    onContentReady: PropTypes.func,\n    onContextMenuPreparing: PropTypes.func,\n    onDataErrorOccurred: PropTypes.func,\n    onDisposing: PropTypes.func,\n    onEditCanceled: PropTypes.func,\n    onEditCanceling: PropTypes.func,\n    onEditingStart: PropTypes.func,\n    onEditorPrepared: PropTypes.func,\n    onEditorPreparing: PropTypes.func,\n    onExporting: PropTypes.func,\n    onFocusedCellChanged: PropTypes.func,\n    onFocusedCellChanging: PropTypes.func,\n    onFocusedRowChanged: PropTypes.func,\n    onFocusedRowChanging: PropTypes.func,\n    onInitialized: PropTypes.func,\n    onInitNewRow: PropTypes.func,\n    onKeyDown: PropTypes.func,\n    onOptionChanged: PropTypes.func,\n    onRowClick: PropTypes.oneOfType([\n        PropTypes.func,\n        PropTypes.string\n    ]),\n    onRowCollapsed: PropTypes.func,\n    onRowCollapsing: PropTypes.func,\n    onRowDblClick: PropTypes.func,\n    onRowExpanded: PropTypes.func,\n    onRowExpanding: PropTypes.func,\n    onRowInserted: PropTypes.func,\n    onRowInserting: PropTypes.func,\n    onRowPrepared: PropTypes.func,\n    onRowRemoved: PropTypes.func,\n    onRowRemoving: PropTypes.func,\n    onRowUpdated: PropTypes.func,\n    onRowUpdating: PropTypes.func,\n    onRowValidating: PropTypes.func,\n    onSaved: PropTypes.func,\n    onSaving: PropTypes.func,\n    onSelectionChanged: PropTypes.func,\n    onToolbarPreparing: PropTypes.func,\n    pager: PropTypes.object,\n    paging: PropTypes.object,\n    remoteOperations: PropTypes.oneOfType([\n        PropTypes.bool,\n        PropTypes.object,\n        PropTypes.oneOf([\n            \"auto\"\n        ])\n    ]),\n    renderAsync: PropTypes.bool,\n    repaintChangesOnly: PropTypes.bool,\n    rowAlternationEnabled: PropTypes.bool,\n    rowDragging: PropTypes.object,\n    rtlEnabled: PropTypes.bool,\n    scrolling: PropTypes.object,\n    searchPanel: PropTypes.object,\n    selectedRowKeys: PropTypes.array,\n    selection: PropTypes.object,\n    selectionFilter: PropTypes.oneOfType([\n        PropTypes.array,\n        PropTypes.func,\n        PropTypes.string\n    ]),\n    showBorders: PropTypes.bool,\n    showColumnHeaders: PropTypes.bool,\n    showColumnLines: PropTypes.bool,\n    showRowLines: PropTypes.bool,\n    sortByGroupSummaryInfo: PropTypes.array,\n    sorting: PropTypes.object,\n    stateStoring: PropTypes.object,\n    summary: PropTypes.object,\n    tabIndex: PropTypes.number,\n    twoWayBindingEnabled: PropTypes.bool,\n    visible: PropTypes.bool,\n    width: PropTypes.oneOfType([\n        PropTypes.func,\n        PropTypes.number,\n        PropTypes.string\n    ]),\n    wordWrapEnabled: PropTypes.bool\n};\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Animation.OptionName = \"animation\";\n    Animation.ExpectedChildren = {\n        hide: { optionName: \"hide\", isCollectionItem: false },\n        show: { optionName: \"show\", isCollectionItem: false }\n    };\n    return Animation;\n}(nested_option_1.default));\nexports.Animation = Animation;\nvar AsyncRule = /** @class */ (function (_super) {\n    __extends(AsyncRule, _super);\n    function AsyncRule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AsyncRule.OptionName = \"validationRules\";\n    AsyncRule.IsCollectionItem = true;\n    AsyncRule.PredefinedProps = {\n        type: \"async\"\n    };\n    return AsyncRule;\n}(nested_option_1.default));\nexports.AsyncRule = AsyncRule;\nvar At = /** @class */ (function (_super) {\n    __extends(At, _super);\n    function At() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    At.OptionName = \"at\";\n    return At;\n}(nested_option_1.default));\nexports.At = At;\nvar BoundaryOffset = /** @class */ (function (_super) {\n    __extends(BoundaryOffset, _super);\n    function BoundaryOffset() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BoundaryOffset.OptionName = \"boundaryOffset\";\n    return BoundaryOffset;\n}(nested_option_1.default));\nexports.BoundaryOffset = BoundaryOffset;\nvar Button = /** @class */ (function (_super) {\n    __extends(Button, _super);\n    function Button() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Button.OptionName = \"buttons\";\n    Button.IsCollectionItem = true;\n    Button.TemplateProps = [{\n            tmplOption: \"template\",\n            render: \"render\",\n            component: \"component\",\n            keyFn: \"keyFn\"\n        }];\n    return Button;\n}(nested_option_1.default));\nexports.Button = Button;\nvar ColCountByScreen = /** @class */ (function (_super) {\n    __extends(ColCountByScreen, _super);\n    function ColCountByScreen() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColCountByScreen.OptionName = \"colCountByScreen\";\n    return ColCountByScreen;\n}(nested_option_1.default));\nexports.ColCountByScreen = ColCountByScreen;\nvar Collision = /** @class */ (function (_super) {\n    __extends(Collision, _super);\n    function Collision() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Collision.OptionName = \"collision\";\n    return Collision;\n}(nested_option_1.default));\nexports.Collision = Collision;\nvar Column = /** @class */ (function (_super) {\n    __extends(Column, _super);\n    function Column() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Column.OptionName = \"columns\";\n    Column.IsCollectionItem = true;\n    Column.DefaultsProps = {\n        defaultFilterValue: \"filterValue\",\n        defaultFilterValues: \"filterValues\",\n        defaultGroupIndex: \"groupIndex\",\n        defaultSelectedFilterOperation: \"selectedFilterOperation\",\n        defaultSortIndex: \"sortIndex\",\n        defaultSortOrder: \"sortOrder\",\n        defaultVisible: \"visible\",\n        defaultVisibleIndex: \"visibleIndex\"\n    };\n    Column.ExpectedChildren = {\n        AsyncRule: { optionName: \"validationRules\", isCollectionItem: true },\n        button: { optionName: \"buttons\", isCollectionItem: true },\n        columnHeaderFilter: { optionName: \"headerFilter\", isCollectionItem: false },\n        columnLookup: { optionName: \"lookup\", isCollectionItem: false },\n        CompareRule: { optionName: \"validationRules\", isCollectionItem: true },\n        CustomRule: { optionName: \"validationRules\", isCollectionItem: true },\n        EmailRule: { optionName: \"validationRules\", isCollectionItem: true },\n        format: { optionName: \"format\", isCollectionItem: false },\n        formItem: { optionName: \"formItem\", isCollectionItem: false },\n        headerFilter: { optionName: \"headerFilter\", isCollectionItem: false },\n        lookup: { optionName: \"lookup\", isCollectionItem: false },\n        NumericRule: { optionName: \"validationRules\", isCollectionItem: true },\n        PatternRule: { optionName: \"validationRules\", isCollectionItem: true },\n        RangeRule: { optionName: \"validationRules\", isCollectionItem: true },\n        RequiredRule: { optionName: \"validationRules\", isCollectionItem: true },\n        StringLengthRule: { optionName: \"validationRules\", isCollectionItem: true },\n        validationRule: { optionName: \"validationRules\", isCollectionItem: true }\n    };\n    Column.TemplateProps = [{\n            tmplOption: \"cellTemplate\",\n            render: \"cellRender\",\n            component: \"cellComponent\",\n            keyFn: \"cellKeyFn\"\n        }, {\n            tmplOption: \"editCellTemplate\",\n            render: \"editCellRender\",\n            component: \"editCellComponent\",\n            keyFn: \"editCellKeyFn\"\n        }, {\n            tmplOption: \"groupCellTemplate\",\n            render: \"groupCellRender\",\n            component: \"groupCellComponent\",\n            keyFn: \"groupCellKeyFn\"\n        }, {\n            tmplOption: \"headerCellTemplate\",\n            render: \"headerCellRender\",\n            component: \"headerCellComponent\",\n            keyFn: \"headerCellKeyFn\"\n        }];\n    return Column;\n}(nested_option_1.default));\nexports.Column = Column;\nvar ColumnChooser = /** @class */ (function (_super) {\n    __extends(ColumnChooser, _super);\n    function ColumnChooser() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColumnChooser.OptionName = \"columnChooser\";\n    return ColumnChooser;\n}(nested_option_1.default));\nexports.ColumnChooser = ColumnChooser;\nvar ColumnFixing = /** @class */ (function (_super) {\n    __extends(ColumnFixing, _super);\n    function ColumnFixing() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColumnFixing.OptionName = \"columnFixing\";\n    ColumnFixing.ExpectedChildren = {\n        columnFixingTexts: { optionName: \"texts\", isCollectionItem: false },\n        texts: { optionName: \"texts\", isCollectionItem: false }\n    };\n    return ColumnFixing;\n}(nested_option_1.default));\nexports.ColumnFixing = ColumnFixing;\nvar ColumnFixingTexts = /** @class */ (function (_super) {\n    __extends(ColumnFixingTexts, _super);\n    function ColumnFixingTexts() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColumnFixingTexts.OptionName = \"texts\";\n    return ColumnFixingTexts;\n}(nested_option_1.default));\nexports.ColumnFixingTexts = ColumnFixingTexts;\nvar ColumnHeaderFilter = /** @class */ (function (_super) {\n    __extends(ColumnHeaderFilter, _super);\n    function ColumnHeaderFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColumnHeaderFilter.OptionName = \"headerFilter\";\n    return ColumnHeaderFilter;\n}(nested_option_1.default));\nexports.ColumnHeaderFilter = ColumnHeaderFilter;\nvar ColumnLookup = /** @class */ (function (_super) {\n    __extends(ColumnLookup, _super);\n    function ColumnLookup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColumnLookup.OptionName = \"lookup\";\n    return ColumnLookup;\n}(nested_option_1.default));\nexports.ColumnLookup = ColumnLookup;\nvar CompareRule = /** @class */ (function (_super) {\n    __extends(CompareRule, _super);\n    function CompareRule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CompareRule.OptionName = \"validationRules\";\n    CompareRule.IsCollectionItem = true;\n    CompareRule.PredefinedProps = {\n        type: \"compare\"\n    };\n    return CompareRule;\n}(nested_option_1.default));\nexports.CompareRule = CompareRule;\nvar CursorOffset = /** @class */ (function (_super) {\n    __extends(CursorOffset, _super);\n    function CursorOffset() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CursorOffset.OptionName = \"cursorOffset\";\n    return CursorOffset;\n}(nested_option_1.default));\nexports.CursorOffset = CursorOffset;\nvar CustomOperation = /** @class */ (function (_super) {\n    __extends(CustomOperation, _super);\n    function CustomOperation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CustomOperation.OptionName = \"customOperations\";\n    CustomOperation.IsCollectionItem = true;\n    CustomOperation.TemplateProps = [{\n            tmplOption: \"editorTemplate\",\n            render: \"editorRender\",\n            component: \"editorComponent\",\n            keyFn: \"editorKeyFn\"\n        }];\n    return CustomOperation;\n}(nested_option_1.default));\nexports.CustomOperation = CustomOperation;\nvar CustomRule = /** @class */ (function (_super) {\n    __extends(CustomRule, _super);\n    function CustomRule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CustomRule.OptionName = \"validationRules\";\n    CustomRule.IsCollectionItem = true;\n    CustomRule.PredefinedProps = {\n        type: \"custom\"\n    };\n    return CustomRule;\n}(nested_option_1.default));\nexports.CustomRule = CustomRule;\nvar DataGridHeaderFilter = /** @class */ (function (_super) {\n    __extends(DataGridHeaderFilter, _super);\n    function DataGridHeaderFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DataGridHeaderFilter.OptionName = \"headerFilter\";\n    DataGridHeaderFilter.ExpectedChildren = {\n        dataGridHeaderFilterTexts: { optionName: \"texts\", isCollectionItem: false },\n        texts: { optionName: \"texts\", isCollectionItem: false }\n    };\n    return DataGridHeaderFilter;\n}(nested_option_1.default));\nexports.DataGridHeaderFilter = DataGridHeaderFilter;\nvar DataGridHeaderFilterTexts = /** @class */ (function (_super) {\n    __extends(DataGridHeaderFilterTexts, _super);\n    function DataGridHeaderFilterTexts() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DataGridHeaderFilterTexts.OptionName = \"texts\";\n    return DataGridHeaderFilterTexts;\n}(nested_option_1.default));\nexports.DataGridHeaderFilterTexts = DataGridHeaderFilterTexts;\nvar Editing = /** @class */ (function (_super) {\n    __extends(Editing, _super);\n    function Editing() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Editing.OptionName = \"editing\";\n    Editing.DefaultsProps = {\n        defaultChanges: \"changes\",\n        defaultEditColumnName: \"editColumnName\",\n        defaultEditRowKey: \"editRowKey\"\n    };\n    Editing.ExpectedChildren = {\n        editingTexts: { optionName: \"texts\", isCollectionItem: false },\n        form: { optionName: \"form\", isCollectionItem: false },\n        popup: { optionName: \"popup\", isCollectionItem: false },\n        texts: { optionName: \"texts\", isCollectionItem: false }\n    };\n    return Editing;\n}(nested_option_1.default));\nexports.Editing = Editing;\nvar EditingTexts = /** @class */ (function (_super) {\n    __extends(EditingTexts, _super);\n    function EditingTexts() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EditingTexts.OptionName = \"texts\";\n    return EditingTexts;\n}(nested_option_1.default));\nexports.EditingTexts = EditingTexts;\nvar EmailRule = /** @class */ (function (_super) {\n    __extends(EmailRule, _super);\n    function EmailRule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EmailRule.OptionName = \"validationRules\";\n    EmailRule.IsCollectionItem = true;\n    EmailRule.PredefinedProps = {\n        type: \"email\"\n    };\n    return EmailRule;\n}(nested_option_1.default));\nexports.EmailRule = EmailRule;\nvar Export = /** @class */ (function (_super) {\n    __extends(Export, _super);\n    function Export() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Export.OptionName = \"export\";\n    Export.ExpectedChildren = {\n        exportTexts: { optionName: \"texts\", isCollectionItem: false },\n        texts: { optionName: \"texts\", isCollectionItem: false }\n    };\n    return Export;\n}(nested_option_1.default));\nexports.Export = Export;\nvar ExportTexts = /** @class */ (function (_super) {\n    __extends(ExportTexts, _super);\n    function ExportTexts() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ExportTexts.OptionName = \"texts\";\n    return ExportTexts;\n}(nested_option_1.default));\nexports.ExportTexts = ExportTexts;\nvar Field = /** @class */ (function (_super) {\n    __extends(Field, _super);\n    function Field() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Field.OptionName = \"fields\";\n    Field.IsCollectionItem = true;\n    Field.ExpectedChildren = {\n        fieldLookup: { optionName: \"lookup\", isCollectionItem: false },\n        format: { optionName: \"format\", isCollectionItem: false },\n        lookup: { optionName: \"lookup\", isCollectionItem: false }\n    };\n    Field.TemplateProps = [{\n            tmplOption: \"editorTemplate\",\n            render: \"editorRender\",\n            component: \"editorComponent\",\n            keyFn: \"editorKeyFn\"\n        }];\n    return Field;\n}(nested_option_1.default));\nexports.Field = Field;\nvar FieldLookup = /** @class */ (function (_super) {\n    __extends(FieldLookup, _super);\n    function FieldLookup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FieldLookup.OptionName = \"lookup\";\n    return FieldLookup;\n}(nested_option_1.default));\nexports.FieldLookup = FieldLookup;\nvar FilterBuilder = /** @class */ (function (_super) {\n    __extends(FilterBuilder, _super);\n    function FilterBuilder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FilterBuilder.OptionName = \"filterBuilder\";\n    FilterBuilder.DefaultsProps = {\n        defaultValue: \"value\"\n    };\n    FilterBuilder.ExpectedChildren = {\n        customOperation: { optionName: \"customOperations\", isCollectionItem: true },\n        field: { optionName: \"fields\", isCollectionItem: true },\n        filterOperationDescriptions: { optionName: \"filterOperationDescriptions\", isCollectionItem: false },\n        groupOperationDescriptions: { optionName: \"groupOperationDescriptions\", isCollectionItem: false }\n    };\n    return FilterBuilder;\n}(nested_option_1.default));\nexports.FilterBuilder = FilterBuilder;\nvar FilterBuilderPopup = /** @class */ (function (_super) {\n    __extends(FilterBuilderPopup, _super);\n    function FilterBuilderPopup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FilterBuilderPopup.OptionName = \"filterBuilderPopup\";\n    FilterBuilderPopup.DefaultsProps = {\n        defaultHeight: \"height\",\n        defaultPosition: \"position\",\n        defaultVisible: \"visible\",\n        defaultWidth: \"width\"\n    };\n    FilterBuilderPopup.TemplateProps = [{\n            tmplOption: \"contentTemplate\",\n            render: \"contentRender\",\n            component: \"contentComponent\",\n            keyFn: \"contentKeyFn\"\n        }, {\n            tmplOption: \"titleTemplate\",\n            render: \"titleRender\",\n            component: \"titleComponent\",\n            keyFn: \"titleKeyFn\"\n        }];\n    return FilterBuilderPopup;\n}(nested_option_1.default));\nexports.FilterBuilderPopup = FilterBuilderPopup;\nvar FilterOperationDescriptions = /** @class */ (function (_super) {\n    __extends(FilterOperationDescriptions, _super);\n    function FilterOperationDescriptions() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FilterOperationDescriptions.OptionName = \"filterOperationDescriptions\";\n    return FilterOperationDescriptions;\n}(nested_option_1.default));\nexports.FilterOperationDescriptions = FilterOperationDescriptions;\nvar FilterPanel = /** @class */ (function (_super) {\n    __extends(FilterPanel, _super);\n    function FilterPanel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FilterPanel.OptionName = \"filterPanel\";\n    FilterPanel.DefaultsProps = {\n        defaultFilterEnabled: \"filterEnabled\"\n    };\n    FilterPanel.ExpectedChildren = {\n        filterPanelTexts: { optionName: \"texts\", isCollectionItem: false },\n        texts: { optionName: \"texts\", isCollectionItem: false }\n    };\n    return FilterPanel;\n}(nested_option_1.default));\nexports.FilterPanel = FilterPanel;\nvar FilterPanelTexts = /** @class */ (function (_super) {\n    __extends(FilterPanelTexts, _super);\n    function FilterPanelTexts() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FilterPanelTexts.OptionName = \"texts\";\n    return FilterPanelTexts;\n}(nested_option_1.default));\nexports.FilterPanelTexts = FilterPanelTexts;\nvar FilterRow = /** @class */ (function (_super) {\n    __extends(FilterRow, _super);\n    function FilterRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FilterRow.OptionName = \"filterRow\";\n    FilterRow.ExpectedChildren = {\n        operationDescriptions: { optionName: \"operationDescriptions\", isCollectionItem: false }\n    };\n    return FilterRow;\n}(nested_option_1.default));\nexports.FilterRow = FilterRow;\nvar Form = /** @class */ (function (_super) {\n    __extends(Form, _super);\n    function Form() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Form.OptionName = \"form\";\n    Form.DefaultsProps = {\n        defaultFormData: \"formData\"\n    };\n    Form.ExpectedChildren = {\n        colCountByScreen: { optionName: \"colCountByScreen\", isCollectionItem: false }\n    };\n    return Form;\n}(nested_option_1.default));\nexports.Form = Form;\nvar Format = /** @class */ (function (_super) {\n    __extends(Format, _super);\n    function Format() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Format.OptionName = \"format\";\n    return Format;\n}(nested_option_1.default));\nexports.Format = Format;\nvar FormItem = /** @class */ (function (_super) {\n    __extends(FormItem, _super);\n    function FormItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FormItem.OptionName = \"formItem\";\n    FormItem.ExpectedChildren = {\n        AsyncRule: { optionName: \"validationRules\", isCollectionItem: true },\n        CompareRule: { optionName: \"validationRules\", isCollectionItem: true },\n        CustomRule: { optionName: \"validationRules\", isCollectionItem: true },\n        EmailRule: { optionName: \"validationRules\", isCollectionItem: true },\n        label: { optionName: \"label\", isCollectionItem: false },\n        NumericRule: { optionName: \"validationRules\", isCollectionItem: true },\n        PatternRule: { optionName: \"validationRules\", isCollectionItem: true },\n        RangeRule: { optionName: \"validationRules\", isCollectionItem: true },\n        RequiredRule: { optionName: \"validationRules\", isCollectionItem: true },\n        StringLengthRule: { optionName: \"validationRules\", isCollectionItem: true },\n        validationRule: { optionName: \"validationRules\", isCollectionItem: true }\n    };\n    FormItem.TemplateProps = [{\n            tmplOption: \"template\",\n            render: \"render\",\n            component: \"component\",\n            keyFn: \"keyFn\"\n        }];\n    return FormItem;\n}(nested_option_1.default));\nexports.FormItem = FormItem;\nvar Grouping = /** @class */ (function (_super) {\n    __extends(Grouping, _super);\n    function Grouping() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Grouping.OptionName = \"grouping\";\n    Grouping.ExpectedChildren = {\n        groupingTexts: { optionName: \"texts\", isCollectionItem: false },\n        texts: { optionName: \"texts\", isCollectionItem: false }\n    };\n    return Grouping;\n}(nested_option_1.default));\nexports.Grouping = Grouping;\nvar GroupingTexts = /** @class */ (function (_super) {\n    __extends(GroupingTexts, _super);\n    function GroupingTexts() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GroupingTexts.OptionName = \"texts\";\n    return GroupingTexts;\n}(nested_option_1.default));\nexports.GroupingTexts = GroupingTexts;\nvar GroupItem = /** @class */ (function (_super) {\n    __extends(GroupItem, _super);\n    function GroupItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GroupItem.OptionName = \"groupItems\";\n    GroupItem.IsCollectionItem = true;\n    GroupItem.ExpectedChildren = {\n        valueFormat: { optionName: \"valueFormat\", isCollectionItem: false }\n    };\n    return GroupItem;\n}(nested_option_1.default));\nexports.GroupItem = GroupItem;\nvar GroupOperationDescriptions = /** @class */ (function (_super) {\n    __extends(GroupOperationDescriptions, _super);\n    function GroupOperationDescriptions() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GroupOperationDescriptions.OptionName = \"groupOperationDescriptions\";\n    return GroupOperationDescriptions;\n}(nested_option_1.default));\nexports.GroupOperationDescriptions = GroupOperationDescriptions;\nvar GroupPanel = /** @class */ (function (_super) {\n    __extends(GroupPanel, _super);\n    function GroupPanel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GroupPanel.OptionName = \"groupPanel\";\n    return GroupPanel;\n}(nested_option_1.default));\nexports.GroupPanel = GroupPanel;\nvar HeaderFilter = /** @class */ (function (_super) {\n    __extends(HeaderFilter, _super);\n    function HeaderFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HeaderFilter.OptionName = \"headerFilter\";\n    return HeaderFilter;\n}(nested_option_1.default));\nexports.HeaderFilter = HeaderFilter;\nvar Hide = /** @class */ (function (_super) {\n    __extends(Hide, _super);\n    function Hide() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Hide.OptionName = \"hide\";\n    return Hide;\n}(nested_option_1.default));\nexports.Hide = Hide;\nvar KeyboardNavigation = /** @class */ (function (_super) {\n    __extends(KeyboardNavigation, _super);\n    function KeyboardNavigation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    KeyboardNavigation.OptionName = \"keyboardNavigation\";\n    return KeyboardNavigation;\n}(nested_option_1.default));\nexports.KeyboardNavigation = KeyboardNavigation;\nvar Label = /** @class */ (function (_super) {\n    __extends(Label, _super);\n    function Label() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Label.OptionName = \"label\";\n    return Label;\n}(nested_option_1.default));\nexports.Label = Label;\nvar LoadPanel = /** @class */ (function (_super) {\n    __extends(LoadPanel, _super);\n    function LoadPanel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LoadPanel.OptionName = \"loadPanel\";\n    return LoadPanel;\n}(nested_option_1.default));\nexports.LoadPanel = LoadPanel;\nvar Lookup = /** @class */ (function (_super) {\n    __extends(Lookup, _super);\n    function Lookup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Lookup.OptionName = \"lookup\";\n    return Lookup;\n}(nested_option_1.default));\nexports.Lookup = Lookup;\nvar MasterDetail = /** @class */ (function (_super) {\n    __extends(MasterDetail, _super);\n    function MasterDetail() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MasterDetail.OptionName = \"masterDetail\";\n    MasterDetail.TemplateProps = [{\n            tmplOption: \"template\",\n            render: \"render\",\n            component: \"component\",\n            keyFn: \"keyFn\"\n        }];\n    return MasterDetail;\n}(nested_option_1.default));\nexports.MasterDetail = MasterDetail;\nvar My = /** @class */ (function (_super) {\n    __extends(My, _super);\n    function My() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    My.OptionName = \"my\";\n    return My;\n}(nested_option_1.default));\nexports.My = My;\nvar NumericRule = /** @class */ (function (_super) {\n    __extends(NumericRule, _super);\n    function NumericRule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NumericRule.OptionName = \"validationRules\";\n    NumericRule.IsCollectionItem = true;\n    NumericRule.PredefinedProps = {\n        type: \"numeric\"\n    };\n    return NumericRule;\n}(nested_option_1.default));\nexports.NumericRule = NumericRule;\nvar Offset = /** @class */ (function (_super) {\n    __extends(Offset, _super);\n    function Offset() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Offset.OptionName = \"offset\";\n    return Offset;\n}(nested_option_1.default));\nexports.Offset = Offset;\nvar OperationDescriptions = /** @class */ (function (_super) {\n    __extends(OperationDescriptions, _super);\n    function OperationDescriptions() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OperationDescriptions.OptionName = \"operationDescriptions\";\n    return OperationDescriptions;\n}(nested_option_1.default));\nexports.OperationDescriptions = OperationDescriptions;\nvar Pager = /** @class */ (function (_super) {\n    __extends(Pager, _super);\n    function Pager() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Pager.OptionName = \"pager\";\n    return Pager;\n}(nested_option_1.default));\nexports.Pager = Pager;\nvar Paging = /** @class */ (function (_super) {\n    __extends(Paging, _super);\n    function Paging() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Paging.OptionName = \"paging\";\n    Paging.DefaultsProps = {\n        defaultPageIndex: \"pageIndex\",\n        defaultPageSize: \"pageSize\"\n    };\n    return Paging;\n}(nested_option_1.default));\nexports.Paging = Paging;\nvar PatternRule = /** @class */ (function (_super) {\n    __extends(PatternRule, _super);\n    function PatternRule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PatternRule.OptionName = \"validationRules\";\n    PatternRule.IsCollectionItem = true;\n    PatternRule.PredefinedProps = {\n        type: \"pattern\"\n    };\n    return PatternRule;\n}(nested_option_1.default));\nexports.PatternRule = PatternRule;\nvar Popup = /** @class */ (function (_super) {\n    __extends(Popup, _super);\n    function Popup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Popup.OptionName = \"popup\";\n    Popup.DefaultsProps = {\n        defaultHeight: \"height\",\n        defaultPosition: \"position\",\n        defaultVisible: \"visible\",\n        defaultWidth: \"width\"\n    };\n    Popup.ExpectedChildren = {\n        animation: { optionName: \"animation\", isCollectionItem: false },\n        position: { optionName: \"position\", isCollectionItem: false },\n        toolbarItem: { optionName: \"toolbarItems\", isCollectionItem: true }\n    };\n    Popup.TemplateProps = [{\n            tmplOption: \"contentTemplate\",\n            render: \"contentRender\",\n            component: \"contentComponent\",\n            keyFn: \"contentKeyFn\"\n        }, {\n            tmplOption: \"titleTemplate\",\n            render: \"titleRender\",\n            component: \"titleComponent\",\n            keyFn: \"titleKeyFn\"\n        }];\n    return Popup;\n}(nested_option_1.default));\nexports.Popup = Popup;\nvar Position = /** @class */ (function (_super) {\n    __extends(Position, _super);\n    function Position() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Position.OptionName = \"position\";\n    Position.ExpectedChildren = {\n        at: { optionName: \"at\", isCollectionItem: false },\n        boundaryOffset: { optionName: \"boundaryOffset\", isCollectionItem: false },\n        collision: { optionName: \"collision\", isCollectionItem: false },\n        my: { optionName: \"my\", isCollectionItem: false },\n        offset: { optionName: \"offset\", isCollectionItem: false }\n    };\n    return Position;\n}(nested_option_1.default));\nexports.Position = Position;\nvar RangeRule = /** @class */ (function (_super) {\n    __extends(RangeRule, _super);\n    function RangeRule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RangeRule.OptionName = \"validationRules\";\n    RangeRule.IsCollectionItem = true;\n    RangeRule.PredefinedProps = {\n        type: \"range\"\n    };\n    return RangeRule;\n}(nested_option_1.default));\nexports.RangeRule = RangeRule;\nvar RemoteOperations = /** @class */ (function (_super) {\n    __extends(RemoteOperations, _super);\n    function RemoteOperations() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RemoteOperations.OptionName = \"remoteOperations\";\n    return RemoteOperations;\n}(nested_option_1.default));\nexports.RemoteOperations = RemoteOperations;\nvar RequiredRule = /** @class */ (function (_super) {\n    __extends(RequiredRule, _super);\n    function RequiredRule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RequiredRule.OptionName = \"validationRules\";\n    RequiredRule.IsCollectionItem = true;\n    RequiredRule.PredefinedProps = {\n        type: \"required\"\n    };\n    return RequiredRule;\n}(nested_option_1.default));\nexports.RequiredRule = RequiredRule;\nvar RowDragging = /** @class */ (function (_super) {\n    __extends(RowDragging, _super);\n    function RowDragging() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RowDragging.OptionName = \"rowDragging\";\n    RowDragging.ExpectedChildren = {\n        cursorOffset: { optionName: \"cursorOffset\", isCollectionItem: false }\n    };\n    RowDragging.TemplateProps = [{\n            tmplOption: \"dragTemplate\",\n            render: \"dragRender\",\n            component: \"dragComponent\",\n            keyFn: \"dragKeyFn\"\n        }];\n    return RowDragging;\n}(nested_option_1.default));\nexports.RowDragging = RowDragging;\nvar Scrolling = /** @class */ (function (_super) {\n    __extends(Scrolling, _super);\n    function Scrolling() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Scrolling.OptionName = \"scrolling\";\n    return Scrolling;\n}(nested_option_1.default));\nexports.Scrolling = Scrolling;\nvar SearchPanel = /** @class */ (function (_super) {\n    __extends(SearchPanel, _super);\n    function SearchPanel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SearchPanel.OptionName = \"searchPanel\";\n    SearchPanel.DefaultsProps = {\n        defaultText: \"text\"\n    };\n    return SearchPanel;\n}(nested_option_1.default));\nexports.SearchPanel = SearchPanel;\nvar Selection = /** @class */ (function (_super) {\n    __extends(Selection, _super);\n    function Selection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Selection.OptionName = \"selection\";\n    return Selection;\n}(nested_option_1.default));\nexports.Selection = Selection;\nvar Show = /** @class */ (function (_super) {\n    __extends(Show, _super);\n    function Show() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Show.OptionName = \"show\";\n    return Show;\n}(nested_option_1.default));\nexports.Show = Show;\nvar SortByGroupSummaryInfo = /** @class */ (function (_super) {\n    __extends(SortByGroupSummaryInfo, _super);\n    function SortByGroupSummaryInfo() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SortByGroupSummaryInfo.OptionName = \"sortByGroupSummaryInfo\";\n    SortByGroupSummaryInfo.IsCollectionItem = true;\n    return SortByGroupSummaryInfo;\n}(nested_option_1.default));\nexports.SortByGroupSummaryInfo = SortByGroupSummaryInfo;\nvar Sorting = /** @class */ (function (_super) {\n    __extends(Sorting, _super);\n    function Sorting() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Sorting.OptionName = \"sorting\";\n    return Sorting;\n}(nested_option_1.default));\nexports.Sorting = Sorting;\nvar StateStoring = /** @class */ (function (_super) {\n    __extends(StateStoring, _super);\n    function StateStoring() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StateStoring.OptionName = \"stateStoring\";\n    return StateStoring;\n}(nested_option_1.default));\nexports.StateStoring = StateStoring;\nvar StringLengthRule = /** @class */ (function (_super) {\n    __extends(StringLengthRule, _super);\n    function StringLengthRule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StringLengthRule.OptionName = \"validationRules\";\n    StringLengthRule.IsCollectionItem = true;\n    StringLengthRule.PredefinedProps = {\n        type: \"stringLength\"\n    };\n    return StringLengthRule;\n}(nested_option_1.default));\nexports.StringLengthRule = StringLengthRule;\nvar Summary = /** @class */ (function (_super) {\n    __extends(Summary, _super);\n    function Summary() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Summary.OptionName = \"summary\";\n    Summary.ExpectedChildren = {\n        groupItem: { optionName: \"groupItems\", isCollectionItem: true },\n        summaryTexts: { optionName: \"texts\", isCollectionItem: false },\n        texts: { optionName: \"texts\", isCollectionItem: false },\n        totalItem: { optionName: \"totalItems\", isCollectionItem: true }\n    };\n    return Summary;\n}(nested_option_1.default));\nexports.Summary = Summary;\nvar SummaryTexts = /** @class */ (function (_super) {\n    __extends(SummaryTexts, _super);\n    function SummaryTexts() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SummaryTexts.OptionName = \"texts\";\n    return SummaryTexts;\n}(nested_option_1.default));\nexports.SummaryTexts = SummaryTexts;\nvar Texts = /** @class */ (function (_super) {\n    __extends(Texts, _super);\n    function Texts() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Texts.OptionName = \"texts\";\n    return Texts;\n}(nested_option_1.default));\nexports.Texts = Texts;\nvar ToolbarItem = /** @class */ (function (_super) {\n    __extends(ToolbarItem, _super);\n    function ToolbarItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToolbarItem.OptionName = \"toolbarItems\";\n    ToolbarItem.IsCollectionItem = true;\n    ToolbarItem.TemplateProps = [{\n            tmplOption: \"template\",\n            render: \"render\",\n            component: \"component\",\n            keyFn: \"keyFn\"\n        }];\n    return ToolbarItem;\n}(nested_option_1.default));\nexports.ToolbarItem = ToolbarItem;\nvar TotalItem = /** @class */ (function (_super) {\n    __extends(TotalItem, _super);\n    function TotalItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TotalItem.OptionName = \"totalItems\";\n    TotalItem.IsCollectionItem = true;\n    TotalItem.ExpectedChildren = {\n        valueFormat: { optionName: \"valueFormat\", isCollectionItem: false }\n    };\n    return TotalItem;\n}(nested_option_1.default));\nexports.TotalItem = TotalItem;\nvar ValidationRule = /** @class */ (function (_super) {\n    __extends(ValidationRule, _super);\n    function ValidationRule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ValidationRule.OptionName = \"validationRules\";\n    ValidationRule.IsCollectionItem = true;\n    ValidationRule.PredefinedProps = {\n        type: \"required\"\n    };\n    return ValidationRule;\n}(nested_option_1.default));\nexports.ValidationRule = ValidationRule;\nvar ValueFormat = /** @class */ (function (_super) {\n    __extends(ValueFormat, _super);\n    function ValueFormat() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ValueFormat.OptionName = \"valueFormat\";\n    return ValueFormat;\n}(nested_option_1.default));\nexports.ValueFormat = ValueFormat;\nexports.default = DataGrid;\n","/**\r\n * DevExtreme (ui/shared/filtering.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _array = require(\"../../core/utils/array\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar DEFAULT_DATE_INTERVAL = [\"year\", \"month\", \"day\"];\r\nvar DEFAULT_DATETIME_INTERVAL = [\"year\", \"month\", \"day\", \"hour\", \"minute\"];\r\nvar isDateType = function(dataType) {\r\n    return \"date\" === dataType || \"datetime\" === dataType\r\n};\r\nvar getGroupInterval = function(column) {\r\n    var index;\r\n    var result = [];\r\n    var dateIntervals = [\"year\", \"month\", \"day\", \"hour\", \"minute\", \"second\"];\r\n    var groupInterval = column.headerFilter && column.headerFilter.groupInterval;\r\n    var interval = \"quarter\" === groupInterval ? \"month\" : groupInterval;\r\n    if (isDateType(column.dataType) && null !== groupInterval) {\r\n        result = \"datetime\" === column.dataType ? DEFAULT_DATETIME_INTERVAL : DEFAULT_DATE_INTERVAL;\r\n        index = (0, _array.inArray)(interval, dateIntervals);\r\n        if (index >= 0) {\r\n            result = dateIntervals.slice(0, index);\r\n            result.push(groupInterval);\r\n            return result\r\n        }\r\n        return result\r\n    } else {\r\n        if ((0, _type.isDefined)(groupInterval)) {\r\n            return Array.isArray(groupInterval) ? groupInterval : [groupInterval]\r\n        }\r\n    }\r\n};\r\nvar _default = function() {\r\n    var getFilterSelector = function(column, target) {\r\n        var selector = column.dataField || column.selector;\r\n        if (\"search\" === target) {\r\n            selector = column.displayField || column.calculateDisplayValue || selector\r\n        }\r\n        return selector\r\n    };\r\n    var isZeroTime = function(date) {\r\n        return date.getHours() + date.getMinutes() + date.getSeconds() + date.getMilliseconds() < 1\r\n    };\r\n    var getDateValues = function(dateValue) {\r\n        if ((0, _type.isDate)(dateValue)) {\r\n            return [dateValue.getFullYear(), dateValue.getMonth(), dateValue.getDate(), dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds()]\r\n        }\r\n        return (0, _iterator.map)((\"\" + dateValue).split(\"/\"), function(value, index) {\r\n            return 1 === index ? Number(value) - 1 : Number(value)\r\n        })\r\n    };\r\n    var getFilterExpressionByRange = function(filterValue, target) {\r\n        var column = this;\r\n        var endFilterValue;\r\n        var startFilterExpression;\r\n        var endFilterExpression;\r\n        var selector = getFilterSelector(column, target);\r\n        if (Array.isArray(filterValue) && (0, _type.isDefined)(filterValue[0]) && (0, _type.isDefined)(filterValue[1])) {\r\n            startFilterExpression = [selector, \">=\", filterValue[0]];\r\n            endFilterExpression = [selector, \"<=\", filterValue[1]];\r\n            if (isDateType(column.dataType) && isZeroTime(filterValue[1])) {\r\n                endFilterValue = new Date(filterValue[1].getTime());\r\n                if (\"date\" === column.dataType) {\r\n                    endFilterValue.setDate(filterValue[1].getDate() + 1)\r\n                }\r\n                endFilterExpression = [selector, \"<\", endFilterValue]\r\n            }\r\n            return [startFilterExpression, \"and\", endFilterExpression]\r\n        }\r\n    };\r\n    var getFilterExpressionForDate = function(filterValue, selectedFilterOperation, target) {\r\n        var column = this;\r\n        var dateStart;\r\n        var dateEnd;\r\n        var dateInterval;\r\n        var values = getDateValues(filterValue);\r\n        var selector = getFilterSelector(column, target);\r\n        if (\"headerFilter\" === target) {\r\n            dateInterval = getGroupInterval(column)[values.length - 1]\r\n        } else {\r\n            if (\"datetime\" === column.dataType) {\r\n                dateInterval = \"minute\"\r\n            }\r\n        }\r\n        switch (dateInterval) {\r\n            case \"year\":\r\n                dateStart = new Date(values[0], 0, 1);\r\n                dateEnd = new Date(values[0] + 1, 0, 1);\r\n                break;\r\n            case \"month\":\r\n                dateStart = new Date(values[0], values[1], 1);\r\n                dateEnd = new Date(values[0], values[1] + 1, 1);\r\n                break;\r\n            case \"quarter\":\r\n                dateStart = new Date(values[0], 3 * values[1], 1);\r\n                dateEnd = new Date(values[0], 3 * values[1] + 3, 1);\r\n                break;\r\n            case \"hour\":\r\n                dateStart = new Date(values[0], values[1], values[2], values[3]);\r\n                dateEnd = new Date(values[0], values[1], values[2], values[3] + 1);\r\n                break;\r\n            case \"minute\":\r\n                dateStart = new Date(values[0], values[1], values[2], values[3], values[4]);\r\n                dateEnd = new Date(values[0], values[1], values[2], values[3], values[4] + 1);\r\n                break;\r\n            case \"second\":\r\n                dateStart = new Date(values[0], values[1], values[2], values[3], values[4], values[5]);\r\n                dateEnd = new Date(values[0], values[1], values[2], values[3], values[4], values[5] + 1);\r\n                break;\r\n            default:\r\n                dateStart = new Date(values[0], values[1], values[2]);\r\n                dateEnd = new Date(values[0], values[1], values[2] + 1)\r\n        }\r\n        switch (selectedFilterOperation) {\r\n            case \"<\":\r\n                return [selector, \"<\", dateStart];\r\n            case \"<=\":\r\n                return [selector, \"<\", dateEnd];\r\n            case \">\":\r\n                return [selector, \">=\", dateEnd];\r\n            case \">=\":\r\n                return [selector, \">=\", dateStart];\r\n            case \"<>\":\r\n                return [\r\n                    [selector, \"<\", dateStart], \"or\", [selector, \">=\", dateEnd]\r\n                ];\r\n            default:\r\n                return [\r\n                    [selector, \">=\", dateStart], \"and\", [selector, \"<\", dateEnd]\r\n                ]\r\n        }\r\n    };\r\n    var getFilterExpressionForNumber = function(filterValue, selectedFilterOperation, target) {\r\n        var column = this;\r\n        var selector = getFilterSelector(column, target);\r\n        var groupInterval = getGroupInterval(column);\r\n        if (\"headerFilter\" === target && groupInterval && (0, _type.isDefined)(filterValue)) {\r\n            var values = (\"\" + filterValue).split(\"/\");\r\n            var value = Number(values[values.length - 1]);\r\n            var interval = groupInterval[values.length - 1];\r\n            var startFilterValue = [selector, \">=\", value];\r\n            var endFilterValue = [selector, \"<\", value + interval];\r\n            var condition = [startFilterValue, \"and\", endFilterValue];\r\n            return condition\r\n        }\r\n        return [selector, selectedFilterOperation || \"=\", filterValue]\r\n    };\r\n    return {\r\n        defaultCalculateFilterExpression: function(filterValue, selectedFilterOperation, target) {\r\n            var column = this;\r\n            var selector = getFilterSelector(column, target);\r\n            var isSearchByDisplayValue = column.calculateDisplayValue && \"search\" === target;\r\n            var dataType = isSearchByDisplayValue && column.lookup && column.lookup.dataType || column.dataType;\r\n            var filter = null;\r\n            if ((\"headerFilter\" === target || \"filterBuilder\" === target) && null === filterValue) {\r\n                filter = [selector, selectedFilterOperation || \"=\", null];\r\n                if (\"string\" === dataType) {\r\n                    filter = [filter, \"=\" === selectedFilterOperation ? \"or\" : \"and\", [selector, selectedFilterOperation || \"=\", \"\"]]\r\n                }\r\n            } else {\r\n                if (\"string\" === dataType && (!column.lookup || isSearchByDisplayValue)) {\r\n                    filter = [selector, selectedFilterOperation || \"contains\", filterValue]\r\n                } else {\r\n                    if (\"between\" === selectedFilterOperation) {\r\n                        return getFilterExpressionByRange.apply(column, [filterValue, target])\r\n                    } else {\r\n                        if (isDateType(dataType) && (0, _type.isDefined)(filterValue)) {\r\n                            return getFilterExpressionForDate.apply(column, arguments)\r\n                        } else {\r\n                            if (\"number\" === dataType) {\r\n                                return getFilterExpressionForNumber.apply(column, arguments)\r\n                            } else {\r\n                                if (\"object\" !== dataType) {\r\n                                    filter = [selector, selectedFilterOperation || \"=\", filterValue]\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return filter\r\n        },\r\n        getGroupInterval: getGroupInterval\r\n    }\r\n}();\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.columns_view.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nexports.ColumnsView = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _dom_adapter = _interopRequireDefault(require(\"../../core/dom_adapter\"));\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _element_data = require(\"../../core/element_data\");\r\nvar _pointer = _interopRequireDefault(require(\"../../events/pointer\"));\r\nvar _click = require(\"../../events/click\");\r\nvar _double_click = require(\"../../events/double_click\");\r\nvar _browser = _interopRequireDefault(require(\"../../core/utils/browser\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _style = require(\"../../core/utils/style\");\r\nvar _element = require(\"../../core/element\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _position = require(\"../../core/utils/position\");\r\nvar iteratorUtils = _interopRequireWildcard(require(\"../../core/utils/iterator\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _uiGrid_core2 = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\nvar _uiGrid_core3 = _interopRequireDefault(require(\"./ui.grid_core.column_state_mixin\"));\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\n\r\nfunction _getRequireWildcardCache() {\r\n    if (\"function\" !== typeof WeakMap) {\r\n        return null\r\n    }\r\n    var cache = new WeakMap;\r\n    _getRequireWildcardCache = function() {\r\n        return cache\r\n    };\r\n    return cache\r\n}\r\n\r\nfunction _interopRequireWildcard(obj) {\r\n    if (obj && obj.__esModule) {\r\n        return obj\r\n    }\r\n    if (null === obj || \"object\" !== _typeof(obj) && \"function\" !== typeof obj) {\r\n        return {\r\n            \"default\": obj\r\n        }\r\n    }\r\n    var cache = _getRequireWildcardCache();\r\n    if (cache && cache.has(obj)) {\r\n        return cache.get(obj)\r\n    }\r\n    var newObj = {};\r\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\r\n    for (var key in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\r\n            if (desc && (desc.get || desc.set)) {\r\n                Object.defineProperty(newObj, key, desc)\r\n            } else {\r\n                newObj[key] = obj[key]\r\n            }\r\n        }\r\n    }\r\n    newObj.default = obj;\r\n    if (cache) {\r\n        cache.set(obj, newObj)\r\n    }\r\n    return newObj\r\n}\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar SCROLL_CONTAINER_CLASS = \"scroll-container\";\r\nvar GROUP_SPACE_CLASS = \"group-space\";\r\nvar CONTENT_CLASS = \"content\";\r\nvar TABLE_CLASS = \"table\";\r\nvar TABLE_FIXED_CLASS = \"table-fixed\";\r\nvar CONTENT_FIXED_CLASS = \"content-fixed\";\r\nvar ROW_CLASS = \"dx-row\";\r\nvar GROUP_ROW_CLASS = \"dx-group-row\";\r\nvar DETAIL_ROW_CLASS = \"dx-master-detail-row\";\r\nvar FILTER_ROW_CLASS = \"filter-row\";\r\nvar CELL_UPDATED_ANIMATION_CLASS = \"cell-updated-animation\";\r\nvar HIDDEN_COLUMNS_WIDTH = \"0.0001px\";\r\nvar CELL_HINT_VISIBLE = \"dxCellHintVisible\";\r\nvar FORM_FIELD_ITEM_CONTENT_CLASS = \"dx-field-item-content\";\r\nvar appendElementTemplate = {\r\n    render: function(options) {\r\n        options.container.append(options.content)\r\n    }\r\n};\r\nvar subscribeToRowEvents = function(that, $table) {\r\n    var touchTarget;\r\n    var touchCurrentTarget;\r\n    var timeoutId;\r\n\r\n    function clearTouchTargets(timeout) {\r\n        return setTimeout(function() {\r\n            touchTarget = touchCurrentTarget = null\r\n        }, timeout)\r\n    }\r\n    _events_engine.default.on($table, \"touchstart touchend\", \".dx-row\", function(e) {\r\n        clearTimeout(timeoutId);\r\n        if (\"touchstart\" === e.type) {\r\n            touchTarget = e.target;\r\n            touchCurrentTarget = e.currentTarget;\r\n            timeoutId = clearTouchTargets(1e3)\r\n        } else {\r\n            timeoutId = clearTouchTargets()\r\n        }\r\n    });\r\n    _events_engine.default.on($table, [_click.name, _double_click.name, _pointer.default.down].join(\" \"), \".dx-row\", {\r\n        useNative: that._isNativeClick()\r\n    }, that.createAction(function(e) {\r\n        var event = e.event;\r\n        if (touchTarget) {\r\n            event.target = touchTarget;\r\n            event.currentTarget = touchCurrentTarget\r\n        }\r\n        if (!(0, _renderer.default)(event.target).closest(\"a\").length) {\r\n            e.rowIndex = that.getRowIndex(event.currentTarget);\r\n            if (e.rowIndex >= 0) {\r\n                e.rowElement = (0, _element.getPublicElement)((0, _renderer.default)(event.currentTarget));\r\n                e.columns = that.getColumns();\r\n                if (event.type === _pointer.default.down) {\r\n                    that._rowPointerDown(e)\r\n                } else {\r\n                    if (event.type === _click.name) {\r\n                        that._rowClick(e)\r\n                    } else {\r\n                        that._rowDblClick(e)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }))\r\n};\r\nvar getWidthStyle = function(width) {\r\n    if (\"auto\" === width) {\r\n        return \"\"\r\n    }\r\n    return (0, _type.isNumeric)(width) ? width + \"px\" : width\r\n};\r\nvar setCellWidth = function(cell, column, width) {\r\n    cell.style.width = cell.style.maxWidth = \"auto\" === column.width ? \"\" : width\r\n};\r\nvar copyAttributes = function(element, newElement) {\r\n    if (!element || !newElement) {\r\n        return\r\n    }\r\n    var oldAttributes = element.attributes;\r\n    var newAttributes = newElement.attributes;\r\n    var i;\r\n    for (i = 0; i < oldAttributes.length; i++) {\r\n        var name = oldAttributes[i].nodeName;\r\n        if (!newElement.hasAttribute(name)) {\r\n            element.removeAttribute(name)\r\n        }\r\n    }\r\n    for (i = 0; i < newAttributes.length; i++) {\r\n        element.setAttribute(newAttributes[i].nodeName, newAttributes[i].nodeValue)\r\n    }\r\n};\r\nvar ColumnsView = _uiGrid_core.default.View.inherit(_uiGrid_core3.default).inherit({\r\n    _createScrollableOptions: function() {\r\n        var that = this;\r\n        var scrollingOptions = that.option(\"scrolling\");\r\n        var useNativeScrolling = that.option(\"scrolling.useNative\");\r\n        var options = (0, _extend.extend)({\r\n            pushBackValue: 0\r\n        }, scrollingOptions, {\r\n            direction: \"both\",\r\n            bounceEnabled: false,\r\n            useKeyboard: false\r\n        });\r\n        if (void 0 === useNativeScrolling) {\r\n            useNativeScrolling = true\r\n        }\r\n        if (\"auto\" === useNativeScrolling) {\r\n            delete options.useNative;\r\n            delete options.useSimulatedScrollbar\r\n        } else {\r\n            options.useNative = !!useNativeScrolling;\r\n            options.useSimulatedScrollbar = !useNativeScrolling\r\n        }\r\n        return options\r\n    },\r\n    _updateCell: function($cell, parameters) {\r\n        if (parameters.rowType) {\r\n            this._cellPrepared($cell, parameters)\r\n        }\r\n    },\r\n    _createCell: function(options) {\r\n        var column = options.column;\r\n        var alignment = column.alignment || (0, _position.getDefaultAlignment)(this.option(\"rtlEnabled\"));\r\n        var cell = _dom_adapter.default.createElement(\"td\");\r\n        cell.style.textAlign = alignment;\r\n        var $cell = (0, _renderer.default)(cell);\r\n        if (\"data\" === options.rowType && column.headerId && !column.type) {\r\n            if (this.component.option(\"showColumnHeaders\")) {\r\n                this.setAria(\"describedby\", column.headerId, $cell)\r\n            }\r\n        }\r\n        if (column.cssClass) {\r\n            $cell.addClass(column.cssClass)\r\n        }\r\n        if (\"expand\" === column.command) {\r\n            $cell.addClass(column.cssClass);\r\n            $cell.addClass(this.addWidgetPrefix(GROUP_SPACE_CLASS))\r\n        }\r\n        if (column.colspan > 1) {\r\n            $cell.attr(\"colSpan\", column.colspan)\r\n        } else {\r\n            if (!column.isBand && \"auto\" !== column.visibleWidth && !this.option(\"legacyRendering\") && this.option(\"columnAutoWidth\")) {\r\n                if (column.width || column.minWidth) {\r\n                    cell.style.minWidth = getWidthStyle(column.minWidth || column.width)\r\n                }\r\n                if (column.width) {\r\n                    setCellWidth(cell, column, getWidthStyle(column.width))\r\n                }\r\n            }\r\n        }\r\n        return $cell\r\n    },\r\n    _createRow: function(rowObject) {\r\n        var $element = (0, _renderer.default)(\"<tr>\").addClass(ROW_CLASS);\r\n        this.setAria(\"role\", \"row\", $element);\r\n        return $element\r\n    },\r\n    _isAltRow: function(row) {\r\n        return row && row.dataIndex % 2 === 1\r\n    },\r\n    _createTable: function(columns, isAppend) {\r\n        var that = this;\r\n        var $table = (0, _renderer.default)(\"<table>\").addClass(that.addWidgetPrefix(TABLE_CLASS)).addClass(that.addWidgetPrefix(TABLE_FIXED_CLASS));\r\n        if (columns && !isAppend) {\r\n            $table.append(that._createColGroup(columns));\r\n            if (_browser.default.safari) {\r\n                $table.append((0, _renderer.default)(\"<thead>\").append(\"<tr>\"))\r\n            }\r\n            that.setAria(\"role\", \"presentation\", $table)\r\n        } else {\r\n            that.setAria(\"hidden\", true, $table)\r\n        }\r\n        this.setAria(\"role\", \"presentation\", (0, _renderer.default)(\"<tbody>\").appendTo($table));\r\n        if (isAppend) {\r\n            return $table\r\n        }\r\n        if (_browser.default.mozilla) {\r\n            _events_engine.default.on($table, \"mousedown\", \"td\", function(e) {\r\n                if (e.ctrlKey) {\r\n                    e.preventDefault()\r\n                }\r\n            })\r\n        }\r\n        if (that.option(\"cellHintEnabled\")) {\r\n            _events_engine.default.on($table, \"mousemove\", \".dx-row > td\", this.createAction(function(args) {\r\n                var e = args.event;\r\n                var $element = (0, _renderer.default)(e.target);\r\n                var $cell = (0, _renderer.default)(e.currentTarget);\r\n                var $row = $cell.parent();\r\n                var isDataRow = $row.hasClass(\"dx-data-row\");\r\n                var isHeaderRow = $row.hasClass(\"dx-header-row\");\r\n                var isGroupRow = $row.hasClass(GROUP_ROW_CLASS);\r\n                var isMasterDetailRow = $row.hasClass(DETAIL_ROW_CLASS);\r\n                var isFilterRow = $row.hasClass(that.addWidgetPrefix(FILTER_ROW_CLASS));\r\n                var visibleColumns = that._columnsController.getVisibleColumns();\r\n                var rowOptions = $row.data(\"options\");\r\n                var columnIndex = $cell.index();\r\n                var cellOptions = rowOptions && rowOptions.cells && rowOptions.cells[columnIndex];\r\n                var column = cellOptions ? cellOptions.column : visibleColumns[columnIndex];\r\n                var msieCorrection = _browser.default.msie ? 1 : 0;\r\n                if (!isMasterDetailRow && !isFilterRow && (!isDataRow || isDataRow && column && !column.cellTemplate) && (!isHeaderRow || isHeaderRow && column && !column.headerCellTemplate) && (!isGroupRow || isGroupRow && column && (void 0 === column.groupIndex || !column.groupCellTemplate))) {\r\n                    if ($element.data(CELL_HINT_VISIBLE)) {\r\n                        $element.removeAttr(\"title\");\r\n                        $element.data(CELL_HINT_VISIBLE, false)\r\n                    }\r\n                    var difference = $element[0].scrollWidth - $element[0].clientWidth - msieCorrection;\r\n                    if (difference > 0 && !(0, _type.isDefined)($element.attr(\"title\"))) {\r\n                        $element.attr(\"title\", $element.text());\r\n                        $element.data(CELL_HINT_VISIBLE, true)\r\n                    }\r\n                }\r\n            }))\r\n        }\r\n        var getOptions = function(event) {\r\n            var $cell = (0, _renderer.default)(event.currentTarget);\r\n            var $fieldItemContent = (0, _renderer.default)(event.target).closest(\".\" + FORM_FIELD_ITEM_CONTENT_CLASS);\r\n            var rowOptions = $cell.parent().data(\"options\");\r\n            var options = rowOptions && rowOptions.cells && rowOptions.cells[$cell.index()];\r\n            if (!$cell.closest(\"table\").is(event.delegateTarget)) {\r\n                return\r\n            }\r\n            var resultOptions = (0, _extend.extend)({}, options, {\r\n                cellElement: (0, _element.getPublicElement)($cell),\r\n                event: event,\r\n                eventType: event.type\r\n            });\r\n            if ($fieldItemContent.length) {\r\n                var formItemOptions = $fieldItemContent.data(\"dx-form-item\");\r\n                if (formItemOptions.column) {\r\n                    resultOptions.column = formItemOptions.column;\r\n                    resultOptions.columnIndex = that._columnsController.getVisibleIndex(resultOptions.column.index)\r\n                }\r\n            }\r\n            return resultOptions\r\n        };\r\n        _events_engine.default.on($table, \"mouseover\", \".dx-row > td\", function(e) {\r\n            var options = getOptions(e);\r\n            options && that.executeAction(\"onCellHoverChanged\", options)\r\n        });\r\n        _events_engine.default.on($table, \"mouseout\", \".dx-row > td\", function(e) {\r\n            var options = getOptions(e);\r\n            options && that.executeAction(\"onCellHoverChanged\", options)\r\n        });\r\n        _events_engine.default.on($table, _click.name, \".dx-row > td\", function(e) {\r\n            var options = getOptions(e);\r\n            options && that.executeAction(\"onCellClick\", options)\r\n        });\r\n        _events_engine.default.on($table, _double_click.name, \".dx-row > td\", function(e) {\r\n            var options = getOptions(e);\r\n            options && that.executeAction(\"onCellDblClick\", options)\r\n        });\r\n        subscribeToRowEvents(that, $table);\r\n        return $table\r\n    },\r\n    _isNativeClick: _common.noop,\r\n    _rowPointerDown: _common.noop,\r\n    _rowClick: _common.noop,\r\n    _rowDblClick: _common.noop,\r\n    _createColGroup: function(columns) {\r\n        var colgroupElement = (0, _renderer.default)(\"<colgroup>\");\r\n        for (var i = 0; i < columns.length; i++) {\r\n            var colspan = columns[i].colspan || 1;\r\n            for (var j = 0; j < colspan; j++) {\r\n                colgroupElement.append(this._createCol(columns[i]))\r\n            }\r\n        }\r\n        return colgroupElement\r\n    },\r\n    _createCol: function(column) {\r\n        var width = column.visibleWidth || column.width;\r\n        if (\"adaptiveHidden\" === width) {\r\n            width = HIDDEN_COLUMNS_WIDTH\r\n        }\r\n        var col = (0, _renderer.default)(\"<col>\");\r\n        (0, _style.setWidth)(col, width);\r\n        return col\r\n    },\r\n    renderDelayedTemplates: function() {\r\n        var delayedTemplates = this._delayedTemplates;\r\n        var syncTemplates = delayedTemplates.filter(function(template) {\r\n            return !template.async\r\n        });\r\n        var asyncTemplates = delayedTemplates.filter(function(template) {\r\n            return template.async\r\n        });\r\n        this._delayedTemplates = [];\r\n        this._renderDelayedTemplatesCore(syncTemplates);\r\n        this._renderDelayedTemplatesCoreAsync(asyncTemplates)\r\n    },\r\n    _renderDelayedTemplatesCoreAsync: function(templates) {\r\n        var that = this;\r\n        if (templates.length) {\r\n            (0, _window.getWindow)().setTimeout(function() {\r\n                that._renderDelayedTemplatesCore(templates, true)\r\n            })\r\n        }\r\n    },\r\n    _renderDelayedTemplatesCore: function(templates, isAsync) {\r\n        var date = new Date;\r\n        while (templates.length) {\r\n            var templateParameters = templates.shift();\r\n            var options = templateParameters.options;\r\n            var doc = _dom_adapter.default.getDocument();\r\n            if (!isAsync || (0, _renderer.default)(options.container).closest(doc).length) {\r\n                templateParameters.template.render(options)\r\n            }\r\n            if (isAsync && new Date - date > 30) {\r\n                this._renderDelayedTemplatesCoreAsync(templates);\r\n                break\r\n            }\r\n        }\r\n        if (!templates.length && this._delayedTemplates.length) {\r\n            this.renderDelayedTemplates()\r\n        }\r\n    },\r\n    _processTemplate: function(template) {\r\n        var that = this;\r\n        var renderingTemplate;\r\n        if (template && template.render && !(0, _type.isRenderer)(template)) {\r\n            renderingTemplate = {\r\n                allowRenderToDetachedContainer: template.allowRenderToDetachedContainer,\r\n                render: function(options) {\r\n                    template.render(options.container, options.model);\r\n                    options.deferred && options.deferred.resolve()\r\n                }\r\n            }\r\n        } else {\r\n            if ((0, _type.isFunction)(template)) {\r\n                renderingTemplate = {\r\n                    render: function(options) {\r\n                        var renderedTemplate = template((0, _element.getPublicElement)(options.container), options.model);\r\n                        if (renderedTemplate && (renderedTemplate.nodeType || (0, _type.isRenderer)(renderedTemplate))) {\r\n                            options.container.append(renderedTemplate)\r\n                        }\r\n                        options.deferred && options.deferred.resolve()\r\n                    }\r\n                }\r\n            } else {\r\n                var templateID = (0, _type.isString)(template) ? template : (0, _renderer.default)(template).attr(\"id\");\r\n                if (!templateID) {\r\n                    renderingTemplate = that.getTemplate(template)\r\n                } else {\r\n                    if (!that._templatesCache[templateID]) {\r\n                        that._templatesCache[templateID] = that.getTemplate(template)\r\n                    }\r\n                    renderingTemplate = that._templatesCache[templateID]\r\n                }\r\n            }\r\n        }\r\n        return renderingTemplate\r\n    },\r\n    renderTemplate: function(container, template, options, allowRenderToDetachedContainer) {\r\n        var that = this;\r\n        var renderingTemplate = that._processTemplate(template, options);\r\n        var column = options.column;\r\n        var isDataRow = \"data\" === options.rowType;\r\n        var templateDeferred = new _deferred.Deferred;\r\n        var templateOptions = {\r\n            container: container,\r\n            model: options,\r\n            deferred: templateDeferred,\r\n            onRendered: function() {\r\n                templateDeferred.resolve()\r\n            }\r\n        };\r\n        if (renderingTemplate) {\r\n            options.component = that.component;\r\n            var async = column && (column.renderAsync && isDataRow || that.option(\"renderAsync\") && (false !== column.renderAsync && (column.command || column.showEditorAlways) && isDataRow || \"filter\" === options.rowType));\r\n            if ((renderingTemplate.allowRenderToDetachedContainer || allowRenderToDetachedContainer) && !async) {\r\n                renderingTemplate.render(templateOptions)\r\n            } else {\r\n                that._delayedTemplates.push({\r\n                    template: renderingTemplate,\r\n                    options: templateOptions,\r\n                    async: async\r\n                })\r\n            }\r\n        } else {\r\n            templateDeferred.reject()\r\n        }\r\n        return templateDeferred.promise()\r\n    },\r\n    _getBodies: function(tableElement) {\r\n        return (0, _renderer.default)(tableElement).children(\"tbody\").not(\".dx-header\").not(\".dx-footer\")\r\n    },\r\n    _wrapRowIfNeed: function($table, $row) {\r\n        var $tBodies = this.option(\"rowTemplate\") && this._getBodies(this._tableElement || $table);\r\n        if ($tBodies && $tBodies.filter(\".\" + ROW_CLASS).length) {\r\n            var $tbody = (0, _renderer.default)(\"<tbody>\").addClass($row.attr(\"class\"));\r\n            this.setAria(\"role\", \"presentation\", $tbody);\r\n            return $tbody.append($row)\r\n        }\r\n        return $row\r\n    },\r\n    _appendRow: function($table, $row, appendTemplate) {\r\n        appendTemplate = appendTemplate || appendElementTemplate;\r\n        appendTemplate.render({\r\n            content: $row,\r\n            container: $table\r\n        })\r\n    },\r\n    _resizeCore: function() {\r\n        var scrollLeft = this._scrollLeft;\r\n        if (scrollLeft >= 0) {\r\n            this._scrollLeft = 0;\r\n            this.scrollTo({\r\n                left: scrollLeft\r\n            })\r\n        }\r\n    },\r\n    _renderCore: function(e) {\r\n        var $root = this.element().parent();\r\n        if (!$root || $root.parent().length) {\r\n            this.renderDelayedTemplates(e)\r\n        }\r\n    },\r\n    _renderTable: function(options) {\r\n        options = options || {};\r\n        options.columns = this._columnsController.getVisibleColumns();\r\n        var changeType = options.change && options.change.changeType;\r\n        var $table = this._createTable(options.columns, \"append\" === changeType || \"prepend\" === changeType || \"update\" === changeType);\r\n        this._renderRows($table, options);\r\n        return $table\r\n    },\r\n    _renderRows: function($table, options) {\r\n        var that = this;\r\n        var rows = that._getRows(options.change);\r\n        var columnIndices = options.change && options.change.columnIndices || [];\r\n        var changeTypes = options.change && options.change.changeTypes || [];\r\n        for (var i = 0; i < rows.length; i++) {\r\n            that._renderRow($table, (0, _extend.extend)({\r\n                row: rows[i],\r\n                columnIndices: columnIndices[i],\r\n                changeType: changeTypes[i]\r\n            }, options))\r\n        }\r\n    },\r\n    _renderRow: function($table, options) {\r\n        if (!options.columnIndices) {\r\n            options.row.cells = []\r\n        }\r\n        var $row = this._createRow(options.row);\r\n        var $wrappedRow = this._wrapRowIfNeed($table, $row);\r\n        if (\"remove\" !== options.changeType) {\r\n            this._renderCells($row, options)\r\n        }\r\n        this._appendRow($table, $wrappedRow);\r\n        var rowOptions = (0, _extend.extend)({\r\n            columns: options.columns\r\n        }, options.row);\r\n        this._addWatchMethod(rowOptions, options.row);\r\n        this._rowPrepared($wrappedRow, rowOptions, options.row)\r\n    },\r\n    _needRenderCell: function(columnIndex, columnIndices) {\r\n        return !columnIndices || columnIndices.indexOf(columnIndex) >= 0\r\n    },\r\n    _renderCells: function($row, options) {\r\n        var that = this;\r\n        var columnIndex = 0;\r\n        var row = options.row;\r\n        var columns = options.columns;\r\n        for (var i = 0; i < columns.length; i++) {\r\n            if (this._needRenderCell(i, options.columnIndices)) {\r\n                that._renderCell($row, (0, _extend.extend)({\r\n                    column: columns[i],\r\n                    columnIndex: columnIndex,\r\n                    value: row.values && row.values[columnIndex],\r\n                    oldValue: row.oldValues && row.oldValues[columnIndex]\r\n                }, options))\r\n            }\r\n            if (columns[i].colspan > 1) {\r\n                columnIndex += columns[i].colspan\r\n            } else {\r\n                columnIndex++\r\n            }\r\n        }\r\n    },\r\n    _updateCells: function($rowElement, $newRowElement, columnIndices) {\r\n        var $cells = $rowElement.children();\r\n        var $newCells = $newRowElement.children();\r\n        var highlightChanges = this.option(\"highlightChanges\");\r\n        var cellUpdatedClass = this.addWidgetPrefix(CELL_UPDATED_ANIMATION_CLASS);\r\n        columnIndices.forEach(function(columnIndex, index) {\r\n            var $cell = $cells.eq(columnIndex);\r\n            var $newCell = $newCells.eq(index);\r\n            $cell.replaceWith($newCell);\r\n            if (highlightChanges && !$newCell.hasClass(\"dx-command-expand\")) {\r\n                $newCell.addClass(cellUpdatedClass)\r\n            }\r\n        });\r\n        copyAttributes($rowElement.get(0), $newRowElement.get(0))\r\n    },\r\n    _setCellAriaAttributes: function($cell, cellOptions) {\r\n        if (\"freeSpace\" !== cellOptions.rowType) {\r\n            this.setAria(\"selected\", false, $cell);\r\n            this.setAria(\"role\", \"gridcell\", $cell);\r\n            var columnIndexOffset = this._columnsController.getColumnIndexOffset();\r\n            var ariaColIndex = cellOptions.columnIndex + columnIndexOffset + 1;\r\n            this.setAria(\"colindex\", ariaColIndex, $cell)\r\n        }\r\n    },\r\n    _renderCell: function($row, options) {\r\n        var cellOptions = this._getCellOptions(options);\r\n        if (options.columnIndices) {\r\n            if (options.row.cells) {\r\n                options.row.cells[cellOptions.columnIndex] = cellOptions\r\n            }\r\n        } else {\r\n            options.row.cells.push(cellOptions)\r\n        }\r\n        var $cell = this._createCell(cellOptions);\r\n        this._setCellAriaAttributes($cell, cellOptions);\r\n        this._renderCellContent($cell, cellOptions);\r\n        $row.get(0).appendChild($cell.get(0));\r\n        return $cell\r\n    },\r\n    _renderCellContent: function($cell, options) {\r\n        var _this = this;\r\n        var template = this._getCellTemplate(options);\r\n        (0, _deferred.when)(!template || this.renderTemplate($cell, template, options)).done(function() {\r\n            _this._updateCell($cell, options)\r\n        })\r\n    },\r\n    _getCellTemplate: function() {},\r\n    _getRows: function() {\r\n        return []\r\n    },\r\n    _getCellOptions: function(options) {\r\n        var cellOptions = {\r\n            column: options.column,\r\n            columnIndex: options.columnIndex,\r\n            rowType: options.row.rowType,\r\n            isAltRow: this._isAltRow(options.row)\r\n        };\r\n        this._addWatchMethod(cellOptions);\r\n        return cellOptions\r\n    },\r\n    _addWatchMethod: function(options, source) {\r\n        if (!this.option(\"repaintChangesOnly\")) {\r\n            return\r\n        }\r\n        var watchers = [];\r\n        source = source || options;\r\n        source.watch = source.watch || function(getter, updateFunc) {\r\n            var oldValue = getter(source.data);\r\n            var watcher = function(row) {\r\n                var newValue = getter(source.data);\r\n                if (JSON.stringify(oldValue) !== JSON.stringify(newValue)) {\r\n                    if (row) {\r\n                        updateFunc(newValue, oldValue)\r\n                    }\r\n                    oldValue = newValue\r\n                }\r\n            };\r\n            watchers.push(watcher);\r\n            var stopWatch = function() {\r\n                var index = watchers.indexOf(watcher);\r\n                if (index >= 0) {\r\n                    watchers.splice(index, 1)\r\n                }\r\n            };\r\n            return stopWatch\r\n        };\r\n        source.update = source.update || function(row) {\r\n            if (row) {\r\n                this.data = options.data = row.data;\r\n                this.rowIndex = options.rowIndex = row.rowIndex;\r\n                this.dataIndex = options.dataIndex = row.dataIndex;\r\n                this.isExpanded = options.isExpanded = row.isExpanded;\r\n                if (options.row) {\r\n                    options.row = row\r\n                }\r\n            }\r\n            watchers.forEach(function(watcher) {\r\n                watcher(row)\r\n            })\r\n        };\r\n        if (source !== options) {\r\n            options.watch = source.watch.bind(source)\r\n        }\r\n        return options\r\n    },\r\n    _cellPrepared: function(cell, options) {\r\n        options.cellElement = (0, _element.getPublicElement)((0, _renderer.default)(cell));\r\n        this.executeAction(\"onCellPrepared\", options)\r\n    },\r\n    _rowPrepared: function($row, options) {\r\n        (0, _element_data.data)($row.get(0), \"options\", options);\r\n        options.rowElement = (0, _element.getPublicElement)($row);\r\n        this.executeAction(\"onRowPrepared\", options)\r\n    },\r\n    _columnOptionChanged: function(e) {\r\n        var optionNames = e.optionNames;\r\n        if (_uiGrid_core2.default.checkChanges(optionNames, [\"width\", \"visibleWidth\"])) {\r\n            var visibleColumns = this._columnsController.getVisibleColumns();\r\n            var widths = iteratorUtils.map(visibleColumns, function(column) {\r\n                var width = column.visibleWidth || column.width;\r\n                return (0, _type.isDefined)(width) ? width : \"auto\"\r\n            });\r\n            this.setColumnWidths({\r\n                widths: widths,\r\n                optionNames: optionNames\r\n            });\r\n            return\r\n        }\r\n        if (!this._requireReady) {\r\n            this.render()\r\n        }\r\n    },\r\n    getCellIndex: function($cell) {\r\n        var cellIndex = $cell.length ? $cell[0].cellIndex : -1;\r\n        return cellIndex\r\n    },\r\n    getTableElements: function() {\r\n        return this._tableElement || (0, _renderer.default)()\r\n    },\r\n    _getTableElement: function() {\r\n        return this._tableElement\r\n    },\r\n    _setTableElement: function(tableElement) {\r\n        this._tableElement = tableElement\r\n    },\r\n    optionChanged: function(args) {\r\n        this.callBase(args);\r\n        switch (args.name) {\r\n            case \"cellHintEnabled\":\r\n            case \"onCellPrepared\":\r\n            case \"onRowPrepared\":\r\n            case \"onCellHoverChanged\":\r\n                this._invalidate(true, true);\r\n                args.handled = true\r\n        }\r\n    },\r\n    init: function() {\r\n        var that = this;\r\n        that._scrollLeft = -1;\r\n        that._columnsController = that.getController(\"columns\");\r\n        that._dataController = that.getController(\"data\");\r\n        that._delayedTemplates = [];\r\n        that._templatesCache = {};\r\n        that.createAction(\"onCellClick\");\r\n        that.createAction(\"onRowClick\");\r\n        that.createAction(\"onCellDblClick\");\r\n        that.createAction(\"onRowDblClick\");\r\n        that.createAction(\"onCellHoverChanged\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        });\r\n        that.createAction(\"onCellPrepared\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"],\r\n            category: \"rendering\"\r\n        });\r\n        that.createAction(\"onRowPrepared\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"],\r\n            category: \"rendering\",\r\n            afterExecute: function(e) {\r\n                that._afterRowPrepared(e)\r\n            }\r\n        });\r\n        that._columnsController.columnsChanged.add(that._columnOptionChanged.bind(that));\r\n        that._dataController && that._dataController.changed.add(that._handleDataChanged.bind(that))\r\n    },\r\n    _afterRowPrepared: _common.noop,\r\n    _handleDataChanged: function() {},\r\n    callbackNames: function() {\r\n        return [\"scrollChanged\"]\r\n    },\r\n    scrollTo: function(pos) {\r\n        var $element = this.element();\r\n        var $scrollContainer = $element && $element.children(\".\" + this.addWidgetPrefix(SCROLL_CONTAINER_CLASS)).not(\".\" + this.addWidgetPrefix(CONTENT_FIXED_CLASS));\r\n        if ((0, _type.isDefined)(pos) && (0, _type.isDefined)(pos.left) && this._scrollLeft !== pos.left) {\r\n            this._scrollLeft = pos.left;\r\n            $scrollContainer && $scrollContainer.scrollLeft(pos.left)\r\n        }\r\n    },\r\n    _wrapTableInScrollContainer: function($table) {\r\n        var _this2 = this;\r\n        var $scrollContainer = (0, _renderer.default)(\"<div>\");\r\n        _events_engine.default.on($scrollContainer, \"scroll\", function() {\r\n            var scrollLeft = $scrollContainer.scrollLeft();\r\n            if (scrollLeft !== _this2._scrollLeft) {\r\n                _this2.scrollChanged.fire({\r\n                    left: scrollLeft\r\n                }, _this2.name)\r\n            }\r\n        });\r\n        $scrollContainer.addClass(this.addWidgetPrefix(CONTENT_CLASS)).addClass(this.addWidgetPrefix(SCROLL_CONTAINER_CLASS)).append($table).appendTo(this.element());\r\n        this.setAria(\"role\", \"presentation\", $scrollContainer);\r\n        return $scrollContainer\r\n    },\r\n    _updateContent: function($newTableElement) {\r\n        this._setTableElement($newTableElement);\r\n        this._wrapTableInScrollContainer($newTableElement)\r\n    },\r\n    _findContentElement: _common.noop,\r\n    _getWidths: function($cellElements) {\r\n        var result = [];\r\n        var legacyRendering = this.option(\"legacyRendering\");\r\n        var width;\r\n        if ($cellElements) {\r\n            iteratorUtils.each($cellElements, function(index, item) {\r\n                width = item.offsetWidth;\r\n                if (item.getBoundingClientRect) {\r\n                    var clientRect = (0, _position.getBoundingRect)(item);\r\n                    if (clientRect.width > width - 1) {\r\n                        width = legacyRendering ? Math.ceil(clientRect.width) : clientRect.width\r\n                    }\r\n                }\r\n                result.push(width)\r\n            })\r\n        }\r\n        return result\r\n    },\r\n    getColumnWidths: function($tableElement) {\r\n        var that = this;\r\n        var result = [];\r\n        var $rows;\r\n        var $cells;\r\n        (this.option(\"forceApplyBindings\") || _common.noop)();\r\n        $tableElement = $tableElement || that._getTableElement();\r\n        if ($tableElement) {\r\n            $rows = $tableElement.children(\"tbody\").children();\r\n            for (var i = 0; i < $rows.length; i++) {\r\n                var $row = $rows.eq(i);\r\n                var isRowVisible = \"none\" !== $row.get(0).style.display && !$row.hasClass(\"dx-state-invisible\");\r\n                if (!$row.is(\".\" + GROUP_ROW_CLASS) && !$row.is(\".\" + DETAIL_ROW_CLASS) && isRowVisible) {\r\n                    $cells = $row.children(\"td\");\r\n                    break\r\n                }\r\n            }\r\n            result = that._getWidths($cells)\r\n        }\r\n        return result\r\n    },\r\n    getVisibleColumnIndex: function(columnIndex, rowIndex) {\r\n        return columnIndex\r\n    },\r\n    setColumnWidths: function(_ref) {\r\n        var widths = _ref.widths,\r\n            $tableElement = _ref.$tableElement,\r\n            columns = _ref.columns,\r\n            fixed = _ref.fixed;\r\n        var $cols;\r\n        var width;\r\n        var minWidth;\r\n        var columnIndex;\r\n        var columnAutoWidth = this.option(\"columnAutoWidth\");\r\n        var legacyRendering = this.option(\"legacyRendering\");\r\n        $tableElement = $tableElement || this._getTableElement();\r\n        if ($tableElement && $tableElement.length && widths) {\r\n            columnIndex = 0;\r\n            $cols = $tableElement.children(\"colgroup\").children(\"col\");\r\n            (0, _style.setWidth)($cols, \"auto\");\r\n            columns = columns || this.getColumns(null, $tableElement);\r\n            for (var i = 0; i < columns.length; i++) {\r\n                if (!legacyRendering && columnAutoWidth && !fixed) {\r\n                    width = columns[i].width;\r\n                    if (width && !columns[i].command) {\r\n                        width = columns[i].visibleWidth || width;\r\n                        width = getWidthStyle(width);\r\n                        minWidth = getWidthStyle(columns[i].minWidth || width);\r\n                        var $rows = $rows || $tableElement.children().children(\".dx-row\").not(\".\" + GROUP_ROW_CLASS).not(\".\" + DETAIL_ROW_CLASS);\r\n                        for (var rowIndex = 0; rowIndex < $rows.length; rowIndex++) {\r\n                            var visibleIndex = this.getVisibleColumnIndex(i, rowIndex);\r\n                            var cell = $rows[rowIndex].cells[visibleIndex];\r\n                            if (cell) {\r\n                                setCellWidth(cell, columns[i], width);\r\n                                cell.style.minWidth = minWidth\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if (columns[i].colspan) {\r\n                    columnIndex += columns[i].colspan;\r\n                    continue\r\n                }\r\n                width = widths[columnIndex];\r\n                if (\"adaptiveHidden\" === width) {\r\n                    width = HIDDEN_COLUMNS_WIDTH\r\n                }\r\n                if (\"number\" === typeof width) {\r\n                    width = width.toFixed(3) + \"px\"\r\n                }(0, _style.setWidth)($cols.eq(columnIndex), (0, _type.isDefined)(width) ? width : \"auto\");\r\n                columnIndex++\r\n            }\r\n        }\r\n    },\r\n    getCellElements: function(rowIndex) {\r\n        return this._getCellElementsCore(rowIndex)\r\n    },\r\n    _getCellElementsCore: function(rowIndex) {\r\n        var $row = this._getRowElements().eq(rowIndex);\r\n        return $row.children()\r\n    },\r\n    _getCellElement: function(rowIndex, columnIdentifier) {\r\n        var that = this;\r\n        var $cell;\r\n        var $cells = that.getCellElements(rowIndex);\r\n        var columnVisibleIndex = that._getVisibleColumnIndex($cells, rowIndex, columnIdentifier);\r\n        if ($cells.length && columnVisibleIndex >= 0) {\r\n            $cell = $cells.eq(columnVisibleIndex)\r\n        }\r\n        if ($cell && $cell.length) {\r\n            return $cell\r\n        }\r\n    },\r\n    _getRowElement: function(rowIndex) {\r\n        var that = this;\r\n        var $rowElement = (0, _renderer.default)();\r\n        var $tableElements = that.getTableElements();\r\n        iteratorUtils.each($tableElements, function(_, tableElement) {\r\n            $rowElement = $rowElement.add(that._getRowElements((0, _renderer.default)(tableElement)).eq(rowIndex))\r\n        });\r\n        if ($rowElement.length) {\r\n            return $rowElement\r\n        }\r\n    },\r\n    getCellElement: function(rowIndex, columnIdentifier) {\r\n        return (0, _element.getPublicElement)(this._getCellElement(rowIndex, columnIdentifier))\r\n    },\r\n    getRowElement: function(rowIndex) {\r\n        var $rows = this._getRowElement(rowIndex);\r\n        var elements = [];\r\n        if ($rows && !(0, _element.getPublicElement)($rows).get) {\r\n            for (var i = 0; i < $rows.length; i++) {\r\n                elements.push($rows[i])\r\n            }\r\n        } else {\r\n            elements = $rows\r\n        }\r\n        return elements\r\n    },\r\n    _getVisibleColumnIndex: function($cells, rowIndex, columnIdentifier) {\r\n        if ((0, _type.isString)(columnIdentifier)) {\r\n            var columnIndex = this._columnsController.columnOption(columnIdentifier, \"index\");\r\n            return this._columnsController.getVisibleIndex(columnIndex)\r\n        }\r\n        return columnIdentifier\r\n    },\r\n    getColumnElements: function() {},\r\n    getColumns: function(rowIndex) {\r\n        return this._columnsController.getVisibleColumns(rowIndex)\r\n    },\r\n    getCell: function(cellPosition, rows) {\r\n        var $rows = rows || this._getRowElements();\r\n        var $cells;\r\n        if ($rows.length > 0 && cellPosition.rowIndex >= 0) {\r\n            if (\"virtual\" !== this.option(\"scrolling.mode\")) {\r\n                cellPosition.rowIndex = cellPosition.rowIndex < $rows.length ? cellPosition.rowIndex : $rows.length - 1\r\n            }\r\n            $cells = this.getCellElements(cellPosition.rowIndex);\r\n            if ($cells && $cells.length > 0) {\r\n                return $cells.eq($cells.length > cellPosition.columnIndex ? cellPosition.columnIndex : $cells.length - 1)\r\n            }\r\n        }\r\n    },\r\n    getRowsCount: function() {\r\n        var tableElement = this._getTableElement();\r\n        if (tableElement && 1 === tableElement.length) {\r\n            return tableElement[0].rows.length\r\n        }\r\n        return 0\r\n    },\r\n    _getRowElementsCore: function(tableElement) {\r\n        tableElement = tableElement || this._getTableElement();\r\n        if (tableElement) {\r\n            var tBodies = this.option(\"rowTemplate\") && tableElement.find(\"> tbody.\" + ROW_CLASS);\r\n            return tBodies && tBodies.length ? tBodies : tableElement.find(\"> tbody > .\" + ROW_CLASS + \", > .\" + ROW_CLASS)\r\n        }\r\n        return (0, _renderer.default)()\r\n    },\r\n    _getRowElements: function(tableElement) {\r\n        return this._getRowElementsCore(tableElement)\r\n    },\r\n    getRowIndex: function($row) {\r\n        return this._getRowElements().index($row)\r\n    },\r\n    getBoundingRect: function() {},\r\n    getName: function() {},\r\n    setScrollerSpacing: function(width) {\r\n        var that = this;\r\n        var $element = that.element();\r\n        var rtlEnabled = that.option(\"rtlEnabled\");\r\n        $element && $element.css({\r\n            paddingLeft: rtlEnabled ? width : \"\",\r\n            paddingRight: !rtlEnabled ? width : \"\"\r\n        })\r\n    },\r\n    isScrollbarVisible: function(isHorizontal) {\r\n        var $element = this.element();\r\n        var $tableElement = this._tableElement;\r\n        if ($element && $tableElement) {\r\n            return isHorizontal ? $tableElement.outerWidth() - $element.width() > 0 : $tableElement.outerHeight() - $element.height() > 0\r\n        }\r\n        return false\r\n    }\r\n});\r\nexports.ColumnsView = ColumnsView;\r\n","/*!\n * devextreme-react\n * Version: 20.2.5\n * Build date: Fri Jan 15 2021\n *\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-react\n */\n\n\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** @deprecated Use 'devextreme-react/form' file instead */\n__exportStar(require(\"../form\"), exports);\nvar form_1 = require(\"../form\");\nObject.defineProperty(exports, \"default\", { enumerable: true, get: function () { return form_1.default; } });\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.data_source_adapter.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.data_source_adapter\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar dataSourceAdapterType = _uiGrid_core.default;\r\nvar _default = {\r\n    extend: function(extender) {\r\n        dataSourceAdapterType = dataSourceAdapterType.inherit(extender)\r\n    },\r\n    create: function(component) {\r\n        return new dataSourceAdapterType(component)\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/tree_view.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _uiTree_view = _interopRequireDefault(require(\"./tree_view/ui.tree_view.search\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar _default = _uiTree_view.default;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\nmodule.exports.default = module.exports;\r\n","/**\r\n * DevExtreme (ui/filter_builder/utils.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.getGroupCriteria = getGroupCriteria;\r\nexports.setGroupValue = setGroupValue;\r\nexports.getGroupMenuItem = getGroupMenuItem;\r\nexports.getGroupValue = getGroupValue;\r\nexports.getFilterOperations = getFilterOperations;\r\nexports.getCaptionByOperation = getCaptionByOperation;\r\nexports.getOperationFromAvailable = getOperationFromAvailable;\r\nexports.getCustomOperation = getCustomOperation;\r\nexports.getAvailableOperations = getAvailableOperations;\r\nexports.getDefaultOperation = getDefaultOperation;\r\nexports.createCondition = createCondition;\r\nexports.removeItem = removeItem;\r\nexports.createEmptyGroup = createEmptyGroup;\r\nexports.isEmptyGroup = isEmptyGroup;\r\nexports.addItem = addItem;\r\nexports.getField = getField;\r\nexports.isGroup = isGroup;\r\nexports.isCondition = isCondition;\r\nexports.convertToInnerStructure = convertToInnerStructure;\r\nexports.getNormalizedFields = getNormalizedFields;\r\nexports.getFilterExpression = getFilterExpression;\r\nexports.getNormalizedFilter = getNormalizedFilter;\r\nexports.getCurrentLookupValueText = getCurrentLookupValueText;\r\nexports.getCurrentValueText = getCurrentValueText;\r\nexports.getItems = getItems;\r\nexports.getCaptionWithParents = getCaptionWithParents;\r\nexports.updateConditionByOperation = updateConditionByOperation;\r\nexports.getOperationValue = getOperationValue;\r\nexports.isValidCondition = isValidCondition;\r\nexports.getMergedOperations = getMergedOperations;\r\nexports.removeFieldConditionsFromFilter = removeFieldConditionsFromFilter;\r\nexports.syncFilters = syncFilters;\r\nexports.getMatchedConditions = getMatchedConditions;\r\nexports.filterHasField = filterHasField;\r\nexports.renderValueText = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _errors = _interopRequireDefault(require(\"../../data/errors\"));\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _data = require(\"../../core/utils/data\");\r\nvar _ui = _interopRequireDefault(require(\"../widget/ui.errors\"));\r\nvar _filtering = _interopRequireDefault(require(\"../shared/filtering\"));\r\nvar _format_helper = _interopRequireDefault(require(\"../../format_helper\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _inflector = require(\"../../core/utils/inflector\");\r\nvar _between = require(\"./between\");\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _data_source = require(\"../../data/data_source/data_source\");\r\nvar _ui2 = _interopRequireDefault(require(\"./ui.filter_operations_dictionary\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar DEFAULT_DATA_TYPE = \"string\";\r\nvar EMPTY_MENU_ICON = \"icon-none\";\r\nvar AND_GROUP_OPERATION = \"and\";\r\nvar EQUAL_OPERATION = \"=\";\r\nvar NOT_EQUAL_OPERATION = \"<>\";\r\nvar DATATYPE_OPERATIONS = {\r\n    number: [\"=\", \"<>\", \"<\", \">\", \"<=\", \">=\", \"isblank\", \"isnotblank\"],\r\n    string: [\"contains\", \"notcontains\", \"startswith\", \"endswith\", \"=\", \"<>\", \"isblank\", \"isnotblank\"],\r\n    date: [\"=\", \"<>\", \"<\", \">\", \"<=\", \">=\", \"isblank\", \"isnotblank\"],\r\n    datetime: [\"=\", \"<>\", \"<\", \">\", \"<=\", \">=\", \"isblank\", \"isnotblank\"],\r\n    \"boolean\": [\"=\", \"<>\", \"isblank\", \"isnotblank\"],\r\n    object: [\"isblank\", \"isnotblank\"]\r\n};\r\nvar DEFAULT_FORMAT = {\r\n    date: \"shortDate\",\r\n    datetime: \"shortDateShortTime\"\r\n};\r\nvar LOOKUP_OPERATIONS = [\"=\", \"<>\", \"isblank\", \"isnotblank\"];\r\nvar AVAILABLE_FIELD_PROPERTIES = [\"caption\", \"customizeText\", \"dataField\", \"dataType\", \"editorTemplate\", \"falseText\", \"editorOptions\", \"filterOperations\", \"format\", \"lookup\", \"trueText\", \"calculateFilterExpression\", \"name\"];\r\nvar FILTER_BUILDER_CLASS = \"dx-filterbuilder\";\r\nvar FILTER_BUILDER_ITEM_TEXT_CLASS = FILTER_BUILDER_CLASS + \"-text\";\r\nvar FILTER_BUILDER_ITEM_TEXT_PART_CLASS = FILTER_BUILDER_ITEM_TEXT_CLASS + \"-part\";\r\nvar FILTER_BUILDER_ITEM_TEXT_SEPARATOR_CLASS = FILTER_BUILDER_ITEM_TEXT_CLASS + \"-separator\";\r\nvar FILTER_BUILDER_ITEM_TEXT_SEPARATOR_EMPTY_CLASS = FILTER_BUILDER_ITEM_TEXT_SEPARATOR_CLASS + \"-empty\";\r\n\r\nfunction getFormattedValueText(field, value) {\r\n    var fieldFormat = field.format || DEFAULT_FORMAT[field.dataType];\r\n    return _format_helper.default.format(value, fieldFormat)\r\n}\r\n\r\nfunction isNegationGroup(group) {\r\n    return group && group.length > 1 && \"!\" === group[0] && !isCondition(group)\r\n}\r\n\r\nfunction getGroupCriteria(group) {\r\n    return isNegationGroup(group) ? group[1] : group\r\n}\r\n\r\nfunction setGroupCriteria(group, criteria) {\r\n    if (isNegationGroup(group)) {\r\n        group[1] = criteria\r\n    } else {\r\n        group = criteria\r\n    }\r\n    return group\r\n}\r\n\r\nfunction convertGroupToNewStructure(group, value) {\r\n    var isNegationValue = function(value) {\r\n        return value.indexOf(\"!\") !== -1\r\n    };\r\n    var convertGroupToNegationGroup = function(group) {\r\n        var criteria = group.slice(0);\r\n        group.length = 0;\r\n        group.push(\"!\", criteria)\r\n    };\r\n    var convertNegationGroupToGroup = function(group) {\r\n        var criteria = getGroupCriteria(group);\r\n        group.length = 0;\r\n        [].push.apply(group, criteria)\r\n    };\r\n    if (isNegationValue(value)) {\r\n        if (!isNegationGroup(group)) {\r\n            convertGroupToNegationGroup(group)\r\n        }\r\n    } else {\r\n        if (isNegationGroup(group)) {\r\n            convertNegationGroupToGroup(group)\r\n        }\r\n    }\r\n}\r\n\r\nfunction setGroupValue(group, value) {\r\n    convertGroupToNewStructure(group, value);\r\n    var criteria = getGroupCriteria(group);\r\n    var i;\r\n    var getNormalizedGroupValue = function(value) {\r\n        return value.indexOf(\"!\") === -1 ? value : value.substring(1)\r\n    };\r\n    var changeCriteriaValue = function(criteria, value) {\r\n        for (i = 0; i < criteria.length; i++) {\r\n            if (!Array.isArray(criteria[i])) {\r\n                criteria[i] = value\r\n            }\r\n        }\r\n    };\r\n    value = getNormalizedGroupValue(value);\r\n    changeCriteriaValue(criteria, value);\r\n    return group\r\n}\r\n\r\nfunction getGroupMenuItem(group, availableGroups) {\r\n    var groupValue = getGroupValue(group);\r\n    return availableGroups.filter(function(item) {\r\n        return item.value === groupValue\r\n    })[0]\r\n}\r\n\r\nfunction getCriteriaOperation(criteria) {\r\n    if (isCondition(criteria)) {\r\n        return AND_GROUP_OPERATION\r\n    }\r\n    var value = \"\";\r\n    for (var i = 0; i < criteria.length; i++) {\r\n        var item = criteria[i];\r\n        if (!Array.isArray(item)) {\r\n            if (value && value !== item) {\r\n                throw new _errors.default.errors.Error(\"E4019\")\r\n            }\r\n            if (\"!\" !== item) {\r\n                value = item\r\n            }\r\n        }\r\n    }\r\n    return value\r\n}\r\n\r\nfunction getGroupValue(group) {\r\n    var criteria = getGroupCriteria(group);\r\n    var value = getCriteriaOperation(criteria);\r\n    if (!value) {\r\n        value = AND_GROUP_OPERATION\r\n    }\r\n    if (criteria !== group) {\r\n        value = \"!\" + value\r\n    }\r\n    return value\r\n}\r\n\r\nfunction getDefaultFilterOperations(field) {\r\n    return field.lookup && LOOKUP_OPERATIONS || DATATYPE_OPERATIONS[field.dataType || DEFAULT_DATA_TYPE]\r\n}\r\n\r\nfunction containItems(entity) {\r\n    return Array.isArray(entity) && entity.length\r\n}\r\n\r\nfunction getFilterOperations(field) {\r\n    var result = containItems(field.filterOperations) ? field.filterOperations : getDefaultFilterOperations(field);\r\n    return (0, _extend.extend)([], result)\r\n}\r\n\r\nfunction getCaptionByOperation(operation, filterOperationDescriptions) {\r\n    var operationName = _ui2.default.getNameByFilterOperation(operation);\r\n    return filterOperationDescriptions && filterOperationDescriptions[operationName] ? filterOperationDescriptions[operationName] : operationName\r\n}\r\n\r\nfunction getOperationFromAvailable(operation, availableOperations) {\r\n    for (var i = 0; i < availableOperations.length; i++) {\r\n        if (availableOperations[i].value === operation) {\r\n            return availableOperations[i]\r\n        }\r\n    }\r\n    throw new _ui.default.Error(\"E1048\", operation)\r\n}\r\n\r\nfunction getCustomOperation(customOperations, name) {\r\n    var filteredOperations = customOperations.filter(function(item) {\r\n        return item.name === name\r\n    });\r\n    return filteredOperations.length ? filteredOperations[0] : null\r\n}\r\n\r\nfunction getAvailableOperations(field, filterOperationDescriptions, customOperations) {\r\n    var filterOperations = getFilterOperations(field);\r\n    var isLookupField = !!field.lookup;\r\n    customOperations.forEach(function(customOperation) {\r\n        if (!field.filterOperations && filterOperations.indexOf(customOperation.name) === -1) {\r\n            var dataTypes = customOperation && customOperation.dataTypes;\r\n            var isOperationForbidden = isLookupField ? !!customOperation.notForLookup : false;\r\n            if (!isOperationForbidden && dataTypes && dataTypes.indexOf(field.dataType || DEFAULT_DATA_TYPE) >= 0) {\r\n                filterOperations.push(customOperation.name)\r\n            }\r\n        }\r\n    });\r\n    return filterOperations.map(function(operation) {\r\n        var customOperation = getCustomOperation(customOperations, operation);\r\n        if (customOperation) {\r\n            return {\r\n                icon: customOperation.icon || EMPTY_MENU_ICON,\r\n                text: customOperation.caption || (0, _inflector.captionize)(customOperation.name),\r\n                value: customOperation.name,\r\n                isCustom: true\r\n            }\r\n        } else {\r\n            return {\r\n                icon: _ui2.default.getIconByFilterOperation(operation) || EMPTY_MENU_ICON,\r\n                text: getCaptionByOperation(operation, filterOperationDescriptions),\r\n                value: operation\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nfunction getDefaultOperation(field) {\r\n    return field.defaultFilterOperation || getFilterOperations(field)[0]\r\n}\r\n\r\nfunction createCondition(field, customOperations) {\r\n    var condition = [field.dataField, \"\", \"\"];\r\n    var filterOperation = getDefaultOperation(field);\r\n    updateConditionByOperation(condition, filterOperation, customOperations);\r\n    return condition\r\n}\r\n\r\nfunction removeItem(group, item) {\r\n    var criteria = getGroupCriteria(group);\r\n    var index = criteria.indexOf(item);\r\n    criteria.splice(index, 1);\r\n    if (1 !== criteria.length) {\r\n        criteria.splice(index, 1)\r\n    }\r\n    return group\r\n}\r\n\r\nfunction createEmptyGroup(value) {\r\n    return value.indexOf(\"not\") !== -1 ? [\"!\", [value.substring(3).toLowerCase()]] : [value]\r\n}\r\n\r\nfunction isEmptyGroup(group) {\r\n    var criteria = getGroupCriteria(group);\r\n    if (isCondition(criteria)) {\r\n        return false\r\n    }\r\n    var hasConditions = criteria.some(function(item) {\r\n        return isCondition(item)\r\n    });\r\n    return !hasConditions\r\n}\r\n\r\nfunction addItem(item, group) {\r\n    var criteria = getGroupCriteria(group);\r\n    var groupValue = getGroupValue(criteria);\r\n    1 === criteria.length ? criteria.unshift(item) : criteria.push(item, groupValue);\r\n    return group\r\n}\r\n\r\nfunction getField(dataField, fields) {\r\n    for (var i = 0; i < fields.length; i++) {\r\n        if (fields[i].name === dataField) {\r\n            return fields[i]\r\n        }\r\n        if (fields[i].dataField.toLowerCase() === dataField.toLowerCase()) {\r\n            return fields[i]\r\n        }\r\n    }\r\n    var extendedFields = getItems(fields, true).filter(function(item) {\r\n        return item.dataField.toLowerCase() === dataField.toLowerCase()\r\n    });\r\n    if (extendedFields.length > 0) {\r\n        return extendedFields[0]\r\n    }\r\n    throw new _ui.default.Error(\"E1047\", dataField)\r\n}\r\n\r\nfunction isGroup(criteria) {\r\n    if (!Array.isArray(criteria)) {\r\n        return false\r\n    }\r\n    return criteria.length < 2 || Array.isArray(criteria[0]) || Array.isArray(criteria[1])\r\n}\r\n\r\nfunction isCondition(criteria) {\r\n    if (!Array.isArray(criteria)) {\r\n        return false\r\n    }\r\n    return criteria.length > 1 && !Array.isArray(criteria[0]) && !Array.isArray(criteria[1])\r\n}\r\n\r\nfunction convertToInnerGroup(group, customOperations) {\r\n    var groupOperation = getCriteriaOperation(group).toLowerCase() || AND_GROUP_OPERATION;\r\n    var innerGroup = [];\r\n    for (var i = 0; i < group.length; i++) {\r\n        if (isGroup(group[i])) {\r\n            innerGroup.push(convertToInnerStructure(group[i], customOperations));\r\n            innerGroup.push(groupOperation)\r\n        } else {\r\n            if (isCondition(group[i])) {\r\n                innerGroup.push(convertToInnerCondition(group[i], customOperations));\r\n                innerGroup.push(groupOperation)\r\n            }\r\n        }\r\n    }\r\n    if (0 === innerGroup.length) {\r\n        innerGroup.push(groupOperation)\r\n    }\r\n    return innerGroup\r\n}\r\n\r\nfunction conditionHasCustomOperation(condition, customOperations) {\r\n    var customOperation = getCustomOperation(customOperations, condition[1]);\r\n    return customOperation && customOperation.name === condition[1]\r\n}\r\n\r\nfunction convertToInnerCondition(condition, customOperations) {\r\n    if (conditionHasCustomOperation(condition, customOperations)) {\r\n        return condition\r\n    }\r\n    if (condition.length < 3) {\r\n        condition[2] = condition[1];\r\n        condition[1] = EQUAL_OPERATION\r\n    }\r\n    return condition\r\n}\r\n\r\nfunction convertToInnerStructure(value, customOperations) {\r\n    if (!value) {\r\n        return [AND_GROUP_OPERATION]\r\n    }\r\n    value = (0, _extend.extend)(true, [], value);\r\n    if (isCondition(value)) {\r\n        return [convertToInnerCondition(value, customOperations), AND_GROUP_OPERATION]\r\n    }\r\n    if (isNegationGroup(value)) {\r\n        return [\"!\", isCondition(value[1]) ? [convertToInnerCondition(value[1], customOperations), AND_GROUP_OPERATION] : isNegationGroup(value[1]) ? [convertToInnerStructure(value[1], customOperations), AND_GROUP_OPERATION] : convertToInnerGroup(value[1], customOperations)]\r\n    }\r\n    return convertToInnerGroup(value, customOperations)\r\n}\r\n\r\nfunction getNormalizedFields(fields) {\r\n    return fields.reduce(function(result, field) {\r\n        if ((0, _type.isDefined)(field.dataField)) {\r\n            var normalizedField = {};\r\n            for (var key in field) {\r\n                if (field[key] && AVAILABLE_FIELD_PROPERTIES.indexOf(key) > -1) {\r\n                    normalizedField[key] = field[key]\r\n                }\r\n            }\r\n            normalizedField.defaultCalculateFilterExpression = _filtering.default.defaultCalculateFilterExpression;\r\n            if (!(0, _type.isDefined)(normalizedField.dataType)) {\r\n                normalizedField.dataType = DEFAULT_DATA_TYPE\r\n            }\r\n            if (!(0, _type.isDefined)(normalizedField.trueText)) {\r\n                normalizedField.trueText = _message.default.format(\"dxDataGrid-trueText\")\r\n            }\r\n            if (!(0, _type.isDefined)(normalizedField.falseText)) {\r\n                normalizedField.falseText = _message.default.format(\"dxDataGrid-falseText\")\r\n            }\r\n            result.push(normalizedField)\r\n        }\r\n        return result\r\n    }, [])\r\n}\r\n\r\nfunction getConditionFilterExpression(condition, fields, customOperations, target) {\r\n    var field = getField(condition[0], fields);\r\n    var filterExpression = convertToInnerCondition(condition, customOperations);\r\n    var customOperation = customOperations.length && getCustomOperation(customOperations, filterExpression[1]);\r\n    if (customOperation && customOperation.calculateFilterExpression) {\r\n        return customOperation.calculateFilterExpression.apply(customOperation, [filterExpression[2], field, fields])\r\n    } else {\r\n        if (field.createFilterExpression) {\r\n            return field.createFilterExpression.apply(field, [filterExpression[2], filterExpression[1], target])\r\n        } else {\r\n            if (field.calculateFilterExpression) {\r\n                return field.calculateFilterExpression.apply(field, [filterExpression[2], filterExpression[1], target])\r\n            } else {\r\n                return field.defaultCalculateFilterExpression.apply(field, [filterExpression[2], filterExpression[1], target])\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction getFilterExpression(value, fields, customOperations, target) {\r\n    if (!(0, _type.isDefined)(value)) {\r\n        return null\r\n    }\r\n    if (isNegationGroup(value)) {\r\n        var filterExpression = getFilterExpression(value[1], fields, customOperations, target);\r\n        return [\"!\", filterExpression]\r\n    }\r\n    var criteria = getGroupCriteria(value);\r\n    if (isCondition(criteria)) {\r\n        return getConditionFilterExpression(criteria, fields, customOperations, target) || null\r\n    } else {\r\n        var result = [];\r\n        var _filterExpression;\r\n        var groupValue = getGroupValue(criteria);\r\n        for (var i = 0; i < criteria.length; i++) {\r\n            if (isGroup(criteria[i])) {\r\n                _filterExpression = getFilterExpression(criteria[i], fields, customOperations, target);\r\n                if (_filterExpression) {\r\n                    i && result.push(groupValue);\r\n                    result.push(_filterExpression)\r\n                }\r\n            } else {\r\n                if (isCondition(criteria[i])) {\r\n                    _filterExpression = getConditionFilterExpression(criteria[i], fields, customOperations, target);\r\n                    if (_filterExpression) {\r\n                        result.length && result.push(groupValue);\r\n                        result.push(_filterExpression)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (1 === result.length) {\r\n            result = result[0]\r\n        }\r\n        return result.length ? result : null\r\n    }\r\n}\r\n\r\nfunction getNormalizedFilter(group) {\r\n    var criteria = getGroupCriteria(group);\r\n    var i;\r\n    if (0 === criteria.length) {\r\n        return null\r\n    }\r\n    var itemsForRemove = [];\r\n    for (i = 0; i < criteria.length; i++) {\r\n        if (isGroup(criteria[i])) {\r\n            var normalizedGroupValue = getNormalizedFilter(criteria[i]);\r\n            if (normalizedGroupValue) {\r\n                criteria[i] = normalizedGroupValue\r\n            } else {\r\n                itemsForRemove.push(criteria[i])\r\n            }\r\n        } else {\r\n            if (isCondition(criteria[i])) {\r\n                if (!isValidCondition(criteria[i])) {\r\n                    itemsForRemove.push(criteria[i])\r\n                }\r\n            }\r\n        }\r\n    }\r\n    for (i = 0; i < itemsForRemove.length; i++) {\r\n        removeItem(criteria, itemsForRemove[i])\r\n    }\r\n    if (1 === criteria.length) {\r\n        return null\r\n    }\r\n    criteria.splice(criteria.length - 1, 1);\r\n    if (1 === criteria.length) {\r\n        group = setGroupCriteria(group, criteria[0])\r\n    }\r\n    if (0 === group.length) {\r\n        return null\r\n    }\r\n    return group\r\n}\r\n\r\nfunction getCurrentLookupValueText(field, value, handler) {\r\n    if (\"\" === value) {\r\n        handler(\"\");\r\n        return\r\n    }\r\n    var lookup = field.lookup;\r\n    if (lookup.items) {\r\n        handler(lookup.calculateCellValue(value) || \"\")\r\n    } else {\r\n        var lookupDataSource = (0, _type.isFunction)(lookup.dataSource) ? lookup.dataSource({}) : lookup.dataSource;\r\n        var dataSource = new _data_source.DataSource(lookupDataSource);\r\n        dataSource.loadSingle(lookup.valueExpr, value).done(function(result) {\r\n            result ? handler(lookup.displayExpr ? (0, _data.compileGetter)(lookup.displayExpr)(result) : result) : handler(\"\")\r\n        }).fail(function() {\r\n            handler(\"\")\r\n        })\r\n    }\r\n}\r\n\r\nfunction getPrimitiveValueText(field, value, customOperation, target) {\r\n    var valueText;\r\n    if (true === value) {\r\n        valueText = field.trueText || _message.default.format(\"dxDataGrid-trueText\")\r\n    } else {\r\n        if (false === value) {\r\n            valueText = field.falseText || _message.default.format(\"dxDataGrid-falseText\")\r\n        } else {\r\n            valueText = getFormattedValueText(field, value)\r\n        }\r\n    }\r\n    if (field.customizeText) {\r\n        valueText = field.customizeText.call(field, {\r\n            value: value,\r\n            valueText: valueText,\r\n            target: target\r\n        })\r\n    }\r\n    if (customOperation && customOperation.customizeText) {\r\n        valueText = customOperation.customizeText.call(customOperation, {\r\n            value: value,\r\n            valueText: valueText,\r\n            field: field,\r\n            target: target\r\n        })\r\n    }\r\n    return valueText\r\n}\r\n\r\nfunction getArrayValueText(field, value, customOperation, target) {\r\n    return value.map(function(v) {\r\n        return getPrimitiveValueText(field, v, customOperation, target)\r\n    })\r\n}\r\n\r\nfunction checkDefaultValue(value) {\r\n    return \"\" === value || null === value\r\n}\r\n\r\nfunction getCurrentValueText(field, value, customOperation) {\r\n    var target = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : \"filterBuilder\";\r\n    if (checkDefaultValue(value)) {\r\n        return \"\"\r\n    }\r\n    if (Array.isArray(value)) {\r\n        var result = new _deferred.Deferred;\r\n        _deferred.when.apply(this, getArrayValueText(field, value, customOperation, target)).done(function() {\r\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n                args[_key] = arguments[_key]\r\n            }\r\n            var text = args.some(function(item) {\r\n                return !checkDefaultValue(item)\r\n            }) ? args.map(function(item) {\r\n                return !checkDefaultValue(item) ? item : \"?\"\r\n            }) : \"\";\r\n            result.resolve(text)\r\n        });\r\n        return result\r\n    } else {\r\n        return getPrimitiveValueText(field, value, customOperation, target)\r\n    }\r\n}\r\n\r\nfunction itemExists(plainItems, parentId) {\r\n    return plainItems.some(function(item) {\r\n        return item.dataField === parentId\r\n    })\r\n}\r\n\r\nfunction pushItemAndCheckParent(originalItems, plainItems, item) {\r\n    var dataField = item.dataField;\r\n    if (hasParent(dataField)) {\r\n        item.parentId = getParentIdFromItemDataField(dataField);\r\n        if (!itemExists(plainItems, item.parentId) && !itemExists(originalItems, item.parentId)) {\r\n            pushItemAndCheckParent(originalItems, plainItems, {\r\n                id: item.parentId,\r\n                dataType: \"object\",\r\n                dataField: item.parentId,\r\n                caption: generateCaptionByDataField(item.parentId, true),\r\n                filterOperations: [\"isblank\", \"isnotblank\"]\r\n            })\r\n        }\r\n    }\r\n    plainItems.push(item)\r\n}\r\n\r\nfunction generateCaptionByDataField(dataField, allowHierarchicalFields) {\r\n    var caption = \"\";\r\n    if (allowHierarchicalFields) {\r\n        dataField = dataField.substring(dataField.lastIndexOf(\".\") + 1)\r\n    } else {\r\n        if (hasParent(dataField)) {\r\n            dataField.split(\".\").forEach(function(field, index, arr) {\r\n                caption += (0, _inflector.captionize)(field);\r\n                if (index !== arr.length - 1) {\r\n                    caption += \".\"\r\n                }\r\n            });\r\n            return caption\r\n        }\r\n    }\r\n    return (0, _inflector.captionize)(dataField)\r\n}\r\n\r\nfunction getItems(fields, allowHierarchicalFields) {\r\n    var items = [];\r\n    for (var i = 0; i < fields.length; i++) {\r\n        var item = (0, _extend.extend)(true, {\r\n            caption: generateCaptionByDataField(fields[i].dataField, allowHierarchicalFields)\r\n        }, fields[i]);\r\n        item.id = item.name || item.dataField;\r\n        if (allowHierarchicalFields) {\r\n            pushItemAndCheckParent(fields, items, item)\r\n        } else {\r\n            items.push(item)\r\n        }\r\n    }\r\n    return items\r\n}\r\n\r\nfunction hasParent(dataField) {\r\n    return dataField.lastIndexOf(\".\") !== -1\r\n}\r\n\r\nfunction getParentIdFromItemDataField(dataField) {\r\n    return dataField.substring(0, dataField.lastIndexOf(\".\"))\r\n}\r\n\r\nfunction getCaptionWithParents(item, plainItems) {\r\n    if (hasParent(item.dataField)) {\r\n        var parentId = getParentIdFromItemDataField(item.dataField);\r\n        for (var i = 0; i < plainItems.length; i++) {\r\n            if (plainItems[i].dataField === parentId) {\r\n                return getCaptionWithParents(plainItems[i], plainItems) + \".\" + item.caption\r\n            }\r\n        }\r\n    }\r\n    return item.caption\r\n}\r\n\r\nfunction updateConditionByOperation(condition, operation, customOperations) {\r\n    var customOperation = getCustomOperation(customOperations, operation);\r\n    if (customOperation) {\r\n        if (false === customOperation.hasValue) {\r\n            condition[1] = operation;\r\n            condition.length = 2\r\n        } else {\r\n            condition[1] = operation;\r\n            condition[2] = \"\"\r\n        }\r\n        return condition\r\n    }\r\n    if (\"isblank\" === operation) {\r\n        condition[1] = EQUAL_OPERATION;\r\n        condition[2] = null\r\n    } else {\r\n        if (\"isnotblank\" === operation) {\r\n            condition[1] = NOT_EQUAL_OPERATION;\r\n            condition[2] = null\r\n        } else {\r\n            customOperation = getCustomOperation(customOperations, condition[1]);\r\n            if (customOperation || 2 === condition.length || null === condition[2]) {\r\n                condition[2] = \"\"\r\n            }\r\n            condition[1] = operation\r\n        }\r\n    }\r\n    return condition\r\n}\r\n\r\nfunction getOperationValue(condition) {\r\n    var caption;\r\n    if (null === condition[2]) {\r\n        if (condition[1] === EQUAL_OPERATION) {\r\n            caption = \"isblank\"\r\n        } else {\r\n            caption = \"isnotblank\"\r\n        }\r\n    } else {\r\n        caption = condition[1]\r\n    }\r\n    return caption\r\n}\r\n\r\nfunction isValidCondition(condition) {\r\n    return \"\" !== condition[2]\r\n}\r\n\r\nfunction getMergedOperations(customOperations, betweenCaption, context) {\r\n    var result = (0, _extend.extend)(true, [], customOperations);\r\n    var betweenIndex = -1;\r\n    result.some(function(customOperation, index) {\r\n        if (\"between\" === customOperation.name) {\r\n            betweenIndex = index;\r\n            return true\r\n        }\r\n    });\r\n    if (betweenIndex !== -1) {\r\n        result[betweenIndex] = (0, _extend.extend)((0, _between.getConfig)(betweenCaption, context), result[betweenIndex])\r\n    } else {\r\n        result.unshift((0, _between.getConfig)(betweenCaption, context))\r\n    }\r\n    return result\r\n}\r\n\r\nfunction isMatchedCondition(filter, addedFilterDataField) {\r\n    return filter[0] === addedFilterDataField\r\n}\r\n\r\nfunction removeFieldConditionsFromFilter(filter, dataField) {\r\n    if (!filter || 0 === filter.length) {\r\n        return null\r\n    }\r\n    if (isCondition(filter)) {\r\n        var hasMatchedCondition = isMatchedCondition(filter, dataField);\r\n        return !hasMatchedCondition ? filter : null\r\n    } else {\r\n        return syncConditionIntoGroup(filter, [dataField], false)\r\n    }\r\n}\r\n\r\nfunction syncConditionIntoGroup(filter, addedFilter, canPush) {\r\n    var result = [];\r\n    filter.forEach(function(item) {\r\n        if (isCondition(item)) {\r\n            if (isMatchedCondition(item, addedFilter[0])) {\r\n                if (canPush) {\r\n                    result.push(addedFilter);\r\n                    canPush = false\r\n                } else {\r\n                    result.splice(result.length - 1, 1)\r\n                }\r\n            } else {\r\n                result.push(item)\r\n            }\r\n        } else {\r\n            (result.length || isGroup(item)) && result.push(item)\r\n        }\r\n    });\r\n    if (0 === result.length) {\r\n        return null\r\n    }\r\n    if (canPush) {\r\n        result.push(AND_GROUP_OPERATION);\r\n        result.push(addedFilter)\r\n    }\r\n    return 1 === result.length ? result[0] : result\r\n}\r\n\r\nfunction syncFilters(filter, addedFilter) {\r\n    if (null === filter || 0 === filter.length) {\r\n        return addedFilter\r\n    }\r\n    if (isCondition(filter)) {\r\n        if (isMatchedCondition(filter, addedFilter[0])) {\r\n            return addedFilter\r\n        } else {\r\n            return [filter, AND_GROUP_OPERATION, addedFilter]\r\n        }\r\n    }\r\n    var groupValue = getGroupValue(filter);\r\n    if (groupValue !== AND_GROUP_OPERATION) {\r\n        return [addedFilter, \"and\", filter]\r\n    }\r\n    return syncConditionIntoGroup(filter, addedFilter, true)\r\n}\r\n\r\nfunction getMatchedConditions(filter, dataField) {\r\n    if (null === filter || 0 === filter.length) {\r\n        return []\r\n    }\r\n    if (isCondition(filter)) {\r\n        if (isMatchedCondition(filter, dataField)) {\r\n            return [filter]\r\n        } else {\r\n            return []\r\n        }\r\n    }\r\n    var groupValue = getGroupValue(filter);\r\n    if (groupValue !== AND_GROUP_OPERATION) {\r\n        return []\r\n    }\r\n    var result = filter.filter(function(item) {\r\n        return isCondition(item) && isMatchedCondition(item, dataField)\r\n    });\r\n    return result\r\n}\r\n\r\nfunction filterHasField(filter, dataField) {\r\n    if (null === filter || 0 === filter.length) {\r\n        return false\r\n    }\r\n    if (isCondition(filter)) {\r\n        return filter[0] === dataField\r\n    }\r\n    return filter.some(function(item) {\r\n        return (isCondition(item) || isGroup(item)) && filterHasField(item, dataField)\r\n    })\r\n}\r\nvar renderValueText = function($container, value, customOperation) {\r\n    if (Array.isArray(value)) {\r\n        var lastItemIndex = value.length - 1;\r\n        $container.empty();\r\n        value.forEach(function(t, i) {\r\n            (0, _renderer.default)(\"<span>\").addClass(FILTER_BUILDER_ITEM_TEXT_PART_CLASS).text(t).appendTo($container);\r\n            if (i !== lastItemIndex) {\r\n                (0, _renderer.default)(\"<span>\").addClass(FILTER_BUILDER_ITEM_TEXT_SEPARATOR_CLASS).text(customOperation && customOperation.valueSeparator ? customOperation.valueSeparator : \"|\").addClass(FILTER_BUILDER_ITEM_TEXT_SEPARATOR_EMPTY_CLASS).appendTo($container)\r\n            }\r\n        })\r\n    } else {\r\n        if (value) {\r\n            $container.text(value)\r\n        } else {\r\n            $container.text(_message.default.format(\"dxFilterBuilder-enterValueText\"))\r\n        }\r\n    }\r\n};\r\nexports.renderValueText = renderValueText;\r\n","/**\r\n * DevExtreme (events/double_click.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.name = void 0;\r\nvar _events_engine = _interopRequireDefault(require(\"../events/core/events_engine\"));\r\nvar _dom = require(\"../core/utils/dom\");\r\nvar _dom_adapter = _interopRequireDefault(require(\"../core/dom_adapter\"));\r\nvar _class = _interopRequireDefault(require(\"../core/class\"));\r\nvar _event_registrator = _interopRequireDefault(require(\"./core/event_registrator\"));\r\nvar _click = require(\"./click\");\r\nvar _index = require(\"./utils/index\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar DBLCLICK_EVENT_NAME = \"dxdblclick\";\r\nexports.name = DBLCLICK_EVENT_NAME;\r\nvar DBLCLICK_NAMESPACE = \"dxDblClick\";\r\nvar NAMESPACED_CLICK_EVENT = (0, _index.addNamespace)(_click.name, DBLCLICK_NAMESPACE);\r\nvar DBLCLICK_TIMEOUT = 300;\r\nvar DblClick = _class.default.inherit({\r\n    ctor: function() {\r\n        this._handlerCount = 0;\r\n        this._forgetLastClick()\r\n    },\r\n    _forgetLastClick: function() {\r\n        this._firstClickTarget = null;\r\n        this._lastClickTimeStamp = -DBLCLICK_TIMEOUT\r\n    },\r\n    add: function() {\r\n        if (this._handlerCount <= 0) {\r\n            _events_engine.default.on(_dom_adapter.default.getDocument(), NAMESPACED_CLICK_EVENT, this._clickHandler.bind(this))\r\n        }\r\n        this._handlerCount++\r\n    },\r\n    _clickHandler: function(e) {\r\n        var timeStamp = e.timeStamp || Date.now();\r\n        var timeBetweenClicks = timeStamp - this._lastClickTimeStamp;\r\n        var isSimulated = timeBetweenClicks < 0;\r\n        var isDouble = !isSimulated && timeBetweenClicks < DBLCLICK_TIMEOUT;\r\n        if (isDouble) {\r\n            (0, _index.fireEvent)({\r\n                type: DBLCLICK_EVENT_NAME,\r\n                target: (0, _dom.closestCommonParent)(this._firstClickTarget, e.target),\r\n                originalEvent: e\r\n            });\r\n            this._forgetLastClick()\r\n        } else {\r\n            this._firstClickTarget = e.target;\r\n            this._lastClickTimeStamp = timeStamp\r\n        }\r\n    },\r\n    remove: function() {\r\n        this._handlerCount--;\r\n        if (this._handlerCount <= 0) {\r\n            this._forgetLastClick();\r\n            _events_engine.default.off(_dom_adapter.default.getDocument(), NAMESPACED_CLICK_EVENT)\r\n        }\r\n    }\r\n});\r\n(0, _event_registrator.default)(DBLCLICK_EVENT_NAME, new DblClick);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.accessibility.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nexports.registerKeyboardAction = void 0;\r\nvar accessibility = _interopRequireWildcard(require(\"../../ui/shared/accessibility\"));\r\n\r\nfunction _getRequireWildcardCache() {\r\n    if (\"function\" !== typeof WeakMap) {\r\n        return null\r\n    }\r\n    var cache = new WeakMap;\r\n    _getRequireWildcardCache = function() {\r\n        return cache\r\n    };\r\n    return cache\r\n}\r\n\r\nfunction _interopRequireWildcard(obj) {\r\n    if (obj && obj.__esModule) {\r\n        return obj\r\n    }\r\n    if (null === obj || \"object\" !== _typeof(obj) && \"function\" !== typeof obj) {\r\n        return {\r\n            \"default\": obj\r\n        }\r\n    }\r\n    var cache = _getRequireWildcardCache();\r\n    if (cache && cache.has(obj)) {\r\n        return cache.get(obj)\r\n    }\r\n    var newObj = {};\r\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\r\n    for (var key in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\r\n            if (desc && (desc.get || desc.set)) {\r\n                Object.defineProperty(newObj, key, desc)\r\n            } else {\r\n                newObj[key] = obj[key]\r\n            }\r\n        }\r\n    }\r\n    newObj.default = obj;\r\n    if (cache) {\r\n        cache.set(obj, newObj)\r\n    }\r\n    return newObj\r\n}\r\nvar registerKeyboardAction = function(viewName, instance, $element, selector, action) {\r\n    var keyboardController = instance.getController(\"keyboardNavigation\");\r\n    if (instance.option(\"useLegacyKeyboardNavigation\") || keyboardController && !keyboardController.isKeyboardEnabled()) {\r\n        return\r\n    }\r\n    var executeKeyDown = function(args) {\r\n        instance.executeAction(\"onKeyDown\", args)\r\n    };\r\n    instance.createAction(\"onKeyDown\");\r\n    accessibility.registerKeyboardAction(viewName, instance, $element, selector, action, executeKeyDown)\r\n};\r\nexports.registerKeyboardAction = registerKeyboardAction;\r\n","/**\r\n * DevExtreme (ui/context_menu.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _ui = _interopRequireDefault(require(\"./context_menu/ui.context_menu\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar _default = _ui.default;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\nmodule.exports.default = module.exports;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.utils.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.createGroupFilter = createGroupFilter;\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.utils\"));\r\nvar _utils = _interopRequireDefault(require(\"../../data/utils\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction createGroupFilter(path, storeLoadOptions) {\r\n    var groups = _utils.default.normalizeSortingInfo(storeLoadOptions.group);\r\n    var filter = [];\r\n    for (var i = 0; i < path.length; i++) {\r\n        filter.push([groups[i].selector, \"=\", path[i]])\r\n    }\r\n    if (storeLoadOptions.filter) {\r\n        filter.push(storeLoadOptions.filter)\r\n    }\r\n    return _uiGrid_core.default.combineFilters(filter)\r\n}\r\n","/**\r\n * DevExtreme (format_helper.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _type = require(\"./core/utils/type\");\r\nvar _date = _interopRequireDefault(require(\"./core/utils/date\"));\r\nvar _number = _interopRequireDefault(require(\"./localization/number\"));\r\nvar _date2 = _interopRequireDefault(require(\"./localization/date\"));\r\nvar _dependency_injector = _interopRequireDefault(require(\"./core/utils/dependency_injector\"));\r\nrequire(\"./localization/currency\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar _default = (0, _dependency_injector.default)({\r\n    format: function(value, _format) {\r\n        var formatIsValid = (0, _type.isString)(_format) && \"\" !== _format || (0, _type.isPlainObject)(_format) || (0, _type.isFunction)(_format);\r\n        var valueIsValid = (0, _type.isNumeric)(value) || (0, _type.isDate)(value);\r\n        if (!formatIsValid || !valueIsValid) {\r\n            return (0, _type.isDefined)(value) ? value.toString() : \"\"\r\n        }\r\n        if ((0, _type.isFunction)(_format)) {\r\n            return _format(value)\r\n        }\r\n        if ((0, _type.isString)(_format)) {\r\n            _format = {\r\n                type: _format\r\n            }\r\n        }\r\n        if ((0, _type.isNumeric)(value)) {\r\n            return _number.default.format(value, _format)\r\n        }\r\n        if ((0, _type.isDate)(value)) {\r\n            return _date2.default.format(value, _format)\r\n        }\r\n    },\r\n    getTimeFormat: function(showSecond) {\r\n        return showSecond ? \"longtime\" : \"shorttime\"\r\n    },\r\n    _normalizeFormat: function(format) {\r\n        if (!Array.isArray(format)) {\r\n            return format\r\n        }\r\n        if (1 === format.length) {\r\n            return format[0]\r\n        }\r\n        return function(date) {\r\n            return format.map(function(formatPart) {\r\n                return _date2.default.format(date, formatPart)\r\n            }).join(\" \")\r\n        }\r\n    },\r\n    getDateFormatByDifferences: function(dateDifferences, intervalFormat) {\r\n        var resultFormat = [];\r\n        var needSpecialSecondFormatter = intervalFormat && dateDifferences.millisecond && !(dateDifferences.year || dateDifferences.month || dateDifferences.day);\r\n        if (needSpecialSecondFormatter) {\r\n            var secondFormatter = function(date) {\r\n                return date.getSeconds() + date.getMilliseconds() / 1e3 + \"s\"\r\n            };\r\n            resultFormat.push(secondFormatter)\r\n        } else {\r\n            if (dateDifferences.millisecond) {\r\n                resultFormat.push(\"millisecond\")\r\n            }\r\n        }\r\n        if (dateDifferences.hour || dateDifferences.minute || !needSpecialSecondFormatter && dateDifferences.second) {\r\n            resultFormat.unshift(this.getTimeFormat(dateDifferences.second))\r\n        }\r\n        if (dateDifferences.year && dateDifferences.month && dateDifferences.day) {\r\n            if (intervalFormat && \"month\" === intervalFormat) {\r\n                return \"monthandyear\"\r\n            } else {\r\n                resultFormat.unshift(\"shortdate\");\r\n                return this._normalizeFormat(resultFormat)\r\n            }\r\n        }\r\n        if (dateDifferences.year && dateDifferences.month) {\r\n            return \"monthandyear\"\r\n        }\r\n        if (dateDifferences.year && dateDifferences.quarter) {\r\n            return \"quarterandyear\"\r\n        }\r\n        if (dateDifferences.year) {\r\n            return \"year\"\r\n        }\r\n        if (dateDifferences.quarter) {\r\n            return \"quarter\"\r\n        }\r\n        if (dateDifferences.month && dateDifferences.day) {\r\n            if (intervalFormat) {\r\n                var monthDayFormatter = function(date) {\r\n                    return _date2.default.getMonthNames(\"abbreviated\")[date.getMonth()] + \" \" + _date2.default.format(date, \"day\")\r\n                };\r\n                resultFormat.unshift(monthDayFormatter)\r\n            } else {\r\n                resultFormat.unshift(\"monthandday\")\r\n            }\r\n            return this._normalizeFormat(resultFormat)\r\n        }\r\n        if (dateDifferences.month) {\r\n            return \"month\"\r\n        }\r\n        if (dateDifferences.day) {\r\n            if (intervalFormat) {\r\n                resultFormat.unshift(\"day\")\r\n            } else {\r\n                var dayFormatter = function(date) {\r\n                    return _date2.default.format(date, \"dayofweek\") + \", \" + _date2.default.format(date, \"day\")\r\n                };\r\n                resultFormat.unshift(dayFormatter)\r\n            }\r\n            return this._normalizeFormat(resultFormat)\r\n        }\r\n        return this._normalizeFormat(resultFormat)\r\n    },\r\n    getDateFormatByTicks: function(ticks) {\r\n        var maxDiff;\r\n        var currentDiff;\r\n        var i;\r\n        if (ticks.length > 1) {\r\n            maxDiff = _date.default.getDatesDifferences(ticks[0], ticks[1]);\r\n            for (i = 1; i < ticks.length - 1; i++) {\r\n                currentDiff = _date.default.getDatesDifferences(ticks[i], ticks[i + 1]);\r\n                if (maxDiff.count < currentDiff.count) {\r\n                    maxDiff = currentDiff\r\n                }\r\n            }\r\n        } else {\r\n            maxDiff = {\r\n                year: true,\r\n                month: true,\r\n                day: true,\r\n                hour: ticks[0].getHours() > 0,\r\n                minute: ticks[0].getMinutes() > 0,\r\n                second: ticks[0].getSeconds() > 0,\r\n                millisecond: ticks[0].getMilliseconds() > 0\r\n            }\r\n        }\r\n        var resultFormat = this.getDateFormatByDifferences(maxDiff);\r\n        return resultFormat\r\n    },\r\n    getDateFormatByTickInterval: function(startValue, endValue, tickInterval) {\r\n        var dateUnitInterval;\r\n        var dateDifferencesConverter = {\r\n            week: \"day\"\r\n        };\r\n        var correctDateDifferences = function(dateDifferences, tickInterval, value) {\r\n            switch (tickInterval) {\r\n                case \"year\":\r\n                case \"quarter\":\r\n                    dateDifferences.month = value;\r\n                case \"month\":\r\n                    dateDifferences.day = value;\r\n                case \"week\":\r\n                case \"day\":\r\n                    dateDifferences.hour = value;\r\n                case \"hour\":\r\n                    dateDifferences.minute = value;\r\n                case \"minute\":\r\n                    dateDifferences.second = value;\r\n                case \"second\":\r\n                    dateDifferences.millisecond = value\r\n            }\r\n        };\r\n        var correctDifferencesByMaxDate = function(differences, minDate, maxDate) {\r\n            if (!maxDate.getMilliseconds() && maxDate.getSeconds()) {\r\n                if (maxDate.getSeconds() - minDate.getSeconds() === 1) {\r\n                    differences.millisecond = true;\r\n                    differences.second = false\r\n                }\r\n            } else {\r\n                if (!maxDate.getSeconds() && maxDate.getMinutes()) {\r\n                    if (maxDate.getMinutes() - minDate.getMinutes() === 1) {\r\n                        differences.second = true;\r\n                        differences.minute = false\r\n                    }\r\n                } else {\r\n                    if (!maxDate.getMinutes() && maxDate.getHours()) {\r\n                        if (maxDate.getHours() - minDate.getHours() === 1) {\r\n                            differences.minute = true;\r\n                            differences.hour = false\r\n                        }\r\n                    } else {\r\n                        if (!maxDate.getHours() && maxDate.getDate() > 1) {\r\n                            if (maxDate.getDate() - minDate.getDate() === 1) {\r\n                                differences.hour = true;\r\n                                differences.day = false\r\n                            }\r\n                        } else {\r\n                            if (1 === maxDate.getDate() && maxDate.getMonth()) {\r\n                                if (maxDate.getMonth() - minDate.getMonth() === 1) {\r\n                                    differences.day = true;\r\n                                    differences.month = false\r\n                                }\r\n                            } else {\r\n                                if (!maxDate.getMonth() && maxDate.getFullYear()) {\r\n                                    if (maxDate.getFullYear() - minDate.getFullYear() === 1) {\r\n                                        differences.month = true;\r\n                                        differences.year = false\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        tickInterval = (0, _type.isString)(tickInterval) ? tickInterval.toLowerCase() : tickInterval;\r\n        var dateDifferences = _date.default.getDatesDifferences(startValue, endValue);\r\n        if (startValue !== endValue) {\r\n            correctDifferencesByMaxDate(dateDifferences, startValue > endValue ? endValue : startValue, startValue > endValue ? startValue : endValue)\r\n        }\r\n        dateUnitInterval = _date.default.getDateUnitInterval(dateDifferences);\r\n        correctDateDifferences(dateDifferences, dateUnitInterval, true);\r\n        dateUnitInterval = _date.default.getDateUnitInterval(tickInterval || \"second\");\r\n        correctDateDifferences(dateDifferences, dateUnitInterval, false);\r\n        dateDifferences[dateDifferencesConverter[dateUnitInterval] || dateUnitInterval] = true;\r\n        var resultFormat = this.getDateFormatByDifferences(dateDifferences);\r\n        return resultFormat\r\n    }\r\n});\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/context_menu/ui.menu_base.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _utils = require(\"../widget/utils.ink_ripple\");\r\nvar _ui = _interopRequireDefault(require(\"../hierarchical_collection/ui.hierarchical_collection_widget\"));\r\nvar _uiMenu_baseEdit = _interopRequireDefault(require(\"./ui.menu_base.edit.strategy\"));\r\nvar _devices = _interopRequireDefault(require(\"../../core/devices\"));\r\nvar _item = _interopRequireDefault(require(\"../collection/item\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _get(target, property, receiver) {\r\n    if (\"undefined\" !== typeof Reflect && Reflect.get) {\r\n        _get = Reflect.get\r\n    } else {\r\n        _get = function(target, property, receiver) {\r\n            var base = _superPropBase(target, property);\r\n            if (!base) {\r\n                return\r\n            }\r\n            var desc = Object.getOwnPropertyDescriptor(base, property);\r\n            if (desc.get) {\r\n                return desc.get.call(receiver)\r\n            }\r\n            return desc.value\r\n        }\r\n    }\r\n    return _get(target, property, receiver || target)\r\n}\r\n\r\nfunction _superPropBase(object, property) {\r\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n        object = _getPrototypeOf(object);\r\n        if (null === object) {\r\n            break\r\n        }\r\n    }\r\n    return object\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\n\r\nfunction _createSuper(Derived) {\r\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\r\n    return function() {\r\n        var result, Super = _getPrototypeOf(Derived);\r\n        if (hasNativeReflectConstruct) {\r\n            var NewTarget = _getPrototypeOf(this).constructor;\r\n            result = Reflect.construct(Super, arguments, NewTarget)\r\n        } else {\r\n            result = Super.apply(this, arguments)\r\n        }\r\n        return _possibleConstructorReturn(this, result)\r\n    }\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _isNativeReflectConstruct() {\r\n    if (\"undefined\" === typeof Reflect || !Reflect.construct) {\r\n        return false\r\n    }\r\n    if (Reflect.construct.sham) {\r\n        return false\r\n    }\r\n    if (\"function\" === typeof Proxy) {\r\n        return true\r\n    }\r\n    try {\r\n        Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\r\n        return true\r\n    } catch (e) {\r\n        return false\r\n    }\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\nvar DX_MENU_CLASS = \"dx-menu\";\r\nvar DX_MENU_NO_ICONS_CLASS = DX_MENU_CLASS + \"-no-icons\";\r\nvar DX_MENU_BASE_CLASS = \"dx-menu-base\";\r\nvar ITEM_CLASS = DX_MENU_CLASS + \"-item\";\r\nvar DX_ITEM_CONTENT_CLASS = ITEM_CLASS + \"-content\";\r\nvar DX_MENU_SELECTED_ITEM_CLASS = ITEM_CLASS + \"-selected\";\r\nvar DX_MENU_ITEM_WRAPPER_CLASS = ITEM_CLASS + \"-wrapper\";\r\nvar DX_MENU_ITEMS_CONTAINER_CLASS = DX_MENU_CLASS + \"-items-container\";\r\nvar DX_MENU_ITEM_EXPANDED_CLASS = ITEM_CLASS + \"-expanded\";\r\nvar DX_MENU_SEPARATOR_CLASS = DX_MENU_CLASS + \"-separator\";\r\nvar DX_MENU_ITEM_LAST_GROUP_ITEM = DX_MENU_CLASS + \"-last-group-item\";\r\nvar DX_ITEM_HAS_TEXT = ITEM_CLASS + \"-has-text\";\r\nvar DX_ITEM_HAS_ICON = ITEM_CLASS + \"-has-icon\";\r\nvar DX_ITEM_HAS_SUBMENU = ITEM_CLASS + \"-has-submenu\";\r\nvar DX_MENU_ITEM_POPOUT_CLASS = ITEM_CLASS + \"-popout\";\r\nvar DX_MENU_ITEM_POPOUT_CONTAINER_CLASS = DX_MENU_ITEM_POPOUT_CLASS + \"-container\";\r\nvar DX_MENU_ITEM_CAPTION_CLASS = ITEM_CLASS + \"-text\";\r\nvar SINGLE_SELECTION_MODE = \"single\";\r\nvar DEFAULT_DELAY = {\r\n    show: 50,\r\n    hide: 300\r\n};\r\nvar MenuBase = function(_HierarchicalCollecti) {\r\n    _inherits(MenuBase, _HierarchicalCollecti);\r\n    var _super = _createSuper(MenuBase);\r\n\r\n    function MenuBase() {\r\n        _classCallCheck(this, MenuBase);\r\n        return _super.apply(this, arguments)\r\n    }\r\n    _createClass(MenuBase, [{\r\n        key: \"_getDefaultOptions\",\r\n        value: function() {\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(MenuBase.prototype), \"_getDefaultOptions\", this).call(this), {\r\n                items: [],\r\n                cssClass: \"\",\r\n                activeStateEnabled: true,\r\n                showSubmenuMode: {\r\n                    name: \"onHover\",\r\n                    delay: {\r\n                        show: 50,\r\n                        hide: 300\r\n                    }\r\n                },\r\n                animation: {\r\n                    show: {\r\n                        type: \"fade\",\r\n                        from: 0,\r\n                        to: 1,\r\n                        duration: 100\r\n                    },\r\n                    hide: {\r\n                        type: \"fade\",\r\n                        from: 1,\r\n                        to: 0,\r\n                        duration: 100\r\n                    }\r\n                },\r\n                selectByClick: false,\r\n                focusOnSelectedItem: false,\r\n                keyExpr: null,\r\n                _itemAttributes: {\r\n                    role: \"menuitem\"\r\n                },\r\n                useInkRipple: false\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_itemDataKey\",\r\n        value: function() {\r\n            return \"dxMenuItemDataKey\"\r\n        }\r\n    }, {\r\n        key: \"_itemClass\",\r\n        value: function() {\r\n            return ITEM_CLASS\r\n        }\r\n    }, {\r\n        key: \"_setAriaSelected\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"_selectedItemClass\",\r\n        value: function() {\r\n            return DX_MENU_SELECTED_ITEM_CLASS\r\n        }\r\n    }, {\r\n        key: \"_widgetClass\",\r\n        value: function() {\r\n            return DX_MENU_BASE_CLASS\r\n        }\r\n    }, {\r\n        key: \"_focusTarget\",\r\n        value: function() {\r\n            return this._itemContainer()\r\n        }\r\n    }, {\r\n        key: \"_clean\",\r\n        value: function() {\r\n            this.option(\"focusedElement\", null);\r\n            _get(_getPrototypeOf(MenuBase.prototype), \"_clean\", this).call(this)\r\n        }\r\n    }, {\r\n        key: \"_supportedKeys\",\r\n        value: function() {\r\n            var _this = this;\r\n            var selectItem = function() {\r\n                var $item = (0, _renderer.default)(_this.option(\"focusedElement\"));\r\n                if (!$item.length || !_this._isSelectionEnabled()) {\r\n                    return\r\n                }\r\n                _this.selectItem($item[0])\r\n            };\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(MenuBase.prototype), \"_supportedKeys\", this).call(this), {\r\n                space: selectItem,\r\n                pageUp: _common.noop,\r\n                pageDown: _common.noop\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_isSelectionEnabled\",\r\n        value: function() {\r\n            return this.option(\"selectionMode\") === SINGLE_SELECTION_MODE\r\n        }\r\n    }, {\r\n        key: \"_init\",\r\n        value: function() {\r\n            this._activeStateUnit = \".\".concat(ITEM_CLASS);\r\n            _get(_getPrototypeOf(MenuBase.prototype), \"_init\", this).call(this);\r\n            this._renderSelectedItem();\r\n            this._initActions()\r\n        }\r\n    }, {\r\n        key: \"_getTextContainer\",\r\n        value: function(itemData) {\r\n            var itemText = itemData.text;\r\n            var $itemContainer = (0, _renderer.default)(\"<span>\").addClass(DX_MENU_ITEM_CAPTION_CLASS);\r\n            var itemContent = (0, _type.isPlainObject)(itemData) ? itemText : String(itemData);\r\n            return itemText && $itemContainer.text(itemContent)\r\n        }\r\n    }, {\r\n        key: \"_getPopoutContainer\",\r\n        value: function(itemData) {\r\n            var items = itemData.items;\r\n            var $popOutContainer;\r\n            if (items && items.length) {\r\n                var $popOutImage = (0, _renderer.default)(\"<div>\").addClass(DX_MENU_ITEM_POPOUT_CLASS);\r\n                $popOutContainer = (0, _renderer.default)(\"<span>\").addClass(DX_MENU_ITEM_POPOUT_CONTAINER_CLASS).append($popOutImage)\r\n            }\r\n            return $popOutContainer\r\n        }\r\n    }, {\r\n        key: \"_getDataAdapterOptions\",\r\n        value: function() {\r\n            return {\r\n                rootValue: 0,\r\n                multipleSelection: false,\r\n                recursiveSelection: false,\r\n                recursiveExpansion: false,\r\n                searchValue: \"\"\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_selectByItem\",\r\n        value: function(selectedItem) {\r\n            if (!selectedItem) {\r\n                return\r\n            }\r\n            var nodeToSelect = this._dataAdapter.getNodeByItem(selectedItem);\r\n            this._dataAdapter.toggleSelection(nodeToSelect.internalFields.key, true)\r\n        }\r\n    }, {\r\n        key: \"_renderSelectedItem\",\r\n        value: function() {\r\n            var selectedKeys = this._dataAdapter.getSelectedNodesKeys();\r\n            var selectedKey = selectedKeys.length && selectedKeys[0];\r\n            var selectedItem = this.option(\"selectedItem\");\r\n            if (!selectedKey) {\r\n                this._selectByItem(selectedItem);\r\n                return\r\n            }\r\n            var node = this._dataAdapter.getNodeByKey(selectedKey);\r\n            if (false === node.selectable) {\r\n                return\r\n            }\r\n            if (!selectedItem) {\r\n                this.option(\"selectedItem\", node.internalFields.item);\r\n                return\r\n            }\r\n            if (selectedItem !== node.internalFields.item) {\r\n                this._dataAdapter.toggleSelection(selectedKey, false);\r\n                this._selectByItem(selectedItem)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_initActions\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"_initMarkup\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(MenuBase.prototype), \"_initMarkup\", this).call(this);\r\n            this._addCustomCssClass(this.$element());\r\n            this.option(\"useInkRipple\") && this._renderInkRipple()\r\n        }\r\n    }, {\r\n        key: \"_renderInkRipple\",\r\n        value: function() {\r\n            this._inkRipple = (0, _utils.render)()\r\n        }\r\n    }, {\r\n        key: \"_toggleActiveState\",\r\n        value: function($element, value, e) {\r\n            _get(_getPrototypeOf(MenuBase.prototype), \"_toggleActiveState\", this).apply(this, arguments);\r\n            if (!this._inkRipple) {\r\n                return\r\n            }\r\n            var config = {\r\n                element: $element,\r\n                event: e\r\n            };\r\n            if (value) {\r\n                this._inkRipple.showWave(config)\r\n            } else {\r\n                this._inkRipple.hideWave(config)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getShowSubmenuMode\",\r\n        value: function() {\r\n            var defaultValue = \"onClick\";\r\n            var optionValue = this.option(\"showSubmenuMode\");\r\n            optionValue = (0, _type.isObject)(optionValue) ? optionValue.name : optionValue;\r\n            return this._isDesktopDevice() ? optionValue : defaultValue\r\n        }\r\n    }, {\r\n        key: \"_initSelectedItems\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"_isDesktopDevice\",\r\n        value: function() {\r\n            return \"desktop\" === _devices.default.real().deviceType\r\n        }\r\n    }, {\r\n        key: \"_initEditStrategy\",\r\n        value: function() {\r\n            var Strategy = _uiMenu_baseEdit.default;\r\n            this._editStrategy = new Strategy(this)\r\n        }\r\n    }, {\r\n        key: \"_addCustomCssClass\",\r\n        value: function($element) {\r\n            $element.addClass(this.option(\"cssClass\"))\r\n        }\r\n    }, {\r\n        key: \"_itemWrapperSelector\",\r\n        value: function() {\r\n            return \".\".concat(DX_MENU_ITEM_WRAPPER_CLASS)\r\n        }\r\n    }, {\r\n        key: \"_hoverStartHandler\",\r\n        value: function(e) {\r\n            var $itemElement = this._getItemElementByEventArgs(e);\r\n            if (!$itemElement || this._isItemDisabled($itemElement)) {\r\n                return\r\n            }\r\n            e.stopPropagation();\r\n            if (\"onHover\" === this._getShowSubmenuMode()) {\r\n                clearTimeout(this._showSubmenusTimeout);\r\n                this._showSubmenusTimeout = setTimeout(this._showSubmenu.bind(this, $itemElement), this._getSubmenuDelay(\"show\"))\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getAvailableItems\",\r\n        value: function($itemElements) {\r\n            return _get(_getPrototypeOf(MenuBase.prototype), \"_getAvailableItems\", this).call(this, $itemElements).filter(function() {\r\n                return \"hidden\" !== (0, _renderer.default)(this).css(\"visibility\")\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_isItemDisabled\",\r\n        value: function($item) {\r\n            return this._disabledGetter($item.data(this._itemDataKey()))\r\n        }\r\n    }, {\r\n        key: \"_showSubmenu\",\r\n        value: function($itemElement) {\r\n            this._addExpandedClass($itemElement)\r\n        }\r\n    }, {\r\n        key: \"_addExpandedClass\",\r\n        value: function(itemElement) {\r\n            (0, _renderer.default)(itemElement).addClass(DX_MENU_ITEM_EXPANDED_CLASS)\r\n        }\r\n    }, {\r\n        key: \"_getSubmenuDelay\",\r\n        value: function(action) {\r\n            var _this$option = this.option(\"showSubmenuMode\"),\r\n                delay = _this$option.delay;\r\n            if (!(0, _type.isDefined)(delay)) {\r\n                return DEFAULT_DELAY[action]\r\n            }\r\n            return (0, _type.isObject)(delay) ? delay[action] : delay\r\n        }\r\n    }, {\r\n        key: \"_getItemElementByEventArgs\",\r\n        value: function(eventArgs) {\r\n            var $target = (0, _renderer.default)(eventArgs.target);\r\n            if ($target.hasClass(this._itemClass()) || $target.get(0) === eventArgs.currentTarget) {\r\n                return $target\r\n            }\r\n            while (!$target.hasClass(this._itemClass())) {\r\n                $target = $target.parent();\r\n                if ($target.hasClass(\"dx-submenu\")) {\r\n                    return null\r\n                }\r\n            }\r\n            return $target\r\n        }\r\n    }, {\r\n        key: \"_hoverEndHandler\",\r\n        value: function() {\r\n            clearTimeout(this._showSubmenusTimeout)\r\n        }\r\n    }, {\r\n        key: \"_hasSubmenu\",\r\n        value: function(node) {\r\n            return node && node.internalFields.childrenKeys.length\r\n        }\r\n    }, {\r\n        key: \"_renderContentImpl\",\r\n        value: function() {\r\n            this._renderItems(this._dataAdapter.getRootNodes())\r\n        }\r\n    }, {\r\n        key: \"_renderItems\",\r\n        value: function(nodes, submenuContainer) {\r\n            var _this2 = this;\r\n            if (nodes.length) {\r\n                this.hasIcons = false;\r\n                var $nodeContainer = this._renderContainer(this.$element(), submenuContainer);\r\n                var firstVisibleIndex = -1;\r\n                var nextGroupFirstIndex = -1;\r\n                (0, _iterator.each)(nodes, function(index, node) {\r\n                    var isVisibleNode = false !== node.visible;\r\n                    if (isVisibleNode && firstVisibleIndex < 0) {\r\n                        firstVisibleIndex = index\r\n                    }\r\n                    var isBeginGroup = firstVisibleIndex < index && (node.beginGroup || index === nextGroupFirstIndex);\r\n                    if (isBeginGroup) {\r\n                        nextGroupFirstIndex = isVisibleNode ? index : index + 1\r\n                    }\r\n                    if (index === nextGroupFirstIndex && firstVisibleIndex < index) {\r\n                        _this2._renderSeparator($nodeContainer)\r\n                    }\r\n                    _this2._renderItem(index, node, $nodeContainer)\r\n                });\r\n                if (!this.hasIcons) {\r\n                    $nodeContainer.addClass(DX_MENU_NO_ICONS_CLASS)\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_renderContainer\",\r\n        value: function($wrapper) {\r\n            var $container = (0, _renderer.default)(\"<ul>\");\r\n            this.setAria(\"role\", \"none\", $container);\r\n            return $container.appendTo($wrapper).addClass(DX_MENU_ITEMS_CONTAINER_CLASS)\r\n        }\r\n    }, {\r\n        key: \"_createDOMElement\",\r\n        value: function($nodeContainer) {\r\n            var $node = (0, _renderer.default)(\"<li>\");\r\n            this.setAria(\"role\", \"none\", $node);\r\n            return $node.appendTo($nodeContainer).addClass(DX_MENU_ITEM_WRAPPER_CLASS)\r\n        }\r\n    }, {\r\n        key: \"_renderItem\",\r\n        value: function(index, node, $nodeContainer, $nodeElement) {\r\n            var items = this.option(\"items\");\r\n            var $node = $nodeElement || this._createDOMElement($nodeContainer);\r\n            if (items[index + 1] && items[index + 1].beginGroup) {\r\n                $node.addClass(DX_MENU_ITEM_LAST_GROUP_ITEM)\r\n            }\r\n            var $itemFrame = _get(_getPrototypeOf(MenuBase.prototype), \"_renderItem\", this).call(this, index, node.internalFields.item, $node);\r\n            if (node.internalFields.item === this.option(\"selectedItem\")) {\r\n                $itemFrame.addClass(DX_MENU_SELECTED_ITEM_CLASS)\r\n            }\r\n            $itemFrame.attr(\"tabIndex\", -1);\r\n            if (this._hasSubmenu(node)) {\r\n                this.setAria(\"haspopup\", \"true\", $itemFrame)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_renderItemFrame\",\r\n        value: function(index, itemData, $itemContainer) {\r\n            var $itemFrame = $itemContainer.children(\".\".concat(ITEM_CLASS));\r\n            return $itemFrame.length ? $itemFrame : _get(_getPrototypeOf(MenuBase.prototype), \"_renderItemFrame\", this).apply(this, arguments)\r\n        }\r\n    }, {\r\n        key: \"_refreshItem\",\r\n        value: function($item, item) {\r\n            var node = this._dataAdapter.getNodeByItem(item);\r\n            var index = $item.data(this._itemIndexKey());\r\n            var $nodeContainer = $item.closest(\"ul\");\r\n            var $nodeElement = $item.closest(\"li\");\r\n            this._renderItem(index, node, $nodeContainer, $nodeElement)\r\n        }\r\n    }, {\r\n        key: \"_addContentClasses\",\r\n        value: function(itemData, $itemFrame) {\r\n            var hasText = itemData.text ? !!itemData.text.length : false;\r\n            var hasIcon = !!itemData.icon;\r\n            var hasSubmenu = itemData.items ? !!itemData.items.length : false;\r\n            $itemFrame.toggleClass(DX_ITEM_HAS_TEXT, hasText);\r\n            $itemFrame.toggleClass(DX_ITEM_HAS_ICON, hasIcon);\r\n            if (!this.hasIcons) {\r\n                this.hasIcons = hasIcon\r\n            }\r\n            $itemFrame.toggleClass(DX_ITEM_HAS_SUBMENU, hasSubmenu)\r\n        }\r\n    }, {\r\n        key: \"_getItemContent\",\r\n        value: function($itemFrame) {\r\n            var $itemContent = _get(_getPrototypeOf(MenuBase.prototype), \"_getItemContent\", this).call(this, $itemFrame);\r\n            if (!$itemContent.length) {\r\n                $itemContent = $itemFrame.children(\".\".concat(DX_ITEM_CONTENT_CLASS))\r\n            }\r\n            return $itemContent\r\n        }\r\n    }, {\r\n        key: \"_postprocessRenderItem\",\r\n        value: function(args) {\r\n            var $itemElement = (0, _renderer.default)(args.itemElement);\r\n            var selectedIndex = this._dataAdapter.getSelectedNodesKeys();\r\n            if (!selectedIndex.length || !this._selectedGetter(args.itemData) || !this._isItemSelectable(args.itemData)) {\r\n                this._setAriaSelected($itemElement, \"false\");\r\n                return\r\n            }\r\n            var node = this._dataAdapter.getNodeByItem(args.itemData);\r\n            if (node.internalFields.key === selectedIndex[0]) {\r\n                $itemElement.addClass(this._selectedItemClass());\r\n                this._setAriaSelected($itemElement, \"true\")\r\n            } else {\r\n                this._setAriaSelected($itemElement, \"false\")\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_isItemSelectable\",\r\n        value: function(item) {\r\n            return false !== item.selectable\r\n        }\r\n    }, {\r\n        key: \"_renderSeparator\",\r\n        value: function($itemsContainer) {\r\n            (0, _renderer.default)(\"<li>\").appendTo($itemsContainer).addClass(DX_MENU_SEPARATOR_CLASS)\r\n        }\r\n    }, {\r\n        key: \"_itemClickHandler\",\r\n        value: function(e) {\r\n            if (e._skipHandling) {\r\n                return\r\n            }\r\n            var itemClickActionHandler = this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));\r\n            this._itemDXEventHandler(e, \"onItemClick\", {}, {\r\n                afterExecute: itemClickActionHandler.bind(this)\r\n            });\r\n            e._skipHandling = true\r\n        }\r\n    }, {\r\n        key: \"_updateSubmenuVisibilityOnClick\",\r\n        value: function(actionArgs) {\r\n            this._updateSelectedItemOnClick(actionArgs);\r\n            if (\"onClick\" === this._getShowSubmenuMode()) {\r\n                this._addExpandedClass(actionArgs.args[0].itemElement)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_updateSelectedItemOnClick\",\r\n        value: function(actionArgs) {\r\n            var args = actionArgs.args ? actionArgs.args[0] : actionArgs;\r\n            if (!this._isItemSelectionAllowed(args.itemData)) {\r\n                return\r\n            }\r\n            var selectedItemKey = this._dataAdapter.getSelectedNodesKeys();\r\n            var selectedNode = selectedItemKey.length && this._dataAdapter.getNodeByKey(selectedItemKey[0]);\r\n            if (selectedNode) {\r\n                this._toggleItemSelection(selectedNode, false)\r\n            }\r\n            if (!selectedNode || selectedNode.internalFields.item !== args.itemData) {\r\n                this.selectItem(args.itemData)\r\n            } else {\r\n                this._fireSelectionChangeEvent(null, this.option(\"selectedItem\"));\r\n                this._setOptionWithoutOptionChange(\"selectedItem\", null)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_isItemSelectionAllowed\",\r\n        value: function(item) {\r\n            var isSelectionByClickEnabled = this._isSelectionEnabled() && this.option(\"selectByClick\");\r\n            return !this._isContainerEmpty() && isSelectionByClickEnabled && this._isItemSelectable(item) && !this._itemsGetter(item)\r\n        }\r\n    }, {\r\n        key: \"_isContainerEmpty\",\r\n        value: function() {\r\n            return this._itemContainer().is(\":empty\")\r\n        }\r\n    }, {\r\n        key: \"_syncSelectionOptions\",\r\n        value: function() {\r\n            return (0, _common.asyncNoop)()\r\n        }\r\n    }, {\r\n        key: \"_optionChanged\",\r\n        value: function(args) {\r\n            switch (args.name) {\r\n                case \"showSubmenuMode\":\r\n                    break;\r\n                case \"selectedItem\":\r\n                    var node = this._dataAdapter.getNodeByItem(args.value);\r\n                    var selectedKey = this._dataAdapter.getSelectedNodesKeys()[0];\r\n                    if (node && node.internalFields.key !== selectedKey) {\r\n                        if (false === node.selectable) {\r\n                            break\r\n                        }\r\n                        if (selectedKey) {\r\n                            this._toggleItemSelection(this._dataAdapter.getNodeByKey(selectedKey), false)\r\n                        }\r\n                        this._toggleItemSelection(node, true);\r\n                        this._updateSelectedItems()\r\n                    }\r\n                    break;\r\n                case \"cssClass\":\r\n                case \"position\":\r\n                case \"selectByClick\":\r\n                case \"animation\":\r\n                case \"useInkRipple\":\r\n                    this._invalidate();\r\n                    break;\r\n                default:\r\n                    _get(_getPrototypeOf(MenuBase.prototype), \"_optionChanged\", this).call(this, args)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_toggleItemSelection\",\r\n        value: function(node, value) {\r\n            var itemElement = this._getElementByItem(node.internalFields.item);\r\n            itemElement && (0, _renderer.default)(itemElement).toggleClass(DX_MENU_SELECTED_ITEM_CLASS);\r\n            this._dataAdapter.toggleSelection(node.internalFields.key, value)\r\n        }\r\n    }, {\r\n        key: \"_getElementByItem\",\r\n        value: function(itemData) {\r\n            var _this3 = this;\r\n            var result;\r\n            (0, _iterator.each)(this._itemElements(), function(_, itemElement) {\r\n                if ((0, _renderer.default)(itemElement).data(_this3._itemDataKey()) !== itemData) {\r\n                    return true\r\n                }\r\n                result = itemElement;\r\n                return false\r\n            });\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"_updateSelectedItems\",\r\n        value: function(oldSelection, newSelection) {\r\n            if (oldSelection || newSelection) {\r\n                this._fireSelectionChangeEvent(newSelection, oldSelection)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_fireSelectionChangeEvent\",\r\n        value: function(addedSelection, removedSelection) {\r\n            this._createActionByOption(\"onSelectionChanged\", {\r\n                excludeValidators: [\"disabled\", \"readOnly\"]\r\n            })({\r\n                addedItems: [addedSelection],\r\n                removedItems: [removedSelection]\r\n            })\r\n        }\r\n    }, {\r\n        key: \"selectItem\",\r\n        value: function(itemElement) {\r\n            var itemData = itemElement.nodeType ? this._getItemData(itemElement) : itemElement;\r\n            var selectedKey = this._dataAdapter.getSelectedNodesKeys()[0];\r\n            var selectedItem = this.option(\"selectedItem\");\r\n            var node = this._dataAdapter.getNodeByItem(itemData);\r\n            if (node.internalFields.key !== selectedKey) {\r\n                if (selectedKey) {\r\n                    this._toggleItemSelection(this._dataAdapter.getNodeByKey(selectedKey), false)\r\n                }\r\n                this._toggleItemSelection(node, true);\r\n                this._updateSelectedItems(selectedItem, itemData);\r\n                this._setOptionWithoutOptionChange(\"selectedItem\", itemData)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"unselectItem\",\r\n        value: function(itemElement) {\r\n            var itemData = itemElement.nodeType ? this._getItemData(itemElement) : itemElement;\r\n            var node = this._dataAdapter.getNodeByItem(itemData);\r\n            var selectedItem = this.option(\"selectedItem\");\r\n            if (node.internalFields.selected) {\r\n                this._toggleItemSelection(node, false);\r\n                this._updateSelectedItems(selectedItem, null);\r\n                this._setOptionWithoutOptionChange(\"selectedItem\", null)\r\n            }\r\n        }\r\n    }]);\r\n    return MenuBase\r\n}(_ui.default);\r\nMenuBase.ItemClass = _item.default;\r\nvar _default = MenuBase;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/hierarchical_collection/ui.hierarchical_collection_widget.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _data = require(\"../../core/utils/data\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _devices = _interopRequireDefault(require(\"../../core/devices\"));\r\nvar _icon = require(\"../../core/utils/icon\");\r\nvar _ui = _interopRequireDefault(require(\"./ui.data_adapter\"));\r\nvar _uiCollection_widget = _interopRequireDefault(require(\"../collection/ui.collection_widget.edit\"));\r\nvar _bindable_template = require(\"../../core/templates/bindable_template\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _common = require(\"../../core/utils/common\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar DISABLED_STATE_CLASS = \"dx-state-disabled\";\r\nvar HierarchicalCollectionWidget = _uiCollection_widget.default.inherit({\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            keyExpr: \"id\",\r\n            displayExpr: \"text\",\r\n            selectedExpr: \"selected\",\r\n            disabledExpr: \"disabled\",\r\n            itemsExpr: \"items\",\r\n            hoverStateEnabled: true,\r\n            parentIdExpr: \"parentId\",\r\n            expandedExpr: \"expanded\"\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === _devices.default.real().deviceType && !_devices.default.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }])\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._initAccessors();\r\n        this._initDataAdapter();\r\n        this._initDynamicTemplates()\r\n    },\r\n    _initDataSource: function() {\r\n        this.callBase();\r\n        this._dataSource && this._dataSource.paginate(false)\r\n    },\r\n    _initDataAdapter: function() {\r\n        var accessors = this._createDataAdapterAccessors();\r\n        this._dataAdapter = new _ui.default((0, _extend.extend)({\r\n            dataAccessors: {\r\n                getters: accessors.getters,\r\n                setters: accessors.setters\r\n            },\r\n            items: this.option(\"items\")\r\n        }, this._getDataAdapterOptions()))\r\n    },\r\n    _getDataAdapterOptions: _common.noop,\r\n    _initDynamicTemplates: function() {\r\n        var that = this;\r\n        this._templateManager.addDefaultTemplates({\r\n            item: new _bindable_template.BindableTemplate(function($container, itemData) {\r\n                $container.html(itemData.html).append(this._getIconContainer(itemData)).append(this._getTextContainer(itemData)).append(this._getPopoutContainer(itemData));\r\n                that._addContentClasses(itemData, $container.parent())\r\n            }.bind(this), [\"text\", \"html\", \"items\", \"icon\"], this.option(\"integrationOptions.watchMethod\"), {\r\n                text: this._displayGetter,\r\n                items: this._itemsGetter\r\n            })\r\n        })\r\n    },\r\n    _getIconContainer: function(itemData) {\r\n        return itemData.icon ? (0, _icon.getImageContainer)(itemData.icon) : void 0\r\n    },\r\n    _getTextContainer: function(itemData) {\r\n        return (0, _renderer.default)(\"<span>\").text(itemData.text)\r\n    },\r\n    _getPopoutContainer: _common.noop,\r\n    _addContentClasses: _common.noop,\r\n    _initAccessors: function() {\r\n        var that = this;\r\n        (0, _iterator.each)(this._getAccessors(), function(_, accessor) {\r\n            that._compileAccessor(accessor)\r\n        });\r\n        this._compileDisplayGetter()\r\n    },\r\n    _getAccessors: function() {\r\n        return [\"key\", \"selected\", \"items\", \"disabled\", \"parentId\", \"expanded\"]\r\n    },\r\n    _getChildNodes: function(node) {\r\n        var that = this;\r\n        var arr = [];\r\n        (0, _iterator.each)(node.internalFields.childrenKeys, function(_, key) {\r\n            var childNode = that._dataAdapter.getNodeByKey(key);\r\n            arr.push(childNode)\r\n        });\r\n        return arr\r\n    },\r\n    _hasChildren: function(node) {\r\n        return node && node.internalFields.childrenKeys.length\r\n    },\r\n    _compileAccessor: function(optionName) {\r\n        var getter = \"_\" + optionName + \"Getter\";\r\n        var setter = \"_\" + optionName + \"Setter\";\r\n        var optionExpr = this.option(optionName + \"Expr\");\r\n        if (!optionExpr) {\r\n            this[getter] = _common.noop;\r\n            this[setter] = _common.noop;\r\n            return\r\n        } else {\r\n            if ((0, _type.isFunction)(optionExpr)) {\r\n                this[setter] = function(obj, value) {\r\n                    obj[optionExpr()] = value\r\n                };\r\n                this[getter] = function(obj) {\r\n                    return obj[optionExpr()]\r\n                };\r\n                return\r\n            }\r\n        }\r\n        this[getter] = (0, _data.compileGetter)(optionExpr);\r\n        this[setter] = (0, _data.compileSetter)(optionExpr)\r\n    },\r\n    _createDataAdapterAccessors: function() {\r\n        var that = this;\r\n        var accessors = {\r\n            getters: {},\r\n            setters: {}\r\n        };\r\n        (0, _iterator.each)(this._getAccessors(), function(_, accessor) {\r\n            var getterName = \"_\" + accessor + \"Getter\";\r\n            var setterName = \"_\" + accessor + \"Setter\";\r\n            var newAccessor = \"parentId\" === accessor ? \"parentKey\" : accessor;\r\n            accessors.getters[newAccessor] = that[getterName];\r\n            accessors.setters[newAccessor] = that[setterName]\r\n        });\r\n        accessors.getters.display = !this._displayGetter ? function(itemData) {\r\n            return itemData.text\r\n        } : this._displayGetter;\r\n        return accessors\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this._addWidgetClass()\r\n    },\r\n    _addWidgetClass: function() {\r\n        this._focusTarget().addClass(this._widgetClass())\r\n    },\r\n    _widgetClass: _common.noop,\r\n    _renderItemFrame: function(index, itemData) {\r\n        var $itemFrame = this.callBase.apply(this, arguments);\r\n        $itemFrame.toggleClass(DISABLED_STATE_CLASS, !!this._disabledGetter(itemData));\r\n        return $itemFrame\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"displayExpr\":\r\n            case \"keyExpr\":\r\n                this._initAccessors();\r\n                this._initDynamicTemplates();\r\n                this.repaint();\r\n                break;\r\n            case \"itemsExpr\":\r\n            case \"selectedExpr\":\r\n            case \"disabledExpr\":\r\n            case \"expandedExpr\":\r\n            case \"parentIdExpr\":\r\n                this._initAccessors();\r\n                this._initDataAdapter();\r\n                this.repaint();\r\n                break;\r\n            case \"items\":\r\n                this._initDataAdapter();\r\n                this.callBase(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nvar _default = HierarchicalCollectionWidget;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.grouping.core.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.createOffsetFilter = createOffsetFilter;\r\nexports.GroupingHelper = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _class = _interopRequireDefault(require(\"../../core/class\"));\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _utils = _interopRequireDefault(require(\"../../data/utils\"));\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction createOffsetFilter(path, storeLoadOptions) {\r\n    var groups = _utils.default.normalizeSortingInfo(storeLoadOptions.group);\r\n    var filter = [];\r\n    for (var i = 0; i < path.length; i++) {\r\n        var filterElement = [];\r\n        for (var j = 0; j <= i; j++) {\r\n            var selector = groups[j].selector;\r\n            if (i === j && (null === path[j] || false === path[j] || true === path[j])) {\r\n                if (false === path[j]) {\r\n                    filterElement.push([selector, \"=\", groups[j].desc ? true : null])\r\n                } else {\r\n                    if (path[j] ? !groups[j].desc : groups[j].desc) {\r\n                        filterElement.push([selector, \"<>\", path[j]])\r\n                    } else {\r\n                        filterElement.push([selector, \"<>\", null]);\r\n                        filterElement.push([selector, \"=\", null])\r\n                    }\r\n                }\r\n            } else {\r\n                var currentFilter = [selector, i === j ? groups[j].desc ? \">\" : \"<\" : \"=\", path[j]];\r\n                if (\"<\" === currentFilter[1]) {\r\n                    filterElement.push([currentFilter, \"or\", [selector, \"=\", null]])\r\n                } else {\r\n                    filterElement.push(currentFilter)\r\n                }\r\n            }\r\n        }\r\n        filter.push(_uiData_grid.default.combineFilters(filterElement))\r\n    }\r\n    filter = _uiData_grid.default.combineFilters(filter, \"or\");\r\n    return _uiData_grid.default.combineFilters([filter, storeLoadOptions.filter])\r\n}\r\nvar GroupingHelper = _class.default.inherit(function() {\r\n    var findGroupInfoByKey = function(groupsInfo, key) {\r\n        var hash = groupsInfo.hash;\r\n        return hash && hash[JSON.stringify(key)]\r\n    };\r\n    var getGroupInfoIndexByOffset = function(groupsInfo, offset) {\r\n        var leftIndex = 0;\r\n        var rightIndex = groupsInfo.length - 1;\r\n        if (!groupsInfo.length) {\r\n            return 0\r\n        }\r\n        do {\r\n            var middleIndex = rightIndex + leftIndex >> 1;\r\n            if (groupsInfo[middleIndex].offset > offset) {\r\n                rightIndex = middleIndex\r\n            } else {\r\n                leftIndex = middleIndex\r\n            }\r\n        } while (rightIndex - leftIndex > 1);\r\n        var index;\r\n        for (index = leftIndex; index <= rightIndex; index++) {\r\n            if (groupsInfo[index].offset > offset) {\r\n                break\r\n            }\r\n        }\r\n        return index\r\n    };\r\n    var cleanGroupsInfo = function cleanGroupsInfo(groupsInfo, groupIndex, groupsCount) {\r\n        for (var i = 0; i < groupsInfo.length; i++) {\r\n            if (groupIndex + 1 >= groupsCount) {\r\n                groupsInfo[i].children = []\r\n            } else {\r\n                cleanGroupsInfo(groupsInfo[i].children, groupIndex + 1, groupsCount)\r\n            }\r\n        }\r\n    };\r\n    var calculateItemsCount = function calculateItemsCount(that, items, groupsCount) {\r\n        var result = 0;\r\n        if (items) {\r\n            if (!groupsCount) {\r\n                result = items.length\r\n            } else {\r\n                for (var i = 0; i < items.length; i++) {\r\n                    if (that.isGroupItemCountable(items[i])) {\r\n                        result++\r\n                    }\r\n                    result += calculateItemsCount(that, items[i].items, groupsCount - 1)\r\n                }\r\n            }\r\n        }\r\n        return result\r\n    };\r\n    return {\r\n        ctor: function(dataSourceAdapter) {\r\n            this._dataSource = dataSourceAdapter;\r\n            this.reset()\r\n        },\r\n        reset: function() {\r\n            this._groupsInfo = [];\r\n            this._totalCountCorrection = 0\r\n        },\r\n        totalCountCorrection: function() {\r\n            return this._totalCountCorrection\r\n        },\r\n        updateTotalItemsCount: function(totalCountCorrection) {\r\n            this._totalCountCorrection = totalCountCorrection || 0\r\n        },\r\n        isGroupItemCountable: function(item) {\r\n            return !this._isVirtualPaging() || !item.isContinuation\r\n        },\r\n        _isVirtualPaging: function() {\r\n            var scrollingMode = this._dataSource.option(\"scrolling.mode\");\r\n            return \"virtual\" === scrollingMode || \"infinite\" === scrollingMode\r\n        },\r\n        itemsCount: function itemsCount() {\r\n            var dataSourceAdapter = this._dataSource;\r\n            var dataSource = dataSourceAdapter._dataSource;\r\n            var groupCount = _uiData_grid.default.normalizeSortingInfo(dataSource.group() || []).length;\r\n            var itemsCount = calculateItemsCount(this, dataSource.items(), groupCount);\r\n            return itemsCount\r\n        },\r\n        foreachGroups: function(callback, childrenAtFirst, foreachCollapsedGroups, updateOffsets, updateParentOffsets) {\r\n            var that = this;\r\n\r\n            function foreachGroupsCore(groupsInfo, callback, childrenAtFirst, parents) {\r\n                var callbackResults = [];\r\n\r\n                function executeCallback(callback, data, parents, callbackResults) {\r\n                    var callbackResult = data && callback(data, parents);\r\n                    callbackResult && callbackResults.push(callbackResult);\r\n                    return callbackResult\r\n                }\r\n                for (var i = 0; i < groupsInfo.length; i++) {\r\n                    parents.push(groupsInfo[i].data);\r\n                    if (!childrenAtFirst && false === executeCallback(callback, groupsInfo[i].data, parents, callbackResults)) {\r\n                        return false\r\n                    }\r\n                    if (!groupsInfo[i].data || groupsInfo[i].data.isExpanded || foreachCollapsedGroups) {\r\n                        var children = groupsInfo[i].children;\r\n                        var callbackResult = children.length && foreachGroupsCore(children, callback, childrenAtFirst, parents);\r\n                        callbackResult && callbackResults.push(callbackResult);\r\n                        if (false === callbackResult) {\r\n                            return false\r\n                        }\r\n                    }\r\n                    if (childrenAtFirst && false === executeCallback(callback, groupsInfo[i].data, parents, callbackResults)) {\r\n                        return false\r\n                    }\r\n                    if (!groupsInfo[i].data || groupsInfo[i].data.offset !== groupsInfo[i].offset) {\r\n                        updateOffsets = true\r\n                    }\r\n                    parents.pop()\r\n                }\r\n                var currentParents = updateParentOffsets && parents.slice(0);\r\n                return updateOffsets && _deferred.when.apply(_renderer.default, callbackResults).always(function() {\r\n                    that._updateGroupInfoOffsets(groupsInfo, currentParents)\r\n                })\r\n            }\r\n            return foreachGroupsCore(that._groupsInfo, callback, childrenAtFirst, [])\r\n        },\r\n        _updateGroupInfoOffsets: function(groupsInfo, parents) {\r\n            parents = parents || [];\r\n            for (var index = 0; index < groupsInfo.length; index++) {\r\n                var groupInfo = groupsInfo[index];\r\n                if (groupInfo.data && groupInfo.data.offset !== groupInfo.offset) {\r\n                    groupInfo.offset = groupInfo.data.offset;\r\n                    for (var parentIndex = 0; parentIndex < parents.length; parentIndex++) {\r\n                        parents[parentIndex].offset = groupInfo.offset\r\n                    }\r\n                }\r\n            }\r\n            groupsInfo.sort(function(a, b) {\r\n                return a.offset - b.offset\r\n            })\r\n        },\r\n        findGroupInfo: function(path) {\r\n            var that = this;\r\n            var groupInfo;\r\n            var groupsInfo = that._groupsInfo;\r\n            for (var pathIndex = 0; groupsInfo && pathIndex < path.length; pathIndex++) {\r\n                groupInfo = findGroupInfoByKey(groupsInfo, path[pathIndex]);\r\n                groupsInfo = groupInfo && groupInfo.children\r\n            }\r\n            return groupInfo && groupInfo.data\r\n        },\r\n        addGroupInfo: function(groupInfoData) {\r\n            var that = this;\r\n            var groupInfo;\r\n            var path = groupInfoData.path;\r\n            var groupsInfo = that._groupsInfo;\r\n            for (var pathIndex = 0; pathIndex < path.length; pathIndex++) {\r\n                groupInfo = findGroupInfoByKey(groupsInfo, path[pathIndex]);\r\n                if (!groupInfo) {\r\n                    groupInfo = {\r\n                        key: path[pathIndex],\r\n                        offset: groupInfoData.offset,\r\n                        data: {\r\n                            offset: groupInfoData.offset,\r\n                            isExpanded: true,\r\n                            path: path.slice(0, pathIndex + 1)\r\n                        },\r\n                        children: []\r\n                    };\r\n                    var index = getGroupInfoIndexByOffset(groupsInfo, groupInfoData.offset);\r\n                    groupsInfo.splice(index, 0, groupInfo);\r\n                    groupsInfo.hash = groupsInfo.hash || {};\r\n                    groupsInfo.hash[JSON.stringify(groupInfo.key)] = groupInfo\r\n                }\r\n                if (pathIndex === path.length - 1) {\r\n                    groupInfo.data = groupInfoData;\r\n                    if (groupInfo.offset !== groupInfoData.offset) {\r\n                        that._updateGroupInfoOffsets(groupsInfo)\r\n                    }\r\n                }\r\n                groupsInfo = groupInfo.children\r\n            }\r\n        },\r\n        allowCollapseAll: function() {\r\n            return true\r\n        },\r\n        refresh: function(options) {\r\n            var that = this;\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var groups = _utils.default.normalizeSortingInfo(storeLoadOptions.group || []);\r\n            var oldGroups = \"_group\" in that ? _utils.default.normalizeSortingInfo(that._group || []) : groups;\r\n            var groupsCount = Math.min(oldGroups.length, groups.length);\r\n            that._group = storeLoadOptions.group;\r\n            for (var groupIndex = 0; groupIndex < groupsCount; groupIndex++) {\r\n                if (oldGroups[groupIndex].selector !== groups[groupIndex].selector) {\r\n                    groupsCount = groupIndex;\r\n                    break\r\n                }\r\n            }\r\n            if (!groupsCount) {\r\n                that.reset()\r\n            } else {\r\n                cleanGroupsInfo(that._groupsInfo, 0, groupsCount)\r\n            }\r\n        },\r\n        handleDataLoading: function() {},\r\n        handleDataLoaded: function(options, callBase) {\r\n            callBase(options)\r\n        },\r\n        handleDataLoadedCore: function(options, callBase) {\r\n            callBase(options)\r\n        }\r\n    }\r\n}());\r\nexports.GroupingHelper = GroupingHelper;\r\n","/**\r\n * DevExtreme (ui/shared/ui.editor_factory_mixin.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _variable_wrapper = _interopRequireDefault(require(\"../../core/utils/variable_wrapper\"));\r\nvar _data = require(\"../../core/utils/data\");\r\nvar _browser = _interopRequireDefault(require(\"../../core/utils/browser\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _devices = _interopRequireDefault(require(\"../../core/devices\"));\r\nvar _element = require(\"../../core/element\");\r\nvar _utils = require(\"../../data/data_source/utils\");\r\nvar _index = require(\"../../events/utils/index\");\r\nrequire(\"../text_box\");\r\nrequire(\"../number_box\");\r\nrequire(\"../check_box\");\r\nrequire(\"../select_box\");\r\nrequire(\"../date_box\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar isWrapped = _variable_wrapper.default.isWrapped;\r\nvar CHECKBOX_SIZE_CLASS = \"checkbox-size\";\r\nvar EDITOR_INLINE_BLOCK = \"dx-editor-inline-block\";\r\nvar EditorFactoryMixin = function() {\r\n    var getResultConfig = function(config, options) {\r\n        return (0, _extend.extend)(config, {\r\n            readOnly: options.readOnly,\r\n            placeholder: options.placeholder,\r\n            inputAttr: {\r\n                id: options.id\r\n            },\r\n            tabIndex: options.tabIndex\r\n        }, options.editorOptions)\r\n    };\r\n    var checkEnterBug = function() {\r\n        return _browser.default.msie || _browser.default.mozilla || _devices.default.real().ios\r\n    };\r\n    var getTextEditorConfig = function(options) {\r\n        var data = {};\r\n        var isEnterBug = checkEnterBug();\r\n        var sharedData = options.sharedData || data;\r\n        return getResultConfig({\r\n            placeholder: options.placeholder,\r\n            width: options.width,\r\n            value: options.value,\r\n            onValueChanged: function(e) {\r\n                var needDelayedUpdate = \"filterRow\" === options.parentType || \"searchPanel\" === options.parentType;\r\n                var isInputOrKeyUpEvent = e.event && (\"input\" === e.event.type || \"keyup\" === e.event.type);\r\n                var updateValue = function(e, notFireEvent) {\r\n                    options && options.setValue(e.value, notFireEvent)\r\n                };\r\n                clearTimeout(data.valueChangeTimeout);\r\n                if (isInputOrKeyUpEvent && needDelayedUpdate) {\r\n                    sharedData.valueChangeTimeout = data.valueChangeTimeout = setTimeout(function() {\r\n                        updateValue(e, data.valueChangeTimeout !== sharedData.valueChangeTimeout)\r\n                    }, (0, _type.isDefined)(options.updateValueTimeout) ? options.updateValueTimeout : 0)\r\n                } else {\r\n                    updateValue(e)\r\n                }\r\n            },\r\n            onKeyDown: function(e) {\r\n                if (isEnterBug && \"enter\" === (0, _index.normalizeKeyName)(e.event)) {\r\n                    _events_engine.default.trigger((0, _renderer.default)(e.component._input()), \"change\")\r\n                }\r\n            },\r\n            valueChangeEvent: \"change\" + (\"filterRow\" === options.parentType ? \" keyup input\" : \"\")\r\n        }, options)\r\n    };\r\n    var prepareDateBox = function(options) {\r\n        options.editorName = \"dxDateBox\";\r\n        options.editorOptions = getResultConfig({\r\n            value: options.value,\r\n            onValueChanged: function(args) {\r\n                options.setValue(args.value)\r\n            },\r\n            onKeyDown: function(e) {\r\n                if (checkEnterBug() && \"enter\" === (0, _index.normalizeKeyName)(e.event)) {\r\n                    e.component.blur();\r\n                    e.component.focus()\r\n                }\r\n            },\r\n            displayFormat: options.format,\r\n            type: options.dataType,\r\n            dateSerializationFormat: null,\r\n            width: \"filterBuilder\" === options.parentType ? void 0 : \"auto\"\r\n        }, options)\r\n    };\r\n    var prepareTextBox = function(options) {\r\n        var config = getTextEditorConfig(options);\r\n        var isSearching = \"searchPanel\" === options.parentType;\r\n        var toString = function(value) {\r\n            return (0, _type.isDefined)(value) ? value.toString() : \"\"\r\n        };\r\n        if (options.editorType && \"dxTextBox\" !== options.editorType) {\r\n            config.value = options.value\r\n        } else {\r\n            config.value = toString(options.value)\r\n        }\r\n        config.valueChangeEvent += isSearching ? \" keyup input search\" : \"\";\r\n        config.mode = config.mode || (isSearching ? \"search\" : \"text\");\r\n        options.editorName = \"dxTextBox\";\r\n        options.editorOptions = config\r\n    };\r\n    var prepareNumberBox = function(options) {\r\n        var config = getTextEditorConfig(options);\r\n        config.value = (0, _type.isDefined)(options.value) ? options.value : null;\r\n        options.editorName = \"dxNumberBox\";\r\n        options.editorOptions = config\r\n    };\r\n    var prepareBooleanEditor = function(options) {\r\n        if (\"filterRow\" === options.parentType || \"filterBuilder\" === options.parentType) {\r\n            prepareSelectBox((0, _extend.extend)(options, {\r\n                lookup: {\r\n                    displayExpr: function(data) {\r\n                        if (true === data) {\r\n                            return options.trueText || \"true\"\r\n                        } else {\r\n                            if (false === data) {\r\n                                return options.falseText || \"false\"\r\n                            }\r\n                        }\r\n                    },\r\n                    dataSource: [true, false]\r\n                }\r\n            }))\r\n        } else {\r\n            prepareCheckBox(options)\r\n        }\r\n    };\r\n\r\n    function watchLookupDataSource(options) {\r\n        if (options.row && options.row.watch && \"dataRow\" === options.parentType) {\r\n            var editorOptions = options.editorOptions || {};\r\n            options.editorOptions = editorOptions;\r\n            var selectBox;\r\n            var onInitialized = editorOptions.onInitialized;\r\n            editorOptions.onInitialized = function(e) {\r\n                onInitialized && onInitialized.apply(this, arguments);\r\n                selectBox = e.component;\r\n                selectBox.on(\"disposing\", stopWatch)\r\n            };\r\n            var dataSource;\r\n            var stopWatch = options.row.watch(function() {\r\n                dataSource = options.lookup.dataSource(options.row);\r\n                return dataSource && dataSource.filter\r\n            }, function() {\r\n                selectBox.option(\"dataSource\", dataSource)\r\n            }, function(row) {\r\n                options.row = row\r\n            })\r\n        }\r\n    }\r\n\r\n    function prepareSelectBox(options) {\r\n        var lookup = options.lookup;\r\n        var displayGetter;\r\n        var dataSource;\r\n        var postProcess;\r\n        var isFilterRow = \"filterRow\" === options.parentType;\r\n        if (lookup) {\r\n            displayGetter = (0, _data.compileGetter)(lookup.displayExpr);\r\n            dataSource = lookup.dataSource;\r\n            if ((0, _type.isFunction)(dataSource) && !isWrapped(dataSource)) {\r\n                dataSource = dataSource(options.row || {});\r\n                watchLookupDataSource(options)\r\n            }\r\n            if ((0, _type.isObject)(dataSource) || Array.isArray(dataSource)) {\r\n                dataSource = (0, _utils.normalizeDataSourceOptions)(dataSource);\r\n                if (isFilterRow) {\r\n                    postProcess = dataSource.postProcess;\r\n                    dataSource.postProcess = function(items) {\r\n                        if (0 === this.pageIndex()) {\r\n                            items = items.slice(0);\r\n                            items.unshift(null)\r\n                        }\r\n                        if (postProcess) {\r\n                            return postProcess.call(this, items)\r\n                        }\r\n                        return items\r\n                    }\r\n                }\r\n            }\r\n            var allowClearing = Boolean(lookup.allowClearing && !isFilterRow);\r\n            options.editorName = \"dxSelectBox\";\r\n            options.editorOptions = getResultConfig({\r\n                searchEnabled: true,\r\n                value: options.value,\r\n                valueExpr: options.lookup.valueExpr,\r\n                searchExpr: options.lookup.searchExpr || options.lookup.displayExpr,\r\n                allowClearing: allowClearing,\r\n                showClearButton: allowClearing,\r\n                displayExpr: function(data) {\r\n                    if (null === data) {\r\n                        return options.showAllText\r\n                    }\r\n                    return displayGetter(data)\r\n                },\r\n                dataSource: dataSource,\r\n                onValueChanged: function(e) {\r\n                    var params = [e.value];\r\n                    !isFilterRow && params.push(e.component.option(\"text\"));\r\n                    options.setValue.apply(this, params)\r\n                }\r\n            }, options)\r\n        }\r\n    }\r\n\r\n    function prepareCheckBox(options) {\r\n        options.editorName = \"dxCheckBox\";\r\n        options.editorOptions = getResultConfig({\r\n            elementAttr: {\r\n                id: options.id\r\n            },\r\n            value: (0, _type.isDefined)(options.value) ? options.value : void 0,\r\n            hoverStateEnabled: !options.readOnly,\r\n            focusStateEnabled: !options.readOnly,\r\n            activeStateEnabled: false,\r\n            onValueChanged: function(e) {\r\n                options.setValue && options.setValue(e.value, e)\r\n            }\r\n        }, options)\r\n    }\r\n    var createEditorCore = function(that, options) {\r\n        var $editorElement = (0, _renderer.default)(options.editorElement);\r\n        if (options.editorName && options.editorOptions && $editorElement[options.editorName]) {\r\n            if (\"dxCheckBox\" === options.editorName || \"dxSwitch\" === options.editorName) {\r\n                if (!options.isOnForm) {\r\n                    $editorElement.addClass(that.addWidgetPrefix(CHECKBOX_SIZE_CLASS));\r\n                    $editorElement.parent().addClass(EDITOR_INLINE_BLOCK)\r\n                }\r\n            }\r\n            that._createComponent($editorElement, options.editorName, options.editorOptions);\r\n            if (\"dxTextBox\" === options.editorName) {\r\n                $editorElement.dxTextBox(\"instance\").registerKeyHandler(\"enter\", _common.noop)\r\n            }\r\n            if (\"dxDateBox\" === options.editorName) {\r\n                $editorElement.dxDateBox(\"instance\").registerKeyHandler(\"enter\", function() {\r\n                    return true\r\n                })\r\n            }\r\n            if (\"dxTextArea\" === options.editorName) {\r\n                $editorElement.dxTextArea(\"instance\").registerKeyHandler(\"enter\", function(event) {\r\n                    if (\"enter\" === (0, _index.normalizeKeyName)(event) && !event.ctrlKey && !event.shiftKey) {\r\n                        event.stopPropagation()\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    };\r\n    return {\r\n        createEditor: function($container, options) {\r\n            options.cancel = false;\r\n            options.editorElement = (0, _element.getPublicElement)($container);\r\n            if (!(0, _type.isDefined)(options.tabIndex)) {\r\n                options.tabIndex = this.option(\"tabIndex\")\r\n            }\r\n            if (options.lookup) {\r\n                prepareSelectBox(options)\r\n            } else {\r\n                switch (options.dataType) {\r\n                    case \"date\":\r\n                    case \"datetime\":\r\n                        prepareDateBox(options);\r\n                        break;\r\n                    case \"boolean\":\r\n                        prepareBooleanEditor(options);\r\n                        break;\r\n                    case \"number\":\r\n                        prepareNumberBox(options);\r\n                        break;\r\n                    default:\r\n                        prepareTextBox(options)\r\n                }\r\n            }\r\n            var editorName = options.editorName;\r\n            this.executeAction(\"onEditorPreparing\", options);\r\n            if (options.cancel) {\r\n                return\r\n            } else {\r\n                if (\"dataRow\" === options.parentType && options.editorType && editorName === options.editorName) {\r\n                    options.editorName = options.editorType\r\n                }\r\n            }\r\n            if (\"dataRow\" === options.parentType && !options.isOnForm && !(0, _type.isDefined)(options.editorOptions.showValidationMark)) {\r\n                options.editorOptions.showValidationMark = false\r\n            }\r\n            createEditorCore(this, options);\r\n            this.executeAction(\"onEditorPrepared\", options)\r\n        }\r\n    }\r\n}();\r\nvar _default = EditorFactoryMixin;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/overlay/utils.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.getElementMaxHeightByWindow = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _type = require(\"../../core/utils/type\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar WINDOW_HEIGHT_PERCENT = .9;\r\nvar getElementMaxHeightByWindow = function($element, startLocation) {\r\n    var $window = (0, _renderer.default)((0, _window.getWindow)());\r\n    var _$element$offset = $element.offset(),\r\n        elementOffset = _$element$offset.top;\r\n    var actualOffset;\r\n    if ((0, _type.isNumeric)(startLocation)) {\r\n        if (startLocation < elementOffset) {\r\n            return elementOffset - startLocation\r\n        } else {\r\n            actualOffset = $window.innerHeight() - startLocation + $window.scrollTop()\r\n        }\r\n    } else {\r\n        var offsetTop = elementOffset - $window.scrollTop();\r\n        var offsetBottom = $window.innerHeight() - offsetTop - $element.outerHeight();\r\n        actualOffset = Math.max(offsetTop, offsetBottom)\r\n    }\r\n    return actualOffset * WINDOW_HEIGHT_PERCENT\r\n};\r\nexports.getElementMaxHeightByWindow = getElementMaxHeightByWindow;\r\n","/**\r\n * DevExtreme (exporter/file_saver.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.fileSaver = exports.MIME_TYPES = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../core/renderer\"));\r\nvar _dom_adapter = _interopRequireDefault(require(\"../core/dom_adapter\"));\r\nvar _window = require(\"../core/utils/window\");\r\nvar _events_engine = _interopRequireDefault(require(\"../events/core/events_engine\"));\r\nvar _ui = _interopRequireDefault(require(\"../ui/widget/ui.errors\"));\r\nvar _type = require(\"../core/utils/type\");\r\nvar _console = require(\"../core/utils/console\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar window = (0, _window.getWindow)();\r\nvar navigator = (0, _window.getNavigator)();\r\nvar FILE_EXTESIONS = {\r\n    EXCEL: \"xlsx\",\r\n    CSS: \"css\",\r\n    PNG: \"png\",\r\n    JPEG: \"jpeg\",\r\n    GIF: \"gif\",\r\n    SVG: \"svg\",\r\n    PDF: \"pdf\"\r\n};\r\nvar MIME_TYPES = {\r\n    CSS: \"text/css\",\r\n    EXCEL: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\r\n    PNG: \"image/png\",\r\n    JPEG: \"image/jpeg\",\r\n    GIF: \"image/gif\",\r\n    SVG: \"image/svg+xml\",\r\n    PDF: \"application/pdf\"\r\n};\r\nexports.MIME_TYPES = MIME_TYPES;\r\nvar fileSaver = {\r\n    _revokeObjectURLTimeout: 3e4,\r\n    _getDataUri: function(format, data) {\r\n        var mimeType = this._getMimeType(format);\r\n        return \"data:\".concat(mimeType, \";base64,\").concat(data)\r\n    },\r\n    _getMimeType: function(format) {\r\n        return MIME_TYPES[format] || \"application/octet-stream\"\r\n    },\r\n    _linkDownloader: function(fileName, href) {\r\n        var exportLinkElement = _dom_adapter.default.createElement(\"a\");\r\n        exportLinkElement.download = fileName;\r\n        exportLinkElement.href = href;\r\n        exportLinkElement.target = \"_blank\";\r\n        return exportLinkElement\r\n    },\r\n    _formDownloader: function(proxyUrl, fileName, contentType, data) {\r\n        var formAttributes = {\r\n            method: \"post\",\r\n            action: proxyUrl,\r\n            enctype: \"multipart/form-data\"\r\n        };\r\n        var exportForm = (0, _renderer.default)(\"<form>\").css({\r\n            display: \"none\"\r\n        }).attr(formAttributes);\r\n\r\n        function setAttributes(element, attributes) {\r\n            for (var key in attributes) {\r\n                element.setAttribute(key, attributes[key])\r\n            }\r\n            return element\r\n        }\r\n        exportForm.append(setAttributes(_dom_adapter.default.createElement(\"input\"), {\r\n            type: \"hidden\",\r\n            name: \"fileName\",\r\n            value: fileName\r\n        }));\r\n        exportForm.append(setAttributes(_dom_adapter.default.createElement(\"input\"), {\r\n            type: \"hidden\",\r\n            name: \"contentType\",\r\n            value: contentType\r\n        }));\r\n        exportForm.append(setAttributes(_dom_adapter.default.createElement(\"input\"), {\r\n            type: \"hidden\",\r\n            name: \"data\",\r\n            value: data\r\n        }));\r\n        exportForm.appendTo(\"body\");\r\n        _events_engine.default.trigger(exportForm, \"submit\");\r\n        if (_events_engine.default.trigger(exportForm, \"submit\")) {\r\n            exportForm.remove()\r\n        }\r\n    },\r\n    _saveByProxy: function(proxyUrl, fileName, format, data) {\r\n        var contentType = this._getMimeType(format);\r\n        return this._formDownloader(proxyUrl, fileName, contentType, data)\r\n    },\r\n    _winJSBlobSave: function(blob, fileName, format) {\r\n        var savePicker = new Windows.Storage.Pickers.FileSavePicker;\r\n        savePicker.suggestedStartLocation = Windows.Storage.Pickers.PickerLocationId.documentsLibrary;\r\n        var fileExtension = FILE_EXTESIONS[format];\r\n        if (fileExtension) {\r\n            var mimeType = this._getMimeType(format);\r\n            savePicker.fileTypeChoices.insert(mimeType, [\".\" + fileExtension])\r\n        }\r\n        savePicker.suggestedFileName = fileName;\r\n        savePicker.pickSaveFileAsync().then(function(file) {\r\n            if (file) {\r\n                file.openAsync(Windows.Storage.FileAccessMode.readWrite).then(function(outputStream) {\r\n                    var inputStream = blob.msDetachStream();\r\n                    Windows.Storage.Streams.RandomAccessStream.copyAsync(inputStream, outputStream).then(function() {\r\n                        outputStream.flushAsync().done(function() {\r\n                            inputStream.close();\r\n                            outputStream.close()\r\n                        })\r\n                    })\r\n                })\r\n            }\r\n        })\r\n    },\r\n    _click: function(link) {\r\n        try {\r\n            link.dispatchEvent(new MouseEvent(\"click\", {\r\n                cancelable: true\r\n            }))\r\n        } catch (e) {\r\n            var event = _dom_adapter.default.getDocument().createEvent(\"MouseEvents\");\r\n            event.initMouseEvent(\"click\", true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);\r\n            link.dispatchEvent(event)\r\n        }\r\n    },\r\n    _saveBlobAs: function(fileName, format, data) {\r\n        var _this = this;\r\n        this._blobSaved = false;\r\n        if ((0, _type.isDefined)(navigator.msSaveOrOpenBlob)) {\r\n            navigator.msSaveOrOpenBlob(data, fileName);\r\n            this._blobSaved = true\r\n        } else {\r\n            if ((0, _type.isDefined)(window.WinJS)) {\r\n                this._winJSBlobSave(data, fileName, format);\r\n                this._blobSaved = true\r\n            } else {\r\n                var URL = window.URL || window.webkitURL || window.mozURL || window.msURL || window.oURL;\r\n                if ((0, _type.isDefined)(URL)) {\r\n                    var objectURL = URL.createObjectURL(data);\r\n                    var downloadLink = this._linkDownloader(fileName, objectURL);\r\n                    setTimeout(function() {\r\n                        URL.revokeObjectURL(objectURL);\r\n                        _this._objectUrlRevoked = true\r\n                    }, this._revokeObjectURLTimeout);\r\n                    this._click(downloadLink)\r\n                } else {\r\n                    _console.logger.warn(\"window.URL || window.webkitURL || window.mozURL || window.msURL || window.oURL is not defined\")\r\n                }\r\n            }\r\n        }\r\n    },\r\n    saveAs: function(fileName, format, data, proxyURL, forceProxy) {\r\n        var fileExtension = FILE_EXTESIONS[format];\r\n        if (fileExtension) {\r\n            fileName += \".\" + fileExtension\r\n        }\r\n        if ((0, _type.isDefined)(proxyURL)) {\r\n            _ui.default.log(\"W0001\", \"Export\", \"proxyURL\", \"19.2\", \"This option is no longer required\")\r\n        }\r\n        if (forceProxy) {\r\n            this._saveByProxy(proxyURL, fileName, format, data)\r\n        } else {\r\n            if ((0, _type.isFunction)(window.Blob)) {\r\n                this._saveBlobAs(fileName, format, data)\r\n            } else {\r\n                if ((0, _type.isDefined)(proxyURL) && !(0, _type.isDefined)(navigator.userAgent.match(/iPad/i))) {\r\n                    this._saveByProxy(proxyURL, fileName, format, data)\r\n                } else {\r\n                    if (!(0, _type.isDefined)(navigator.userAgent.match(/iPad/i))) {\r\n                        _ui.default.log(\"E1034\")\r\n                    }\r\n                    var downloadLink = this._linkDownloader(fileName, this._getDataUri(format, data));\r\n                    this._click(downloadLink)\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nexports.fileSaver = fileSaver;\r\n","/**\r\n * DevExtreme (exporter/excel_format_converter.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _string = require(\"../core/utils/string\");\r\nvar _number = _interopRequireDefault(require(\"../localization/number\"));\r\nvar _date = _interopRequireDefault(require(\"../localization/date\"));\r\nvar _type = require(\"../core/utils/type\");\r\nvar _date2 = require(\"../localization/ldml/date.format\");\r\nvar _language_codes = require(\"../localization/language_codes\");\r\nrequire(\"../localization/currency\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar ARABIC_ZERO_CODE = 1632;\r\nvar DEFINED_NUMBER_FORMTATS = {\r\n    thousands: \"#,##0{0},&quot;K&quot;\",\r\n    millions: \"#,##0{0},,&quot;M&quot;\",\r\n    billions: \"#,##0{0},,,&quot;B&quot;\",\r\n    trillions: \"#,##0{0},,,,&quot;T&quot;\",\r\n    percent: \"0{0}%\",\r\n    decimal: \"#{0}\",\r\n    fixedpoint: \"#,##0{0}\",\r\n    exponential: \"0{0}E+00\",\r\n    currency: \" \"\r\n};\r\nvar PERIOD_REGEXP = /a+/g;\r\nvar DAY_REGEXP = /E/g;\r\nvar DO_REGEXP = /dE+/g;\r\nvar STANDALONE_MONTH_REGEXP = /L/g;\r\nvar HOUR_REGEXP = /h/g;\r\nvar SLASH_REGEXP = /\\//g;\r\nvar SQUARE_OPEN_BRACKET_REGEXP = /\\[/g;\r\nvar SQUARE_CLOSE_BRACKET_REGEXP = /]/g;\r\nvar ANY_REGEXP = /./g;\r\nvar excelFormatConverter = {\r\n    _applyPrecision: function(format, precision) {\r\n        var result;\r\n        var i;\r\n        if (precision > 0) {\r\n            result = \"decimal\" !== format ? \".\" : \"\";\r\n            for (i = 0; i < precision; i++) {\r\n                result += \"0\"\r\n            }\r\n            return result\r\n        }\r\n        return \"\"\r\n    },\r\n    _hasArabicDigits: function(text) {\r\n        var code;\r\n        for (var i = 0; i < text.length; i++) {\r\n            code = text.charCodeAt(i);\r\n            if (code >= ARABIC_ZERO_CODE && code < ARABIC_ZERO_CODE + 10) {\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    },\r\n    _convertDateFormatToOpenXml: function(format) {\r\n        return format.replace(SLASH_REGEXP, \"\\\\/\").split(\"'\").map(function(datePart, index) {\r\n            if (index % 2 === 0) {\r\n                return datePart.replace(PERIOD_REGEXP, \"AM/PM\").replace(DO_REGEXP, \"d\").replace(DAY_REGEXP, \"d\").replace(STANDALONE_MONTH_REGEXP, \"M\").replace(HOUR_REGEXP, \"H\").replace(SQUARE_OPEN_BRACKET_REGEXP, \"\\\\[\").replace(SQUARE_CLOSE_BRACKET_REGEXP, \"\\\\]\")\r\n            }\r\n            if (datePart) {\r\n                return datePart.replace(ANY_REGEXP, \"\\\\$&\")\r\n            }\r\n            return \"'\"\r\n        }).join(\"\")\r\n    },\r\n    _convertDateFormat: function(format) {\r\n        var formattedValue = (_date.default.format(new Date(2009, 8, 8, 6, 5, 4), format) || \"\").toString();\r\n        var result = (0, _date2.getFormat)(function(value) {\r\n            return _date.default.format(value, format)\r\n        });\r\n        if (result) {\r\n            result = this._convertDateFormatToOpenXml(result);\r\n            result = this._getLanguageInfo(formattedValue) + result\r\n        }\r\n        return result\r\n    },\r\n    _getLanguageInfo: function(defaultPattern) {\r\n        var languageID = (0, _language_codes.getLanguageId)();\r\n        var languageIDStr = languageID ? languageID.toString(16) : \"\";\r\n        var languageInfo = \"\";\r\n        if (this._hasArabicDigits(defaultPattern)) {\r\n            while (languageIDStr.length < 3) {\r\n                languageIDStr = \"0\" + languageIDStr\r\n            }\r\n            languageInfo = \"[$-2010\" + languageIDStr + \"]\"\r\n        } else {\r\n            if (languageIDStr) {\r\n                languageInfo = \"[$-\" + languageIDStr + \"]\"\r\n            }\r\n        }\r\n        return languageInfo\r\n    },\r\n    _convertNumberFormat: function(format, precision, currency) {\r\n        var result;\r\n        var excelFormat;\r\n        if (\"currency\" === format) {\r\n            excelFormat = _number.default.getOpenXmlCurrencyFormat(currency)\r\n        } else {\r\n            excelFormat = DEFINED_NUMBER_FORMTATS[format.toLowerCase()]\r\n        }\r\n        if (excelFormat) {\r\n            result = (0, _string.format)(excelFormat, this._applyPrecision(format, precision))\r\n        }\r\n        return result\r\n    },\r\n    convertFormat: function(format, precision, type, currency) {\r\n        if ((0, _type.isDefined)(format)) {\r\n            if (\"date\" === type) {\r\n                return excelFormatConverter._convertDateFormat(format)\r\n            } else {\r\n                if ((0, _type.isString)(format) && DEFINED_NUMBER_FORMTATS[format.toLowerCase()]) {\r\n                    return excelFormatConverter._convertNumberFormat(format, precision, currency)\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nvar _default = excelFormatConverter;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (localization/language_codes.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.getLanguageId = getLanguageId;\r\nvar _core = _interopRequireDefault(require(\"./core\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar LANGUAGE_CODES = {\r\n    ar: 1,\r\n    bg: 2,\r\n    ca: 3,\r\n    \"zh-Hans\": 4,\r\n    cs: 5,\r\n    da: 6,\r\n    de: 7,\r\n    el: 8,\r\n    en: 9,\r\n    es: 10,\r\n    fi: 11,\r\n    fr: 12,\r\n    he: 13,\r\n    hu: 14,\r\n    is: 15,\r\n    it: 16,\r\n    ja: 17,\r\n    ko: 18,\r\n    nl: 19,\r\n    no: 20,\r\n    pl: 21,\r\n    pt: 22,\r\n    rm: 23,\r\n    ro: 24,\r\n    ru: 25,\r\n    hr: 26,\r\n    sk: 27,\r\n    sq: 28,\r\n    sv: 29,\r\n    th: 30,\r\n    tr: 31,\r\n    ur: 32,\r\n    id: 33,\r\n    uk: 34,\r\n    be: 35,\r\n    sl: 36,\r\n    et: 37,\r\n    lv: 38,\r\n    lt: 39,\r\n    tg: 40,\r\n    fa: 41,\r\n    vi: 42,\r\n    hy: 43,\r\n    az: 44,\r\n    eu: 45,\r\n    hsb: 46,\r\n    mk: 47,\r\n    tn: 50,\r\n    xh: 52,\r\n    zu: 53,\r\n    af: 54,\r\n    ka: 55,\r\n    fo: 56,\r\n    hi: 57,\r\n    mt: 58,\r\n    se: 59,\r\n    ga: 60,\r\n    ms: 62,\r\n    kk: 63,\r\n    ky: 64,\r\n    sw: 65,\r\n    tk: 66,\r\n    uz: 67,\r\n    tt: 68,\r\n    bn: 69,\r\n    pa: 70,\r\n    gu: 71,\r\n    or: 72,\r\n    ta: 73,\r\n    te: 74,\r\n    kn: 75,\r\n    ml: 76,\r\n    as: 77,\r\n    mr: 78,\r\n    sa: 79,\r\n    mn: 80,\r\n    bo: 81,\r\n    cy: 82,\r\n    km: 83,\r\n    lo: 84,\r\n    gl: 86,\r\n    kok: 87,\r\n    syr: 90,\r\n    si: 91,\r\n    iu: 93,\r\n    am: 94,\r\n    tzm: 95,\r\n    ne: 97,\r\n    fy: 98,\r\n    ps: 99,\r\n    fil: 100,\r\n    dv: 101,\r\n    ha: 104,\r\n    yo: 106,\r\n    quz: 107,\r\n    nso: 108,\r\n    ba: 109,\r\n    lb: 110,\r\n    kl: 111,\r\n    ig: 112,\r\n    ii: 120,\r\n    arn: 122,\r\n    moh: 124,\r\n    br: 126,\r\n    ug: 128,\r\n    mi: 129,\r\n    oc: 130,\r\n    co: 131,\r\n    gsw: 132,\r\n    sah: 133,\r\n    qut: 134,\r\n    rw: 135,\r\n    wo: 136,\r\n    prs: 140,\r\n    gd: 145,\r\n    \"ar-SA\": 1025,\r\n    \"bg-BG\": 1026,\r\n    \"ca-ES\": 1027,\r\n    \"zh-TW\": 1028,\r\n    \"cs-CZ\": 1029,\r\n    \"da-DK\": 1030,\r\n    \"de-DE\": 1031,\r\n    \"el-GR\": 1032,\r\n    \"en-US\": 1033,\r\n    \"fi-FI\": 1035,\r\n    \"fr-FR\": 1036,\r\n    \"he-IL\": 1037,\r\n    \"hu-HU\": 1038,\r\n    \"is-IS\": 1039,\r\n    \"it-IT\": 1040,\r\n    \"ja-JP\": 1041,\r\n    \"ko-KR\": 1042,\r\n    \"nl-NL\": 1043,\r\n    \"nb-NO\": 1044,\r\n    \"pl-PL\": 1045,\r\n    \"pt-BR\": 1046,\r\n    \"rm-CH\": 1047,\r\n    \"ro-RO\": 1048,\r\n    \"ru-RU\": 1049,\r\n    \"hr-HR\": 1050,\r\n    \"sk-SK\": 1051,\r\n    \"sq-AL\": 1052,\r\n    \"sv-SE\": 1053,\r\n    \"th-TH\": 1054,\r\n    \"tr-TR\": 1055,\r\n    \"ur-PK\": 1056,\r\n    \"id-ID\": 1057,\r\n    \"uk-UA\": 1058,\r\n    \"be-BY\": 1059,\r\n    \"sl-SI\": 1060,\r\n    \"et-EE\": 1061,\r\n    \"lv-LV\": 1062,\r\n    \"lt-LT\": 1063,\r\n    \"tg-Cyrl-TJ\": 1064,\r\n    \"fa-IR\": 1065,\r\n    \"vi-VN\": 1066,\r\n    \"hy-AM\": 1067,\r\n    \"az-Latn-AZ\": 1068,\r\n    \"eu-ES\": 1069,\r\n    \"hsb-DE\": 1070,\r\n    \"mk-MK\": 1071,\r\n    \"tn-ZA\": 1074,\r\n    \"xh-ZA\": 1076,\r\n    \"zu-ZA\": 1077,\r\n    \"af-ZA\": 1078,\r\n    \"ka-GE\": 1079,\r\n    \"fo-FO\": 1080,\r\n    \"hi-IN\": 1081,\r\n    \"mt-MT\": 1082,\r\n    \"se-NO\": 1083,\r\n    \"ms-MY\": 1086,\r\n    \"kk-KZ\": 1087,\r\n    \"ky-KG\": 1088,\r\n    \"sw-KE\": 1089,\r\n    \"tk-TM\": 1090,\r\n    \"uz-Latn-UZ\": 1091,\r\n    \"tt-RU\": 1092,\r\n    \"bn-IN\": 1093,\r\n    \"pa-IN\": 1094,\r\n    \"gu-IN\": 1095,\r\n    \"or-IN\": 1096,\r\n    \"ta-IN\": 1097,\r\n    \"te-IN\": 1098,\r\n    \"kn-IN\": 1099,\r\n    \"ml-IN\": 1100,\r\n    \"as-IN\": 1101,\r\n    \"mr-IN\": 1102,\r\n    \"sa-IN\": 1103,\r\n    \"mn-MN\": 1104,\r\n    \"bo-CN\": 1105,\r\n    \"cy-GB\": 1106,\r\n    \"km-KH\": 1107,\r\n    \"lo-LA\": 1108,\r\n    \"gl-ES\": 1110,\r\n    \"kok-IN\": 1111,\r\n    \"syr-SY\": 1114,\r\n    \"si-LK\": 1115,\r\n    \"iu-Cans-CA\": 1117,\r\n    \"am-ET\": 1118,\r\n    \"ne-NP\": 1121,\r\n    \"fy-NL\": 1122,\r\n    \"ps-AF\": 1123,\r\n    \"fil-PH\": 1124,\r\n    \"dv-MV\": 1125,\r\n    \"ha-Latn-NG\": 1128,\r\n    \"yo-NG\": 1130,\r\n    \"quz-BO\": 1131,\r\n    \"nso-ZA\": 1132,\r\n    \"ba-RU\": 1133,\r\n    \"lb-LU\": 1134,\r\n    \"kl-GL\": 1135,\r\n    \"ig-NG\": 1136,\r\n    \"ii-CN\": 1144,\r\n    \"arn-CL\": 1146,\r\n    \"moh-CA\": 1148,\r\n    \"br-FR\": 1150,\r\n    \"ug-CN\": 1152,\r\n    \"mi-NZ\": 1153,\r\n    \"oc-FR\": 1154,\r\n    \"co-FR\": 1155,\r\n    \"gsw-FR\": 1156,\r\n    \"sah-RU\": 1157,\r\n    \"qut-GT\": 1158,\r\n    \"rw-RW\": 1159,\r\n    \"wo-SN\": 1160,\r\n    \"prs-AF\": 1164,\r\n    \"gd-GB\": 1169,\r\n    \"ar-IQ\": 2049,\r\n    \"zh-CN\": 2052,\r\n    \"de-CH\": 2055,\r\n    \"en-GB\": 2057,\r\n    \"es-MX\": 2058,\r\n    \"fr-BE\": 2060,\r\n    \"it-CH\": 2064,\r\n    \"nl-BE\": 2067,\r\n    \"nn-NO\": 2068,\r\n    \"pt-PT\": 2070,\r\n    \"sr-Latn-CS\": 2074,\r\n    \"sv-FI\": 2077,\r\n    \"az-Cyrl-AZ\": 2092,\r\n    \"dsb-DE\": 2094,\r\n    \"se-SE\": 2107,\r\n    \"ga-IE\": 2108,\r\n    \"ms-BN\": 2110,\r\n    \"uz-Cyrl-UZ\": 2115,\r\n    \"bn-BD\": 2117,\r\n    \"mn-Mong-CN\": 2128,\r\n    \"iu-Latn-CA\": 2141,\r\n    \"tzm-Latn-DZ\": 2143,\r\n    \"quz-EC\": 2155,\r\n    \"ar-EG\": 3073,\r\n    \"zh-HK\": 3076,\r\n    \"de-AT\": 3079,\r\n    \"en-AU\": 3081,\r\n    \"es-ES\": 3082,\r\n    \"fr-CA\": 3084,\r\n    \"sr-Cyrl-CS\": 3098,\r\n    \"se-FI\": 3131,\r\n    \"quz-PE\": 3179,\r\n    \"ar-LY\": 4097,\r\n    \"zh-SG\": 4100,\r\n    \"de-LU\": 4103,\r\n    \"en-CA\": 4105,\r\n    \"es-GT\": 4106,\r\n    \"fr-CH\": 4108,\r\n    \"hr-BA\": 4122,\r\n    \"smj-NO\": 4155,\r\n    \"ar-DZ\": 5121,\r\n    \"zh-MO\": 5124,\r\n    \"de-LI\": 5127,\r\n    \"en-NZ\": 5129,\r\n    \"es-CR\": 5130,\r\n    \"fr-LU\": 5132,\r\n    \"bs-Latn-BA\": 5146,\r\n    \"smj-SE\": 5179,\r\n    \"ar-MA\": 6145,\r\n    \"en-IE\": 6153,\r\n    \"es-PA\": 6154,\r\n    \"fr-MC\": 6156,\r\n    \"sr-Latn-BA\": 6170,\r\n    \"sma-NO\": 6203,\r\n    \"ar-TN\": 7169,\r\n    \"en-ZA\": 7177,\r\n    \"es-DO\": 7178,\r\n    \"sr-Cyrl-BA\": 7194,\r\n    \"sma-SE\": 7227,\r\n    \"ar-OM\": 8193,\r\n    \"en-JM\": 8201,\r\n    \"es-VE\": 8202,\r\n    \"bs-Cyrl-BA\": 8218,\r\n    \"sms-FI\": 8251,\r\n    \"ar-YE\": 9217,\r\n    \"en-029\": 9225,\r\n    \"es-CO\": 9226,\r\n    \"sr-Latn-RS\": 9242,\r\n    \"smn-FI\": 9275,\r\n    \"ar-SY\": 10241,\r\n    \"en-BZ\": 10249,\r\n    \"es-PE\": 10250,\r\n    \"sr-Cyrl-RS\": 10266,\r\n    \"ar-JO\": 11265,\r\n    \"en-TT\": 11273,\r\n    \"es-AR\": 11274,\r\n    \"sr-Latn-ME\": 11290,\r\n    \"ar-LB\": 12289,\r\n    \"en-ZW\": 12297,\r\n    \"es-EC\": 12298,\r\n    \"sr-Cyrl-ME\": 12314,\r\n    \"ar-KW\": 13313,\r\n    \"en-PH\": 13321,\r\n    \"es-CL\": 13322,\r\n    \"ar-AE\": 14337,\r\n    \"es-UY\": 14346,\r\n    \"ar-BH\": 15361,\r\n    \"es-PY\": 15370,\r\n    \"ar-QA\": 16385,\r\n    \"en-IN\": 16393,\r\n    \"es-BO\": 16394,\r\n    \"en-MY\": 17417,\r\n    \"es-SV\": 17418,\r\n    \"en-SG\": 18441,\r\n    \"es-HN\": 18442,\r\n    \"es-NI\": 19466,\r\n    \"es-PR\": 20490,\r\n    \"es-US\": 21514,\r\n    \"bs-Cyrl\": 25626,\r\n    \"bs-Latn\": 26650,\r\n    \"sr-Cyrl\": 27674,\r\n    \"sr-Latn\": 28698,\r\n    smn: 28731,\r\n    \"az-Cyrl\": 29740,\r\n    sms: 29755,\r\n    zh: 30724,\r\n    nn: 30740,\r\n    bs: 30746,\r\n    \"az-Latn\": 30764,\r\n    sma: 30779,\r\n    \"uz-Cyrl\": 30787,\r\n    \"mn-Cyrl\": 30800,\r\n    \"iu-Cans\": 30813,\r\n    \"zh-Hant\": 31748,\r\n    nb: 31764,\r\n    sr: 31770,\r\n    \"tg-Cyrl\": 31784,\r\n    dsb: 31790,\r\n    smj: 31803,\r\n    \"uz-Latn\": 31811,\r\n    \"mn-Mong\": 31824,\r\n    \"iu-Latn\": 31837,\r\n    \"tzm-Latn\": 31839,\r\n    \"ha-Latn\": 31848\r\n};\r\n\r\nfunction getLanguageId() {\r\n    return LANGUAGE_CODES[_core.default.locale()]\r\n}\r\n","/**\r\n * DevExtreme (exporter/excel/excel.fill_helper.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _excel = _interopRequireDefault(require(\"./excel.tag_helper\"));\r\nvar _excel2 = _interopRequireDefault(require(\"./excel.pattern_fill_helper\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar fillHelper = {\r\n    tryCreateTag: function(sourceObj) {\r\n        var result = null;\r\n        if ((0, _type.isDefined)(sourceObj)) {\r\n            result = {\r\n                patternFill: _excel2.default.tryCreateTag(sourceObj.patternFill)\r\n            };\r\n            if (fillHelper.isEmpty(result)) {\r\n                result = null\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    tryCreateFillFromSimpleFormat: function() {\r\n        var _ref = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\r\n            backgroundColor = _ref.backgroundColor,\r\n            fillPatternType = _ref.fillPatternType,\r\n            fillPatternColor = _ref.fillPatternColor;\r\n        if ((0, _type.isDefined)(backgroundColor) && !((0, _type.isDefined)(fillPatternType) && (0, _type.isDefined)(fillPatternColor))) {\r\n            return {\r\n                patternFill: {\r\n                    patternType: \"solid\",\r\n                    foregroundColor: {\r\n                        rgb: backgroundColor\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            if ((0, _type.isDefined)(fillPatternType) && (0, _type.isDefined)(fillPatternColor)) {\r\n                return {\r\n                    patternFill: {\r\n                        patternType: fillPatternType,\r\n                        foregroundColor: {\r\n                            rgb: fillPatternColor\r\n                        },\r\n                        backgroundColor: {\r\n                            rgb: backgroundColor\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    copySimpleFormat: function(source, target) {\r\n        if (void 0 !== source.backgroundColor) {\r\n            target.backgroundColor = source.backgroundColor\r\n        }\r\n        if (void 0 !== source.fillPatternType) {\r\n            target.fillPatternType = source.fillPatternType\r\n        }\r\n        if (void 0 !== source.fillPatternColor) {\r\n            target.fillPatternColor = source.fillPatternColor\r\n        }\r\n    },\r\n    copy: function(source) {\r\n        var result = null;\r\n        if ((0, _type.isDefined)(source)) {\r\n            result = {};\r\n            if (void 0 !== source.patternFill) {\r\n                result.patternFill = _excel2.default.copy(source.patternFill)\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    areEqual: function(leftTag, rightTag) {\r\n        return fillHelper.isEmpty(leftTag) && fillHelper.isEmpty(rightTag) || (0, _type.isDefined)(leftTag) && (0, _type.isDefined)(rightTag) && _excel2.default.areEqual(leftTag.patternFill, rightTag.patternFill)\r\n    },\r\n    isEmpty: function(tag) {\r\n        return !(0, _type.isDefined)(tag) || _excel2.default.isEmpty(tag.patternFill)\r\n    },\r\n    toXml: function(tag) {\r\n        return _excel.default.toXml(\"fill\", {}, _excel2.default.toXml(tag.patternFill))\r\n    }\r\n};\r\nvar _default = fillHelper;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (exporter/excel/excel.color_helper.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _excel = _interopRequireDefault(require(\"./excel.tag_helper\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar colorHelper = {\r\n    _tryConvertColor: function(source) {\r\n        if (\"string\" !== typeof source) {\r\n            return source\r\n        }\r\n        var result;\r\n        if (source.length > 0 && \"#\" === source[0]) {\r\n            var colorCode = source.substr(1, source.length);\r\n            if (6 === colorCode.length) {\r\n                result = \"FF\" + colorCode\r\n            } else {\r\n                if (8 === colorCode.length) {\r\n                    result = colorCode[6] + colorCode[7] + colorCode.substr(0, 6)\r\n                } else {\r\n                    result = colorCode\r\n                }\r\n            }\r\n        } else {\r\n            result = source\r\n        }\r\n        return result\r\n    },\r\n    tryCreateTag: function(sourceObj) {\r\n        var result = null;\r\n        if ((0, _type.isDefined)(sourceObj)) {\r\n            if (\"string\" === typeof sourceObj) {\r\n                result = {\r\n                    rgb: this._tryConvertColor(sourceObj)\r\n                }\r\n            } else {\r\n                result = {\r\n                    rgb: this._tryConvertColor(sourceObj.rgb),\r\n                    theme: sourceObj.theme\r\n                }\r\n            }\r\n            if (colorHelper.isEmpty(result)) {\r\n                result = null\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    copy: function(source) {\r\n        var result = null;\r\n        if ((0, _type.isDefined)(source)) {\r\n            if (\"string\" === typeof source) {\r\n                result = source\r\n            } else {\r\n                result = {};\r\n                if (void 0 !== source.rgb) {\r\n                    result.rgb = source.rgb\r\n                }\r\n                if (void 0 !== source.theme) {\r\n                    result.theme = source.theme\r\n                }\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    isEmpty: function(tag) {\r\n        return !(0, _type.isDefined)(tag) || !(0, _type.isDefined)(tag.rgb) && !(0, _type.isDefined)(tag.theme)\r\n    },\r\n    areEqual: function(leftTag, rightTag) {\r\n        return colorHelper.isEmpty(leftTag) && colorHelper.isEmpty(rightTag) || (0, _type.isDefined)(leftTag) && (0, _type.isDefined)(rightTag) && leftTag.rgb === rightTag.rgb && leftTag.theme === rightTag.theme\r\n    },\r\n    toXml: function(tagName, tag) {\r\n        return _excel.default.toXml(tagName, {\r\n            rgb: tag.rgb,\r\n            theme: tag.theme\r\n        })\r\n    }\r\n};\r\nvar _default = colorHelper;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (exporter/excel/excel.font_helper.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _excel = _interopRequireDefault(require(\"./excel.tag_helper\"));\r\nvar _excel2 = _interopRequireDefault(require(\"./excel.color_helper\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar fontHelper = {\r\n    tryCreateTag: function(sourceObj) {\r\n        var result = null;\r\n        if ((0, _type.isDefined)(sourceObj)) {\r\n            result = {\r\n                size: sourceObj.size,\r\n                name: sourceObj.name,\r\n                family: sourceObj.family,\r\n                scheme: sourceObj.scheme,\r\n                bold: sourceObj.bold,\r\n                italic: sourceObj.italic,\r\n                underline: sourceObj.underline,\r\n                color: _excel2.default.tryCreateTag(sourceObj.color)\r\n            };\r\n            if (fontHelper.isEmpty(result)) {\r\n                result = null\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    copy: function(source) {\r\n        var result = null;\r\n        if ((0, _type.isDefined)(source)) {\r\n            result = {};\r\n            if (void 0 !== source.size) {\r\n                result.size = source.size\r\n            }\r\n            if (void 0 !== source.name) {\r\n                result.name = source.name\r\n            }\r\n            if (void 0 !== source.family) {\r\n                result.family = source.family\r\n            }\r\n            if (void 0 !== source.scheme) {\r\n                result.scheme = source.scheme\r\n            }\r\n            if (void 0 !== source.bold) {\r\n                result.bold = source.bold\r\n            }\r\n            if (void 0 !== source.italic) {\r\n                result.italic = source.italic\r\n            }\r\n            if (void 0 !== source.underline) {\r\n                result.underline = source.underline\r\n            }\r\n            if (void 0 !== source.color) {\r\n                result.color = _excel2.default.copy(source.color)\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    areEqual: function(leftTag, rightTag) {\r\n        return fontHelper.isEmpty(leftTag) && fontHelper.isEmpty(rightTag) || (0, _type.isDefined)(leftTag) && (0, _type.isDefined)(rightTag) && leftTag.size === rightTag.size && leftTag.name === rightTag.name && leftTag.family === rightTag.family && leftTag.scheme === rightTag.scheme && (leftTag.bold === rightTag.bold || !leftTag.bold === !rightTag.bold) && (leftTag.italic === rightTag.italic || !leftTag.italic === !rightTag.italic) && leftTag.underline === rightTag.underline && _excel2.default.areEqual(leftTag.color, rightTag.color)\r\n    },\r\n    isEmpty: function(tag) {\r\n        return !(0, _type.isDefined)(tag) || !(0, _type.isDefined)(tag.size) && !(0, _type.isDefined)(tag.name) && !(0, _type.isDefined)(tag.family) && !(0, _type.isDefined)(tag.scheme) && (!(0, _type.isDefined)(tag.bold) || !tag.bold) && (!(0, _type.isDefined)(tag.italic) || !tag.italic) && !(0, _type.isDefined)(tag.underline) && _excel2.default.isEmpty(tag.color)\r\n    },\r\n    toXml: function(tag) {\r\n        var content = [(0, _type.isDefined)(tag.bold) && tag.bold ? _excel.default.toXml(\"b\", {}) : \"\", (0, _type.isDefined)(tag.size) ? _excel.default.toXml(\"sz\", {\r\n            val: tag.size\r\n        }) : \"\", (0, _type.isDefined)(tag.color) ? _excel2.default.toXml(\"color\", tag.color) : \"\", (0, _type.isDefined)(tag.name) ? _excel.default.toXml(\"name\", {\r\n            val: tag.name\r\n        }) : \"\", (0, _type.isDefined)(tag.family) ? _excel.default.toXml(\"family\", {\r\n            val: tag.family\r\n        }) : \"\", (0, _type.isDefined)(tag.scheme) ? _excel.default.toXml(\"scheme\", {\r\n            val: tag.scheme\r\n        }) : \"\", (0, _type.isDefined)(tag.italic) && tag.italic ? _excel.default.toXml(\"i\", {}) : \"\", (0, _type.isDefined)(tag.underline) ? _excel.default.toXml(\"u\", {\r\n            val: tag.underline\r\n        }) : \"\"].join(\"\");\r\n        return _excel.default.toXml(\"font\", {}, content)\r\n    }\r\n};\r\nvar _default = fontHelper;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (exporter/image_creator.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.getData = getData;\r\nexports.testFormats = testFormats;\r\nexports.imageCreator = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../core/renderer\"));\r\nvar _color = _interopRequireDefault(require(\"../color\"));\r\nvar _type = require(\"../core/utils/type\");\r\nvar _svg = require(\"../core/utils/svg\");\r\nvar _iterator = require(\"../core/utils/iterator\");\r\nvar _extend = require(\"../core/utils/extend\");\r\nvar _dom_adapter = _interopRequireDefault(require(\"../core/dom_adapter\"));\r\nvar _dom = require(\"../core/utils/dom\");\r\nvar _window = require(\"../core/utils/window\");\r\nvar _inflector = require(\"../core/utils/inflector\");\r\nvar _deferred = require(\"../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar window = (0, _window.getWindow)();\r\nvar _math = Math;\r\nvar PI = _math.PI;\r\nvar _min = _math.min;\r\nvar _abs = _math.abs;\r\nvar _sqrt = _math.sqrt;\r\nvar _pow = _math.pow;\r\nvar _atan2 = _math.atan2;\r\nvar _cos = _math.cos;\r\nvar _sin = _math.sin;\r\nvar _number = Number;\r\nvar IMAGE_QUALITY = 1;\r\nvar TEXT_DECORATION_LINE_WIDTH_COEFF = .05;\r\nvar DEFAULT_FONT_SIZE = \"10px\";\r\nvar DEFAULT_FONT_FAMILY = \"sans-serif\";\r\nvar DEFAULT_TEXT_COLOR = \"#000\";\r\nvar parseAttributes;\r\n\r\nfunction createCanvas(width, height, margin) {\r\n    var canvas = (0, _renderer.default)(\"<canvas>\")[0];\r\n    canvas.width = width + 2 * margin;\r\n    canvas.height = height + 2 * margin;\r\n    canvas.hidden = true;\r\n    return canvas\r\n}\r\n\r\nfunction getStringFromCanvas(canvas, mimeType) {\r\n    var dataURL = canvas.toDataURL(mimeType, IMAGE_QUALITY);\r\n    var imageData = window.atob(dataURL.substring((\"data:\" + mimeType + \";base64,\").length));\r\n    return imageData\r\n}\r\n\r\nfunction arcTo(x1, y1, x2, y2, radius, largeArcFlag, clockwise, context) {\r\n    var cBx = (x1 + x2) / 2;\r\n    var cBy = (y1 + y2) / 2;\r\n    var aB = _atan2(y1 - y2, x1 - x2);\r\n    var k = largeArcFlag ? 1 : -1;\r\n    aB += 90 * (PI / 180) * (clockwise ? 1 : -1);\r\n    var opSide = _sqrt(_pow(x2 - x1, 2) + _pow(y2 - y1, 2)) / 2;\r\n    var adjSide = _sqrt(_abs(_pow(radius, 2) - _pow(opSide, 2)));\r\n    var centerX = cBx + k * (adjSide * _cos(aB));\r\n    var centerY = cBy + k * (adjSide * _sin(aB));\r\n    var startAngle = _atan2(y1 - centerY, x1 - centerX);\r\n    var endAngle = _atan2(y2 - centerY, x2 - centerX);\r\n    context.arc(centerX, centerY, radius, startAngle, endAngle, !clockwise)\r\n}\r\n\r\nfunction getElementOptions(element, rootAppended) {\r\n    var attr = parseAttributes(element.attributes || {});\r\n    var options = (0, _extend.extend)({}, attr, {\r\n        text: element.textContent.replace(/\\s+/g, \" \"),\r\n        textAlign: \"middle\" === attr[\"text-anchor\"] ? \"center\" : attr[\"text-anchor\"]\r\n    });\r\n    var transform = attr.transform;\r\n    var coords;\r\n    if (transform) {\r\n        coords = transform.match(/translate\\(-*\\d+([.]\\d+)*(,*\\s*-*\\d+([.]\\d+)*)*/);\r\n        if (coords) {\r\n            coords = coords[0].match(/-*\\d+([.]\\d+)*/g);\r\n            options.translateX = _number(coords[0]);\r\n            options.translateY = coords[1] ? _number(coords[1]) : 0\r\n        }\r\n        coords = transform.match(/rotate\\(-*\\d+([.]\\d+)*(,*\\s*-*\\d+([.]\\d+)*,*\\s*-*\\d+([.]\\d+)*)*/);\r\n        if (coords) {\r\n            coords = coords[0].match(/-*\\d+([.]\\d+)*/g);\r\n            options.rotationAngle = _number(coords[0]);\r\n            options.rotationX = coords[1] && _number(coords[1]);\r\n            options.rotationY = coords[2] && _number(coords[2])\r\n        }\r\n        coords = transform.match(/scale\\(-*\\d+([.]\\d+)*(,*\\s*-*\\d+([.]\\d+)*)*/);\r\n        if (coords) {\r\n            coords = coords[0].match(/-*\\d+([.]\\d+)*/g);\r\n            options.scaleX = _number(coords[0]);\r\n            if (coords.length > 1) {\r\n                options.scaleY = _number(coords[1])\r\n            } else {\r\n                options.scaleY = options.scaleX\r\n            }\r\n        }\r\n    }\r\n    parseStyles(element, options, rootAppended);\r\n    return options\r\n}\r\n\r\nfunction drawRect(context, options) {\r\n    var x = options.x;\r\n    var y = options.y;\r\n    var width = options.width;\r\n    var height = options.height;\r\n    var cornerRadius = options.rx;\r\n    if (!cornerRadius) {\r\n        context.rect(x, y, width, height)\r\n    } else {\r\n        cornerRadius = _min(cornerRadius, width / 2, height / 2);\r\n        context.save();\r\n        context.translate(x, y);\r\n        context.moveTo(width / 2, 0);\r\n        context.arcTo(width, 0, width, height, cornerRadius);\r\n        context.arcTo(width, height, 0, height, cornerRadius);\r\n        context.arcTo(0, height, 0, 0, cornerRadius);\r\n        context.arcTo(0, 0, cornerRadius, 0, cornerRadius);\r\n        context.lineTo(width / 2, 0);\r\n        context.restore()\r\n    }\r\n}\r\n\r\nfunction drawImage(context, options, shared) {\r\n    var d = new _deferred.Deferred;\r\n    var image = new window.Image;\r\n    image.onload = function() {\r\n        context.save();\r\n        context.globalAlpha = options.globalAlpha;\r\n        transformElement(context, options);\r\n        clipElement(context, options, shared);\r\n        context.drawImage(image, options.x, options.y, options.width, options.height);\r\n        context.restore();\r\n        d.resolve()\r\n    };\r\n    image.onerror = function() {\r\n        d.resolve()\r\n    };\r\n    image.setAttribute(\"crossOrigin\", \"anonymous\");\r\n    image.src = options.href || options[\"xlink:href\"];\r\n    return d\r\n}\r\n\r\nfunction drawPath(context, dAttr) {\r\n    var dArray = dAttr.replace(/,/g, \" \").split(/([A-Z])/i).filter(function(item) {\r\n        return \"\" !== item.trim()\r\n    });\r\n    var i = 0;\r\n    var params;\r\n    var prevParams;\r\n    var prevParamsLen;\r\n    do {\r\n        params = (dArray[i + 1] || \"\").trim().split(\" \");\r\n        switch (dArray[i]) {\r\n            case \"M\":\r\n                context.moveTo(_number(params[0]), _number(params[1]));\r\n                i += 2;\r\n                break;\r\n            case \"L\":\r\n                for (var j = 0; j < params.length / 2; j++) {\r\n                    context.lineTo(_number(params[2 * j]), _number(params[2 * j + 1]))\r\n                }\r\n                i += 2;\r\n                break;\r\n            case \"C\":\r\n                context.bezierCurveTo(_number(params[0]), _number(params[1]), _number(params[2]), _number(params[3]), _number(params[4]), _number(params[5]));\r\n                i += 2;\r\n                break;\r\n            case \"a\":\r\n                prevParams = dArray[i - 1].trim().split(\" \");\r\n                prevParamsLen = prevParams.length - 1;\r\n                arcTo(_number(prevParams[prevParamsLen - 1]), _number(prevParams[prevParamsLen]), _number(prevParams[prevParamsLen - 1]) + _number(params[5]), _number(prevParams[prevParamsLen]) + _number(params[6]), _number(params[0]), _number(params[3]), _number(params[4]), context);\r\n                i += 2;\r\n                break;\r\n            case \"A\":\r\n                prevParams = dArray[i - 1].trim().split(\" \");\r\n                prevParamsLen = prevParams.length - 1;\r\n                arcTo(_number(prevParams[prevParamsLen - 1]), _number(prevParams[prevParamsLen]), _number(params[5]), _number(params[6]), _number(params[0]), _number(params[3]), _number(params[4]), context);\r\n                i += 2;\r\n                break;\r\n            case \"Z\":\r\n                context.closePath();\r\n                i += 1;\r\n                break;\r\n            default:\r\n                i++\r\n        }\r\n    } while (i < dArray.length)\r\n}\r\n\r\nfunction parseStyles(element, options, rootAppended) {\r\n    var style = element.style || {};\r\n    var field;\r\n    for (field in style) {\r\n        if (\"\" !== style[field]) {\r\n            options[(0, _inflector.camelize)(field)] = style[field]\r\n        }\r\n    }\r\n    if (rootAppended && _dom_adapter.default.isElementNode(element)) {\r\n        style = window.getComputedStyle(element);\r\n        [\"fill\", \"stroke\", \"stroke-width\", \"font-family\", \"font-size\", \"font-style\", \"font-weight\"].forEach(function(prop) {\r\n            if (prop in style && \"\" !== style[prop]) {\r\n                options[(0, _inflector.camelize)(prop)] = style[prop]\r\n            }\r\n        });\r\n        [\"opacity\", \"fill-opacity\", \"stroke-opacity\"].forEach(function(prop) {\r\n            if (prop in style && \"\" !== style[prop] && \"1\" !== style[prop]) {\r\n                options[prop] = _number(style[prop])\r\n            }\r\n        })\r\n    }\r\n    options.textDecoration = options.textDecoration || options.textDecorationLine;\r\n    options.globalAlpha = (0, _type.isDefined)(options.opacity) ? options.opacity : options.globalAlpha\r\n}\r\n\r\nfunction parseUrl(urlString) {\r\n    var matches = urlString && urlString.match(/url\\(.*#(.*?)[\"']?\\)/i);\r\n    return matches && matches[1]\r\n}\r\n\r\nfunction setFontStyle(context, options) {\r\n    var fontParams = [];\r\n    options.fontSize = options.fontSize || DEFAULT_FONT_SIZE;\r\n    options.fontFamily || DEFAULT_FONT_FAMILY;\r\n    options.fill = options.fill || DEFAULT_TEXT_COLOR;\r\n    options.fontStyle && fontParams.push(options.fontStyle);\r\n    options.fontWeight && fontParams.push(options.fontWeight);\r\n    fontParams.push(options.fontSize);\r\n    fontParams.push(options.fontFamily);\r\n    context.font = fontParams.join(\" \");\r\n    context.textAlign = options.textAlign;\r\n    context.fillStyle = options.fill;\r\n    context.globalAlpha = options.globalAlpha\r\n}\r\n\r\nfunction drawText(context, options, shared) {\r\n    setFontStyle(context, options);\r\n    applyFilter(context, options, shared);\r\n    options.text && context.fillText(options.text, options.x || 0, options.y || 0);\r\n    strokeElement(context, options, true);\r\n    drawTextDecoration(context, options, shared)\r\n}\r\n\r\nfunction drawTextDecoration(context, options, shared) {\r\n    if (!options.textDecoration || \"none\" === options.textDecoration) {\r\n        return\r\n    }\r\n    var x = options.x;\r\n    var textWidth = context.measureText(options.text).width;\r\n    var textHeight = parseInt(options.fontSize, 10);\r\n    var lineHeight = textHeight * TEXT_DECORATION_LINE_WIDTH_COEFF < 1 ? 1 : textHeight * TEXT_DECORATION_LINE_WIDTH_COEFF;\r\n    var y = options.y;\r\n    switch (options.textDecoration) {\r\n        case \"line-through\":\r\n            y -= textHeight / 3 + lineHeight / 2;\r\n            break;\r\n        case \"overline\":\r\n            y -= textHeight - lineHeight;\r\n            break;\r\n        case \"underline\":\r\n            y += lineHeight\r\n    }\r\n    context.rect(x, y, textWidth, lineHeight);\r\n    fillElement(context, options, shared);\r\n    strokeElement(context, options)\r\n}\r\n\r\nfunction aggregateOpacity(options) {\r\n    options.strokeOpacity = void 0 !== options[\"stroke-opacity\"] ? options[\"stroke-opacity\"] : 1;\r\n    options.fillOpacity = void 0 !== options[\"fill-opacity\"] ? options[\"fill-opacity\"] : 1;\r\n    if (void 0 !== options.opacity) {\r\n        options.strokeOpacity *= options.opacity;\r\n        options.fillOpacity *= options.opacity\r\n    }\r\n}\r\n\r\nfunction hasTspan(element) {\r\n    var nodes = element.childNodes;\r\n    for (var i = 0; i < nodes.length; i++) {\r\n        if (\"tspan\" === nodes[i].tagName) {\r\n            return true\r\n        }\r\n    }\r\n    return false\r\n}\r\n\r\nfunction drawTextElement(childNodes, context, options, shared) {\r\n    var lines = [];\r\n    var line;\r\n    var offset = 0;\r\n    for (var i = 0; i < childNodes.length; i++) {\r\n        var element = childNodes[i];\r\n        if (void 0 === element.tagName) {\r\n            drawElement(element, context, options, shared)\r\n        } else {\r\n            if (\"tspan\" === element.tagName || \"text\" === element.tagName) {\r\n                var elementOptions = getElementOptions(element, shared.rootAppended);\r\n                var mergedOptions = (0, _extend.extend)({}, options, elementOptions);\r\n                if (\"tspan\" === element.tagName && hasTspan(element)) {\r\n                    drawTextElement(element.childNodes, context, mergedOptions, shared);\r\n                    continue\r\n                }\r\n                mergedOptions.textAlign = \"start\";\r\n                if (!line || void 0 !== elementOptions.x) {\r\n                    line = {\r\n                        elements: [],\r\n                        options: [],\r\n                        widths: [],\r\n                        offsets: []\r\n                    };\r\n                    lines.push(line)\r\n                }\r\n                if (void 0 !== elementOptions.y) {\r\n                    offset = 0\r\n                }\r\n                if (void 0 !== elementOptions.dy) {\r\n                    offset += parseFloat(elementOptions.dy)\r\n                }\r\n                line.elements.push(element);\r\n                line.options.push(mergedOptions);\r\n                line.offsets.push(offset);\r\n                setFontStyle(context, mergedOptions);\r\n                line.widths.push(context.measureText(mergedOptions.text).width)\r\n            }\r\n        }\r\n    }\r\n    lines.forEach(function(line) {\r\n        var commonWidth = line.widths.reduce(function(commonWidth, width) {\r\n            return commonWidth + width\r\n        }, 0);\r\n        var xDiff = 0;\r\n        var currentOffset = 0;\r\n        if (\"center\" === options.textAlign) {\r\n            xDiff = commonWidth / 2\r\n        }\r\n        if (\"end\" === options.textAlign) {\r\n            xDiff = commonWidth\r\n        }\r\n        line.options.forEach(function(o, index) {\r\n            var width = line.widths[index];\r\n            o.x = o.x - xDiff + currentOffset;\r\n            o.y += line.offsets[index];\r\n            currentOffset += width\r\n        });\r\n        line.elements.forEach(function(element, index) {\r\n            drawTextElement(element.childNodes, context, line.options[index], shared)\r\n        })\r\n    })\r\n}\r\n\r\nfunction drawElement(element, context, parentOptions, shared) {\r\n    var tagName = element.tagName;\r\n    var isText = \"text\" === tagName || \"tspan\" === tagName || void 0 === tagName;\r\n    var isImage = \"image\" === tagName;\r\n    var options = (0, _extend.extend)({}, parentOptions, getElementOptions(element, shared.rootAppended));\r\n    if (\"hidden\" === options.visibility || options[\"hidden-for-export\"]) {\r\n        return\r\n    }\r\n    context.save();\r\n    !isImage && transformElement(context, options);\r\n    clipElement(context, options, shared);\r\n    aggregateOpacity(options);\r\n    var promise;\r\n    context.beginPath();\r\n    switch (element.tagName) {\r\n        case void 0:\r\n            drawText(context, options, shared);\r\n            break;\r\n        case \"text\":\r\n        case \"tspan\":\r\n            drawTextElement(element.childNodes, context, options, shared);\r\n            break;\r\n        case \"image\":\r\n            promise = drawImage(context, options, shared);\r\n            break;\r\n        case \"path\":\r\n            drawPath(context, options.d);\r\n            break;\r\n        case \"rect\":\r\n            drawRect(context, options);\r\n            context.closePath();\r\n            break;\r\n        case \"circle\":\r\n            context.arc(options.cx, options.cy, options.r, 0, 2 * PI, 1)\r\n    }\r\n    if (!isText) {\r\n        applyFilter(context, options, shared);\r\n        fillElement(context, options, shared);\r\n        strokeElement(context, options)\r\n    }\r\n    applyGradient(context, options, shared, element);\r\n    context.restore();\r\n    return promise\r\n}\r\n\r\nfunction applyGradient(context, options, _ref, element) {\r\n    var gradients = _ref.gradients;\r\n    if (0 === gradients.length) {\r\n        return\r\n    }\r\n    var id = parseUrl(options.fill);\r\n    if (id && gradients[id]) {\r\n        var box = element.getBBox();\r\n        var gradient = context.createLinearGradient(box.x, 0, box.x + box.width, 0);\r\n        gradients[id].forEach(function(opt) {\r\n            var offset = parseInt(opt.offset.replace(/%/, \"\"));\r\n            gradient.addColorStop(offset / 100, opt.stopColor)\r\n        });\r\n        context.globalAlpha = options.opacity;\r\n        context.fillStyle = gradient;\r\n        context.fill()\r\n    }\r\n}\r\n\r\nfunction applyFilter(context, options, shared) {\r\n    var filterOptions;\r\n    var id = parseUrl(options.filter);\r\n    if (id) {\r\n        filterOptions = shared.filters[id];\r\n        if (!filterOptions) {\r\n            filterOptions = {\r\n                offsetX: 0,\r\n                offsetY: 0,\r\n                blur: 0,\r\n                color: \"#000\"\r\n            }\r\n        }\r\n        context.shadowOffsetX = filterOptions.offsetX;\r\n        context.shadowOffsetY = filterOptions.offsetY;\r\n        context.shadowColor = filterOptions.color;\r\n        context.shadowBlur = filterOptions.blur\r\n    }\r\n}\r\n\r\nfunction transformElement(context, options) {\r\n    context.translate(options.translateX || 0, options.translateY || 0);\r\n    options.translateX = void 0;\r\n    options.translateY = void 0;\r\n    if (options.rotationAngle) {\r\n        context.translate(options.rotationX || 0, options.rotationY || 0);\r\n        context.rotate(options.rotationAngle * PI / 180);\r\n        context.translate(-(options.rotationX || 0), -(options.rotationY || 0));\r\n        options.rotationAngle = void 0;\r\n        options.rotationX = void 0;\r\n        options.rotationY = void 0\r\n    }\r\n    if (isFinite(options.scaleX)) {\r\n        context.scale(options.scaleX, options.scaleY);\r\n        options.scaleX = void 0;\r\n        options.scaleY = void 0\r\n    }\r\n}\r\n\r\nfunction clipElement(context, options, shared) {\r\n    if (options[\"clip-path\"]) {\r\n        drawElement(shared.clipPaths[parseUrl(options[\"clip-path\"])], context, {}, shared);\r\n        context.clip();\r\n        options[\"clip-path\"] = void 0\r\n    }\r\n}\r\n\r\nfunction hex2rgba(hexColor, alpha) {\r\n    var color = new _color.default(hexColor);\r\n    return \"rgba(\" + color.r + \",\" + color.g + \",\" + color.b + \",\" + alpha + \")\"\r\n}\r\n\r\nfunction createGradient(element) {\r\n    var options = [];\r\n    (0, _iterator.each)(element.childNodes, function(_, _ref2) {\r\n        var attributes = _ref2.attributes;\r\n        options.push({\r\n            offset: attributes.offset.value,\r\n            stopColor: attributes[\"stop-color\"].value\r\n        })\r\n    });\r\n    return options\r\n}\r\n\r\nfunction createFilter(element) {\r\n    var color;\r\n    var opacity;\r\n    var filterOptions = {};\r\n    (0, _iterator.each)(element.childNodes, function(_, node) {\r\n        var attr = node.attributes;\r\n        if (!attr.result) {\r\n            return\r\n        }\r\n        switch (attr.result.value) {\r\n            case \"gaussianBlurResult\":\r\n                filterOptions.blur = _number(attr.stdDeviation.value);\r\n                break;\r\n            case \"offsetResult\":\r\n                filterOptions.offsetX = _number(attr.dx.value);\r\n                filterOptions.offsetY = _number(attr.dy.value);\r\n                break;\r\n            case \"floodResult\":\r\n                color = attr[\"flood-color\"] ? attr[\"flood-color\"].value : \"#000\";\r\n                opacity = attr[\"flood-opacity\"] ? attr[\"flood-opacity\"].value : 1;\r\n                filterOptions.color = hex2rgba(color, opacity)\r\n        }\r\n    });\r\n    return filterOptions\r\n}\r\n\r\nfunction asyncEach(array, callback) {\r\n    var d = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : new _deferred.Deferred;\r\n    var i = 0;\r\n    for (; i < array.length; i++) {\r\n        var result = callback(array[i]);\r\n        if ((0, _type.isPromise)(result)) {\r\n            result.then(function() {\r\n                asyncEach(Array.prototype.slice.call(array, i + 1), callback, d)\r\n            });\r\n            break\r\n        }\r\n    }\r\n    if (i === array.length) {\r\n        d.resolve()\r\n    }\r\n    return d\r\n}\r\n\r\nfunction drawCanvasElements(elements, context, parentOptions, shared) {\r\n    return asyncEach(elements, function(element) {\r\n        switch (element.tagName && element.tagName.toLowerCase()) {\r\n            case \"g\":\r\n            case \"svg\":\r\n                var options = (0, _extend.extend)({}, parentOptions, getElementOptions(element, shared.rootAppended));\r\n                context.save();\r\n                transformElement(context, options);\r\n                clipElement(context, options, shared);\r\n                var onDone = function() {\r\n                    context.restore()\r\n                };\r\n                var d = drawCanvasElements(element.childNodes, context, options, shared);\r\n                if ((0, _type.isPromise)(d)) {\r\n                    d.then(onDone)\r\n                } else {\r\n                    onDone()\r\n                }\r\n                return d;\r\n            case \"defs\":\r\n                return drawCanvasElements(element.childNodes, context, {}, shared);\r\n            case \"clippath\":\r\n                shared.clipPaths[element.attributes.id.textContent] = element.childNodes[0];\r\n                break;\r\n            case \"pattern\":\r\n                shared.patterns[element.attributes.id.textContent] = element;\r\n                break;\r\n            case \"filter\":\r\n                shared.filters[element.id] = createFilter(element);\r\n                break;\r\n            case \"lineargradient\":\r\n                shared.gradients[element.attributes.id.textContent] = createGradient(element);\r\n                break;\r\n            default:\r\n                return drawElement(element, context, parentOptions, shared)\r\n        }\r\n    })\r\n}\r\n\r\nfunction setLineDash(context, options) {\r\n    var matches = options[\"stroke-dasharray\"] && options[\"stroke-dasharray\"].match(/(\\d+)/g);\r\n    if (matches && matches.length) {\r\n        matches = (0, _iterator.map)(matches, function(item) {\r\n            return _number(item)\r\n        });\r\n        context.setLineDash(matches)\r\n    }\r\n}\r\n\r\nfunction strokeElement(context, options, isText) {\r\n    var stroke = options.stroke;\r\n    if (stroke && \"none\" !== stroke && 0 !== options[\"stroke-width\"]) {\r\n        setLineDash(context, options);\r\n        context.lineJoin = options[\"stroke-linejoin\"];\r\n        context.lineWidth = options[\"stroke-width\"];\r\n        context.globalAlpha = options.strokeOpacity;\r\n        context.strokeStyle = stroke;\r\n        isText ? context.strokeText(options.text, options.x, options.y) : context.stroke();\r\n        context.globalAlpha = 1\r\n    }\r\n}\r\n\r\nfunction getPattern(context, pattern, shared) {\r\n    var options = getElementOptions(pattern, shared.rootAppended);\r\n    var patternCanvas = createCanvas(options.width, options.height, 0);\r\n    var patternContext = patternCanvas.getContext(\"2d\");\r\n    drawCanvasElements(pattern.childNodes, patternContext, options, shared);\r\n    return context.createPattern(patternCanvas, \"repeat\")\r\n}\r\n\r\nfunction fillElement(context, options, shared) {\r\n    var fill = options.fill;\r\n    if (fill && \"none\" !== fill) {\r\n        if (fill.search(/url/) === -1) {\r\n            context.fillStyle = fill\r\n        } else {\r\n            var pattern = shared.patterns[parseUrl(fill)];\r\n            if (!pattern) {\r\n                return\r\n            }\r\n            context.fillStyle = getPattern(context, pattern, shared)\r\n        }\r\n        context.globalAlpha = options.fillOpacity;\r\n        context.fill();\r\n        context.globalAlpha = 1\r\n    }\r\n}\r\nparseAttributes = function(attributes) {\r\n    var newAttributes = {};\r\n    var attr;\r\n    (0, _iterator.each)(attributes, function(index, item) {\r\n        attr = item.textContent;\r\n        if (isFinite(attr)) {\r\n            attr = _number(attr)\r\n        }\r\n        newAttributes[item.name.toLowerCase()] = attr\r\n    });\r\n    return newAttributes\r\n};\r\n\r\nfunction drawBackground(context, width, height, backgroundColor, margin) {\r\n    context.fillStyle = backgroundColor || \"#ffffff\";\r\n    context.fillRect(-margin, -margin, width + 2 * margin, height + 2 * margin)\r\n}\r\n\r\nfunction createInvisibleDiv() {\r\n    var invisibleDiv = _dom_adapter.default.createElement(\"div\");\r\n    invisibleDiv.style.left = \"-9999px\";\r\n    invisibleDiv.style.position = \"absolute\";\r\n    return invisibleDiv\r\n}\r\n\r\nfunction convertSvgToCanvas(svg, canvas, rootAppended) {\r\n    return drawCanvasElements(svg.childNodes, canvas.getContext(\"2d\"), {}, {\r\n        clipPaths: {},\r\n        patterns: {},\r\n        filters: {},\r\n        gradients: {},\r\n        rootAppended: rootAppended\r\n    })\r\n}\r\n\r\nfunction getCanvasFromSvg(markup, width, height, backgroundColor, margin) {\r\n    var svgToCanvas = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : convertSvgToCanvas;\r\n    var canvas = createCanvas(width, height, margin);\r\n    var context = canvas.getContext(\"2d\");\r\n    var svgElem = (0, _svg.getSvgElement)(markup);\r\n    var invisibleDiv;\r\n    var markupIsDomElement = _dom_adapter.default.isElementNode(markup);\r\n    context.translate(margin, margin);\r\n    _dom_adapter.default.getBody().appendChild(canvas);\r\n    if (!markupIsDomElement) {\r\n        invisibleDiv = createInvisibleDiv();\r\n        invisibleDiv.appendChild(svgElem);\r\n        _dom_adapter.default.getBody().appendChild(invisibleDiv)\r\n    }\r\n    if (svgElem.attributes.direction) {\r\n        canvas.dir = svgElem.attributes.direction.textContent\r\n    }\r\n    drawBackground(context, width, height, backgroundColor, margin);\r\n    return (0, _deferred.fromPromise)(svgToCanvas(svgElem, canvas, markupIsDomElement && (0, _dom.contains)(_dom_adapter.default.getBody(), markup))).then(function() {\r\n        return canvas\r\n    }).always(function() {\r\n        invisibleDiv && _dom_adapter.default.getBody().removeChild(invisibleDiv);\r\n        _dom_adapter.default.getBody().removeChild(canvas)\r\n    })\r\n}\r\nvar imageCreator = {\r\n    getImageData: function(markup, options) {\r\n        var mimeType = \"image/\" + options.format;\r\n        var width = options.width;\r\n        var height = options.height;\r\n        var backgroundColor = options.backgroundColor;\r\n        if ((0, _type.isFunction)(options.__parseAttributesFn)) {\r\n            parseAttributes = options.__parseAttributesFn\r\n        }\r\n        return getCanvasFromSvg(markup, width, height, backgroundColor, options.margin, options.svgToCanvas).then(function(canvas) {\r\n            return getStringFromCanvas(canvas, mimeType)\r\n        })\r\n    },\r\n    getData: function(markup, options) {\r\n        var that = this;\r\n        return imageCreator.getImageData(markup, options).then(function(binaryData) {\r\n            var mimeType = \"image/\" + options.format;\r\n            var data = (0, _type.isFunction)(window.Blob) && !options.forceProxy ? that._getBlob(binaryData, mimeType) : that._getBase64(binaryData);\r\n            return data\r\n        })\r\n    },\r\n    _getBlob: function(binaryData, mimeType) {\r\n        var i;\r\n        var dataArray = new Uint8Array(binaryData.length);\r\n        for (i = 0; i < binaryData.length; i++) {\r\n            dataArray[i] = binaryData.charCodeAt(i)\r\n        }\r\n        return new window.Blob([dataArray.buffer], {\r\n            type: mimeType\r\n        })\r\n    },\r\n    _getBase64: function(binaryData) {\r\n        return window.btoa(binaryData)\r\n    }\r\n};\r\nexports.imageCreator = imageCreator;\r\n\r\nfunction getData(data, options) {\r\n    return imageCreator.getData(data, options)\r\n}\r\n\r\nfunction testFormats(formats) {\r\n    var canvas = createCanvas(100, 100, 0);\r\n    return formats.reduce(function(r, f) {\r\n        var mimeType = (\"image/\" + f).toLowerCase();\r\n        if (canvas.toDataURL(mimeType).indexOf(mimeType) !== -1) {\r\n            r.supported.push(f)\r\n        } else {\r\n            r.unsupported.push(f)\r\n        }\r\n        return r\r\n    }, {\r\n        supported: [],\r\n        unsupported: []\r\n    })\r\n}\r\n","/**\r\n * DevExtreme (core/utils/svg.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.getSvgMarkup = getSvgMarkup;\r\nexports.getSvgElement = getSvgElement;\r\nvar _dom_adapter = _interopRequireDefault(require(\"../../core/dom_adapter\"));\r\nvar _window = require(\"./window\");\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar window = (0, _window.getWindow)();\r\n\r\nfunction getMarkup(element, backgroundColor) {\r\n    var temp = _dom_adapter.default.createElement(\"div\");\r\n    var clone = element.cloneNode(true);\r\n    if (backgroundColor) {\r\n        (0, _renderer.default)(clone).css(\"backgroundColor\", backgroundColor)\r\n    }\r\n    temp.appendChild(clone);\r\n    return temp.innerHTML\r\n}\r\n\r\nfunction fixNamespaces(markup) {\r\n    var first = true;\r\n    if (markup.indexOf(\"xmlns:xlink\") === -1) {\r\n        markup = markup.replace(\"<svg\", '<svg xmlns:xlink=\"http://www.w3.org/1999/xlink\"')\r\n    }\r\n    markup = markup.replace(/xmlns=\"[\\s\\S]*?\"/gi, function(match) {\r\n        if (!first) {\r\n            return \"\"\r\n        }\r\n        first = false;\r\n        return match\r\n    });\r\n    return markup.replace(/xmlns:NS1=\"[\\s\\S]*?\"/gi, \"\").replace(/NS1:xmlns:xlink=\"([\\s\\S]*?)\"/gi, 'xmlns:xlink=\"$1\"')\r\n}\r\n\r\nfunction decodeHtmlEntities(markup) {\r\n    return markup.replace(/&quot;/gi, \"&#34;\").replace(/&amp;/gi, \"&#38;\").replace(/&apos;/gi, \"&#39;\").replace(/&lt;/gi, \"&#60;\").replace(/&gt;/gi, \"&#62;\").replace(/&nbsp;/gi, \"&#160;\").replace(/&shy;/gi, \"&#173;\")\r\n}\r\n\r\nfunction getSvgMarkup(element, backgroundColor) {\r\n    return fixNamespaces(decodeHtmlEntities(getMarkup(element, backgroundColor)))\r\n}\r\n\r\nfunction getSvgElement(markup) {\r\n    return _dom_adapter.default.isNode(markup) ? markup : (new window.DOMParser).parseFromString(markup, \"image/svg+xml\").childNodes[0]\r\n}\r\n","/*!\n * devextreme-react\n * Version: 20.2.5\n * Build date: Fri Jan 15 2021\n *\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-react\n */\n\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValidationRule = exports.TabPanelOptionsItem = exports.TabPanelOptions = exports.TabbedItem = exports.Tab = exports.StringLengthRule = exports.SimpleItem = exports.RequiredRule = exports.RangeRule = exports.PatternRule = exports.NumericRule = exports.Label = exports.Item = exports.GroupItem = exports.EmptyItem = exports.EmailRule = exports.CustomRule = exports.CompareRule = exports.ColCountByScreen = exports.ButtonOptions = exports.ButtonItem = exports.AsyncRule = exports.Form = void 0;\nvar form_1 = require(\"devextreme/ui/form\");\nvar PropTypes = require(\"prop-types\");\nvar component_1 = require(\"./core/component\");\nvar nested_option_1 = require(\"./core/nested-option\");\nvar Form = /** @class */ (function (_super) {\n    __extends(Form, _super);\n    function Form() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._WidgetClass = form_1.default;\n        _this.subscribableOptions = [\"formData\"];\n        _this._defaults = {\n            defaultFormData: \"formData\"\n        };\n        _this._expectedChildren = {\n            ButtonItem: { optionName: \"items\", isCollectionItem: true },\n            colCountByScreen: { optionName: \"colCountByScreen\", isCollectionItem: false },\n            EmptyItem: { optionName: \"items\", isCollectionItem: true },\n            GroupItem: { optionName: \"items\", isCollectionItem: true },\n            item: { optionName: \"items\", isCollectionItem: true },\n            SimpleItem: { optionName: \"items\", isCollectionItem: true },\n            TabbedItem: { optionName: \"items\", isCollectionItem: true }\n        };\n        return _this;\n    }\n    Object.defineProperty(Form.prototype, \"instance\", {\n        get: function () {\n            return this._instance;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Form;\n}(component_1.Component));\nexports.Form = Form;\nForm.propTypes = {\n    accessKey: PropTypes.string,\n    activeStateEnabled: PropTypes.bool,\n    alignItemLabels: PropTypes.bool,\n    alignItemLabelsInAllGroups: PropTypes.bool,\n    colCount: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.oneOf([\n            \"auto\"\n        ])\n    ]),\n    colCountByScreen: PropTypes.object,\n    customizeItem: PropTypes.func,\n    disabled: PropTypes.bool,\n    elementAttr: PropTypes.object,\n    focusStateEnabled: PropTypes.bool,\n    formData: PropTypes.object,\n    height: PropTypes.oneOfType([\n        PropTypes.func,\n        PropTypes.number,\n        PropTypes.string\n    ]),\n    hint: PropTypes.string,\n    hoverStateEnabled: PropTypes.bool,\n    items: PropTypes.array,\n    labelLocation: PropTypes.oneOf([\n        \"left\",\n        \"right\",\n        \"top\"\n    ]),\n    minColWidth: PropTypes.number,\n    onContentReady: PropTypes.func,\n    onDisposing: PropTypes.func,\n    onEditorEnterKey: PropTypes.func,\n    onFieldDataChanged: PropTypes.func,\n    onInitialized: PropTypes.func,\n    onOptionChanged: PropTypes.func,\n    optionalMark: PropTypes.string,\n    readOnly: PropTypes.bool,\n    requiredMark: PropTypes.string,\n    requiredMessage: PropTypes.string,\n    rtlEnabled: PropTypes.bool,\n    screenByWidth: PropTypes.func,\n    scrollingEnabled: PropTypes.bool,\n    showColonAfterLabel: PropTypes.bool,\n    showOptionalMark: PropTypes.bool,\n    showRequiredMark: PropTypes.bool,\n    showValidationSummary: PropTypes.bool,\n    tabIndex: PropTypes.number,\n    validationGroup: PropTypes.string,\n    visible: PropTypes.bool,\n    width: PropTypes.oneOfType([\n        PropTypes.func,\n        PropTypes.number,\n        PropTypes.string\n    ])\n};\nvar AsyncRule = /** @class */ (function (_super) {\n    __extends(AsyncRule, _super);\n    function AsyncRule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AsyncRule.OptionName = \"validationRules\";\n    AsyncRule.IsCollectionItem = true;\n    AsyncRule.PredefinedProps = {\n        type: \"async\"\n    };\n    return AsyncRule;\n}(nested_option_1.default));\nexports.AsyncRule = AsyncRule;\nvar ButtonItem = /** @class */ (function (_super) {\n    __extends(ButtonItem, _super);\n    function ButtonItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ButtonItem.OptionName = \"items\";\n    ButtonItem.IsCollectionItem = true;\n    ButtonItem.ExpectedChildren = {\n        buttonOptions: { optionName: \"buttonOptions\", isCollectionItem: false }\n    };\n    ButtonItem.PredefinedProps = {\n        itemType: \"button\"\n    };\n    return ButtonItem;\n}(nested_option_1.default));\nexports.ButtonItem = ButtonItem;\nvar ButtonOptions = /** @class */ (function (_super) {\n    __extends(ButtonOptions, _super);\n    function ButtonOptions() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ButtonOptions.OptionName = \"buttonOptions\";\n    ButtonOptions.TemplateProps = [{\n            tmplOption: \"template\",\n            render: \"render\",\n            component: \"component\",\n            keyFn: \"keyFn\"\n        }];\n    return ButtonOptions;\n}(nested_option_1.default));\nexports.ButtonOptions = ButtonOptions;\nvar ColCountByScreen = /** @class */ (function (_super) {\n    __extends(ColCountByScreen, _super);\n    function ColCountByScreen() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColCountByScreen.OptionName = \"colCountByScreen\";\n    return ColCountByScreen;\n}(nested_option_1.default));\nexports.ColCountByScreen = ColCountByScreen;\nvar CompareRule = /** @class */ (function (_super) {\n    __extends(CompareRule, _super);\n    function CompareRule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CompareRule.OptionName = \"validationRules\";\n    CompareRule.IsCollectionItem = true;\n    CompareRule.PredefinedProps = {\n        type: \"compare\"\n    };\n    return CompareRule;\n}(nested_option_1.default));\nexports.CompareRule = CompareRule;\nvar CustomRule = /** @class */ (function (_super) {\n    __extends(CustomRule, _super);\n    function CustomRule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CustomRule.OptionName = \"validationRules\";\n    CustomRule.IsCollectionItem = true;\n    CustomRule.PredefinedProps = {\n        type: \"custom\"\n    };\n    return CustomRule;\n}(nested_option_1.default));\nexports.CustomRule = CustomRule;\nvar EmailRule = /** @class */ (function (_super) {\n    __extends(EmailRule, _super);\n    function EmailRule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EmailRule.OptionName = \"validationRules\";\n    EmailRule.IsCollectionItem = true;\n    EmailRule.PredefinedProps = {\n        type: \"email\"\n    };\n    return EmailRule;\n}(nested_option_1.default));\nexports.EmailRule = EmailRule;\nvar EmptyItem = /** @class */ (function (_super) {\n    __extends(EmptyItem, _super);\n    function EmptyItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EmptyItem.OptionName = \"items\";\n    EmptyItem.IsCollectionItem = true;\n    EmptyItem.PredefinedProps = {\n        itemType: \"empty\"\n    };\n    return EmptyItem;\n}(nested_option_1.default));\nexports.EmptyItem = EmptyItem;\nvar GroupItem = /** @class */ (function (_super) {\n    __extends(GroupItem, _super);\n    function GroupItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GroupItem.OptionName = \"items\";\n    GroupItem.IsCollectionItem = true;\n    GroupItem.ExpectedChildren = {\n        colCountByScreen: { optionName: \"colCountByScreen\", isCollectionItem: false }\n    };\n    GroupItem.TemplateProps = [{\n            tmplOption: \"template\",\n            render: \"render\",\n            component: \"component\",\n            keyFn: \"keyFn\"\n        }];\n    GroupItem.PredefinedProps = {\n        itemType: \"group\"\n    };\n    return GroupItem;\n}(nested_option_1.default));\nexports.GroupItem = GroupItem;\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Item.OptionName = \"items\";\n    Item.IsCollectionItem = true;\n    Item.TemplateProps = [{\n            tmplOption: \"tabTemplate\",\n            render: \"tabRender\",\n            component: \"tabComponent\",\n            keyFn: \"tabKeyFn\"\n        }, {\n            tmplOption: \"template\",\n            render: \"render\",\n            component: \"component\",\n            keyFn: \"keyFn\"\n        }];\n    return Item;\n}(nested_option_1.default));\nexports.Item = Item;\nvar Label = /** @class */ (function (_super) {\n    __extends(Label, _super);\n    function Label() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Label.OptionName = \"label\";\n    return Label;\n}(nested_option_1.default));\nexports.Label = Label;\nvar NumericRule = /** @class */ (function (_super) {\n    __extends(NumericRule, _super);\n    function NumericRule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NumericRule.OptionName = \"validationRules\";\n    NumericRule.IsCollectionItem = true;\n    NumericRule.PredefinedProps = {\n        type: \"numeric\"\n    };\n    return NumericRule;\n}(nested_option_1.default));\nexports.NumericRule = NumericRule;\nvar PatternRule = /** @class */ (function (_super) {\n    __extends(PatternRule, _super);\n    function PatternRule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PatternRule.OptionName = \"validationRules\";\n    PatternRule.IsCollectionItem = true;\n    PatternRule.PredefinedProps = {\n        type: \"pattern\"\n    };\n    return PatternRule;\n}(nested_option_1.default));\nexports.PatternRule = PatternRule;\nvar RangeRule = /** @class */ (function (_super) {\n    __extends(RangeRule, _super);\n    function RangeRule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RangeRule.OptionName = \"validationRules\";\n    RangeRule.IsCollectionItem = true;\n    RangeRule.PredefinedProps = {\n        type: \"range\"\n    };\n    return RangeRule;\n}(nested_option_1.default));\nexports.RangeRule = RangeRule;\nvar RequiredRule = /** @class */ (function (_super) {\n    __extends(RequiredRule, _super);\n    function RequiredRule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RequiredRule.OptionName = \"validationRules\";\n    RequiredRule.IsCollectionItem = true;\n    RequiredRule.PredefinedProps = {\n        type: \"required\"\n    };\n    return RequiredRule;\n}(nested_option_1.default));\nexports.RequiredRule = RequiredRule;\nvar SimpleItem = /** @class */ (function (_super) {\n    __extends(SimpleItem, _super);\n    function SimpleItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SimpleItem.OptionName = \"items\";\n    SimpleItem.IsCollectionItem = true;\n    SimpleItem.ExpectedChildren = {\n        AsyncRule: { optionName: \"validationRules\", isCollectionItem: true },\n        CompareRule: { optionName: \"validationRules\", isCollectionItem: true },\n        CustomRule: { optionName: \"validationRules\", isCollectionItem: true },\n        EmailRule: { optionName: \"validationRules\", isCollectionItem: true },\n        label: { optionName: \"label\", isCollectionItem: false },\n        NumericRule: { optionName: \"validationRules\", isCollectionItem: true },\n        PatternRule: { optionName: \"validationRules\", isCollectionItem: true },\n        RangeRule: { optionName: \"validationRules\", isCollectionItem: true },\n        RequiredRule: { optionName: \"validationRules\", isCollectionItem: true },\n        StringLengthRule: { optionName: \"validationRules\", isCollectionItem: true },\n        validationRule: { optionName: \"validationRules\", isCollectionItem: true }\n    };\n    SimpleItem.TemplateProps = [{\n            tmplOption: \"template\",\n            render: \"render\",\n            component: \"component\",\n            keyFn: \"keyFn\"\n        }];\n    SimpleItem.PredefinedProps = {\n        itemType: \"simple\"\n    };\n    return SimpleItem;\n}(nested_option_1.default));\nexports.SimpleItem = SimpleItem;\nvar StringLengthRule = /** @class */ (function (_super) {\n    __extends(StringLengthRule, _super);\n    function StringLengthRule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StringLengthRule.OptionName = \"validationRules\";\n    StringLengthRule.IsCollectionItem = true;\n    StringLengthRule.PredefinedProps = {\n        type: \"stringLength\"\n    };\n    return StringLengthRule;\n}(nested_option_1.default));\nexports.StringLengthRule = StringLengthRule;\nvar Tab = /** @class */ (function (_super) {\n    __extends(Tab, _super);\n    function Tab() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Tab.OptionName = \"tabs\";\n    Tab.IsCollectionItem = true;\n    Tab.ExpectedChildren = {\n        colCountByScreen: { optionName: \"colCountByScreen\", isCollectionItem: false }\n    };\n    Tab.TemplateProps = [{\n            tmplOption: \"tabTemplate\",\n            render: \"tabRender\",\n            component: \"tabComponent\",\n            keyFn: \"tabKeyFn\"\n        }, {\n            tmplOption: \"template\",\n            render: \"render\",\n            component: \"component\",\n            keyFn: \"keyFn\"\n        }];\n    return Tab;\n}(nested_option_1.default));\nexports.Tab = Tab;\nvar TabbedItem = /** @class */ (function (_super) {\n    __extends(TabbedItem, _super);\n    function TabbedItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TabbedItem.OptionName = \"items\";\n    TabbedItem.IsCollectionItem = true;\n    TabbedItem.ExpectedChildren = {\n        tab: { optionName: \"tabs\", isCollectionItem: true },\n        tabPanelOptions: { optionName: \"tabPanelOptions\", isCollectionItem: false }\n    };\n    TabbedItem.PredefinedProps = {\n        itemType: \"tabbed\"\n    };\n    return TabbedItem;\n}(nested_option_1.default));\nexports.TabbedItem = TabbedItem;\nvar TabPanelOptions = /** @class */ (function (_super) {\n    __extends(TabPanelOptions, _super);\n    function TabPanelOptions() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TabPanelOptions.OptionName = \"tabPanelOptions\";\n    TabPanelOptions.DefaultsProps = {\n        defaultItems: \"items\",\n        defaultSelectedIndex: \"selectedIndex\",\n        defaultSelectedItem: \"selectedItem\",\n        defaultSelectedItemKeys: \"selectedItemKeys\",\n        defaultSelectedItems: \"selectedItems\"\n    };\n    TabPanelOptions.ExpectedChildren = {\n        item: { optionName: \"items\", isCollectionItem: true },\n        tabPanelOptionsItem: { optionName: \"items\", isCollectionItem: true }\n    };\n    TabPanelOptions.TemplateProps = [{\n            tmplOption: \"itemTemplate\",\n            render: \"itemRender\",\n            component: \"itemComponent\",\n            keyFn: \"itemKeyFn\"\n        }, {\n            tmplOption: \"itemTitleTemplate\",\n            render: \"itemTitleRender\",\n            component: \"itemTitleComponent\",\n            keyFn: \"itemTitleKeyFn\"\n        }];\n    return TabPanelOptions;\n}(nested_option_1.default));\nexports.TabPanelOptions = TabPanelOptions;\nvar TabPanelOptionsItem = /** @class */ (function (_super) {\n    __extends(TabPanelOptionsItem, _super);\n    function TabPanelOptionsItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TabPanelOptionsItem.OptionName = \"items\";\n    TabPanelOptionsItem.IsCollectionItem = true;\n    TabPanelOptionsItem.TemplateProps = [{\n            tmplOption: \"tabTemplate\",\n            render: \"tabRender\",\n            component: \"tabComponent\",\n            keyFn: \"tabKeyFn\"\n        }, {\n            tmplOption: \"template\",\n            render: \"render\",\n            component: \"component\",\n            keyFn: \"keyFn\"\n        }];\n    return TabPanelOptionsItem;\n}(nested_option_1.default));\nexports.TabPanelOptionsItem = TabPanelOptionsItem;\nvar ValidationRule = /** @class */ (function (_super) {\n    __extends(ValidationRule, _super);\n    function ValidationRule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ValidationRule.OptionName = \"validationRules\";\n    ValidationRule.IsCollectionItem = true;\n    ValidationRule.PredefinedProps = {\n        type: \"required\"\n    };\n    return ValidationRule;\n}(nested_option_1.default));\nexports.ValidationRule = ValidationRule;\nexports.default = Form;\n","/**\r\n * DevExtreme (ui/data_grid.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _ui = _interopRequireDefault(require(\"./data_grid/ui.data_grid\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar _default = _ui.default;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\nmodule.exports.default = module.exports;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.base\"));\r\nrequire(\"./ui.data_grid.state_storing\");\r\nrequire(\"./ui.data_grid.selection\");\r\nrequire(\"./ui.data_grid.column_chooser\");\r\nrequire(\"./ui.data_grid.grouping\");\r\nrequire(\"./ui.data_grid.master_detail\");\r\nrequire(\"./ui.data_grid.editing\");\r\nrequire(\"./ui.data_grid.validating\");\r\nrequire(\"./ui.data_grid.virtual_scrolling\");\r\nrequire(\"./ui.data_grid.filter_row\");\r\nrequire(\"./ui.data_grid.header_filter\");\r\nrequire(\"./ui.data_grid.filter_sync\");\r\nrequire(\"./ui.data_grid.filter_builder\");\r\nrequire(\"./ui.data_grid.filter_panel\");\r\nrequire(\"./ui.data_grid.search\");\r\nrequire(\"./ui.data_grid.pager\");\r\nrequire(\"./ui.data_grid.columns_resizing_reordering\");\r\nrequire(\"./ui.data_grid.keyboard_navigation\");\r\nrequire(\"./ui.data_grid.summary\");\r\nrequire(\"./ui.data_grid.column_fixing\");\r\nrequire(\"./ui.data_grid.adaptivity\");\r\nrequire(\"./ui.data_grid.virtual_columns\");\r\nrequire(\"./ui.data_grid.export\");\r\nrequire(\"./ui.data_grid.focus\");\r\nrequire(\"./ui.data_grid.row_dragging\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar _default = _uiData_grid.default;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.base.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _component_registrator = _interopRequireDefault(require(\"../../core/component_registrator\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _console = require(\"../../core/utils/console\");\r\nvar _browser = _interopRequireDefault(require(\"../../core/utils/browser\"));\r\nvar _ui = _interopRequireDefault(require(\"../widget/ui.widget\"));\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _themes = require(\"../themes\");\r\nrequire(\"./ui.data_grid.column_headers\");\r\nrequire(\"./ui.data_grid.columns_controller\");\r\nrequire(\"./ui.data_grid.data_controller\");\r\nrequire(\"./ui.data_grid.sorting\");\r\nrequire(\"./ui.data_grid.rows\");\r\nrequire(\"./ui.data_grid.context_menu\");\r\nrequire(\"./ui.data_grid.error_handling\");\r\nrequire(\"./ui.data_grid.grid_view\");\r\nrequire(\"./ui.data_grid.header_panel\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar DATAGRID_ROW_SELECTOR = \".dx-row\";\r\nvar DATAGRID_DEPRECATED_TEMPLATE_WARNING = \"Specifying grid templates with the jQuery selector name is now deprecated. Use the DOM Node or the jQuery object that references this selector instead.\";\r\n_uiData_grid.default.registerModulesOrder([\"stateStoring\", \"columns\", \"selection\", \"editorFactory\", \"columnChooser\", \"grouping\", \"editing\", \"masterDetail\", \"validating\", \"adaptivity\", \"data\", \"virtualScrolling\", \"columnHeaders\", \"filterRow\", \"headerPanel\", \"headerFilter\", \"sorting\", \"search\", \"rows\", \"pager\", \"columnsResizingReordering\", \"contextMenu\", \"keyboardNavigation\", \"errorHandling\", \"summary\", \"columnFixing\", \"export\", \"gridView\"]);\r\nvar DataGrid = _ui.default.inherit({\r\n    _activeStateUnit: DATAGRID_ROW_SELECTOR,\r\n    _getDefaultOptions: function() {\r\n        var that = this;\r\n        var result = that.callBase();\r\n        (0, _iterator.each)(_uiData_grid.default.modules, function() {\r\n            if ((0, _type.isFunction)(this.defaultOptions)) {\r\n                (0, _extend.extend)(true, result, this.defaultOptions())\r\n            }\r\n        });\r\n        return result\r\n    },\r\n    _setDeprecatedOptions: function() {\r\n        this.callBase();\r\n        (0, _extend.extend)(this._deprecatedOptions, {\r\n            useKeyboard: {\r\n                since: \"19.2\",\r\n                alias: \"keyboardNavigation.enabled\"\r\n            }\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: {\r\n                platform: \"ios\"\r\n            },\r\n            options: {\r\n                showRowLines: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return (0, _themes.isMaterial)()\r\n            },\r\n            options: {\r\n                showRowLines: true,\r\n                showColumnLines: false,\r\n                headerFilter: {\r\n                    height: 315\r\n                },\r\n                editing: {\r\n                    useIcons: true\r\n                }\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return _browser.default.webkit\r\n            },\r\n            options: {\r\n                loadingTimeout: 30,\r\n                loadPanel: {\r\n                    animation: {\r\n                        show: {\r\n                            easing: \"cubic-bezier(1, 0, 1, 0)\",\r\n                            duration: 500,\r\n                            from: {\r\n                                opacity: 0\r\n                            },\r\n                            to: {\r\n                                opacity: 1\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }, {\r\n            device: function(_device) {\r\n                return \"desktop\" !== _device.deviceType\r\n            },\r\n            options: {\r\n                grouping: {\r\n                    expandMode: \"rowClick\"\r\n                }\r\n            }\r\n        }])\r\n    },\r\n    _init: function() {\r\n        var that = this;\r\n        that.callBase();\r\n        _uiData_grid.default.processModules(that, _uiData_grid.default);\r\n        _uiData_grid.default.callModuleItemsMethod(that, \"init\")\r\n    },\r\n    _clean: _common.noop,\r\n    _optionChanged: function(args) {\r\n        var that = this;\r\n        _uiData_grid.default.callModuleItemsMethod(that, \"optionChanged\", [args]);\r\n        if (!args.handled) {\r\n            that.callBase(args)\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        this.updateDimensions(true)\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this.updateDimensions()\r\n        }\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this.getView(\"gridView\").render(this.$element())\r\n    },\r\n    _renderContentImpl: function() {\r\n        this.getView(\"gridView\").update()\r\n    },\r\n    _renderContent: function() {\r\n        var that = this;\r\n        (0, _common.deferRender)(function() {\r\n            that._renderContentImpl()\r\n        })\r\n    },\r\n    _getTemplate: function(templateName) {\r\n        var template = templateName;\r\n        if ((0, _type.isString)(template) && \"#\" === template[0]) {\r\n            template = (0, _renderer.default)(templateName);\r\n            _console.logger.warn(DATAGRID_DEPRECATED_TEMPLATE_WARNING)\r\n        }\r\n        return this.callBase(template)\r\n    },\r\n    _dispose: function() {\r\n        var that = this;\r\n        that.callBase();\r\n        _uiData_grid.default.callModuleItemsMethod(that, \"dispose\")\r\n    },\r\n    isReady: function() {\r\n        return this.getController(\"data\").isReady()\r\n    },\r\n    beginUpdate: function() {\r\n        var that = this;\r\n        that.callBase();\r\n        _uiData_grid.default.callModuleItemsMethod(that, \"beginUpdate\")\r\n    },\r\n    endUpdate: function() {\r\n        var that = this;\r\n        _uiData_grid.default.callModuleItemsMethod(that, \"endUpdate\");\r\n        that.callBase()\r\n    },\r\n    getController: function(name) {\r\n        return this._controllers[name]\r\n    },\r\n    getView: function(name) {\r\n        return this._views[name]\r\n    },\r\n    focus: function(element) {\r\n        this.getController(\"keyboardNavigation\").focus(element)\r\n    }\r\n});\r\nDataGrid.registerModule = _uiData_grid.default.registerModule.bind(_uiData_grid.default);\r\n(0, _component_registrator.default)(\"dxDataGrid\", DataGrid);\r\nvar _default = DataGrid;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.column_headers.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.ColumnHeadersView = void 0;\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.column_headers\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar ColumnHeadersView = _uiGrid_core.default.views.columnHeadersView;\r\nexports.ColumnHeadersView = ColumnHeadersView;\r\n_uiData_grid.default.registerModule(\"columnHeaders\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.column_headers.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _uiGrid_core = require(\"./ui.grid_core.columns_view\");\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _uiGrid_core2 = require(\"./ui.grid_core.accessibility\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar CELL_CONTENT_CLASS = \"text-content\";\r\nvar HEADERS_CLASS = \"headers\";\r\nvar NOWRAP_CLASS = \"nowrap\";\r\nvar ROW_CLASS_SELECTOR = \".dx-row\";\r\nvar HEADER_ROW_CLASS = \"dx-header-row\";\r\nvar COLUMN_LINES_CLASS = \"dx-column-lines\";\r\nvar CONTEXT_MENU_SORT_ASC_ICON = \"context-menu-sort-asc\";\r\nvar CONTEXT_MENU_SORT_DESC_ICON = \"context-menu-sort-desc\";\r\nvar CONTEXT_MENU_SORT_NONE_ICON = \"context-menu-sort-none\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar VISIBILITY_HIDDEN_CLASS = \"dx-visibility-hidden\";\r\nvar TEXT_CONTENT_ALIGNMENT_CLASS_PREFIX = \"dx-text-content-alignment-\";\r\nvar SORT_INDICATOR_CLASS = \"dx-sort-indicator\";\r\nvar SORT_INDEX_INDICATOR_CLASS = \"dx-sort-index-indicator\";\r\nvar HEADER_FILTER_CLASS_SELECTOR = \".dx-header-filter\";\r\nvar HEADER_FILTER_INDICATOR_CLASS = \"dx-header-filter-indicator\";\r\nvar MULTI_ROW_HEADER_CLASS = \"dx-header-multi-row\";\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            showColumnHeaders: true,\r\n            cellHintEnabled: true\r\n        }\r\n    },\r\n    views: {\r\n        columnHeadersView: _uiGrid_core.ColumnsView.inherit(function() {\r\n            var createCellContent = function(that, $cell, options) {\r\n                var $cellContent = (0, _renderer.default)(\"<div>\").addClass(that.addWidgetPrefix(CELL_CONTENT_CLASS));\r\n                that.setAria(\"role\", \"presentation\", $cellContent);\r\n                addCssClassesToCellContent(that, $cell, options.column, $cellContent);\r\n                var showColumnLines = that.option(\"showColumnLines\");\r\n                var contentAlignment = that.getController(\"columns\").getHeaderContentAlignment(options.column.alignment);\r\n                return $cellContent[showColumnLines || \"right\" === contentAlignment ? \"appendTo\" : \"prependTo\"]($cell)\r\n            };\r\n\r\n            function addCssClassesToCellContent(that, $cell, column, $cellContent) {\r\n                var $indicatorElements = that._getIndicatorElements($cell, true);\r\n                var $visibleIndicatorElements = that._getIndicatorElements($cell);\r\n                var indicatorCount = $indicatorElements && $indicatorElements.length;\r\n                var columnAlignment = that._getColumnAlignment(column.alignment);\r\n                var sortIndicatorClassName = \".\".concat(that._getIndicatorClassName(\"sort\"));\r\n                var sortIndexIndicatorClassName = \".\".concat(that._getIndicatorClassName(\"sortIndex\"));\r\n                var $sortIndicator = $visibleIndicatorElements.filter(sortIndicatorClassName);\r\n                var $sortIndexIndicator = $visibleIndicatorElements.children().filter(sortIndexIndicatorClassName);\r\n                $cellContent = $cellContent || $cell.children(\".\" + that.addWidgetPrefix(CELL_CONTENT_CLASS));\r\n                $cellContent.toggleClass(TEXT_CONTENT_ALIGNMENT_CLASS_PREFIX + columnAlignment, indicatorCount > 0).toggleClass(TEXT_CONTENT_ALIGNMENT_CLASS_PREFIX + (\"left\" === columnAlignment ? \"right\" : \"left\"), indicatorCount > 0 && \"center\" === column.alignment).toggleClass(SORT_INDICATOR_CLASS, !!$sortIndicator.length).toggleClass(SORT_INDEX_INDICATOR_CLASS, !!$sortIndexIndicator.length).toggleClass(HEADER_FILTER_INDICATOR_CLASS, !!$visibleIndicatorElements.filter(\".\" + that._getIndicatorClassName(\"headerFilter\")).length)\r\n            }\r\n            return {\r\n                _createTable: function() {\r\n                    var $table = this.callBase.apply(this, arguments);\r\n                    _events_engine.default.on($table, \"mousedown selectstart\", this.createAction(function(e) {\r\n                        var event = e.event;\r\n                        if (event.shiftKey) {\r\n                            event.preventDefault()\r\n                        }\r\n                    }));\r\n                    return $table\r\n                },\r\n                _isLegacyKeyboardNavigation: function() {\r\n                    return this.option(\"useLegacyKeyboardNavigation\")\r\n                },\r\n                _getDefaultTemplate: function(column) {\r\n                    var that = this;\r\n                    return function($container, options) {\r\n                        var $content = column.command ? $container : createCellContent(that, $container, options);\r\n                        var caption = \"expand\" !== column.command && column.caption;\r\n                        if (caption) {\r\n                            $content.text(caption)\r\n                        } else {\r\n                            if (column.command) {\r\n                                $container.html(\"&nbsp;\")\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                _getHeaderTemplate: function(column) {\r\n                    return column.headerCellTemplate || {\r\n                        allowRenderToDetachedContainer: true,\r\n                        render: this._getDefaultTemplate(column)\r\n                    }\r\n                },\r\n                _processTemplate: function(template, options) {\r\n                    var that = this;\r\n                    var resultTemplate;\r\n                    var column = options.column;\r\n                    var renderingTemplate = that.callBase(template);\r\n                    if (\"header\" === options.rowType && renderingTemplate && column.headerCellTemplate && !column.command) {\r\n                        resultTemplate = {\r\n                            render: function(options) {\r\n                                var $content = createCellContent(that, options.container, options.model);\r\n                                renderingTemplate.render((0, _extend.extend)({}, options, {\r\n                                    container: $content\r\n                                }))\r\n                            }\r\n                        }\r\n                    } else {\r\n                        resultTemplate = renderingTemplate\r\n                    }\r\n                    return resultTemplate\r\n                },\r\n                _handleDataChanged: function(e) {\r\n                    if (\"refresh\" !== e.changeType) {\r\n                        return\r\n                    }\r\n                    if (this._isGroupingChanged || this._requireReady) {\r\n                        this._isGroupingChanged = false;\r\n                        this.render()\r\n                    }\r\n                },\r\n                _renderCell: function($row, options) {\r\n                    var $cell = this.callBase($row, options);\r\n                    if (\"header\" === options.row.rowType) {\r\n                        $cell.addClass(CELL_FOCUS_DISABLED_CLASS);\r\n                        if (!this._isLegacyKeyboardNavigation()) {\r\n                            if (options.column && !options.column.type) {\r\n                                $cell.attr(\"tabindex\", this.option(\"tabindex\") || 0)\r\n                            }\r\n                        }\r\n                    }\r\n                    return $cell\r\n                },\r\n                _setCellAriaAttributes: function($cell, cellOptions) {\r\n                    this.callBase($cell, cellOptions);\r\n                    if (\"header\" === cellOptions.rowType) {\r\n                        this.setAria(\"role\", \"columnheader\", $cell);\r\n                        if (cellOptions.column && !cellOptions.column.command && !cellOptions.column.isBand) {\r\n                            $cell.attr(\"id\", cellOptions.column.headerId);\r\n                            this.setAria(\"label\", _message.default.format(\"dxDataGrid-ariaColumn\") + \" \" + cellOptions.column.caption, $cell)\r\n                        }\r\n                    }\r\n                },\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase(row).toggleClass(COLUMN_LINES_CLASS, this.option(\"showColumnLines\"));\r\n                    if (\"header\" === row.rowType) {\r\n                        $row.addClass(HEADER_ROW_CLASS);\r\n                        if (!this._isLegacyKeyboardNavigation()) {\r\n                            (0, _uiGrid_core2.registerKeyboardAction)(\"columnHeaders\", this, $row, \"td\", this._handleActionKeyDown.bind(this))\r\n                        }\r\n                    }\r\n                    return $row\r\n                },\r\n                _handleActionKeyDown: function(args) {\r\n                    var event = args.event;\r\n                    var $target = (0, _renderer.default)(event.target);\r\n                    this._lastActionElement = event.target;\r\n                    if ($target.is(HEADER_FILTER_CLASS_SELECTOR)) {\r\n                        var headerFilterController = this.getController(\"headerFilter\");\r\n                        var $column = $target.closest(\"td\");\r\n                        var columnIndex = this.getColumnIndexByElement($column);\r\n                        if (columnIndex >= 0) {\r\n                            headerFilterController.showHeaderFilterMenu(columnIndex, false)\r\n                        }\r\n                    } else {\r\n                        var $row = $target.closest(ROW_CLASS_SELECTOR);\r\n                        this._processHeaderAction(event, $row)\r\n                    }\r\n                    event.preventDefault()\r\n                },\r\n                _renderCore: function() {\r\n                    var that = this;\r\n                    var $container = that.element();\r\n                    if (that._tableElement && !that._dataController.isLoaded() && !that._hasRowElements) {\r\n                        return\r\n                    }\r\n                    $container.addClass(that.addWidgetPrefix(HEADERS_CLASS)).toggleClass(that.addWidgetPrefix(NOWRAP_CLASS), !that.option(\"wordWrapEnabled\")).empty();\r\n                    that.setAria(\"role\", \"presentation\", $container);\r\n                    that._updateContent(that._renderTable());\r\n                    if (that.getRowCount() > 1) {\r\n                        $container.addClass(MULTI_ROW_HEADER_CLASS)\r\n                    }\r\n                    that.callBase.apply(that, arguments)\r\n                },\r\n                _renderRows: function() {\r\n                    var that = this;\r\n                    if (that._dataController.isLoaded() || that._hasRowElements) {\r\n                        that.callBase.apply(that, arguments);\r\n                        that._hasRowElements = true\r\n                    }\r\n                },\r\n                _getRowVisibleColumns: function(rowIndex) {\r\n                    return this._columnsController.getVisibleColumns(rowIndex)\r\n                },\r\n                _renderRow: function($table, options) {\r\n                    options.columns = this._getRowVisibleColumns(options.row.rowIndex);\r\n                    this.callBase($table, options)\r\n                },\r\n                _createCell: function(options) {\r\n                    var column = options.column;\r\n                    var $cellElement = this.callBase.apply(this, arguments);\r\n                    column.rowspan > 1 && \"header\" === options.rowType && $cellElement.attr(\"rowSpan\", column.rowspan);\r\n                    return $cellElement\r\n                },\r\n                _getRows: function() {\r\n                    var result = [];\r\n                    var rowCount = this.getRowCount();\r\n                    if (this.option(\"showColumnHeaders\")) {\r\n                        for (var i = 0; i < rowCount; i++) {\r\n                            result.push({\r\n                                rowType: \"header\",\r\n                                rowIndex: i\r\n                            })\r\n                        }\r\n                    }\r\n                    return result\r\n                },\r\n                _getCellTemplate: function(options) {\r\n                    if (\"header\" === options.rowType) {\r\n                        return this._getHeaderTemplate(options.column)\r\n                    }\r\n                },\r\n                _columnOptionChanged: function(e) {\r\n                    var changeTypes = e.changeTypes;\r\n                    var optionNames = e.optionNames;\r\n                    if (changeTypes.grouping) {\r\n                        this._isGroupingChanged = true;\r\n                        return\r\n                    }\r\n                    this.callBase(e);\r\n                    if (optionNames.width || optionNames.visible) {\r\n                        this.resizeCompleted.fire()\r\n                    }\r\n                },\r\n                _isElementVisible: function(elementOptions) {\r\n                    return elementOptions && elementOptions.visible\r\n                },\r\n                _alignCaptionByCenter: function($cell) {\r\n                    var $indicatorsContainer = this._getIndicatorContainer($cell, true);\r\n                    if ($indicatorsContainer && $indicatorsContainer.length) {\r\n                        $indicatorsContainer.filter(\".\" + VISIBILITY_HIDDEN_CLASS).remove();\r\n                        $indicatorsContainer = this._getIndicatorContainer($cell);\r\n                        $indicatorsContainer.clone().addClass(VISIBILITY_HIDDEN_CLASS).css(\"float\", \"\").insertBefore($cell.children(\".\" + this.addWidgetPrefix(CELL_CONTENT_CLASS)))\r\n                    }\r\n                },\r\n                _updateCell: function($cell, options) {\r\n                    if (\"header\" === options.rowType && \"center\" === options.column.alignment) {\r\n                        this._alignCaptionByCenter($cell)\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _updateIndicator: function($cell, column, indicatorName) {\r\n                    var $indicatorElement = this.callBase.apply(this, arguments);\r\n                    if (\"center\" === column.alignment) {\r\n                        this._alignCaptionByCenter($cell)\r\n                    }\r\n                    addCssClassesToCellContent(this, $cell, column);\r\n                    return $indicatorElement\r\n                },\r\n                _getIndicatorContainer: function($cell, returnAll) {\r\n                    var $indicatorsContainer = this.callBase($cell);\r\n                    return returnAll ? $indicatorsContainer : $indicatorsContainer.filter(\":not(.\" + VISIBILITY_HIDDEN_CLASS + \")\")\r\n                },\r\n                _isSortableElement: function() {\r\n                    return true\r\n                },\r\n                getHeadersRowHeight: function() {\r\n                    var $tableElement = this._getTableElement();\r\n                    var $headerRows = $tableElement && $tableElement.find(\".\" + HEADER_ROW_CLASS);\r\n                    return $headerRows && $headerRows.toArray().reduce(function(sum, headerRow) {\r\n                        return sum + (0, _renderer.default)(headerRow).height()\r\n                    }, 0) || 0\r\n                },\r\n                getHeaderElement: function(index) {\r\n                    var columnElements = this.getColumnElements();\r\n                    return columnElements && columnElements.eq(index)\r\n                },\r\n                getColumnElements: function(index, bandColumnIndex) {\r\n                    var that = this;\r\n                    var $cellElement;\r\n                    var columnsController = that._columnsController;\r\n                    var rowCount = that.getRowCount();\r\n                    if (that.option(\"showColumnHeaders\")) {\r\n                        if (rowCount > 1 && (!(0, _type.isDefined)(index) || (0, _type.isDefined)(bandColumnIndex))) {\r\n                            var result = [];\r\n                            var visibleColumns = (0, _type.isDefined)(bandColumnIndex) ? columnsController.getChildrenByBandColumn(bandColumnIndex, true) : columnsController.getVisibleColumns();\r\n                            (0, _iterator.each)(visibleColumns, function(_, column) {\r\n                                var rowIndex = (0, _type.isDefined)(index) ? index : columnsController.getRowIndex(column.index);\r\n                                $cellElement = that._getCellElement(rowIndex, columnsController.getVisibleIndex(column.index, rowIndex));\r\n                                $cellElement && result.push($cellElement.get(0))\r\n                            });\r\n                            return (0, _renderer.default)(result)\r\n                        } else {\r\n                            if (!index || index < rowCount) {\r\n                                return that.getCellElements(index || 0)\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                getColumnIndexByElement: function($cell) {\r\n                    var cellIndex = this.getCellIndex($cell);\r\n                    var $row = $cell.closest(\".dx-row\");\r\n                    var rowIndex = $row[0].rowIndex;\r\n                    var column = this.getColumns(rowIndex)[cellIndex];\r\n                    return column ? column.index : -1\r\n                },\r\n                getVisibleColumnIndex: function(columnIndex, rowIndex) {\r\n                    var column = this.getColumns()[columnIndex];\r\n                    return column ? this._columnsController.getVisibleIndex(column.index, rowIndex) : -1\r\n                },\r\n                getColumnWidths: function() {\r\n                    var $columnElements = this.getColumnElements();\r\n                    if ($columnElements && $columnElements.length) {\r\n                        return this._getWidths($columnElements)\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                allowDragging: function(column, sourceLocation, draggingPanels) {\r\n                    var i;\r\n                    var draggableColumnCount = 0;\r\n                    var rowIndex = column && this._columnsController.getRowIndex(column.index);\r\n                    var columns = this.getColumns(0 === rowIndex ? 0 : null);\r\n                    var canHideColumn = (null === column || void 0 === column ? void 0 : column.allowHiding) && columns.length > 1;\r\n                    var allowDrag = function(column) {\r\n                        return column.allowReordering || column.allowGrouping || column.allowHiding\r\n                    };\r\n                    for (i = 0; i < columns.length; i++) {\r\n                        if (allowDrag(columns[i])) {\r\n                            draggableColumnCount++\r\n                        }\r\n                    }\r\n                    if (draggableColumnCount <= 1 && !canHideColumn) {\r\n                        return false\r\n                    } else {\r\n                        if (!draggingPanels) {\r\n                            return (this.option(\"allowColumnReordering\") || this._columnsController.isColumnOptionUsed(\"allowReordering\")) && column && column.allowReordering\r\n                        }\r\n                    }\r\n                    for (i = 0; i < draggingPanels.length; i++) {\r\n                        var draggingPanel = draggingPanels[i];\r\n                        if (draggingPanel && draggingPanel.allowDragging(column, sourceLocation)) {\r\n                            return true\r\n                        }\r\n                    }\r\n                    return false\r\n                },\r\n                getBoundingRect: function() {\r\n                    var that = this;\r\n                    var $columnElements = that.getColumnElements();\r\n                    if ($columnElements && $columnElements.length) {\r\n                        var offset = that._getTableElement().offset();\r\n                        return {\r\n                            top: offset.top\r\n                        }\r\n                    }\r\n                    return null\r\n                },\r\n                getName: function() {\r\n                    return \"headers\"\r\n                },\r\n                getColumnCount: function() {\r\n                    var $columnElements = this.getColumnElements();\r\n                    return $columnElements ? $columnElements.length : 0\r\n                },\r\n                isVisible: function() {\r\n                    return this.option(\"showColumnHeaders\")\r\n                },\r\n                optionChanged: function(args) {\r\n                    var that = this;\r\n                    switch (args.name) {\r\n                        case \"showColumnHeaders\":\r\n                        case \"wordWrapEnabled\":\r\n                        case \"showColumnLines\":\r\n                            that._invalidate(true, true);\r\n                            args.handled = true;\r\n                            break;\r\n                        default:\r\n                            that.callBase(args)\r\n                    }\r\n                },\r\n                getHeight: function() {\r\n                    return this.getElementHeight()\r\n                },\r\n                getContextMenuItems: function(options) {\r\n                    var that = this;\r\n                    var column = options.column;\r\n                    if (options.row && (\"header\" === options.row.rowType || \"detailAdaptive\" === options.row.rowType)) {\r\n                        var sortingOptions = that.option(\"sorting\");\r\n                        if (sortingOptions && \"none\" !== sortingOptions.mode && column && column.allowSorting) {\r\n                            var onItemClick = function(params) {\r\n                                setTimeout(function() {\r\n                                    that._columnsController.changeSortOrder(column.index, params.itemData.value)\r\n                                })\r\n                            };\r\n                            return [{\r\n                                text: sortingOptions.ascendingText,\r\n                                value: \"asc\",\r\n                                disabled: \"asc\" === column.sortOrder,\r\n                                icon: CONTEXT_MENU_SORT_ASC_ICON,\r\n                                onItemClick: onItemClick\r\n                            }, {\r\n                                text: sortingOptions.descendingText,\r\n                                value: \"desc\",\r\n                                disabled: \"desc\" === column.sortOrder,\r\n                                icon: CONTEXT_MENU_SORT_DESC_ICON,\r\n                                onItemClick: onItemClick\r\n                            }, {\r\n                                text: sortingOptions.clearText,\r\n                                value: \"none\",\r\n                                disabled: !column.sortOrder,\r\n                                icon: CONTEXT_MENU_SORT_NONE_ICON,\r\n                                onItemClick: onItemClick\r\n                            }]\r\n                        }\r\n                    }\r\n                },\r\n                getRowCount: function() {\r\n                    return this._columnsController && this._columnsController.getRowCount()\r\n                },\r\n                setRowsOpacity: function(columnIndex, value, rowIndex) {\r\n                    var that = this;\r\n                    var i;\r\n                    var columnElements;\r\n                    var rowCount = that.getRowCount();\r\n                    var columns = that._columnsController.getColumns();\r\n                    var column = columns && columns[columnIndex];\r\n                    var columnID = column && column.isBand && column.index;\r\n                    var setColumnOpacity = function(index, column) {\r\n                        if (column.ownerBand === columnID) {\r\n                            columnElements.eq(index).css({\r\n                                opacity: value\r\n                            });\r\n                            if (column.isBand) {\r\n                                that.setRowsOpacity(column.index, value, i + 1)\r\n                            }\r\n                        }\r\n                    };\r\n                    if ((0, _type.isDefined)(columnID)) {\r\n                        rowIndex = rowIndex || 0;\r\n                        for (i = rowIndex; i < rowCount; i++) {\r\n                            columnElements = that.getCellElements(i);\r\n                            (0, _iterator.each)(that.getColumns(i), setColumnOpacity)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }())\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.column_state_mixin.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _position = require(\"../../core/utils/position\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar COLUMN_INDICATORS_CLASS = \"dx-column-indicators\";\r\nvar GROUP_PANEL_ITEM_CLASS = \"dx-group-panel-item\";\r\nvar _default = {\r\n    _applyColumnState: function(options) {\r\n        var _that$component;\r\n        var that = this;\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var columnAlignment = that._getColumnAlignment(options.column.alignment, rtlEnabled);\r\n        var parameters = (0, _extend.extend)(true, {\r\n            columnAlignment: columnAlignment\r\n        }, options);\r\n        var isGroupPanelItem = parameters.rootElement.hasClass(GROUP_PANEL_ITEM_CLASS);\r\n        var $indicatorsContainer = that._createIndicatorContainer(parameters, isGroupPanelItem);\r\n        var $span = (0, _renderer.default)(\"<span>\").addClass(that._getIndicatorClassName(options.name));\r\n        var columnsController = null === (_that$component = that.component) || void 0 === _that$component ? void 0 : _that$component.getController(\"columns\");\r\n        var indicatorAlignment = (null === columnsController || void 0 === columnsController ? void 0 : columnsController.getHeaderContentAlignment(columnAlignment)) || columnAlignment;\r\n        parameters.container = $indicatorsContainer;\r\n        parameters.indicator = $span;\r\n        that._renderIndicator(parameters);\r\n        $indicatorsContainer[(isGroupPanelItem || !options.showColumnLines) && \"left\" === indicatorAlignment ? \"appendTo\" : \"prependTo\"](options.rootElement);\r\n        return $span\r\n    },\r\n    _getIndicatorClassName: _common.noop,\r\n    _getColumnAlignment: function(alignment, rtlEnabled) {\r\n        rtlEnabled = rtlEnabled || this.option(\"rtlEnabled\");\r\n        return alignment && \"center\" !== alignment ? alignment : (0, _position.getDefaultAlignment)(rtlEnabled)\r\n    },\r\n    _createIndicatorContainer: function(options, ignoreIndicatorAlignment) {\r\n        var $indicatorsContainer = this._getIndicatorContainer(options.rootElement);\r\n        var indicatorAlignment = \"left\" === options.columnAlignment ? \"right\" : \"left\";\r\n        if (!$indicatorsContainer.length) {\r\n            $indicatorsContainer = (0, _renderer.default)(\"<div>\").addClass(COLUMN_INDICATORS_CLASS)\r\n        }\r\n        this.setAria(\"role\", \"presentation\", $indicatorsContainer);\r\n        return $indicatorsContainer.css(\"float\", options.showColumnLines && !ignoreIndicatorAlignment ? indicatorAlignment : null)\r\n    },\r\n    _getIndicatorContainer: function($cell) {\r\n        return $cell && $cell.find(\".\" + COLUMN_INDICATORS_CLASS)\r\n    },\r\n    _getIndicatorElements: function($cell) {\r\n        var $indicatorContainer = this._getIndicatorContainer($cell);\r\n        return $indicatorContainer && $indicatorContainer.children()\r\n    },\r\n    _renderIndicator: function(options) {\r\n        var $container = options.container;\r\n        var $indicator = options.indicator;\r\n        $container && $indicator && $container.append($indicator)\r\n    },\r\n    _updateIndicators: function(indicatorName) {\r\n        var that = this;\r\n        var columns = that.getColumns();\r\n        var $cells = that.getColumnElements();\r\n        var $cell;\r\n        if (!$cells || columns.length !== $cells.length) {\r\n            return\r\n        }\r\n        for (var i = 0; i < columns.length; i++) {\r\n            $cell = $cells.eq(i);\r\n            that._updateIndicator($cell, columns[i], indicatorName);\r\n            var rowOptions = $cell.parent().data(\"options\");\r\n            if (rowOptions && rowOptions.cells) {\r\n                rowOptions.cells[$cell.index()].column = columns[i]\r\n            }\r\n        }\r\n    },\r\n    _updateIndicator: function($cell, column, indicatorName) {\r\n        if (!column.command) {\r\n            return this._applyColumnState({\r\n                name: indicatorName,\r\n                rootElement: $cell,\r\n                column: column,\r\n                showColumnLines: this.option(\"showColumnLines\")\r\n            })\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.columns_controller.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.columns_controller\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"columns\", {\r\n    defaultOptions: function() {\r\n        return (0, _extend.extend)(true, {}, _uiGrid_core.default.defaultOptions(), {\r\n            commonColumnSettings: {\r\n                allowExporting: true\r\n            }\r\n        })\r\n    },\r\n    controllers: _uiGrid_core.default.controllers\r\n});\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.columns_controller.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _callbacks = _interopRequireDefault(require(\"../../core/utils/callbacks\"));\r\nvar _variable_wrapper = _interopRequireDefault(require(\"../../core/utils/variable_wrapper\"));\r\nvar _data = require(\"../../core/utils/data\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _position = require(\"../../core/utils/position\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _array = require(\"../../core/utils/array\");\r\nvar _config = _interopRequireDefault(require(\"../../core/config\"));\r\nvar _object = require(\"../../core/utils/object\");\r\nvar _ui = _interopRequireDefault(require(\"../widget/ui.errors\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _uiGrid_core2 = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\nvar _inflector = require(\"../../core/utils/inflector\");\r\nvar _date_serialization = _interopRequireDefault(require(\"../../core/utils/date_serialization\"));\r\nvar _number = _interopRequireDefault(require(\"../../localization/number\"));\r\nvar _date = _interopRequireDefault(require(\"../../localization/date\"));\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _abstract_store = _interopRequireDefault(require(\"../../data/abstract_store\"));\r\nvar _data_source = require(\"../../data/data_source/data_source\");\r\nvar _utils = require(\"../../data/data_source/utils\");\r\nvar _filtering = _interopRequireDefault(require(\"../shared/filtering\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction ownKeys(object, enumerableOnly) {\r\n    var keys = Object.keys(object);\r\n    if (Object.getOwnPropertySymbols) {\r\n        var symbols = Object.getOwnPropertySymbols(object);\r\n        if (enumerableOnly) {\r\n            symbols = symbols.filter(function(sym) {\r\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\r\n            })\r\n        }\r\n        keys.push.apply(keys, symbols)\r\n    }\r\n    return keys\r\n}\r\n\r\nfunction _objectSpread(target) {\r\n    for (var i = 1; i < arguments.length; i++) {\r\n        var source = null != arguments[i] ? arguments[i] : {};\r\n        if (i % 2) {\r\n            ownKeys(Object(source), true).forEach(function(key) {\r\n                _defineProperty(target, key, source[key])\r\n            })\r\n        } else {\r\n            if (Object.getOwnPropertyDescriptors) {\r\n                Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\r\n            } else {\r\n                ownKeys(Object(source)).forEach(function(key) {\r\n                    Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\r\n                })\r\n            }\r\n        }\r\n    }\r\n    return target\r\n}\r\n\r\nfunction _defineProperty(obj, key, value) {\r\n    if (key in obj) {\r\n        Object.defineProperty(obj, key, {\r\n            value: value,\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true\r\n        })\r\n    } else {\r\n        obj[key] = value\r\n    }\r\n    return obj\r\n}\r\nvar USER_STATE_FIELD_NAMES_15_1 = [\"filterValues\", \"filterType\", \"fixed\", \"fixedPosition\"];\r\nvar USER_STATE_FIELD_NAMES = [\"visibleIndex\", \"dataField\", \"name\", \"dataType\", \"width\", \"visible\", \"sortOrder\", \"lastSortOrder\", \"sortIndex\", \"groupIndex\", \"filterValue\", \"selectedFilterOperation\", \"added\"].concat(USER_STATE_FIELD_NAMES_15_1);\r\nvar IGNORE_COLUMN_OPTION_NAMES = {\r\n    visibleWidth: true,\r\n    bestFitWidth: true,\r\n    bufferedFilterValue: true\r\n};\r\nvar COMMAND_EXPAND_CLASS = \"dx-command-expand\";\r\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\r\nvar GROUP_COMMAND_COLUMN_NAME = \"groupExpand\";\r\nvar regExp = /columns\\[(\\d+)\\]\\.?/gi;\r\nvar globalColumnId = 1;\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            commonColumnSettings: {\r\n                allowFiltering: true,\r\n                allowHiding: true,\r\n                allowSorting: true,\r\n                allowEditing: true,\r\n                encodeHtml: true,\r\n                trueText: _message.default.format(\"dxDataGrid-trueText\"),\r\n                falseText: _message.default.format(\"dxDataGrid-falseText\")\r\n            },\r\n            allowColumnReordering: false,\r\n            allowColumnResizing: false,\r\n            columnResizingMode: \"nextColumn\",\r\n            columnMinWidth: void 0,\r\n            columnWidth: void 0,\r\n            adaptColumnWidthByRatio: true,\r\n            columns: void 0,\r\n            regenerateColumnsByVisibleItems: false,\r\n            customizeColumns: null,\r\n            dateSerializationFormat: void 0\r\n        }\r\n    },\r\n    controllers: {\r\n        columns: _uiGrid_core.default.Controller.inherit(function() {\r\n            var DEFAULT_COLUMN_OPTIONS = {\r\n                visible: true,\r\n                showInColumnChooser: true\r\n            };\r\n            var DATATYPE_OPERATIONS = {\r\n                number: [\"=\", \"<>\", \"<\", \">\", \"<=\", \">=\", \"between\"],\r\n                string: [\"contains\", \"notcontains\", \"startswith\", \"endswith\", \"=\", \"<>\"],\r\n                date: [\"=\", \"<>\", \"<\", \">\", \"<=\", \">=\", \"between\"],\r\n                datetime: [\"=\", \"<>\", \"<\", \">\", \"<=\", \">=\", \"between\"]\r\n            };\r\n            var COLUMN_INDEX_OPTIONS = {\r\n                visibleIndex: true,\r\n                groupIndex: true,\r\n                grouped: true,\r\n                sortIndex: true,\r\n                sortOrder: true\r\n            };\r\n            var GROUP_LOCATION = \"group\";\r\n            var COLUMN_CHOOSER_LOCATION = \"columnChooser\";\r\n            var setFilterOperationsAsDefaultValues = function(column) {\r\n                column.filterOperations = column.defaultFilterOperations\r\n            };\r\n            var createColumn = function(that, columnOptions, userStateColumnOptions, bandColumn) {\r\n                var commonColumnOptions = {};\r\n                if (columnOptions) {\r\n                    if ((0, _type.isString)(columnOptions)) {\r\n                        columnOptions = {\r\n                            dataField: columnOptions\r\n                        }\r\n                    }\r\n                    that.setName(columnOptions);\r\n                    var result = {};\r\n                    if (columnOptions.command) {\r\n                        result = (0, _object.deepExtendArraySafe)(commonColumnOptions, columnOptions)\r\n                    } else {\r\n                        commonColumnOptions = that.getCommonSettings(columnOptions);\r\n                        if (userStateColumnOptions && userStateColumnOptions.name && userStateColumnOptions.dataField) {\r\n                            columnOptions = (0, _extend.extend)({}, columnOptions, {\r\n                                dataField: userStateColumnOptions.dataField\r\n                            })\r\n                        }\r\n                        var calculatedColumnOptions = that._createCalculatedColumnOptions(columnOptions, bandColumn);\r\n                        if (!columnOptions.type) {\r\n                            result = {\r\n                                headerId: \"dx-col-\".concat(globalColumnId++)\r\n                            }\r\n                        }\r\n                        result = (0, _object.deepExtendArraySafe)(result, DEFAULT_COLUMN_OPTIONS);\r\n                        (0, _object.deepExtendArraySafe)(result, commonColumnOptions);\r\n                        (0, _object.deepExtendArraySafe)(result, calculatedColumnOptions);\r\n                        (0, _object.deepExtendArraySafe)(result, columnOptions);\r\n                        (0, _object.deepExtendArraySafe)(result, {\r\n                            selector: null\r\n                        })\r\n                    }\r\n                    if (columnOptions.filterOperations === columnOptions.defaultFilterOperations) {\r\n                        setFilterOperationsAsDefaultValues(result)\r\n                    }\r\n                    return result\r\n                }\r\n            };\r\n            var createColumnsFromOptions = function createColumnsFromOptions(that, columnsOptions, bandColumn) {\r\n                var result = [];\r\n                if (columnsOptions) {\r\n                    (0, _iterator.each)(columnsOptions, function(index, columnOptions) {\r\n                        var userStateColumnOptions = that._columnsUserState && checkUserStateColumn(columnOptions, that._columnsUserState[index]) && that._columnsUserState[index];\r\n                        var column = createColumn(that, columnOptions, userStateColumnOptions, bandColumn);\r\n                        if (column) {\r\n                            if (bandColumn) {\r\n                                column.ownerBand = bandColumn\r\n                            }\r\n                            result.push(column);\r\n                            if (column.columns) {\r\n                                result = result.concat(createColumnsFromOptions(that, column.columns, column));\r\n                                delete column.columns;\r\n                                column.hasColumns = true\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n                return result\r\n            };\r\n            var getParentBandColumns = function(columnIndex, columnParentByIndex) {\r\n                var result = [];\r\n                var parent = columnParentByIndex[columnIndex];\r\n                while (parent) {\r\n                    result.unshift(parent);\r\n                    columnIndex = parent.index;\r\n                    parent = columnParentByIndex[columnIndex]\r\n                }\r\n                return result\r\n            };\r\n            var _getChildrenByBandColumn = function(columnIndex, columnChildrenByIndex, recursive) {\r\n                var result = [];\r\n                var children = columnChildrenByIndex[columnIndex];\r\n                if (children) {\r\n                    for (var i = 0; i < children.length; i++) {\r\n                        var column = children[i];\r\n                        if (!(0, _type.isDefined)(column.groupIndex) || column.showWhenGrouped) {\r\n                            result.push(column);\r\n                            if (recursive && column.isBand) {\r\n                                result = result.concat(_getChildrenByBandColumn(column.index, columnChildrenByIndex, recursive))\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return result\r\n            };\r\n            var getColumnByIndexes = function(that, columnIndexes) {\r\n                var result;\r\n                var columns;\r\n                var bandColumnsCache = that.getBandColumnsCache();\r\n                var callbackFilter = function(column) {\r\n                    var ownerBand = result ? result.index : void 0;\r\n                    return column.ownerBand === ownerBand\r\n                };\r\n                if (bandColumnsCache.isPlain) {\r\n                    result = that._columns[columnIndexes[0]]\r\n                } else {\r\n                    columns = that._columns.filter(callbackFilter);\r\n                    for (var i = 0; i < columnIndexes.length; i++) {\r\n                        result = columns[columnIndexes[i]];\r\n                        if (result) {\r\n                            columns = that._columns.filter(callbackFilter)\r\n                        }\r\n                    }\r\n                }\r\n                return result\r\n            };\r\n            var getColumnFullPath = function(that, column) {\r\n                var result = [];\r\n                var columns;\r\n                var bandColumnsCache = that.getBandColumnsCache();\r\n                var callbackFilter = function(item) {\r\n                    return item.ownerBand === column.ownerBand\r\n                };\r\n                if (bandColumnsCache.isPlain) {\r\n                    var columnIndex = that._columns.indexOf(column);\r\n                    if (columnIndex >= 0) {\r\n                        result = [\"columns[\".concat(columnIndex, \"]\")]\r\n                    }\r\n                } else {\r\n                    columns = that._columns.filter(callbackFilter);\r\n                    while (columns.length && columns.indexOf(column) !== -1) {\r\n                        result.unshift(\"columns[\".concat(columns.indexOf(column), \"]\"));\r\n                        column = bandColumnsCache.columnParentByIndex[column.index];\r\n                        columns = column ? that._columns.filter(callbackFilter) : []\r\n                    }\r\n                }\r\n                return result.join(\".\")\r\n            };\r\n            var calculateColspan = function calculateColspan(that, columnID) {\r\n                var colspan = 0;\r\n                var columns = that.getChildrenByBandColumn(columnID, true);\r\n                (0, _iterator.each)(columns, function(_, column) {\r\n                    if (column.isBand) {\r\n                        column.colspan = column.colspan || calculateColspan(that, column.index);\r\n                        colspan += column.colspan || 1\r\n                    } else {\r\n                        colspan += 1\r\n                    }\r\n                });\r\n                return colspan\r\n            };\r\n            var processBandColumns = function(that, columns, bandColumnsCache) {\r\n                var rowspan;\r\n                for (var i = 0; i < columns.length; i++) {\r\n                    var column = columns[i];\r\n                    if (column.visible || column.command) {\r\n                        if (column.isBand) {\r\n                            column.colspan = column.colspan || calculateColspan(that, column.index)\r\n                        }\r\n                        if (!column.isBand || !column.colspan) {\r\n                            rowspan = that.getRowCount();\r\n                            if (!column.command && (!(0, _type.isDefined)(column.groupIndex) || column.showWhenGrouped)) {\r\n                                rowspan -= getParentBandColumns(column.index, bandColumnsCache.columnParentByIndex).length\r\n                            }\r\n                            if (rowspan > 1) {\r\n                                column.rowspan = rowspan\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            var getValueDataType = function(value) {\r\n                var dataType = (0, _type.type)(value);\r\n                if (\"string\" !== dataType && \"boolean\" !== dataType && \"number\" !== dataType && \"date\" !== dataType && \"object\" !== dataType) {\r\n                    dataType = void 0\r\n                }\r\n                return dataType\r\n            };\r\n            var getSerializationFormat = function(dataType, value) {\r\n                switch (dataType) {\r\n                    case \"date\":\r\n                    case \"datetime\":\r\n                        return _date_serialization.default.getDateSerializationFormat(value);\r\n                    case \"number\":\r\n                        if ((0, _type.isString)(value)) {\r\n                            return \"string\"\r\n                        }\r\n                        if ((0, _type.isNumeric)(value)) {\r\n                            return null\r\n                        }\r\n                }\r\n            };\r\n            var updateSerializers = function(options, dataType) {\r\n                if (!options.deserializeValue) {\r\n                    if (_uiGrid_core2.default.isDateType(dataType)) {\r\n                        options.deserializeValue = function(value) {\r\n                            return _date_serialization.default.deserializeDate(value)\r\n                        };\r\n                        options.serializeValue = function(value) {\r\n                            return (0, _type.isString)(value) ? value : _date_serialization.default.serializeDate(value, this.serializationFormat)\r\n                        }\r\n                    }\r\n                    if (\"number\" === dataType) {\r\n                        options.deserializeValue = function(value) {\r\n                            var parsedValue = parseFloat(value);\r\n                            return isNaN(parsedValue) ? value : parsedValue\r\n                        };\r\n                        options.serializeValue = function(value, target) {\r\n                            if (\"filter\" === target) {\r\n                                return value\r\n                            }\r\n                            return (0, _type.isDefined)(value) && \"string\" === this.serializationFormat ? value.toString() : value\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            var getAlignmentByDataType = function(dataType, isRTL) {\r\n                switch (dataType) {\r\n                    case \"number\":\r\n                        return \"right\";\r\n                    case \"boolean\":\r\n                        return \"center\";\r\n                    default:\r\n                        return (0, _position.getDefaultAlignment)(isRTL)\r\n                }\r\n            };\r\n            var customizeTextForBooleanDataType = function(e) {\r\n                if (true === e.value) {\r\n                    return this.trueText || \"true\"\r\n                } else {\r\n                    if (false === e.value) {\r\n                        return this.falseText || \"false\"\r\n                    } else {\r\n                        return e.valueText || \"\"\r\n                    }\r\n                }\r\n            };\r\n            var getCustomizeTextByDataType = function(dataType) {\r\n                if (\"boolean\" === dataType) {\r\n                    return customizeTextForBooleanDataType\r\n                }\r\n            };\r\n            var createColumnsFromDataSource = function(that, dataSource) {\r\n                var firstItems = that._getFirstItems(dataSource);\r\n                var fieldName;\r\n                var processedFields = {};\r\n                var result = [];\r\n                for (var i = 0; i < firstItems.length; i++) {\r\n                    if (firstItems[i]) {\r\n                        for (fieldName in firstItems[i]) {\r\n                            if (!(0, _type.isFunction)(firstItems[i][fieldName]) || _variable_wrapper.default.isWrapped(firstItems[i][fieldName])) {\r\n                                processedFields[fieldName] = true\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                for (fieldName in processedFields) {\r\n                    if (0 !== fieldName.indexOf(\"__\")) {\r\n                        var column = createColumn(that, fieldName);\r\n                        result.push(column)\r\n                    }\r\n                }\r\n                return result\r\n            };\r\n            var updateColumnIndexes = function(that) {\r\n                (0, _iterator.each)(that._columns, function(index, column) {\r\n                    column.index = index\r\n                });\r\n                (0, _iterator.each)(that._columns, function(index, column) {\r\n                    if ((0, _type.isObject)(column.ownerBand)) {\r\n                        column.ownerBand = column.ownerBand.index\r\n                    }\r\n                });\r\n                (0, _iterator.each)(that._commandColumns, function(index, column) {\r\n                    column.index = -(index + 1)\r\n                })\r\n            };\r\n            var updateColumnGroupIndexes = function(that, currentColumn) {\r\n                (0, _array.normalizeIndexes)(that._columns, \"groupIndex\", currentColumn, function(column) {\r\n                    var grouped = column.grouped;\r\n                    delete column.grouped;\r\n                    return grouped\r\n                })\r\n            };\r\n            var updateColumnSortIndexes = function(that, currentColumn) {\r\n                (0, _iterator.each)(that._columns, function(index, column) {\r\n                    if ((0, _type.isDefined)(column.sortIndex) && !isSortOrderValid(column.sortOrder)) {\r\n                        delete column.sortIndex\r\n                    }\r\n                });\r\n                (0, _array.normalizeIndexes)(that._columns, \"sortIndex\", currentColumn, function(column) {\r\n                    return !(0, _type.isDefined)(column.groupIndex) && isSortOrderValid(column.sortOrder)\r\n                })\r\n            };\r\n            var updateColumnVisibleIndexes = function(that, currentColumn) {\r\n                var key;\r\n                var column;\r\n                var bandColumns = {};\r\n                var result = [];\r\n                var bandColumnsCache = that.getBandColumnsCache();\r\n                var columns = that._columns.filter(function(column) {\r\n                    return !column.command\r\n                });\r\n                for (var i = 0; i < columns.length; i++) {\r\n                    column = columns[i];\r\n                    var parentBandColumns = getParentBandColumns(i, bandColumnsCache.columnParentByIndex);\r\n                    if (parentBandColumns.length) {\r\n                        var bandColumnIndex = parentBandColumns[parentBandColumns.length - 1].index;\r\n                        bandColumns[bandColumnIndex] = bandColumns[bandColumnIndex] || [];\r\n                        bandColumns[bandColumnIndex].push(column)\r\n                    } else {\r\n                        result.push(column)\r\n                    }\r\n                }\r\n                for (key in bandColumns) {\r\n                    (0, _array.normalizeIndexes)(bandColumns[key], \"visibleIndex\", currentColumn)\r\n                }(0, _array.normalizeIndexes)(result, \"visibleIndex\", currentColumn)\r\n            };\r\n            var getColumnIndexByVisibleIndex = function(that, visibleIndex, location) {\r\n                var rowIndex = (0, _type.isObject)(visibleIndex) ? visibleIndex.rowIndex : null;\r\n                var columns = location === GROUP_LOCATION ? that.getGroupColumns() : location === COLUMN_CHOOSER_LOCATION ? that.getChooserColumns() : that.getVisibleColumns(rowIndex);\r\n                var column;\r\n                visibleIndex = (0, _type.isObject)(visibleIndex) ? visibleIndex.columnIndex : visibleIndex;\r\n                column = columns[visibleIndex];\r\n                if (column && column.type === GROUP_COMMAND_COLUMN_NAME) {\r\n                    column = that._columns.filter(function(col) {\r\n                        return column.type === col.type\r\n                    })[0] || column\r\n                }\r\n                return column && (0, _type.isDefined)(column.index) ? column.index : -1\r\n            };\r\n            var moveColumnToGroup = function(that, column, groupIndex) {\r\n                var groupColumns = that.getGroupColumns();\r\n                var i;\r\n                if (groupIndex >= 0) {\r\n                    for (i = 0; i < groupColumns.length; i++) {\r\n                        if (groupColumns[i].groupIndex >= groupIndex) {\r\n                            groupColumns[i].groupIndex++\r\n                        }\r\n                    }\r\n                } else {\r\n                    groupIndex = 0;\r\n                    for (i = 0; i < groupColumns.length; i++) {\r\n                        groupIndex = Math.max(groupIndex, groupColumns[i].groupIndex + 1)\r\n                    }\r\n                }\r\n                return groupIndex\r\n            };\r\n\r\n            function checkUserStateColumn(column, userStateColumn) {\r\n                return column && userStateColumn && (userStateColumn.name === column.name || !column.name) && (userStateColumn.dataField === column.dataField || column.name)\r\n            }\r\n            var applyUserState = function(that) {\r\n                var columnsUserState = that._columnsUserState;\r\n                var ignoreColumnOptionNames = that._ignoreColumnOptionNames || [];\r\n                var columns = that._columns;\r\n                var columnCountById = {};\r\n                var resultColumns = [];\r\n                var allColumnsHaveState = true;\r\n                var userStateColumnIndexes = [];\r\n                var column;\r\n                var userStateColumnIndex;\r\n                var i;\r\n\r\n                function applyFieldsState(column, userStateColumn) {\r\n                    if (!userStateColumn) {\r\n                        return\r\n                    }\r\n                    for (var index = 0; index < USER_STATE_FIELD_NAMES.length; index++) {\r\n                        var fieldName = USER_STATE_FIELD_NAMES[index];\r\n                        if ((0, _array.inArray)(fieldName, ignoreColumnOptionNames) >= 0) {\r\n                            continue\r\n                        }\r\n                        if (\"dataType\" === fieldName) {\r\n                            column[fieldName] = column[fieldName] || userStateColumn[fieldName]\r\n                        } else {\r\n                            if ((0, _array.inArray)(fieldName, USER_STATE_FIELD_NAMES_15_1) >= 0) {\r\n                                if (fieldName in userStateColumn) {\r\n                                    column[fieldName] = userStateColumn[fieldName]\r\n                                }\r\n                            } else {\r\n                                if (\"selectedFilterOperation\" === fieldName && userStateColumn[fieldName]) {\r\n                                    column.defaultSelectedFilterOperation = column[fieldName] || null\r\n                                }\r\n                                column[fieldName] = userStateColumn[fieldName]\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                function findUserStateColumn(columnsUserState, column) {\r\n                    var id = column.name || column.dataField;\r\n                    var count = columnCountById[id] || 0;\r\n                    for (var j = 0; j < columnsUserState.length; j++) {\r\n                        if (checkUserStateColumn(column, columnsUserState[j])) {\r\n                            if (count) {\r\n                                count--\r\n                            } else {\r\n                                columnCountById[id] = columnCountById[id] || 0;\r\n                                columnCountById[id]++;\r\n                                return j\r\n                            }\r\n                        }\r\n                    }\r\n                    return -1\r\n                }\r\n                if (columnsUserState) {\r\n                    for (i = 0; i < columns.length; i++) {\r\n                        userStateColumnIndex = findUserStateColumn(columnsUserState, columns[i]);\r\n                        allColumnsHaveState = allColumnsHaveState && userStateColumnIndex >= 0;\r\n                        userStateColumnIndexes.push(userStateColumnIndex)\r\n                    }\r\n                    for (i = 0; i < columns.length; i++) {\r\n                        column = columns[i];\r\n                        userStateColumnIndex = userStateColumnIndexes[i];\r\n                        if (that._hasUserState || allColumnsHaveState) {\r\n                            applyFieldsState(column, columnsUserState[userStateColumnIndex])\r\n                        }\r\n                        if (userStateColumnIndex >= 0 && (0, _type.isDefined)(columnsUserState[userStateColumnIndex].initialIndex)) {\r\n                            resultColumns[userStateColumnIndex] = column\r\n                        } else {\r\n                            resultColumns.push(column)\r\n                        }\r\n                    }\r\n                    var hasAddedBands = false;\r\n                    for (i = 0; i < columnsUserState.length; i++) {\r\n                        var columnUserState = columnsUserState[i];\r\n                        if (columnUserState.added && findUserStateColumn(columns, columnUserState) < 0) {\r\n                            column = createColumn(that, columnUserState.added);\r\n                            applyFieldsState(column, columnUserState);\r\n                            resultColumns.push(column);\r\n                            if (columnUserState.added.columns) {\r\n                                hasAddedBands = true\r\n                            }\r\n                        }\r\n                    }\r\n                    if (hasAddedBands) {\r\n                        updateColumnIndexes(that);\r\n                        resultColumns = createColumnsFromOptions(that, resultColumns)\r\n                    }\r\n                    assignColumns(that, resultColumns)\r\n                }\r\n            };\r\n            var updateIndexes = function(that, column) {\r\n                updateColumnIndexes(that);\r\n                updateColumnGroupIndexes(that, column);\r\n                updateColumnSortIndexes(that, column);\r\n                resetBandColumnsCache(that);\r\n                updateColumnVisibleIndexes(that, column)\r\n            };\r\n            var resetColumnsCache = function(that) {\r\n                that.resetColumnsCache()\r\n            };\r\n\r\n            function assignColumns(that, columns) {\r\n                that._columns = columns;\r\n                resetColumnsCache(that);\r\n                that.updateColumnDataTypes()\r\n            }\r\n            var updateColumnChanges = function(that, changeType, optionName, columnIndex) {\r\n                var columnChanges = that._columnChanges || {\r\n                    optionNames: {\r\n                        length: 0\r\n                    },\r\n                    changeTypes: {\r\n                        length: 0\r\n                    },\r\n                    columnIndex: columnIndex\r\n                };\r\n                optionName = optionName || \"all\";\r\n                optionName = optionName.split(\".\")[0];\r\n                var changeTypes = columnChanges.changeTypes;\r\n                if (changeType && !changeTypes[changeType]) {\r\n                    changeTypes[changeType] = true;\r\n                    changeTypes.length++\r\n                }\r\n                var optionNames = columnChanges.optionNames;\r\n                if (optionName && !optionNames[optionName]) {\r\n                    optionNames[optionName] = true;\r\n                    optionNames.length++\r\n                }\r\n                if (void 0 === columnIndex || columnIndex !== columnChanges.columnIndex) {\r\n                    delete columnChanges.columnIndex\r\n                }\r\n                that._columnChanges = columnChanges;\r\n                resetColumnsCache(that)\r\n            };\r\n            var fireColumnsChanged = function(that) {\r\n                var onColumnsChanging = that.option(\"onColumnsChanging\");\r\n                var columnChanges = that._columnChanges;\r\n                var reinitOptionNames = [\"dataField\", \"lookup\", \"dataType\", \"columns\"];\r\n                var needReinit = function(options) {\r\n                    return options && reinitOptionNames.some(function(name) {\r\n                        return options[name]\r\n                    })\r\n                };\r\n                if (that.isInitialized() && !that._updateLockCount && columnChanges) {\r\n                    if (onColumnsChanging) {\r\n                        that._updateLockCount++;\r\n                        onColumnsChanging((0, _extend.extend)({\r\n                            component: that.component\r\n                        }, columnChanges));\r\n                        that._updateLockCount--\r\n                    }\r\n                    that._columnChanges = void 0;\r\n                    if (needReinit(columnChanges.optionNames)) {\r\n                        that.reinit()\r\n                    } else {\r\n                        that.columnsChanged.fire(columnChanges)\r\n                    }\r\n                }\r\n            };\r\n            var updateSortOrderWhenGrouping = function(that, column, groupIndex, prevGroupIndex) {\r\n                var columnWasGrouped = prevGroupIndex >= 0;\r\n                if (groupIndex >= 0) {\r\n                    if (!columnWasGrouped) {\r\n                        column.lastSortOrder = column.sortOrder\r\n                    }\r\n                } else {\r\n                    var sortMode = that.option(\"sorting.mode\");\r\n                    var sortOrder = column.lastSortOrder;\r\n                    if (\"single\" === sortMode) {\r\n                        var sortedByAnotherColumn = that._columns.some(function(col) {\r\n                            return col !== column && (0, _type.isDefined)(col.sortIndex)\r\n                        });\r\n                        if (sortedByAnotherColumn) {\r\n                            sortOrder = void 0\r\n                        }\r\n                    }\r\n                    column.sortOrder = sortOrder\r\n                }\r\n            };\r\n            var fireOptionChanged = function(that, options) {\r\n                var value = options.value;\r\n                var optionName = options.optionName;\r\n                var prevValue = options.prevValue;\r\n                var fullOptionName = options.fullOptionName;\r\n                var fullOptionPath = \"\".concat(fullOptionName, \".\").concat(optionName);\r\n                if (!IGNORE_COLUMN_OPTION_NAMES[optionName] && that._skipProcessingColumnsChange !== fullOptionPath) {\r\n                    that._skipProcessingColumnsChange = fullOptionPath;\r\n                    that.component._notifyOptionChanged(fullOptionPath, value, prevValue);\r\n                    that._skipProcessingColumnsChange = false\r\n                }\r\n            };\r\n            var columnOptionCore = function(that, column, optionName, value, notFireEvent) {\r\n                var optionGetter = (0, _data.compileGetter)(optionName);\r\n                var columnIndex = column.index;\r\n                var columns;\r\n                var changeType;\r\n                var initialColumn;\r\n                if (3 === arguments.length) {\r\n                    return optionGetter(column, {\r\n                        functionsAsIs: true\r\n                    })\r\n                }\r\n                var prevValue = optionGetter(column, {\r\n                    functionsAsIs: true\r\n                });\r\n                if (prevValue !== value) {\r\n                    if (\"groupIndex\" === optionName || \"calculateGroupValue\" === optionName) {\r\n                        changeType = \"grouping\";\r\n                        updateSortOrderWhenGrouping(that, column, value, prevValue)\r\n                    } else {\r\n                        if (\"sortIndex\" === optionName || \"sortOrder\" === optionName || \"calculateSortValue\" === optionName) {\r\n                            changeType = \"sorting\"\r\n                        } else {\r\n                            changeType = \"columns\"\r\n                        }\r\n                    }\r\n                    var optionSetter = (0, _data.compileSetter)(optionName);\r\n                    optionSetter(column, value, {\r\n                        functionsAsIs: true\r\n                    });\r\n                    var fullOptionName = getColumnFullPath(that, column);\r\n                    if (COLUMN_INDEX_OPTIONS[optionName]) {\r\n                        updateIndexes(that, column);\r\n                        value = optionGetter(column)\r\n                    }\r\n                    if (\"name\" === optionName || \"allowEditing\" === optionName) {\r\n                        that._checkColumns()\r\n                    }\r\n                    fullOptionName && fireOptionChanged(that, {\r\n                        fullOptionName: fullOptionName,\r\n                        optionName: optionName,\r\n                        value: value,\r\n                        prevValue: prevValue\r\n                    });\r\n                    if (!(0, _type.isDefined)(prevValue) && !(0, _type.isDefined)(value) && 0 !== optionName.indexOf(\"buffer\")) {\r\n                        notFireEvent = true\r\n                    }\r\n                    if (!notFireEvent) {\r\n                        if ((0, _array.inArray)(optionName, USER_STATE_FIELD_NAMES) < 0 && \"visibleWidth\" !== optionName) {\r\n                            columns = that.option(\"columns\");\r\n                            initialColumn = that.getColumnByPath(fullOptionName, columns);\r\n                            if ((0, _type.isString)(initialColumn)) {\r\n                                initialColumn = columns[columnIndex] = {\r\n                                    dataField: initialColumn\r\n                                }\r\n                            }\r\n                            if (initialColumn && checkUserStateColumn(initialColumn, column)) {\r\n                                optionSetter(initialColumn, value, {\r\n                                    functionsAsIs: true\r\n                                })\r\n                            }\r\n                        }\r\n                        updateColumnChanges(that, changeType, optionName, columnIndex)\r\n                    } else {\r\n                        resetColumnsCache(that)\r\n                    }\r\n                }\r\n            };\r\n\r\n            function isSortOrderValid(sortOrder) {\r\n                return \"asc\" === sortOrder || \"desc\" === sortOrder\r\n            }\r\n            var addExpandColumn = function(that) {\r\n                var options = that._getExpandColumnOptions();\r\n                that.addCommandColumn(options)\r\n            };\r\n            var defaultSetCellValue = function(data, value) {\r\n                var path = this.dataField.split(\".\");\r\n                var dotCount = path.length - 1;\r\n                if (this.serializeValue) {\r\n                    value = this.serializeValue(value)\r\n                }\r\n                for (var i = 0; i < dotCount; i++) {\r\n                    var name = path[i];\r\n                    data = data[name] = data[name] || {}\r\n                }\r\n                data[path[dotCount]] = value\r\n            };\r\n            var getDataColumns = function getDataColumns(columns, rowIndex, bandColumnID) {\r\n                var result = [];\r\n                rowIndex = rowIndex || 0;\r\n                columns[rowIndex] && (0, _iterator.each)(columns[rowIndex], function(_, column) {\r\n                    if (column.ownerBand === bandColumnID || column.type === GROUP_COMMAND_COLUMN_NAME) {\r\n                        if (!column.isBand || !column.colspan) {\r\n                            if (!column.command || rowIndex < 1) {\r\n                                result.push(column)\r\n                            }\r\n                        } else {\r\n                            result.push.apply(result, getDataColumns(columns, rowIndex + 1, column.index))\r\n                        }\r\n                    }\r\n                });\r\n                return result\r\n            };\r\n            var _getRowCount = function(that) {\r\n                var rowCount = 1;\r\n                var bandColumnsCache = that.getBandColumnsCache();\r\n                var columnParentByIndex = bandColumnsCache.columnParentByIndex;\r\n                that._columns.forEach(function(column) {\r\n                    var parents = getParentBandColumns(column.index, columnParentByIndex);\r\n                    var invisibleParents = parents.filter(function(column) {\r\n                        return !column.visible\r\n                    });\r\n                    if (column.visible && !invisibleParents.length) {\r\n                        rowCount = Math.max(rowCount, parents.length + 1)\r\n                    }\r\n                });\r\n                return rowCount\r\n            };\r\n            var isCustomCommandColumn = function(that, commandColumn) {\r\n                return !!that._columns.filter(function(column) {\r\n                    return column.type === commandColumn.type\r\n                }).length\r\n            };\r\n            var getFixedPosition = function(that, column) {\r\n                var rtlEnabled = that.option(\"rtlEnabled\");\r\n                if (column.command && !isCustomCommandColumn(that, column) || !column.fixedPosition) {\r\n                    return rtlEnabled ? \"right\" : \"left\"\r\n                }\r\n                return column.fixedPosition\r\n            };\r\n            var processExpandColumns = function(columns, expandColumns, type, columnIndex) {\r\n                var customColumnIndex;\r\n                var rowCount = this.getRowCount();\r\n                var rowspan = columns[columnIndex] && columns[columnIndex].rowspan;\r\n                var expandColumnsByType = expandColumns.filter(function(column) {\r\n                    return column.type === type\r\n                });\r\n                columns.forEach(function(column, index) {\r\n                    if (column.type === type) {\r\n                        customColumnIndex = index;\r\n                        rowspan = columns[index + 1] ? columns[index + 1].rowspan : rowCount\r\n                    }\r\n                });\r\n                if (rowspan > 1) {\r\n                    expandColumnsByType = (0, _iterator.map)(expandColumnsByType, function(expandColumn) {\r\n                        return (0, _extend.extend)({}, expandColumn, {\r\n                            rowspan: rowspan\r\n                        })\r\n                    })\r\n                }\r\n                expandColumnsByType.unshift.apply(expandColumnsByType, (0, _type.isDefined)(customColumnIndex) ? [customColumnIndex, 1] : [columnIndex, 0]);\r\n                columns.splice.apply(columns, expandColumnsByType);\r\n                return rowspan || 1\r\n            };\r\n            var digitsCount = function(number) {\r\n                var i;\r\n                for (i = 0; number > 1; i++) {\r\n                    number /= 10\r\n                }\r\n                return i\r\n            };\r\n            var numberToString = function(number, digitsCount) {\r\n                var str = number ? number.toString() : \"0\";\r\n                while (str.length < digitsCount) {\r\n                    str = \"0\" + str\r\n                }\r\n                return str\r\n            };\r\n            var mergeColumns = function(that, columns, commandColumns, needToExtend) {\r\n                var column;\r\n                var commandColumnIndex;\r\n                var result = columns.slice().map(function(column) {\r\n                    return (0, _extend.extend)({}, column)\r\n                });\r\n                var isColumnFixing = that._isColumnFixing();\r\n                var defaultCommandColumns = commandColumns.slice().map(function(column) {\r\n                    return (0, _extend.extend)({\r\n                        fixed: isColumnFixing\r\n                    }, column)\r\n                });\r\n                var getCommandColumnIndex = function(column) {\r\n                    return commandColumns.reduce(function(result, commandColumn, index) {\r\n                        var columnType = needToExtend && column.type === GROUP_COMMAND_COLUMN_NAME ? \"expand\" : column.type;\r\n                        return commandColumn.type === columnType || commandColumn.command === column.command ? index : result\r\n                    }, -1)\r\n                };\r\n                var callbackFilter = function(commandColumn) {\r\n                    return commandColumn.command !== commandColumns[commandColumnIndex].command\r\n                };\r\n                for (var i = 0; i < columns.length; i++) {\r\n                    column = columns[i];\r\n                    commandColumnIndex = column && (column.type || column.command) ? getCommandColumnIndex(column) : -1;\r\n                    if (commandColumnIndex >= 0) {\r\n                        if (needToExtend) {\r\n                            result[i] = (0, _extend.extend)({\r\n                                fixed: isColumnFixing\r\n                            }, commandColumns[commandColumnIndex], column);\r\n                            if (column.type !== GROUP_COMMAND_COLUMN_NAME) {\r\n                                defaultCommandColumns = defaultCommandColumns.filter(callbackFilter)\r\n                            }\r\n                        } else {\r\n                            var columnOptions = {\r\n                                visibleIndex: column.visibleIndex,\r\n                                index: column.index,\r\n                                headerId: column.headerId,\r\n                                allowFixing: 0 === column.groupIndex,\r\n                                allowReordering: 0 === column.groupIndex,\r\n                                groupIndex: column.groupIndex\r\n                            };\r\n                            result[i] = (0, _extend.extend)({}, column, commandColumns[commandColumnIndex], column.type === GROUP_COMMAND_COLUMN_NAME && columnOptions)\r\n                        }\r\n                    }\r\n                }\r\n                if (columns.length && needToExtend && defaultCommandColumns.length) {\r\n                    result = result.concat(defaultCommandColumns)\r\n                }\r\n                return result\r\n            };\r\n            var isColumnFixed = function(that, column) {\r\n                return (0, _type.isDefined)(column.fixed) || !column.type ? column.fixed : that._isColumnFixing()\r\n            };\r\n            var convertOwnerBandToColumnReference = function(columns) {\r\n                columns.forEach(function(column) {\r\n                    if ((0, _type.isDefined)(column.ownerBand)) {\r\n                        column.ownerBand = columns[column.ownerBand]\r\n                    }\r\n                })\r\n            };\r\n            var resetBandColumnsCache = function(that) {\r\n                that._bandColumnsCache = void 0\r\n            };\r\n            var findColumn = function(columns, identifier) {\r\n                var identifierOptionName = (0, _type.isString)(identifier) && identifier.substr(0, identifier.indexOf(\":\"));\r\n                var column;\r\n                if (void 0 === identifier) {\r\n                    return\r\n                }\r\n                if (identifierOptionName) {\r\n                    identifier = identifier.substr(identifierOptionName.length + 1)\r\n                }\r\n                if (identifierOptionName) {\r\n                    column = columns.filter(function(column) {\r\n                        return \"\" + column[identifierOptionName] === identifier\r\n                    })[0]\r\n                } else {\r\n                    [\"index\", \"name\", \"dataField\", \"caption\"].some(function(optionName) {\r\n                        column = columns.filter(function(column) {\r\n                            return column[optionName] === identifier\r\n                        })[0];\r\n                        return !!column\r\n                    })\r\n                }\r\n                return column\r\n            };\r\n            return {\r\n                _getExpandColumnOptions: function() {\r\n                    return {\r\n                        type: \"expand\",\r\n                        command: \"expand\",\r\n                        width: \"auto\",\r\n                        cssClass: COMMAND_EXPAND_CLASS,\r\n                        allowEditing: false,\r\n                        allowGrouping: false,\r\n                        allowSorting: false,\r\n                        allowResizing: false,\r\n                        allowReordering: false,\r\n                        allowHiding: false\r\n                    }\r\n                },\r\n                _getFirstItems: function(dataSource) {\r\n                    var groupsCount;\r\n                    var items = [];\r\n                    var getFirstItemsCore = function getFirstItemsCore(items, groupsCount) {\r\n                        if (!items || !groupsCount) {\r\n                            return items\r\n                        }\r\n                        for (var i = 0; i < items.length; i++) {\r\n                            var childItems = getFirstItemsCore(items[i].items || items[i].collapsedItems, groupsCount - 1);\r\n                            if (childItems && childItems.length) {\r\n                                return childItems\r\n                            }\r\n                        }\r\n                    };\r\n                    if (dataSource && dataSource.items().length > 0) {\r\n                        groupsCount = _uiGrid_core2.default.normalizeSortingInfo(dataSource.group()).length;\r\n                        items = getFirstItemsCore(dataSource.items(), groupsCount) || []\r\n                    }\r\n                    return items\r\n                },\r\n                _endUpdateCore: function() {\r\n                    !this._skipProcessingColumnsChange && fireColumnsChanged(this)\r\n                },\r\n                init: function() {\r\n                    var that = this;\r\n                    var columns = that.option(\"columns\");\r\n                    that._commandColumns = that._commandColumns || [];\r\n                    that._columns = that._columns || [];\r\n                    that._isColumnsFromOptions = !!columns;\r\n                    if (that._isColumnsFromOptions) {\r\n                        assignColumns(that, columns ? createColumnsFromOptions(that, columns) : []);\r\n                        applyUserState(that)\r\n                    } else {\r\n                        assignColumns(that, that._columnsUserState ? createColumnsFromOptions(that, that._columnsUserState) : that._columns)\r\n                    }\r\n                    addExpandColumn(that);\r\n                    if (that._dataSourceApplied) {\r\n                        that.applyDataSource(that._dataSource, true)\r\n                    } else {\r\n                        updateIndexes(that)\r\n                    }\r\n                    that._checkColumns()\r\n                },\r\n                callbackNames: function() {\r\n                    return [\"columnsChanged\"]\r\n                },\r\n                getColumnByPath: function(path, columns) {\r\n                    var that = this;\r\n                    var column;\r\n                    var columnIndexes = [];\r\n                    path.replace(regExp, function(_, columnIndex) {\r\n                        columnIndexes.push(parseInt(columnIndex));\r\n                        return \"\"\r\n                    });\r\n                    if (columnIndexes.length) {\r\n                        if (columns) {\r\n                            column = columnIndexes.reduce(function(column, index) {\r\n                                return column && column.columns && column.columns[index]\r\n                            }, {\r\n                                columns: columns\r\n                            })\r\n                        } else {\r\n                            column = getColumnByIndexes(that, columnIndexes)\r\n                        }\r\n                    }\r\n                    return column\r\n                },\r\n                optionChanged: function(args) {\r\n                    var needUpdateRequireResize;\r\n                    switch (args.name) {\r\n                        case \"adaptColumnWidthByRatio\":\r\n                            args.handled = true;\r\n                            break;\r\n                        case \"dataSource\":\r\n                            if (args.value !== args.previousValue && !this.option(\"columns\") && (!Array.isArray(args.value) || !Array.isArray(args.previousValue))) {\r\n                                this._columns = []\r\n                            }\r\n                            break;\r\n                        case \"columns\":\r\n                            needUpdateRequireResize = this._skipProcessingColumnsChange;\r\n                            args.handled = true;\r\n                            if (!this._skipProcessingColumnsChange) {\r\n                                if (args.name === args.fullName) {\r\n                                    this._columnsUserState = null;\r\n                                    this._ignoreColumnOptionNames = null;\r\n                                    this.init()\r\n                                } else {\r\n                                    this._columnOptionChanged(args);\r\n                                    needUpdateRequireResize = true\r\n                                }\r\n                            }\r\n                            if (needUpdateRequireResize) {\r\n                                this._updateRequireResize(args)\r\n                            }\r\n                            break;\r\n                        case \"commonColumnSettings\":\r\n                        case \"columnAutoWidth\":\r\n                        case \"allowColumnResizing\":\r\n                        case \"allowColumnReordering\":\r\n                        case \"columnFixing\":\r\n                        case \"grouping\":\r\n                        case \"groupPanel\":\r\n                        case \"regenerateColumnsByVisibleItems\":\r\n                        case \"customizeColumns\":\r\n                        case \"editing\":\r\n                        case \"columnHidingEnabled\":\r\n                        case \"dateSerializationFormat\":\r\n                        case \"columnResizingMode\":\r\n                        case \"columnMinWidth\":\r\n                        case \"columnWidth\":\r\n                            var _args$fullName, _args$fullName2, _args$fullName3, _args$fullName4, _args$fullName5;\r\n                            args.handled = true;\r\n                            var ignoreColumnOptionNames = \"columnWidth\" === args.fullName && [\"width\"];\r\n                            var isEditingPopup = 0 === (null === (_args$fullName = args.fullName) || void 0 === _args$fullName ? void 0 : _args$fullName.indexOf(\"editing.popup\"));\r\n                            var isEditingForm = 0 === (null === (_args$fullName2 = args.fullName) || void 0 === _args$fullName2 ? void 0 : _args$fullName2.indexOf(\"editing.form\"));\r\n                            var isEditRowKey = 0 === (null === (_args$fullName3 = args.fullName) || void 0 === _args$fullName3 ? void 0 : _args$fullName3.indexOf(\"editing.editRowKey\"));\r\n                            var isEditColumnName = 0 === (null === (_args$fullName4 = args.fullName) || void 0 === _args$fullName4 ? void 0 : _args$fullName4.indexOf(\"editing.editColumnName\"));\r\n                            var isChanges = 0 === (null === (_args$fullName5 = args.fullName) || void 0 === _args$fullName5 ? void 0 : _args$fullName5.indexOf(\"editing.changes\"));\r\n                            var needReinit = !isEditingPopup && !isEditingForm && !isEditRowKey && !isChanges && !isEditColumnName;\r\n                            if (needReinit) {\r\n                                this.reinit(ignoreColumnOptionNames)\r\n                            }\r\n                            break;\r\n                        case \"rtlEnabled\":\r\n                            this.reinit();\r\n                            break;\r\n                        default:\r\n                            this.callBase(args)\r\n                    }\r\n                },\r\n                _columnOptionChanged: function(args) {\r\n                    var columnOptionValue = {};\r\n                    var column = this.getColumnByPath(args.fullName);\r\n                    var columnOptionName = args.fullName.replace(regExp, \"\");\r\n                    if (column) {\r\n                        if (columnOptionName) {\r\n                            columnOptionValue[columnOptionName] = args.value\r\n                        } else {\r\n                            columnOptionValue = args.value\r\n                        }\r\n                        this._skipProcessingColumnsChange = args.fullName;\r\n                        this.columnOption(column.index, columnOptionValue);\r\n                        this._skipProcessingColumnsChange = false\r\n                    }\r\n                },\r\n                _updateRequireResize: function(args) {\r\n                    var component = this.component;\r\n                    if (\"width\" === args.fullName.replace(regExp, \"\") && component._updateLockCount) {\r\n                        component._requireResize = true\r\n                    }\r\n                },\r\n                publicMethods: function() {\r\n                    return [\"addColumn\", \"deleteColumn\", \"columnOption\", \"columnCount\", \"clearSorting\", \"clearGrouping\", \"getVisibleColumns\", \"getVisibleColumnIndex\"]\r\n                },\r\n                applyDataSource: function(dataSource, forceApplying) {\r\n                    var that = this;\r\n                    var isDataSourceLoaded = dataSource && dataSource.isLoaded();\r\n                    that._dataSource = dataSource;\r\n                    if (!that._dataSourceApplied || 0 === that._dataSourceColumnsCount || forceApplying || that.option(\"regenerateColumnsByVisibleItems\")) {\r\n                        if (isDataSourceLoaded) {\r\n                            if (!that._isColumnsFromOptions) {\r\n                                var columnsFromDataSource = createColumnsFromDataSource(that, dataSource);\r\n                                if (columnsFromDataSource.length) {\r\n                                    assignColumns(that, columnsFromDataSource);\r\n                                    that._dataSourceColumnsCount = that._columns.length;\r\n                                    applyUserState(that)\r\n                                }\r\n                            }\r\n                            return that.updateColumns(dataSource, forceApplying)\r\n                        } else {\r\n                            that._dataSourceApplied = false\r\n                        }\r\n                    } else {\r\n                        if (isDataSourceLoaded && !that.isAllDataTypesDefined(true) && that.updateColumnDataTypes(dataSource)) {\r\n                            updateColumnChanges(that, \"columns\");\r\n                            fireColumnsChanged(that);\r\n                            return (new _deferred.Deferred).reject().promise()\r\n                        }\r\n                    }\r\n                },\r\n                reset: function() {\r\n                    this._dataSourceApplied = false;\r\n                    this._dataSourceColumnsCount = void 0;\r\n                    this.reinit()\r\n                },\r\n                resetColumnsCache: function() {\r\n                    var that = this;\r\n                    that._visibleColumns = void 0;\r\n                    that._fixedColumns = void 0;\r\n                    that._rowCount = void 0;\r\n                    resetBandColumnsCache(that)\r\n                },\r\n                reinit: function(ignoreColumnOptionNames) {\r\n                    this._columnsUserState = this.getUserState();\r\n                    this._ignoreColumnOptionNames = ignoreColumnOptionNames || null;\r\n                    this.init();\r\n                    if (ignoreColumnOptionNames) {\r\n                        this._ignoreColumnOptionNames = null\r\n                    }\r\n                },\r\n                isInitialized: function() {\r\n                    return !!this._columns.length || !!this.option(\"columns\")\r\n                },\r\n                isDataSourceApplied: function() {\r\n                    return this._dataSourceApplied\r\n                },\r\n                getCommonSettings: function(column) {\r\n                    var commonColumnSettings = (!column || !column.type) && this.option(\"commonColumnSettings\") || {};\r\n                    var groupingOptions = this.option(\"grouping\") || {};\r\n                    var groupPanelOptions = this.option(\"groupPanel\") || {};\r\n                    return (0, _extend.extend)({\r\n                        allowFixing: this.option(\"columnFixing.enabled\"),\r\n                        allowResizing: this.option(\"allowColumnResizing\") || void 0,\r\n                        allowReordering: this.option(\"allowColumnReordering\"),\r\n                        minWidth: this.option(\"columnMinWidth\"),\r\n                        width: this.option(\"columnWidth\"),\r\n                        autoExpandGroup: groupingOptions.autoExpandAll,\r\n                        allowCollapsing: groupingOptions.allowCollapsing,\r\n                        allowGrouping: groupPanelOptions.allowColumnDragging && groupPanelOptions.visible || groupingOptions.contextMenuEnabled\r\n                    }, commonColumnSettings)\r\n                },\r\n                isColumnOptionUsed: function(optionName) {\r\n                    for (var i = 0; i < this._columns.length; i++) {\r\n                        if (this._columns[i][optionName]) {\r\n                            return true\r\n                        }\r\n                    }\r\n                },\r\n                isAllDataTypesDefined: function(checkSerializers) {\r\n                    var columns = this._columns;\r\n                    if (!columns.length) {\r\n                        return false\r\n                    }\r\n                    for (var i = 0; i < columns.length; i++) {\r\n                        if (!columns[i].dataField && columns[i].calculateCellValue === columns[i].defaultCalculateCellValue) {\r\n                            continue\r\n                        }\r\n                        if (!columns[i].dataType || checkSerializers && columns[i].deserializeValue && void 0 === columns[i].serializationFormat) {\r\n                            return false\r\n                        }\r\n                    }\r\n                    return true\r\n                },\r\n                getColumns: function() {\r\n                    return this._columns\r\n                },\r\n                isBandColumnsUsed: function() {\r\n                    return this.getColumns().some(function(column) {\r\n                        return column.isBand\r\n                    })\r\n                },\r\n                getGroupColumns: function() {\r\n                    var result = [];\r\n                    (0, _iterator.each)(this._columns, function() {\r\n                        var column = this;\r\n                        if ((0, _type.isDefined)(column.groupIndex)) {\r\n                            result[column.groupIndex] = column\r\n                        }\r\n                    });\r\n                    return result\r\n                },\r\n                getVisibleColumns: function(rowIndex) {\r\n                    this._visibleColumns = this._visibleColumns || this._getVisibleColumnsCore();\r\n                    rowIndex = (0, _type.isDefined)(rowIndex) ? rowIndex : this._visibleColumns.length - 1;\r\n                    return this._visibleColumns[rowIndex] || []\r\n                },\r\n                getFixedColumns: function(rowIndex) {\r\n                    this._fixedColumns = this._fixedColumns || this._getFixedColumnsCore();\r\n                    rowIndex = (0, _type.isDefined)(rowIndex) ? rowIndex : this._fixedColumns.length - 1;\r\n                    return this._fixedColumns[rowIndex] || []\r\n                },\r\n                getFilteringColumns: function() {\r\n                    return this.getColumns().filter(function(item) {\r\n                        return (item.dataField || item.name) && (item.allowFiltering || item.allowHeaderFiltering)\r\n                    }).map(function(item) {\r\n                        var field = (0, _extend.extend)(true, {}, item);\r\n                        if (!(0, _type.isDefined)(field.dataField)) {\r\n                            field.dataField = field.name\r\n                        }\r\n                        field.filterOperations = item.filterOperations !== item.defaultFilterOperations ? field.filterOperations : null;\r\n                        return field\r\n                    })\r\n                },\r\n                getColumnIndexOffset: function() {\r\n                    return 0\r\n                },\r\n                _getFixedColumnsCore: function() {\r\n                    var that = this;\r\n                    var result = [];\r\n                    var rowCount = that.getRowCount();\r\n                    var isColumnFixing = that._isColumnFixing();\r\n                    var transparentColumn = {\r\n                        command: \"transparent\"\r\n                    };\r\n                    var transparentColspan = 0;\r\n                    var notFixedColumnCount;\r\n                    var transparentColumnIndex;\r\n                    var lastFixedPosition;\r\n                    if (isColumnFixing) {\r\n                        for (var i = 0; i <= rowCount; i++) {\r\n                            notFixedColumnCount = 0;\r\n                            lastFixedPosition = null;\r\n                            transparentColumnIndex = null;\r\n                            var visibleColumns = that.getVisibleColumns(i, true);\r\n                            for (var j = 0; j < visibleColumns.length; j++) {\r\n                                var prevColumn = visibleColumns[j - 1];\r\n                                var column = visibleColumns[j];\r\n                                if (!column.fixed) {\r\n                                    if (0 === i) {\r\n                                        if (column.isBand && column.colspan) {\r\n                                            transparentColspan += column.colspan\r\n                                        } else {\r\n                                            transparentColspan++\r\n                                        }\r\n                                    }\r\n                                    notFixedColumnCount++;\r\n                                    if (!(0, _type.isDefined)(transparentColumnIndex)) {\r\n                                        transparentColumnIndex = j\r\n                                    }\r\n                                } else {\r\n                                    if (prevColumn && prevColumn.fixed && getFixedPosition(that, prevColumn) !== getFixedPosition(that, column)) {\r\n                                        if (!(0, _type.isDefined)(transparentColumnIndex)) {\r\n                                            transparentColumnIndex = j\r\n                                        }\r\n                                    } else {\r\n                                        lastFixedPosition = column.fixedPosition\r\n                                    }\r\n                                }\r\n                            }\r\n                            if (0 === i && (0 === notFixedColumnCount || notFixedColumnCount >= visibleColumns.length)) {\r\n                                return []\r\n                            }\r\n                            if (!(0, _type.isDefined)(transparentColumnIndex)) {\r\n                                transparentColumnIndex = \"right\" === lastFixedPosition ? 0 : visibleColumns.length\r\n                            }\r\n                            result[i] = visibleColumns.slice(0);\r\n                            if (!transparentColumn.colspan) {\r\n                                transparentColumn.colspan = transparentColspan\r\n                            }\r\n                            result[i].splice(transparentColumnIndex, notFixedColumnCount, transparentColumn)\r\n                        }\r\n                    }\r\n                    return result.map(function(columns) {\r\n                        return columns.map(function(column) {\r\n                            var newColumn = _objectSpread({}, column);\r\n                            if (newColumn.headerId) {\r\n                                newColumn.headerId += \"-fixed\"\r\n                            }\r\n                            return newColumn\r\n                        })\r\n                    })\r\n                },\r\n                _isColumnFixing: function() {\r\n                    var isColumnFixing = this.option(\"columnFixing.enabled\");\r\n                    !isColumnFixing && (0, _iterator.each)(this._columns, function(_, column) {\r\n                        if (column.fixed) {\r\n                            isColumnFixing = true;\r\n                            return false\r\n                        }\r\n                    });\r\n                    return isColumnFixing\r\n                },\r\n                _getExpandColumnsCore: function() {\r\n                    return this.getGroupColumns()\r\n                },\r\n                getExpandColumns: function() {\r\n                    var expandColumns = this._getExpandColumnsCore();\r\n                    var expandColumn;\r\n                    var firstGroupColumn = expandColumns.filter(function(column) {\r\n                        return 0 === column.groupIndex\r\n                    })[0];\r\n                    var isFixedFirstGroupColumn = firstGroupColumn && firstGroupColumn.fixed;\r\n                    var isColumnFixing = this._isColumnFixing();\r\n                    if (expandColumns.length) {\r\n                        expandColumn = this.columnOption(\"command:expand\")\r\n                    }\r\n                    expandColumns = (0, _iterator.map)(expandColumns, function(column) {\r\n                        return (0, _extend.extend)({}, column, {\r\n                            visibleWidth: null,\r\n                            minWidth: null,\r\n                            cellTemplate: !(0, _type.isDefined)(column.groupIndex) ? column.cellTemplate : null,\r\n                            headerCellTemplate: null,\r\n                            fixed: !(0, _type.isDefined)(column.groupIndex) || !isFixedFirstGroupColumn ? isColumnFixing : true\r\n                        }, expandColumn, {\r\n                            index: column.index,\r\n                            type: column.type || GROUP_COMMAND_COLUMN_NAME\r\n                        })\r\n                    });\r\n                    return expandColumns\r\n                },\r\n                getBandColumnsCache: function() {\r\n                    if (!this._bandColumnsCache) {\r\n                        var columns = this._columns;\r\n                        var columnChildrenByIndex = {};\r\n                        var columnParentByIndex = {};\r\n                        var isPlain = true;\r\n                        columns.forEach(function(column) {\r\n                            var parentIndex = column.ownerBand;\r\n                            var parent = columns[parentIndex];\r\n                            if (column.hasColumns) {\r\n                                isPlain = false\r\n                            }\r\n                            if (column.colspan) {\r\n                                column.colspan = void 0\r\n                            }\r\n                            if (column.rowspan) {\r\n                                column.rowspan = void 0\r\n                            }\r\n                            if (parent) {\r\n                                columnParentByIndex[column.index] = parent\r\n                            } else {\r\n                                parentIndex = -1\r\n                            }\r\n                            columnChildrenByIndex[parentIndex] = columnChildrenByIndex[parentIndex] || [];\r\n                            columnChildrenByIndex[parentIndex].push(column)\r\n                        });\r\n                        this._bandColumnsCache = {\r\n                            isPlain: isPlain,\r\n                            columnChildrenByIndex: columnChildrenByIndex,\r\n                            columnParentByIndex: columnParentByIndex\r\n                        }\r\n                    }\r\n                    return this._bandColumnsCache\r\n                },\r\n                _isColumnVisible: function(column) {\r\n                    return column.visible && this.isParentColumnVisible(column.index)\r\n                },\r\n                _getVisibleColumnsCore: function() {\r\n                    var that = this;\r\n                    var i;\r\n                    var result = [];\r\n                    var rowspanGroupColumns = 0;\r\n                    var rowspanExpandColumns = 0;\r\n                    var rowCount = that.getRowCount();\r\n                    var positiveIndexedColumns = [];\r\n                    var negativeIndexedColumns = [];\r\n                    var notGroupedColumnsCount = 0;\r\n                    var isFixedToEnd;\r\n                    var rtlEnabled = that.option(\"rtlEnabled\");\r\n                    var bandColumnsCache = that.getBandColumnsCache();\r\n                    var expandColumns = mergeColumns(that, that.getExpandColumns(), that._columns);\r\n                    var columns = mergeColumns(that, that._columns, that._commandColumns, true);\r\n                    var columnDigitsCount = digitsCount(columns.length);\r\n                    processBandColumns(that, columns, bandColumnsCache);\r\n                    for (i = 0; i < rowCount; i++) {\r\n                        result[i] = [];\r\n                        negativeIndexedColumns[i] = [{}];\r\n                        positiveIndexedColumns[i] = [{}, {}, {}]\r\n                    }(0, _iterator.each)(columns, function() {\r\n                        var column = this;\r\n                        var visibleIndex = column.visibleIndex;\r\n                        var indexedColumns;\r\n                        var parentBandColumns = getParentBandColumns(column.index, bandColumnsCache.columnParentByIndex);\r\n                        var visible = that._isColumnVisible(column);\r\n                        if (visible && (!(0, _type.isDefined)(column.groupIndex) || column.showWhenGrouped)) {\r\n                            var rowIndex = parentBandColumns.length;\r\n                            if (visibleIndex < 0) {\r\n                                visibleIndex = -visibleIndex;\r\n                                indexedColumns = negativeIndexedColumns[rowIndex]\r\n                            } else {\r\n                                column.fixed = parentBandColumns.length ? parentBandColumns[0].fixed : column.fixed;\r\n                                column.fixedPosition = parentBandColumns.length ? parentBandColumns[0].fixedPosition : column.fixedPosition;\r\n                                if (column.fixed) {\r\n                                    isFixedToEnd = \"right\" === column.fixedPosition;\r\n                                    if (rtlEnabled && (!column.command || isCustomCommandColumn(that, column))) {\r\n                                        isFixedToEnd = !isFixedToEnd\r\n                                    }\r\n                                    if (isFixedToEnd) {\r\n                                        indexedColumns = positiveIndexedColumns[rowIndex][2]\r\n                                    } else {\r\n                                        indexedColumns = positiveIndexedColumns[rowIndex][0]\r\n                                    }\r\n                                } else {\r\n                                    indexedColumns = positiveIndexedColumns[rowIndex][1]\r\n                                }\r\n                            }\r\n                            if (parentBandColumns.length) {\r\n                                visibleIndex = numberToString(visibleIndex, columnDigitsCount);\r\n                                for (i = parentBandColumns.length - 1; i >= 0; i--) {\r\n                                    visibleIndex = numberToString(parentBandColumns[i].visibleIndex, columnDigitsCount) + visibleIndex\r\n                                }\r\n                            }\r\n                            indexedColumns[visibleIndex] = indexedColumns[visibleIndex] || [];\r\n                            indexedColumns[visibleIndex].push(column);\r\n                            notGroupedColumnsCount++\r\n                        }\r\n                    });\r\n                    (0, _iterator.each)(result, function(rowIndex) {\r\n                        (0, _object.orderEach)(negativeIndexedColumns[rowIndex], function(_, columns) {\r\n                            result[rowIndex].unshift.apply(result[rowIndex], columns)\r\n                        });\r\n                        var firstPositiveIndexColumn = result[rowIndex].length;\r\n                        (0, _iterator.each)(positiveIndexedColumns[rowIndex], function(index, columnsByFixing) {\r\n                            (0, _object.orderEach)(columnsByFixing, function(_, columnsByVisibleIndex) {\r\n                                result[rowIndex].push.apply(result[rowIndex], columnsByVisibleIndex)\r\n                            })\r\n                        });\r\n                        if (rowspanExpandColumns < rowIndex + 1) {\r\n                            rowspanExpandColumns += processExpandColumns.call(that, result[rowIndex], expandColumns, \"detailExpand\", firstPositiveIndexColumn)\r\n                        }\r\n                        if (rowspanGroupColumns < rowIndex + 1) {\r\n                            rowspanGroupColumns += processExpandColumns.call(that, result[rowIndex], expandColumns, GROUP_COMMAND_COLUMN_NAME, firstPositiveIndexColumn)\r\n                        }\r\n                    });\r\n                    result.push(getDataColumns(result));\r\n                    if (!notGroupedColumnsCount && that._columns.length) {\r\n                        result[rowCount].push({\r\n                            command: \"empty\"\r\n                        })\r\n                    }\r\n                    return result\r\n                },\r\n                getInvisibleColumns: function(columns, bandColumnIndex) {\r\n                    var that = this;\r\n                    var result = [];\r\n                    var hiddenColumnsByBand;\r\n                    columns = columns || that._columns;\r\n                    (0, _iterator.each)(columns, function(_, column) {\r\n                        if (column.ownerBand !== bandColumnIndex) {\r\n                            return\r\n                        }\r\n                        if (column.isBand) {\r\n                            if (!column.visible) {\r\n                                hiddenColumnsByBand = that.getChildrenByBandColumn(column.index)\r\n                            } else {\r\n                                hiddenColumnsByBand = that.getInvisibleColumns(that.getChildrenByBandColumn(column.index), column.index)\r\n                            }\r\n                            if (hiddenColumnsByBand.length) {\r\n                                result.push(column);\r\n                                result = result.concat(hiddenColumnsByBand)\r\n                            }\r\n                            return\r\n                        }\r\n                        if (!column.visible) {\r\n                            result.push(column)\r\n                        }\r\n                    });\r\n                    return result\r\n                },\r\n                getChooserColumns: function(getAllColumns) {\r\n                    var columns = getAllColumns ? this.getColumns() : this.getInvisibleColumns();\r\n                    return (0, _common.grep)(columns, function(column) {\r\n                        return column.showInColumnChooser\r\n                    })\r\n                },\r\n                allowMoveColumn: function(fromVisibleIndex, toVisibleIndex, sourceLocation, targetLocation) {\r\n                    var that = this;\r\n                    var columnIndex = getColumnIndexByVisibleIndex(that, fromVisibleIndex, sourceLocation);\r\n                    var sourceColumn = that._columns[columnIndex];\r\n                    if (sourceColumn && (sourceColumn.allowReordering || sourceColumn.allowGrouping || sourceColumn.allowHiding)) {\r\n                        if (sourceLocation === targetLocation) {\r\n                            if (sourceLocation === COLUMN_CHOOSER_LOCATION) {\r\n                                return false\r\n                            }\r\n                            fromVisibleIndex = (0, _type.isObject)(fromVisibleIndex) ? fromVisibleIndex.columnIndex : fromVisibleIndex;\r\n                            toVisibleIndex = (0, _type.isObject)(toVisibleIndex) ? toVisibleIndex.columnIndex : toVisibleIndex;\r\n                            return fromVisibleIndex !== toVisibleIndex && fromVisibleIndex + 1 !== toVisibleIndex\r\n                        } else {\r\n                            if (sourceLocation === GROUP_LOCATION && targetLocation !== COLUMN_CHOOSER_LOCATION || targetLocation === GROUP_LOCATION) {\r\n                                return sourceColumn && sourceColumn.allowGrouping\r\n                            } else {\r\n                                if (sourceLocation === COLUMN_CHOOSER_LOCATION || targetLocation === COLUMN_CHOOSER_LOCATION) {\r\n                                    return sourceColumn && sourceColumn.allowHiding\r\n                                }\r\n                            }\r\n                        }\r\n                        return true\r\n                    }\r\n                    return false\r\n                },\r\n                moveColumn: function(fromVisibleIndex, toVisibleIndex, sourceLocation, targetLocation) {\r\n                    var that = this;\r\n                    var options = {};\r\n                    var prevGroupIndex;\r\n                    var fromIndex = getColumnIndexByVisibleIndex(that, fromVisibleIndex, sourceLocation);\r\n                    var toIndex = getColumnIndexByVisibleIndex(that, toVisibleIndex, targetLocation);\r\n                    var targetGroupIndex;\r\n                    if (fromIndex >= 0) {\r\n                        var column = that._columns[fromIndex];\r\n                        toVisibleIndex = (0, _type.isObject)(toVisibleIndex) ? toVisibleIndex.columnIndex : toVisibleIndex;\r\n                        targetGroupIndex = toIndex >= 0 ? that._columns[toIndex].groupIndex : -1;\r\n                        if ((0, _type.isDefined)(column.groupIndex) && sourceLocation === GROUP_LOCATION) {\r\n                            if (targetGroupIndex > column.groupIndex) {\r\n                                targetGroupIndex--\r\n                            }\r\n                            if (targetLocation !== GROUP_LOCATION) {\r\n                                options.groupIndex = void 0\r\n                            } else {\r\n                                prevGroupIndex = column.groupIndex;\r\n                                delete column.groupIndex;\r\n                                updateColumnGroupIndexes(that)\r\n                            }\r\n                        }\r\n                        if (targetLocation === GROUP_LOCATION) {\r\n                            options.groupIndex = moveColumnToGroup(that, column, targetGroupIndex);\r\n                            column.groupIndex = prevGroupIndex\r\n                        } else {\r\n                            if (toVisibleIndex >= 0) {\r\n                                var targetColumn = that._columns[toIndex];\r\n                                if (!targetColumn || column.ownerBand !== targetColumn.ownerBand) {\r\n                                    options.visibleIndex = MAX_SAFE_INTEGER\r\n                                } else {\r\n                                    if (isColumnFixed(that, column) ^ isColumnFixed(that, targetColumn)) {\r\n                                        options.visibleIndex = MAX_SAFE_INTEGER\r\n                                    } else {\r\n                                        options.visibleIndex = targetColumn.visibleIndex\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        var isVisible = targetLocation !== COLUMN_CHOOSER_LOCATION;\r\n                        if (column.visible !== isVisible) {\r\n                            options.visible = isVisible\r\n                        }\r\n                        that.columnOption(column.index, options)\r\n                    }\r\n                },\r\n                changeSortOrder: function(columnIndex, sortOrder) {\r\n                    var that = this;\r\n                    var options = {};\r\n                    var sortingOptions = that.option(\"sorting\");\r\n                    var sortingMode = sortingOptions && sortingOptions.mode;\r\n                    var needResetSorting = \"single\" === sortingMode || !sortOrder;\r\n                    var allowSorting = \"single\" === sortingMode || \"multiple\" === sortingMode;\r\n                    var column = that._columns[columnIndex];\r\n                    var nextSortOrder = function(column) {\r\n                        if (\"ctrl\" === sortOrder) {\r\n                            if (!(\"sortOrder\" in column && \"sortIndex\" in column)) {\r\n                                return false\r\n                            }\r\n                            options.sortOrder = void 0;\r\n                            options.sortIndex = void 0\r\n                        } else {\r\n                            if ((0, _type.isDefined)(column.groupIndex) || (0, _type.isDefined)(column.sortIndex)) {\r\n                                options.sortOrder = \"desc\" === column.sortOrder ? \"asc\" : \"desc\"\r\n                            } else {\r\n                                options.sortOrder = \"asc\"\r\n                            }\r\n                        }\r\n                        return true\r\n                    };\r\n                    if (allowSorting && column && column.allowSorting) {\r\n                        if (needResetSorting && !(0, _type.isDefined)(column.groupIndex)) {\r\n                            (0, _iterator.each)(that._columns, function(index) {\r\n                                if (index !== columnIndex && this.sortOrder) {\r\n                                    if (!(0, _type.isDefined)(this.groupIndex)) {\r\n                                        delete this.sortOrder\r\n                                    }\r\n                                    delete this.sortIndex\r\n                                }\r\n                            })\r\n                        }\r\n                        if (isSortOrderValid(sortOrder)) {\r\n                            if (column.sortOrder !== sortOrder) {\r\n                                options.sortOrder = sortOrder\r\n                            }\r\n                        } else {\r\n                            if (\"none\" === sortOrder) {\r\n                                if (column.sortOrder) {\r\n                                    options.sortIndex = void 0;\r\n                                    options.sortOrder = void 0\r\n                                }\r\n                            } else {\r\n                                nextSortOrder(column)\r\n                            }\r\n                        }\r\n                    }\r\n                    that.columnOption(column.index, options)\r\n                },\r\n                getSortDataSourceParameters: function(useLocalSelector) {\r\n                    var that = this;\r\n                    var sortColumns = [];\r\n                    var sort = [];\r\n                    (0, _iterator.each)(that._columns, function() {\r\n                        if ((this.dataField || this.selector || this.calculateCellValue) && (0, _type.isDefined)(this.sortIndex) && !(0, _type.isDefined)(this.groupIndex)) {\r\n                            sortColumns[this.sortIndex] = this\r\n                        }\r\n                    });\r\n                    (0, _iterator.each)(sortColumns, function() {\r\n                        var sortOrder = this && this.sortOrder;\r\n                        if (isSortOrderValid(sortOrder)) {\r\n                            var sortItem = {\r\n                                selector: this.calculateSortValue || this.displayField || this.calculateDisplayValue || useLocalSelector && this.selector || this.dataField || this.calculateCellValue,\r\n                                desc: \"desc\" === this.sortOrder\r\n                            };\r\n                            if (this.sortingMethod) {\r\n                                sortItem.compare = this.sortingMethod.bind(this)\r\n                            }\r\n                            sort.push(sortItem)\r\n                        }\r\n                    });\r\n                    return sort.length > 0 ? sort : null\r\n                },\r\n                getGroupDataSourceParameters: function(useLocalSelector) {\r\n                    var group = [];\r\n                    (0, _iterator.each)(this.getGroupColumns(), function() {\r\n                        var selector = this.calculateGroupValue || this.displayField || this.calculateDisplayValue || useLocalSelector && this.selector || this.dataField || this.calculateCellValue;\r\n                        if (selector) {\r\n                            var groupItem = {\r\n                                selector: selector,\r\n                                desc: \"desc\" === this.sortOrder,\r\n                                isExpanded: !!this.autoExpandGroup\r\n                            };\r\n                            if (this.sortingMethod) {\r\n                                groupItem.compare = this.sortingMethod.bind(this)\r\n                            }\r\n                            group.push(groupItem)\r\n                        }\r\n                    });\r\n                    return group.length > 0 ? group : null\r\n                },\r\n                refresh: function(updateNewLookupsOnly) {\r\n                    var deferreds = [];\r\n                    (0, _iterator.each)(this._columns, function() {\r\n                        var lookup = this.lookup;\r\n                        if (lookup && !this.calculateDisplayValue) {\r\n                            if (updateNewLookupsOnly && lookup.valueMap) {\r\n                                return\r\n                            }\r\n                            if (lookup.update) {\r\n                                deferreds.push(lookup.update())\r\n                            }\r\n                        }\r\n                    });\r\n                    return _deferred.when.apply(_renderer.default, deferreds).done(resetColumnsCache.bind(null, this))\r\n                },\r\n                _updateColumnOptions: function(column, columnIndex) {\r\n                    column.selector = column.selector || function(data) {\r\n                        return column.calculateCellValue(data)\r\n                    };\r\n                    (0, _iterator.each)([\"calculateSortValue\", \"calculateGroupValue\", \"calculateDisplayValue\"], function(_, calculateCallbackName) {\r\n                        var calculateCallback = column[calculateCallbackName];\r\n                        if ((0, _type.isFunction)(calculateCallback) && !calculateCallback.originalCallback) {\r\n                            column[calculateCallbackName] = function(data) {\r\n                                return calculateCallback.call(column, data)\r\n                            };\r\n                            column[calculateCallbackName].originalCallback = calculateCallback;\r\n                            column[calculateCallbackName].columnIndex = columnIndex\r\n                        }\r\n                    });\r\n                    if ((0, _type.isString)(column.calculateDisplayValue)) {\r\n                        column.displayField = column.calculateDisplayValue;\r\n                        column.calculateDisplayValue = (0, _data.compileGetter)(column.displayField)\r\n                    }\r\n                    if (column.calculateDisplayValue) {\r\n                        column.displayValueMap = column.displayValueMap || {}\r\n                    }\r\n                    updateSerializers(column, column.dataType);\r\n                    var lookup = column.lookup;\r\n                    if (lookup) {\r\n                        updateSerializers(lookup, lookup.dataType)\r\n                    }\r\n                    var dataType = lookup ? lookup.dataType : column.dataType;\r\n                    if (dataType) {\r\n                        column.alignment = column.alignment || getAlignmentByDataType(dataType, this.option(\"rtlEnabled\"));\r\n                        column.format = column.format || _uiGrid_core2.default.getFormatByDataType(dataType);\r\n                        column.customizeText = column.customizeText || getCustomizeTextByDataType(dataType);\r\n                        column.defaultFilterOperations = column.defaultFilterOperations || !lookup && DATATYPE_OPERATIONS[dataType] || [];\r\n                        if (!(0, _type.isDefined)(column.filterOperations)) {\r\n                            setFilterOperationsAsDefaultValues(column)\r\n                        }\r\n                        column.defaultFilterOperation = column.filterOperations && column.filterOperations[0] || \"=\";\r\n                        column.showEditorAlways = (0, _type.isDefined)(column.showEditorAlways) ? column.showEditorAlways : \"boolean\" === dataType && !column.cellTemplate\r\n                    }\r\n                },\r\n                updateColumnDataTypes: function(dataSource) {\r\n                    var that = this;\r\n                    var dateSerializationFormat = that.option(\"dateSerializationFormat\");\r\n                    var firstItems = that._getFirstItems(dataSource);\r\n                    var isColumnDataTypesUpdated = false;\r\n                    (0, _iterator.each)(that._columns, function(index, column) {\r\n                        var i;\r\n                        var value;\r\n                        var dataType;\r\n                        var lookupDataType;\r\n                        var valueDataType;\r\n                        var lookup = column.lookup;\r\n                        if (_uiGrid_core2.default.isDateType(column.dataType) && void 0 === column.serializationFormat) {\r\n                            column.serializationFormat = dateSerializationFormat\r\n                        }\r\n                        if (lookup && _uiGrid_core2.default.isDateType(lookup.dataType) && void 0 === column.serializationFormat) {\r\n                            lookup.serializationFormat = dateSerializationFormat\r\n                        }\r\n                        if (column.calculateCellValue && firstItems.length) {\r\n                            if (!column.dataType || lookup && !lookup.dataType) {\r\n                                for (i = 0; i < firstItems.length; i++) {\r\n                                    value = column.calculateCellValue(firstItems[i]);\r\n                                    if (!column.dataType) {\r\n                                        valueDataType = getValueDataType(value);\r\n                                        dataType = dataType || valueDataType;\r\n                                        if (dataType && valueDataType && dataType !== valueDataType) {\r\n                                            dataType = \"string\"\r\n                                        }\r\n                                    }\r\n                                    if (lookup && !lookup.dataType) {\r\n                                        valueDataType = getValueDataType(_uiGrid_core2.default.getDisplayValue(column, value, firstItems[i]));\r\n                                        lookupDataType = lookupDataType || valueDataType;\r\n                                        if (lookupDataType && valueDataType && lookupDataType !== valueDataType) {\r\n                                            lookupDataType = \"string\"\r\n                                        }\r\n                                    }\r\n                                }\r\n                                if (dataType || lookupDataType) {\r\n                                    if (dataType) {\r\n                                        column.dataType = dataType\r\n                                    }\r\n                                    if (lookup && lookupDataType) {\r\n                                        lookup.dataType = lookupDataType\r\n                                    }\r\n                                    isColumnDataTypesUpdated = true\r\n                                }\r\n                            }\r\n                            if (void 0 === column.serializationFormat || lookup && void 0 === lookup.serializationFormat) {\r\n                                for (i = 0; i < firstItems.length; i++) {\r\n                                    value = column.calculateCellValue(firstItems[i], true);\r\n                                    if (void 0 === column.serializationFormat) {\r\n                                        column.serializationFormat = getSerializationFormat(column.dataType, value)\r\n                                    }\r\n                                    if (lookup && void 0 === lookup.serializationFormat) {\r\n                                        lookup.serializationFormat = getSerializationFormat(lookup.dataType, lookup.calculateCellValue(value, true))\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        that._updateColumnOptions(column, index)\r\n                    });\r\n                    return isColumnDataTypesUpdated\r\n                },\r\n                _customizeColumns: function(columns) {\r\n                    var that = this;\r\n                    var customizeColumns = that.option(\"customizeColumns\");\r\n                    if (customizeColumns) {\r\n                        var hasOwnerBand = columns.some(function(column) {\r\n                            return (0, _type.isObject)(column.ownerBand)\r\n                        });\r\n                        if (hasOwnerBand) {\r\n                            updateIndexes(that)\r\n                        }\r\n                        customizeColumns(columns);\r\n                        assignColumns(that, createColumnsFromOptions(that, columns))\r\n                    }\r\n                },\r\n                updateColumns: function(dataSource, forceApplying) {\r\n                    var _this = this;\r\n                    if (!forceApplying) {\r\n                        this.updateSortingGrouping(dataSource)\r\n                    }\r\n                    if (!dataSource || dataSource.isLoaded()) {\r\n                        var sortParameters = dataSource ? dataSource.sort() || [] : this.getSortDataSourceParameters();\r\n                        var groupParameters = dataSource ? dataSource.group() || [] : this.getGroupDataSourceParameters();\r\n                        var filterParameters = null === dataSource || void 0 === dataSource ? void 0 : dataSource.lastLoadOptions().filter;\r\n                        this._customizeColumns(this._columns);\r\n                        updateIndexes(this);\r\n                        var columns = this._columns;\r\n                        return (0, _deferred.when)(this.refresh(true)).always(function() {\r\n                            if (_this._columns !== columns) {\r\n                                return\r\n                            }\r\n                            _this._updateChanges(dataSource, {\r\n                                sorting: sortParameters,\r\n                                grouping: groupParameters,\r\n                                filtering: filterParameters\r\n                            });\r\n                            fireColumnsChanged(_this)\r\n                        })\r\n                    }\r\n                },\r\n                _updateChanges: function(dataSource, parameters) {\r\n                    if (dataSource) {\r\n                        this.updateColumnDataTypes(dataSource);\r\n                        this._dataSourceApplied = true\r\n                    }\r\n                    if (!_uiGrid_core2.default.equalSortParameters(parameters.sorting, this.getSortDataSourceParameters())) {\r\n                        updateColumnChanges(this, \"sorting\")\r\n                    }\r\n                    if (!_uiGrid_core2.default.equalSortParameters(parameters.grouping, this.getGroupDataSourceParameters())) {\r\n                        updateColumnChanges(this, \"grouping\")\r\n                    }\r\n                    var dataController = this.getController(\"data\");\r\n                    if (dataController && !_uiGrid_core2.default.equalFilterParameters(parameters.filtering, dataController.getCombinedFilter())) {\r\n                        updateColumnChanges(this, \"filtering\")\r\n                    }\r\n                    updateColumnChanges(this, \"columns\")\r\n                },\r\n                updateSortingGrouping: function(dataSource, fromDataSource) {\r\n                    var that = this;\r\n                    var sortParameters;\r\n                    var isColumnsChanged;\r\n                    var updateSortGroupParameterIndexes = function(columns, sortParameters, indexParameterName) {\r\n                        (0, _iterator.each)(columns, function(index, column) {\r\n                            delete column[indexParameterName];\r\n                            if (sortParameters) {\r\n                                for (var i = 0; i < sortParameters.length; i++) {\r\n                                    var selector = sortParameters[i].selector;\r\n                                    var isExpanded = sortParameters[i].isExpanded;\r\n                                    if (selector === column.dataField || selector === column.name || selector === column.selector || selector === column.calculateCellValue || selector === column.calculateGroupValue || selector === column.calculateDisplayValue) {\r\n                                        column.sortOrder = column.sortOrder || (sortParameters[i].desc ? \"desc\" : \"asc\");\r\n                                        if (void 0 !== isExpanded) {\r\n                                            column.autoExpandGroup = isExpanded\r\n                                        }\r\n                                        column[indexParameterName] = i;\r\n                                        break\r\n                                    }\r\n                                }\r\n                            }\r\n                        })\r\n                    };\r\n                    if (dataSource) {\r\n                        sortParameters = _uiGrid_core2.default.normalizeSortingInfo(dataSource.sort());\r\n                        var groupParameters = _uiGrid_core2.default.normalizeSortingInfo(dataSource.group());\r\n                        var columnsGroupParameters = that.getGroupDataSourceParameters();\r\n                        var columnsSortParameters = that.getSortDataSourceParameters();\r\n                        if (!that._columns.length) {\r\n                            (0, _iterator.each)(groupParameters, function(index, group) {\r\n                                that._columns.push(group.selector)\r\n                            });\r\n                            (0, _iterator.each)(sortParameters, function(index, sort) {\r\n                                that._columns.push(sort.selector)\r\n                            });\r\n                            assignColumns(that, createColumnsFromOptions(that, that._columns))\r\n                        }\r\n                        if ((fromDataSource || !columnsGroupParameters && !that._hasUserState) && !_uiGrid_core2.default.equalSortParameters(groupParameters, columnsGroupParameters)) {\r\n                            updateSortGroupParameterIndexes(that._columns, groupParameters, \"groupIndex\");\r\n                            if (fromDataSource) {\r\n                                updateColumnChanges(that, \"grouping\");\r\n                                isColumnsChanged = true\r\n                            }\r\n                        }\r\n                        if ((fromDataSource || !columnsSortParameters && !that._hasUserState) && !_uiGrid_core2.default.equalSortParameters(sortParameters, columnsSortParameters)) {\r\n                            updateSortGroupParameterIndexes(that._columns, sortParameters, \"sortIndex\");\r\n                            if (fromDataSource) {\r\n                                updateColumnChanges(that, \"sorting\");\r\n                                isColumnsChanged = true\r\n                            }\r\n                        }\r\n                        if (isColumnsChanged) {\r\n                            fireColumnsChanged(that)\r\n                        }\r\n                    }\r\n                },\r\n                updateFilter: function(filter, remoteFiltering, columnIndex, filterValue) {\r\n                    var that = this;\r\n                    if (!Array.isArray(filter)) {\r\n                        return filter\r\n                    }\r\n                    filter = (0, _extend.extend)([], filter);\r\n                    columnIndex = void 0 !== filter.columnIndex ? filter.columnIndex : columnIndex;\r\n                    filterValue = void 0 !== filter.filterValue ? filter.filterValue : filterValue;\r\n                    if ((0, _type.isString)(filter[0]) && \"!\" !== filter[0]) {\r\n                        var column = that.columnOption(filter[0]);\r\n                        if (remoteFiltering) {\r\n                            if ((0, _config.default)().forceIsoDateParsing && column && column.serializeValue && filter.length > 1) {\r\n                                filter[filter.length - 1] = column.serializeValue(filter[filter.length - 1], \"filter\")\r\n                            }\r\n                        } else {\r\n                            if (column && column.selector) {\r\n                                filter[0] = column.selector;\r\n                                filter[0].columnIndex = column.index\r\n                            }\r\n                        }\r\n                    } else {\r\n                        if ((0, _type.isFunction)(filter[0])) {\r\n                            filter[0].columnIndex = columnIndex;\r\n                            filter[0].filterValue = filterValue\r\n                        }\r\n                    }\r\n                    for (var i = 0; i < filter.length; i++) {\r\n                        filter[i] = that.updateFilter(filter[i], remoteFiltering, columnIndex, filterValue)\r\n                    }\r\n                    return filter\r\n                },\r\n                columnCount: function() {\r\n                    return this._columns ? this._columns.length : 0\r\n                },\r\n                columnOption: function(identifier, option, value, notFireEvent) {\r\n                    var that = this;\r\n                    var columns = that._columns.concat(that._commandColumns);\r\n                    var column = findColumn(columns, identifier);\r\n                    if (column) {\r\n                        if (1 === arguments.length) {\r\n                            return (0, _extend.extend)({}, column)\r\n                        }\r\n                        if ((0, _type.isString)(option)) {\r\n                            if (2 === arguments.length) {\r\n                                return columnOptionCore(that, column, option)\r\n                            } else {\r\n                                columnOptionCore(that, column, option, value, notFireEvent)\r\n                            }\r\n                        } else {\r\n                            if ((0, _type.isObject)(option)) {\r\n                                (0, _iterator.each)(option, function(optionName, value) {\r\n                                    columnOptionCore(that, column, optionName, value, notFireEvent)\r\n                                })\r\n                            }\r\n                        }\r\n                        fireColumnsChanged(that)\r\n                    }\r\n                },\r\n                clearSorting: function() {\r\n                    var that = this;\r\n                    var columnCount = this.columnCount();\r\n                    that.beginUpdate();\r\n                    for (var i = 0; i < columnCount; i++) {\r\n                        that.columnOption(i, \"sortOrder\", void 0)\r\n                    }\r\n                    that.endUpdate()\r\n                },\r\n                clearGrouping: function() {\r\n                    var that = this;\r\n                    var columnCount = this.columnCount();\r\n                    that.beginUpdate();\r\n                    for (var i = 0; i < columnCount; i++) {\r\n                        that.columnOption(i, \"groupIndex\", void 0)\r\n                    }\r\n                    that.endUpdate()\r\n                },\r\n                getVisibleIndex: function(index, rowIndex) {\r\n                    var columns = this.getVisibleColumns(rowIndex);\r\n                    for (var i = columns.length - 1; i >= 0; i--) {\r\n                        if (columns[i].index === index) {\r\n                            return i\r\n                        }\r\n                    }\r\n                    return -1\r\n                },\r\n                getVisibleColumnIndex: function(id, rowIndex) {\r\n                    var index = this.columnOption(id, \"index\");\r\n                    return this.getVisibleIndex(index, rowIndex)\r\n                },\r\n                addColumn: function(options) {\r\n                    var that = this;\r\n                    var column = createColumn(that, options);\r\n                    var index = that._columns.length;\r\n                    that._columns.push(column);\r\n                    if (column.isBand) {\r\n                        that._columns = createColumnsFromOptions(that, that._columns);\r\n                        column = that._columns[index]\r\n                    }\r\n                    column.added = options;\r\n                    updateIndexes(that, column);\r\n                    that.updateColumns(that._dataSource);\r\n                    that._checkColumns()\r\n                },\r\n                deleteColumn: function(id) {\r\n                    var that = this;\r\n                    var column = that.columnOption(id);\r\n                    if (column && column.index >= 0) {\r\n                        convertOwnerBandToColumnReference(that._columns);\r\n                        that._columns.splice(column.index, 1);\r\n                        if (column.isBand) {\r\n                            var childIndexes = that.getChildrenByBandColumn(column.index).map(function(column) {\r\n                                return column.index\r\n                            });\r\n                            that._columns = that._columns.filter(function(column) {\r\n                                return childIndexes.indexOf(column.index) < 0\r\n                            })\r\n                        }\r\n                        updateIndexes(that);\r\n                        that.updateColumns(that._dataSource)\r\n                    }\r\n                },\r\n                addCommandColumn: function(options) {\r\n                    var commandColumn = this._commandColumns.filter(function(column) {\r\n                        return column.command === options.command\r\n                    })[0];\r\n                    if (!commandColumn) {\r\n                        commandColumn = options;\r\n                        this._commandColumns.push(commandColumn)\r\n                    }\r\n                },\r\n                getUserState: function() {\r\n                    var columns = this._columns;\r\n                    var result = [];\r\n                    var i;\r\n\r\n                    function handleStateField(index, value) {\r\n                        if (void 0 !== columns[i][value]) {\r\n                            result[i][value] = columns[i][value]\r\n                        }\r\n                    }\r\n                    for (i = 0; i < columns.length; i++) {\r\n                        result[i] = {};\r\n                        (0, _iterator.each)(USER_STATE_FIELD_NAMES, handleStateField)\r\n                    }\r\n                    return result\r\n                },\r\n                setName: function(column) {\r\n                    var dataField = column.dataField;\r\n                    if (!(0, _type.isDefined)(column.name) && (0, _type.isDefined)(dataField)) {\r\n                        column.name = dataField\r\n                    }\r\n                },\r\n                setUserState: function(state) {\r\n                    var that = this;\r\n                    var dataSource = that._dataSource;\r\n                    var ignoreColumnOptionNames = that.option(\"stateStoring.ignoreColumnOptionNames\");\r\n                    null === state || void 0 === state ? void 0 : state.forEach(this.setName);\r\n                    if (!ignoreColumnOptionNames) {\r\n                        ignoreColumnOptionNames = [];\r\n                        var commonColumnSettings = that.getCommonSettings();\r\n                        if (!that.option(\"columnChooser.enabled\")) {\r\n                            ignoreColumnOptionNames.push(\"visible\")\r\n                        }\r\n                        if (\"none\" === that.option(\"sorting.mode\")) {\r\n                            ignoreColumnOptionNames.push(\"sortIndex\", \"sortOrder\")\r\n                        }\r\n                        if (!commonColumnSettings.allowGrouping) {\r\n                            ignoreColumnOptionNames.push(\"groupIndex\")\r\n                        }\r\n                        if (!commonColumnSettings.allowFixing) {\r\n                            ignoreColumnOptionNames.push(\"fixed\", \"fixedPosition\")\r\n                        }\r\n                        if (!commonColumnSettings.allowResizing) {\r\n                            ignoreColumnOptionNames.push(\"width\", \"visibleWidth\")\r\n                        }\r\n                        var isFilterPanelHidden = !that.option(\"filterPanel.visible\");\r\n                        if (!that.option(\"filterRow.visible\") && isFilterPanelHidden) {\r\n                            ignoreColumnOptionNames.push(\"filterValue\", \"selectedFilterOperation\")\r\n                        }\r\n                        if (!that.option(\"headerFilter.visible\") && isFilterPanelHidden) {\r\n                            ignoreColumnOptionNames.push(\"filterValues\", \"filterType\")\r\n                        }\r\n                    }\r\n                    that._columnsUserState = state;\r\n                    that._ignoreColumnOptionNames = ignoreColumnOptionNames;\r\n                    that._hasUserState = !!state;\r\n                    updateColumnChanges(that, \"filtering\");\r\n                    that.init();\r\n                    if (dataSource) {\r\n                        dataSource.sort(that.getSortDataSourceParameters());\r\n                        dataSource.group(that.getGroupDataSourceParameters())\r\n                    }\r\n                },\r\n                _checkColumns: function() {\r\n                    var usedNames = {};\r\n                    var hasEditableColumnWithoutName = false;\r\n                    var duplicatedNames = [];\r\n                    this._columns.forEach(function(column) {\r\n                        var _column$columns;\r\n                        var name = column.name;\r\n                        var isBand = null === (_column$columns = column.columns) || void 0 === _column$columns ? void 0 : _column$columns.length;\r\n                        var isEditable = column.allowEditing && (column.dataField || column.setCellValue) && !isBand;\r\n                        if (name) {\r\n                            if (usedNames[name]) {\r\n                                duplicatedNames.push('\"'.concat(name, '\"'))\r\n                            }\r\n                            usedNames[name] = true\r\n                        } else {\r\n                            if (isEditable) {\r\n                                hasEditableColumnWithoutName = true\r\n                            }\r\n                        }\r\n                    });\r\n                    if (duplicatedNames.length) {\r\n                        _ui.default.log(\"E1059\", duplicatedNames.join(\", \"))\r\n                    }\r\n                    if (hasEditableColumnWithoutName) {\r\n                        _ui.default.log(\"E1060\")\r\n                    }\r\n                },\r\n                _createCalculatedColumnOptions: function(columnOptions, bandColumn) {\r\n                    var calculatedColumnOptions = {};\r\n                    var dataField = columnOptions.dataField;\r\n                    if (Array.isArray(columnOptions.columns) && columnOptions.columns.length || columnOptions.isBand) {\r\n                        calculatedColumnOptions.isBand = true;\r\n                        dataField = null\r\n                    }\r\n                    if (dataField) {\r\n                        if ((0, _type.isString)(dataField)) {\r\n                            var getter = (0, _data.compileGetter)(dataField);\r\n                            calculatedColumnOptions = {\r\n                                caption: (0, _inflector.captionize)(dataField),\r\n                                calculateCellValue: function(data, skipDeserialization) {\r\n                                    var value = getter(data);\r\n                                    return this.deserializeValue && !skipDeserialization ? this.deserializeValue(value) : value\r\n                                },\r\n                                setCellValue: defaultSetCellValue,\r\n                                parseValue: function(text) {\r\n                                    var column = this;\r\n                                    var result;\r\n                                    var parsedValue;\r\n                                    if (\"number\" === column.dataType) {\r\n                                        if ((0, _type.isString)(text) && column.format) {\r\n                                            parsedValue = _number.default.parse(text);\r\n                                            if ((0, _type.isNumeric)(parsedValue)) {\r\n                                                result = parsedValue\r\n                                            }\r\n                                        } else {\r\n                                            if ((0, _type.isDefined)(text) && (0, _type.isNumeric)(text)) {\r\n                                                result = Number(text)\r\n                                            }\r\n                                        }\r\n                                    } else {\r\n                                        if (\"boolean\" === column.dataType) {\r\n                                            if (text === column.trueText) {\r\n                                                result = true\r\n                                            } else {\r\n                                                if (text === column.falseText) {\r\n                                                    result = false\r\n                                                }\r\n                                            }\r\n                                        } else {\r\n                                            if (_uiGrid_core2.default.isDateType(column.dataType)) {\r\n                                                parsedValue = _date.default.parse(text, column.format);\r\n                                                if (parsedValue) {\r\n                                                    result = parsedValue\r\n                                                }\r\n                                            } else {\r\n                                                result = text\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    return result\r\n                                }\r\n                            }\r\n                        }\r\n                        calculatedColumnOptions.allowFiltering = true\r\n                    } else {\r\n                        calculatedColumnOptions.allowFiltering = !!columnOptions.calculateFilterExpression\r\n                    }\r\n                    calculatedColumnOptions.calculateFilterExpression = function() {\r\n                        return _filtering.default.defaultCalculateFilterExpression.apply(this, arguments)\r\n                    };\r\n                    calculatedColumnOptions.createFilterExpression = function(filterValue) {\r\n                        var result;\r\n                        if (this.calculateFilterExpression) {\r\n                            result = this.calculateFilterExpression.apply(this, arguments)\r\n                        }\r\n                        if ((0, _type.isFunction)(result)) {\r\n                            result = [result, \"=\", true]\r\n                        }\r\n                        if (result) {\r\n                            result.columnIndex = this.index;\r\n                            result.filterValue = filterValue\r\n                        }\r\n                        return result\r\n                    };\r\n                    if (!dataField || !(0, _type.isString)(dataField)) {\r\n                        (0, _extend.extend)(true, calculatedColumnOptions, {\r\n                            allowSorting: false,\r\n                            allowGrouping: false,\r\n                            calculateCellValue: function() {\r\n                                return null\r\n                            }\r\n                        })\r\n                    }\r\n                    if (bandColumn) {\r\n                        calculatedColumnOptions.allowFixing = false\r\n                    }\r\n                    if (columnOptions.dataType) {\r\n                        calculatedColumnOptions.userDataType = columnOptions.dataType\r\n                    }\r\n                    if (columnOptions.selectedFilterOperation && !(\"defaultSelectedFilterOperation\" in calculatedColumnOptions)) {\r\n                        calculatedColumnOptions.defaultSelectedFilterOperation = columnOptions.selectedFilterOperation\r\n                    }\r\n                    if (columnOptions.lookup) {\r\n                        calculatedColumnOptions.lookup = {\r\n                            calculateCellValue: function(value, skipDeserialization) {\r\n                                if (this.valueExpr) {\r\n                                    value = this.valueMap && this.valueMap[value]\r\n                                }\r\n                                return this.deserializeValue && !skipDeserialization ? this.deserializeValue(value) : value\r\n                            },\r\n                            updateValueMap: function() {\r\n                                this.valueMap = {};\r\n                                if (this.items) {\r\n                                    var calculateValue = (0, _data.compileGetter)(this.valueExpr);\r\n                                    var calculateDisplayValue = (0, _data.compileGetter)(this.displayExpr);\r\n                                    for (var i = 0; i < this.items.length; i++) {\r\n                                        var item = this.items[i];\r\n                                        var displayValue = calculateDisplayValue(item);\r\n                                        this.valueMap[calculateValue(item)] = displayValue;\r\n                                        this.dataType = this.dataType || getValueDataType(displayValue)\r\n                                    }\r\n                                }\r\n                            },\r\n                            update: function() {\r\n                                var that = this;\r\n                                var dataSource = that.dataSource;\r\n                                if (dataSource) {\r\n                                    if ((0, _type.isFunction)(dataSource) && !_variable_wrapper.default.isWrapped(dataSource)) {\r\n                                        dataSource = dataSource({})\r\n                                    }\r\n                                    if ((0, _type.isPlainObject)(dataSource) || dataSource instanceof _abstract_store.default || Array.isArray(dataSource)) {\r\n                                        if (that.valueExpr) {\r\n                                            var dataSourceOptions = (0, _utils.normalizeDataSourceOptions)(dataSource);\r\n                                            dataSourceOptions.paginate = false;\r\n                                            dataSource = new _data_source.DataSource(dataSourceOptions);\r\n                                            return dataSource.load().done(function(data) {\r\n                                                that.items = data;\r\n                                                that.updateValueMap && that.updateValueMap()\r\n                                            })\r\n                                        }\r\n                                    } else {\r\n                                        _ui.default.log(\"E1016\")\r\n                                    }\r\n                                } else {\r\n                                    that.updateValueMap && that.updateValueMap()\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    calculatedColumnOptions.resizedCallbacks = (0, _callbacks.default)();\r\n                    if (columnOptions.resized) {\r\n                        calculatedColumnOptions.resizedCallbacks.add(columnOptions.resized.bind(columnOptions))\r\n                    }(0, _iterator.each)(calculatedColumnOptions, function(optionName) {\r\n                        if ((0, _type.isFunction)(calculatedColumnOptions[optionName]) && 0 !== optionName.indexOf(\"default\")) {\r\n                            var defaultOptionName = \"default\" + optionName.charAt(0).toUpperCase() + optionName.substr(1);\r\n                            calculatedColumnOptions[defaultOptionName] = calculatedColumnOptions[optionName]\r\n                        }\r\n                    });\r\n                    return calculatedColumnOptions\r\n                },\r\n                getRowCount: function() {\r\n                    this._rowCount = this._rowCount || _getRowCount(this);\r\n                    return this._rowCount\r\n                },\r\n                getRowIndex: function(columnIndex, alwaysGetRowIndex) {\r\n                    var column = this._columns[columnIndex];\r\n                    var bandColumnsCache = this.getBandColumnsCache();\r\n                    return column && (alwaysGetRowIndex || column.visible && !(column.command || (0, _type.isDefined)(column.groupIndex))) ? getParentBandColumns(columnIndex, bandColumnsCache.columnParentByIndex).length : 0\r\n                },\r\n                getChildrenByBandColumn: function(bandColumnIndex, onlyVisibleDirectChildren) {\r\n                    var that = this;\r\n                    var bandColumnsCache = that.getBandColumnsCache();\r\n                    var result = _getChildrenByBandColumn(bandColumnIndex, bandColumnsCache.columnChildrenByIndex, !onlyVisibleDirectChildren);\r\n                    if (onlyVisibleDirectChildren) {\r\n                        return result.filter(function(column) {\r\n                            return column.visible && !column.command\r\n                        }).sort(function(column1, column2) {\r\n                            return column1.visibleIndex - column2.visibleIndex\r\n                        })\r\n                    }\r\n                    return result\r\n                },\r\n                isParentBandColumn: function(columnIndex, bandColumnIndex) {\r\n                    var result = false;\r\n                    var column = this._columns[columnIndex];\r\n                    var bandColumnsCache = this.getBandColumnsCache();\r\n                    var parentBandColumns = column && getParentBandColumns(columnIndex, bandColumnsCache.columnParentByIndex);\r\n                    if (parentBandColumns) {\r\n                        (0, _iterator.each)(parentBandColumns, function(_, bandColumn) {\r\n                            if (bandColumn.index === bandColumnIndex) {\r\n                                result = true;\r\n                                return false\r\n                            }\r\n                        })\r\n                    }\r\n                    return result\r\n                },\r\n                isParentColumnVisible: function(columnIndex) {\r\n                    var result = true;\r\n                    var bandColumnsCache = this.getBandColumnsCache();\r\n                    var bandColumns = columnIndex >= 0 && getParentBandColumns(columnIndex, bandColumnsCache.columnParentByIndex);\r\n                    bandColumns && (0, _iterator.each)(bandColumns, function(_, bandColumn) {\r\n                        result = result && bandColumn.visible;\r\n                        return result\r\n                    });\r\n                    return result\r\n                },\r\n                getColumnId: function(column) {\r\n                    if (column.command && column.type === GROUP_COMMAND_COLUMN_NAME) {\r\n                        if (isCustomCommandColumn(this, column)) {\r\n                            return \"type:\" + column.type\r\n                        }\r\n                        return \"command:\" + column.command\r\n                    }\r\n                    return column.index\r\n                },\r\n                getCustomizeTextByDataType: getCustomizeTextByDataType,\r\n                getHeaderContentAlignment: function(columnAlignment) {\r\n                    var rtlEnabled = this.option(\"rtlEnabled\");\r\n                    if (rtlEnabled) {\r\n                        return \"left\" === columnAlignment ? \"right\" : \"left\"\r\n                    }\r\n                    return columnAlignment\r\n                }\r\n            }\r\n        }())\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.data_controller.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.DataController = void 0;\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _ui = _interopRequireDefault(require(\"../widget/ui.errors\"));\r\nvar _uiData_grid2 = _interopRequireDefault(require(\"./ui.data_grid.data_source_adapter\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.data_controller\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar DataController = _uiGrid_core.default.controllers.data.inherit(function() {\r\n    return {\r\n        _getDataSourceAdapter: function() {\r\n            return _uiData_grid2.default\r\n        },\r\n        _getSpecificDataSourceOption: function() {\r\n            var dataSource = this.option(\"dataSource\");\r\n            if (dataSource && !Array.isArray(dataSource) && this.option(\"keyExpr\")) {\r\n                _ui.default.log(\"W1011\")\r\n            }\r\n            return this.callBase()\r\n        }\r\n    }\r\n}());\r\nexports.DataController = DataController;\r\n_uiData_grid.default.registerModule(\"data\", {\r\n    defaultOptions: _uiGrid_core.default.defaultOptions,\r\n    controllers: {\r\n        data: DataController\r\n    }\r\n});\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.data_source_adapter.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _callbacks = _interopRequireDefault(require(\"../../core/utils/callbacks\"));\r\nvar _uiData_grid = _interopRequireDefault(require(\"../data_grid/ui.data_grid.core\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _array_store = _interopRequireDefault(require(\"../../data/array_store\"));\r\nvar _array_utils = require(\"../../data/array_utils\");\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar _default = _uiData_grid.default.Controller.inherit(function() {\r\n    function cloneItems(items, groupCount) {\r\n        if (items) {\r\n            items = items.slice(0);\r\n            if (groupCount) {\r\n                for (var i = 0; i < items.length; i++) {\r\n                    items[i] = (0, _extend.extend)({\r\n                        key: items[i].key\r\n                    }, items[i]);\r\n                    items[i].items = cloneItems(items[i].items, groupCount - 1)\r\n                }\r\n            }\r\n        }\r\n        return items\r\n    }\r\n\r\n    function calculateOperationTypes(loadOptions, lastLoadOptions, isFullReload) {\r\n        var operationTypes = {\r\n            reload: true,\r\n            fullReload: true\r\n        };\r\n        if (lastLoadOptions) {\r\n            operationTypes = {\r\n                sorting: !_uiData_grid.default.equalSortParameters(loadOptions.sort, lastLoadOptions.sort),\r\n                grouping: !_uiData_grid.default.equalSortParameters(loadOptions.group, lastLoadOptions.group, true),\r\n                groupExpanding: !_uiData_grid.default.equalSortParameters(loadOptions.group, lastLoadOptions.group) || lastLoadOptions.groupExpand,\r\n                filtering: !_uiData_grid.default.equalFilterParameters(loadOptions.filter, lastLoadOptions.filter),\r\n                pageIndex: loadOptions.pageIndex !== lastLoadOptions.pageIndex,\r\n                skip: loadOptions.skip !== lastLoadOptions.skip,\r\n                take: loadOptions.take !== lastLoadOptions.take,\r\n                fullReload: isFullReload\r\n            };\r\n            operationTypes.reload = isFullReload || operationTypes.sorting || operationTypes.grouping || operationTypes.filtering;\r\n            operationTypes.paging = operationTypes.pageIndex || operationTypes.take\r\n        }\r\n        return operationTypes\r\n    }\r\n\r\n    function executeTask(action, timeout) {\r\n        if ((0, _type.isDefined)(timeout)) {\r\n            (0, _common.executeAsync)(action, timeout)\r\n        } else {\r\n            action()\r\n        }\r\n    }\r\n\r\n    function createEmptyPagesData() {\r\n        return {\r\n            pages: {}\r\n        }\r\n    }\r\n\r\n    function getPageDataFromCache(options) {\r\n        return options.cachedPagesData.pages[options.pageIndex]\r\n    }\r\n\r\n    function setPageDataToCache(options, data) {\r\n        var pageIndex = options.pageIndex;\r\n        if (void 0 !== pageIndex) {\r\n            options.cachedPagesData.pages[pageIndex] = data\r\n        }\r\n    }\r\n    return {\r\n        init: function(dataSource, remoteOperations) {\r\n            var that = this;\r\n            that._dataSource = dataSource;\r\n            that._remoteOperations = remoteOperations || {};\r\n            that._isLastPage = !dataSource.isLastPage();\r\n            that._hasLastPage = false;\r\n            that._currentTotalCount = 0;\r\n            that._cachedPagesData = createEmptyPagesData();\r\n            that._lastOperationTypes = {};\r\n            that._eventsStrategy = dataSource._eventsStrategy;\r\n            that._skipCorrection = 0;\r\n            that._isLoadingAll = false;\r\n            that.changed = (0, _callbacks.default)();\r\n            that.loadingChanged = (0, _callbacks.default)();\r\n            that.loadError = (0, _callbacks.default)();\r\n            that.customizeStoreLoadOptions = (0, _callbacks.default)();\r\n            that.changing = (0, _callbacks.default)();\r\n            that._dataChangedHandler = that._handleDataChanged.bind(that);\r\n            that._dataLoadingHandler = that._handleDataLoading.bind(that);\r\n            that._dataLoadedHandler = that._handleDataLoaded.bind(that);\r\n            that._loadingChangedHandler = that._handleLoadingChanged.bind(that);\r\n            that._loadErrorHandler = that._handleLoadError.bind(that);\r\n            that._pushHandler = that._handlePush.bind(that);\r\n            that._changingHandler = that._handleChanging.bind(that);\r\n            dataSource.on(\"changed\", that._dataChangedHandler);\r\n            dataSource.on(\"customizeStoreLoadOptions\", that._dataLoadingHandler);\r\n            dataSource.on(\"customizeLoadResult\", that._dataLoadedHandler);\r\n            dataSource.on(\"loadingChanged\", that._loadingChangedHandler);\r\n            dataSource.on(\"loadError\", that._loadErrorHandler);\r\n            dataSource.on(\"changing\", that._changingHandler);\r\n            dataSource.store().on(\"push\", that._pushHandler);\r\n            (0, _iterator.each)(dataSource, function(memberName, member) {\r\n                if (!that[memberName] && (0, _type.isFunction)(member)) {\r\n                    that[memberName] = function() {\r\n                        return this._dataSource[memberName].apply(this._dataSource, arguments)\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        remoteOperations: function() {\r\n            return this._remoteOperations\r\n        },\r\n        dispose: function(isSharedDataSource) {\r\n            var that = this;\r\n            var dataSource = that._dataSource;\r\n            var store = dataSource.store();\r\n            dataSource.off(\"changed\", that._dataChangedHandler);\r\n            dataSource.off(\"customizeStoreLoadOptions\", that._dataLoadingHandler);\r\n            dataSource.off(\"customizeLoadResult\", that._dataLoadedHandler);\r\n            dataSource.off(\"loadingChanged\", that._loadingChangedHandler);\r\n            dataSource.off(\"loadError\", that._loadErrorHandler);\r\n            dataSource.off(\"changing\", that._changingHandler);\r\n            store && store.off(\"push\", that._pushHandler);\r\n            if (!isSharedDataSource) {\r\n                dataSource.dispose()\r\n            }\r\n        },\r\n        refresh: function(options, operationTypes) {\r\n            var that = this;\r\n            var dataSource = that._dataSource;\r\n            if (operationTypes.reload) {\r\n                that.resetCurrentTotalCount();\r\n                that._isLastPage = !dataSource.paginate();\r\n                that._hasLastPage = that._isLastPage\r\n            }\r\n        },\r\n        resetCurrentTotalCount: function() {\r\n            this._currentTotalCount = 0;\r\n            this._skipCorrection = 0\r\n        },\r\n        resetCache: function() {\r\n            this._cachedStoreData = void 0;\r\n            this._cachedPagingData = void 0\r\n        },\r\n        resetPagesCache: function() {\r\n            this._cachedPagesData = createEmptyPagesData()\r\n        },\r\n        _needClearStoreDataCache: function() {\r\n            var remoteOperations = this.remoteOperations();\r\n            var operationTypes = calculateOperationTypes(this._lastLoadOptions || {}, {});\r\n            var isLocalOperations = Object.keys(remoteOperations).every(function(operationName) {\r\n                return !operationTypes[operationName] || !remoteOperations[operationName]\r\n            });\r\n            return !isLocalOperations\r\n        },\r\n        push: function(changes, fromStore) {\r\n            var store = this.store();\r\n            if (this._needClearStoreDataCache()) {\r\n                this._cachedStoreData = void 0\r\n            }\r\n            this._cachedPagingData = void 0;\r\n            this.resetPagesCache(true);\r\n            if (this._cachedStoreData) {\r\n                (0, _array_utils.applyBatch)({\r\n                    keyInfo: store,\r\n                    data: this._cachedStoreData,\r\n                    changes: changes\r\n                })\r\n            }\r\n            if (!fromStore) {\r\n                this._applyBatch(changes)\r\n            }\r\n        },\r\n        getDataIndexGetter: function() {\r\n            var _this = this;\r\n            if (!this._dataIndexGetter) {\r\n                var indexByKey;\r\n                var storeData;\r\n                var store = this.store();\r\n                this._dataIndexGetter = function(data) {\r\n                    var isCacheUpdated = storeData && storeData !== _this._cachedStoreData;\r\n                    if (!indexByKey || isCacheUpdated) {\r\n                        storeData = _this._cachedStoreData || [];\r\n                        indexByKey = {};\r\n                        for (var i = 0; i < storeData.length; i++) {\r\n                            indexByKey[(0, _common.getKeyHash)(store.keyOf(storeData[i]))] = i\r\n                        }\r\n                    }\r\n                    return indexByKey[(0, _common.getKeyHash)(store.keyOf(data))]\r\n                }\r\n            }\r\n            return this._dataIndexGetter\r\n        },\r\n        _getKeyInfo: function() {\r\n            return this.store()\r\n        },\r\n        _applyBatch: function(changes) {\r\n            var _this2 = this;\r\n            var keyInfo = this._getKeyInfo();\r\n            var dataSource = this._dataSource;\r\n            var groupCount = _uiData_grid.default.normalizeSortingInfo(this.group()).length;\r\n            var totalCount = this.totalCount();\r\n            var isVirtualMode = \"virtual\" === this.option(\"scrolling.mode\");\r\n            changes = changes.filter(function(change) {\r\n                return !dataSource.paginate() || \"insert\" !== change.type || void 0 !== change.index\r\n            });\r\n            var getItemCount = function() {\r\n                return groupCount ? _this2.itemsCount() : _this2._items.length\r\n            };\r\n            var oldItemCount = getItemCount();\r\n            (0, _array_utils.applyBatch)({\r\n                keyInfo: keyInfo,\r\n                data: this._items,\r\n                changes: changes,\r\n                groupCount: groupCount,\r\n                useInsertIndex: true\r\n            });\r\n            (0, _array_utils.applyBatch)({\r\n                keyInfo: keyInfo,\r\n                data: dataSource.items(),\r\n                changes: changes,\r\n                groupCount: groupCount,\r\n                useInsertIndex: true\r\n            });\r\n            if (this._currentTotalCount > 0 || isVirtualMode && totalCount === oldItemCount) {\r\n                this._skipCorrection += getItemCount() - oldItemCount\r\n            }\r\n            changes.splice(0, changes.length)\r\n        },\r\n        _handlePush: function(changes) {\r\n            this.push(changes, true)\r\n        },\r\n        _handleChanging: function(e) {\r\n            this.changing.fire(e);\r\n            this._applyBatch(e.changes)\r\n        },\r\n        _needCleanCacheByOperation: function(operationType, remoteOperations) {\r\n            var operationTypesByOrder = [\"filtering\", \"sorting\", \"paging\"];\r\n            var operationTypeIndex = operationTypesByOrder.indexOf(operationType);\r\n            var currentOperationTypes = operationTypeIndex >= 0 ? operationTypesByOrder.slice(operationTypeIndex) : [operationType];\r\n            return currentOperationTypes.some(function(operationType) {\r\n                return remoteOperations[operationType]\r\n            })\r\n        },\r\n        _customizeRemoteOperations: function(options, operationTypes) {\r\n            var that = this;\r\n            var cachedStoreData = that._cachedStoreData;\r\n            var cachedPagingData = that._cachedPagingData;\r\n            var cachedPagesData = that._cachedPagesData;\r\n            if (options.storeLoadOptions.filter && !options.remoteOperations.filtering || options.storeLoadOptions.sort && !options.remoteOperations.sorting) {\r\n                options.remoteOperations = {\r\n                    filtering: options.remoteOperations.filtering\r\n                }\r\n            }\r\n            if (operationTypes.fullReload) {\r\n                cachedStoreData = void 0;\r\n                cachedPagingData = void 0;\r\n                cachedPagesData = createEmptyPagesData()\r\n            } else {\r\n                if (operationTypes.reload) {\r\n                    cachedPagingData = void 0;\r\n                    cachedPagesData = createEmptyPagesData()\r\n                } else {\r\n                    if (operationTypes.take || operationTypes.groupExpanding) {\r\n                        cachedPagesData = createEmptyPagesData()\r\n                    }\r\n                }(0, _iterator.each)(operationTypes, function(operationType, value) {\r\n                    if (value && that._needCleanCacheByOperation(operationType, options.remoteOperations)) {\r\n                        cachedStoreData = void 0;\r\n                        cachedPagingData = void 0\r\n                    }\r\n                })\r\n            }\r\n            if (cachedPagingData) {\r\n                options.remoteOperations.paging = false\r\n            }\r\n            options.cachedStoreData = cachedStoreData;\r\n            options.cachedPagingData = cachedPagingData;\r\n            options.cachedPagesData = cachedPagesData;\r\n            if (!options.isCustomLoading) {\r\n                that._cachedStoreData = cachedStoreData;\r\n                that._cachedPagingData = cachedPagingData;\r\n                that._cachedPagesData = cachedPagesData\r\n            }\r\n        },\r\n        _handleDataLoading: function(options) {\r\n            var that = this;\r\n            var dataSource = that._dataSource;\r\n            var lastLoadOptions = that._lastLoadOptions;\r\n            that.customizeStoreLoadOptions.fire(options);\r\n            options.delay = this.option(\"loadingTimeout\");\r\n            options.originalStoreLoadOptions = options.storeLoadOptions;\r\n            options.remoteOperations = (0, _extend.extend)({}, this.remoteOperations());\r\n            var isFullReload = !that.isLoaded() && !that._isRefreshing;\r\n            if (that.option(\"integrationOptions.renderedOnServer\") && !that.isLoaded()) {\r\n                options.delay = void 0\r\n            }\r\n            var loadOptions = (0, _extend.extend)({\r\n                pageIndex: that.pageIndex()\r\n            }, options.storeLoadOptions);\r\n            var operationTypes = calculateOperationTypes(loadOptions, lastLoadOptions, isFullReload);\r\n            that._customizeRemoteOperations(options, operationTypes);\r\n            if (!options.isCustomLoading) {\r\n                var isRefreshing = that._isRefreshing;\r\n                options.pageIndex = dataSource.pageIndex();\r\n                options.lastLoadOptions = loadOptions;\r\n                options.operationTypes = operationTypes;\r\n                that._loadingOperationTypes = operationTypes;\r\n                that._isRefreshing = true;\r\n                (0, _deferred.when)(isRefreshing || that._isRefreshed || that.refresh(options, operationTypes)).done(function() {\r\n                    if (that._lastOperationId === options.operationId) {\r\n                        that._isRefreshed = true;\r\n                        that.load().always(function() {\r\n                            that._isRefreshed = false\r\n                        })\r\n                    }\r\n                }).fail(function() {\r\n                    dataSource.cancel(options.operationId)\r\n                }).always(function() {\r\n                    that._isRefreshing = false\r\n                });\r\n                dataSource.cancel(that._lastOperationId);\r\n                that._lastOperationId = options.operationId;\r\n                if (that._isRefreshing) {\r\n                    dataSource.cancel(that._lastOperationId)\r\n                }\r\n            }\r\n            this._handleDataLoadingCore(options)\r\n        },\r\n        _handleDataLoadingCore: function(options) {\r\n            var remoteOperations = options.remoteOperations;\r\n            options.loadOptions = {};\r\n            var cachedExtra = options.cachedPagesData.extra;\r\n            var localLoadOptionNames = {\r\n                filter: !remoteOperations.filtering,\r\n                sort: !remoteOperations.sorting,\r\n                group: !remoteOperations.grouping,\r\n                summary: !remoteOperations.summary,\r\n                skip: !remoteOperations.paging,\r\n                take: !remoteOperations.paging,\r\n                requireTotalCount: cachedExtra && \"totalCount\" in cachedExtra || !remoteOperations.paging\r\n            };\r\n            (0, _iterator.each)(options.storeLoadOptions, function(optionName, optionValue) {\r\n                if (localLoadOptionNames[optionName]) {\r\n                    options.loadOptions[optionName] = optionValue;\r\n                    delete options.storeLoadOptions[optionName]\r\n                }\r\n            });\r\n            if (cachedExtra) {\r\n                options.extra = cachedExtra\r\n            }\r\n            options.data = getPageDataFromCache(options) || options.cachedStoreData\r\n        },\r\n        _handleDataLoaded: function(options) {\r\n            var _this3 = this;\r\n            var loadOptions = options.loadOptions;\r\n            var localPaging = options.remoteOperations && !options.remoteOperations.paging;\r\n            var cachedPagesData = options.cachedPagesData;\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var needCache = false !== this.option(\"cacheEnabled\") && storeLoadOptions;\r\n            var needPageCache = needCache && !options.isCustomLoading && cachedPagesData && (!localPaging || storeLoadOptions.group) && !this.option(\"legacyRendering\");\r\n            var needPagingCache = needCache && localPaging;\r\n            var needStoreCache = needPagingCache && !options.isCustomLoading;\r\n            if (!loadOptions) {\r\n                this._dataSource.cancel(options.operationId);\r\n                return\r\n            }\r\n            if (options.lastLoadOptions) {\r\n                this._lastLoadOptions = options.lastLoadOptions;\r\n                Object.keys(options.operationTypes).forEach(function(operationType) {\r\n                    _this3._lastOperationTypes[operationType] = _this3._lastOperationTypes[operationType] || options.operationTypes[operationType]\r\n                })\r\n            }\r\n            if (localPaging) {\r\n                options.skip = loadOptions.skip;\r\n                options.take = loadOptions.take;\r\n                delete loadOptions.skip;\r\n                delete loadOptions.take\r\n            }\r\n            if (loadOptions.group) {\r\n                loadOptions.group = options.group || loadOptions.group\r\n            }\r\n            var groupCount = _uiData_grid.default.normalizeSortingInfo(storeLoadOptions.group || loadOptions.group).length;\r\n            if (!needPageCache || !getPageDataFromCache(options)) {\r\n                if (needPagingCache && options.cachedPagingData) {\r\n                    options.data = cloneItems(options.cachedPagingData, groupCount)\r\n                } else {\r\n                    if (needStoreCache) {\r\n                        if (!this._cachedStoreData) {\r\n                            this._cachedStoreData = cloneItems(options.data, _uiData_grid.default.normalizeSortingInfo(storeLoadOptions.group).length)\r\n                        } else {\r\n                            if (options.mergeStoreLoadData) {\r\n                                options.data = this._cachedStoreData = this._cachedStoreData.concat(options.data)\r\n                            }\r\n                        }\r\n                    }\r\n                    new _array_store.default(options.data).load(loadOptions).done(function(data) {\r\n                        options.data = data;\r\n                        if (needStoreCache) {\r\n                            _this3._cachedPagingData = cloneItems(options.data, groupCount)\r\n                        }\r\n                    }).fail(function(error) {\r\n                        options.data = (new _deferred.Deferred).reject(error)\r\n                    })\r\n                }\r\n                if (loadOptions.requireTotalCount && localPaging) {\r\n                    options.extra = (0, _type.isPlainObject)(options.extra) ? options.extra : {};\r\n                    options.extra.totalCount = options.data.length\r\n                }\r\n                if (options.extra && options.extra.totalCount >= 0 && (false === storeLoadOptions.requireTotalCount || false === loadOptions.requireTotalCount)) {\r\n                    options.extra.totalCount = -1\r\n                }\r\n                this._handleDataLoadedCore(options);\r\n                if (needPageCache) {\r\n                    cachedPagesData.extra = cachedPagesData.extra || (0, _extend.extend)({}, options.extra);\r\n                    (0, _deferred.when)(options.data).done(function(data) {\r\n                        setPageDataToCache(options, cloneItems(data, groupCount))\r\n                    })\r\n                }\r\n            }\r\n            options.storeLoadOptions = options.originalStoreLoadOptions\r\n        },\r\n        _handleDataLoadedCore: function(options) {\r\n            if (options.remoteOperations && !options.remoteOperations.paging && Array.isArray(options.data)) {\r\n                if (void 0 !== options.skip) {\r\n                    options.data = options.data.slice(options.skip)\r\n                }\r\n                if (void 0 !== options.take) {\r\n                    options.data = options.data.slice(0, options.take)\r\n                }\r\n            }\r\n        },\r\n        _handleLoadingChanged: function(isLoading) {\r\n            this.loadingChanged.fire(isLoading)\r\n        },\r\n        _handleLoadError: function(error) {\r\n            this.loadError.fire(error);\r\n            this.changed.fire({\r\n                changeType: \"loadError\",\r\n                error: error\r\n            })\r\n        },\r\n        _handleDataChanged: function(args) {\r\n            var that = this;\r\n            var currentTotalCount;\r\n            var dataSource = that._dataSource;\r\n            var isLoading = false;\r\n            var itemsCount = that.itemsCount();\r\n            that._isLastPage = !itemsCount || !that.pageSize() || itemsCount < that.pageSize();\r\n            if (that._isLastPage) {\r\n                that._hasLastPage = true\r\n            }\r\n            if (dataSource.totalCount() >= 0) {\r\n                if (dataSource.pageIndex() >= that.pageCount()) {\r\n                    dataSource.pageIndex(that.pageCount() - 1);\r\n                    that.pageIndex(dataSource.pageIndex());\r\n                    that.resetPagesCache();\r\n                    dataSource.load();\r\n                    isLoading = true\r\n                }\r\n            } else {\r\n                if (!args || (0, _type.isDefined)(args.changeType)) {\r\n                    currentTotalCount = dataSource.pageIndex() * that.pageSize() + itemsCount;\r\n                    that._currentTotalCount = Math.max(that._currentTotalCount, currentTotalCount);\r\n                    if (0 === itemsCount && dataSource.pageIndex() >= that.pageCount()) {\r\n                        dataSource.pageIndex(that.pageCount() - 1);\r\n                        if (\"infinite\" !== that.option(\"scrolling.mode\")) {\r\n                            dataSource.load();\r\n                            isLoading = true\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (!isLoading) {\r\n                that._operationTypes = that._lastOperationTypes;\r\n                that._lastOperationTypes = {};\r\n                that.component._optionCache = {};\r\n                that.changed.fire(args);\r\n                that.component._optionCache = void 0\r\n            }\r\n        },\r\n        _scheduleCustomLoadCallbacks: function(deferred) {\r\n            var that = this;\r\n            that._isCustomLoading = true;\r\n            deferred.always(function() {\r\n                that._isCustomLoading = false\r\n            })\r\n        },\r\n        loadingOperationTypes: function() {\r\n            return this._loadingOperationTypes\r\n        },\r\n        operationTypes: function() {\r\n            return this._operationTypes\r\n        },\r\n        lastLoadOptions: function() {\r\n            return this._lastLoadOptions || {}\r\n        },\r\n        isLastPage: function() {\r\n            return this._isLastPage\r\n        },\r\n        totalCount: function() {\r\n            return parseInt((this._currentTotalCount || this._dataSource.totalCount()) + this._skipCorrection)\r\n        },\r\n        itemsCount: function() {\r\n            return this._dataSource.items().length\r\n        },\r\n        totalItemsCount: function() {\r\n            return this.totalCount()\r\n        },\r\n        pageSize: function() {\r\n            var dataSource = this._dataSource;\r\n            if (!arguments.length && !dataSource.paginate()) {\r\n                return 0\r\n            }\r\n            return dataSource.pageSize.apply(dataSource, arguments)\r\n        },\r\n        pageCount: function() {\r\n            var that = this;\r\n            var count = that.totalItemsCount() - that._skipCorrection;\r\n            var pageSize = that.pageSize();\r\n            if (pageSize && count > 0) {\r\n                return Math.max(1, Math.ceil(count / pageSize))\r\n            }\r\n            return 1\r\n        },\r\n        hasKnownLastPage: function() {\r\n            return this._hasLastPage || this._dataSource.totalCount() >= 0\r\n        },\r\n        loadFromStore: function(loadOptions, store) {\r\n            var dataSource = this._dataSource;\r\n            var d = new _deferred.Deferred;\r\n            if (!dataSource) {\r\n                return\r\n            }\r\n            store = store || dataSource.store();\r\n            store.load(loadOptions).done(function(data, extra) {\r\n                if (data && !Array.isArray(data) && Array.isArray(data.data)) {\r\n                    extra = data;\r\n                    data = data.data\r\n                }\r\n                d.resolve(data, extra)\r\n            }).fail(d.reject);\r\n            return d\r\n        },\r\n        isCustomLoading: function() {\r\n            return !!this._isCustomLoading\r\n        },\r\n        load: function(options) {\r\n            var _this4 = this;\r\n            var that = this;\r\n            var dataSource = that._dataSource;\r\n            var d = new _deferred.Deferred;\r\n            if (options) {\r\n                var store = dataSource.store();\r\n                var dataSourceLoadOptions = dataSource.loadOptions();\r\n                var loadResult = {\r\n                    storeLoadOptions: options,\r\n                    isCustomLoading: true\r\n                };\r\n                (0, _iterator.each)(store._customLoadOptions() || [], function(_, optionName) {\r\n                    if (!(optionName in loadResult.storeLoadOptions)) {\r\n                        loadResult.storeLoadOptions[optionName] = dataSourceLoadOptions[optionName]\r\n                    }\r\n                });\r\n                this._isLoadingAll = options.isLoadingAll;\r\n                that._scheduleCustomLoadCallbacks(d);\r\n                dataSource._scheduleLoadCallbacks(d);\r\n                that._handleDataLoading(loadResult);\r\n                executeTask(function() {\r\n                    if (!dataSource.store()) {\r\n                        return d.reject(\"canceled\")\r\n                    }(0, _deferred.when)(loadResult.data || that.loadFromStore(loadResult.storeLoadOptions)).done(function(data, extra) {\r\n                        loadResult.data = data;\r\n                        loadResult.extra = extra || {};\r\n                        that._handleDataLoaded(loadResult);\r\n                        if (options.requireTotalCount && void 0 === loadResult.extra.totalCount) {\r\n                            loadResult.extra.totalCount = store.totalCount(loadResult.storeLoadOptions)\r\n                        }(0, _deferred.when)(loadResult.data, loadResult.extra.totalCount).done(function(data, totalCount) {\r\n                            loadResult.extra.totalCount = totalCount;\r\n                            d.resolve(data, loadResult.extra)\r\n                        }).fail(d.reject)\r\n                    }).fail(d.reject)\r\n                }, that.option(\"loadingTimeout\"));\r\n                return d.fail(function() {\r\n                    that._eventsStrategy.fireEvent(\"loadError\", arguments)\r\n                }).always(function() {\r\n                    _this4._isLoadingAll = false\r\n                }).promise()\r\n            } else {\r\n                return dataSource.load()\r\n            }\r\n        },\r\n        reload: function(full) {\r\n            return full ? this._dataSource.reload() : this._dataSource.load()\r\n        },\r\n        getCachedStoreData: function() {\r\n            return this._cachedStoreData\r\n        }\r\n    }\r\n}());\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.data_controller.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _uiGrid_core2 = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\nvar _array_store = _interopRequireDefault(require(\"../../data/array_store\"));\r\nvar _custom_store = _interopRequireDefault(require(\"../../data/custom_store\"));\r\nvar _ui = _interopRequireDefault(require(\"../widget/ui.errors\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _data_helper = _interopRequireDefault(require(\"../../data_helper\"));\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _array_compare = require(\"../../core/utils/array_compare\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            loadingTimeout: 0,\r\n            dataSource: null,\r\n            cacheEnabled: true,\r\n            repaintChangesOnly: false,\r\n            highlightChanges: false,\r\n            onDataErrorOccurred: null,\r\n            remoteOperations: \"auto\",\r\n            paging: {\r\n                enabled: true,\r\n                pageSize: void 0,\r\n                pageIndex: void 0\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        data: _uiGrid_core.default.Controller.inherit({}).include(_data_helper.default).inherit(function() {\r\n            var changePaging = function(that, optionName, value) {\r\n                var dataSource = that._dataSource;\r\n                if (dataSource) {\r\n                    if (void 0 !== value) {\r\n                        if (dataSource[optionName]() !== value) {\r\n                            if (\"pageSize\" === optionName) {\r\n                                dataSource.pageIndex(0)\r\n                            }\r\n                            dataSource[optionName](value);\r\n                            that._skipProcessingPagingChange = true;\r\n                            that.option(\"paging.\" + optionName, value);\r\n                            that._skipProcessingPagingChange = false;\r\n                            return dataSource[\"pageIndex\" === optionName ? \"load\" : \"reload\"]().done(that.pageChanged.fire.bind(that.pageChanged))\r\n                        }\r\n                        return (0, _deferred.Deferred)().resolve().promise()\r\n                    }\r\n                    return dataSource[optionName]()\r\n                }\r\n                return 0\r\n            };\r\n            var members = {\r\n                init: function() {\r\n                    var _this = this;\r\n                    var that = this;\r\n                    that._items = [];\r\n                    that._columnsController = that.getController(\"columns\");\r\n                    that._currentOperationTypes = null;\r\n                    that._dataChangedHandler = function(e) {\r\n                        that._currentOperationTypes = _this._dataSource.operationTypes();\r\n                        that._handleDataChanged(e);\r\n                        that._currentOperationTypes = null\r\n                    };\r\n                    that._columnsChangedHandler = that._handleColumnsChanged.bind(that);\r\n                    that._loadingChangedHandler = that._handleLoadingChanged.bind(that);\r\n                    that._loadErrorHandler = that._handleLoadError.bind(that);\r\n                    that._customizeStoreLoadOptionsHandler = that._handleCustomizeStoreLoadOptions.bind(that);\r\n                    that._changingHandler = that._handleChanging.bind(that);\r\n                    that._columnsController.columnsChanged.add(that._columnsChangedHandler);\r\n                    that._isLoading = false;\r\n                    that._isCustomLoading = false;\r\n                    that._repaintChangesOnly = void 0;\r\n                    that._changes = [];\r\n                    that.createAction(\"onDataErrorOccurred\");\r\n                    that.dataErrorOccurred.add(function(error) {\r\n                        return that.executeAction(\"onDataErrorOccurred\", {\r\n                            error: error\r\n                        })\r\n                    });\r\n                    that._refreshDataSource()\r\n                },\r\n                callbackNames: function() {\r\n                    return [\"changed\", \"loadingChanged\", \"dataErrorOccurred\", \"pageChanged\", \"dataSourceChanged\"]\r\n                },\r\n                callbackFlags: function(name) {\r\n                    if (\"dataErrorOccurred\" === name) {\r\n                        return {\r\n                            stopOnFalse: true\r\n                        }\r\n                    }\r\n                },\r\n                publicMethods: function() {\r\n                    return [\"beginCustomLoading\", \"endCustomLoading\", \"refresh\", \"filter\", \"clearFilter\", \"getCombinedFilter\", \"keyOf\", \"byKey\", \"getDataByKeys\", \"pageIndex\", \"pageSize\", \"pageCount\", \"totalCount\", \"_disposeDataSource\", \"getKeyByRowIndex\", \"getRowIndexByKey\", \"getDataSource\", \"getVisibleRows\", \"repaintRows\"]\r\n                },\r\n                reset: function() {\r\n                    this._columnsController.reset();\r\n                    this._items = [];\r\n                    this._refreshDataSource()\r\n                },\r\n                optionChanged: function(args) {\r\n                    var that = this;\r\n                    var dataSource;\r\n\r\n                    function handled() {\r\n                        args.handled = true\r\n                    }\r\n                    if (\"dataSource\" === args.name && args.name === args.fullName && (args.value === args.previousValue || that.option(\"columns\") && Array.isArray(args.value) && Array.isArray(args.previousValue))) {\r\n                        if (args.value !== args.previousValue) {\r\n                            var store = that.store();\r\n                            if (store) {\r\n                                store._array = args.value\r\n                            }\r\n                        }\r\n                        handled();\r\n                        that.refresh(that.option(\"repaintChangesOnly\"));\r\n                        return\r\n                    }\r\n                    switch (args.name) {\r\n                        case \"cacheEnabled\":\r\n                        case \"repaintChangesOnly\":\r\n                        case \"highlightChanges\":\r\n                        case \"loadingTimeout\":\r\n                            handled();\r\n                            break;\r\n                        case \"remoteOperations\":\r\n                        case \"keyExpr\":\r\n                        case \"dataSource\":\r\n                        case \"scrolling\":\r\n                            handled();\r\n                            that.reset();\r\n                            break;\r\n                        case \"paging\":\r\n                            dataSource = that.dataSource();\r\n                            if (dataSource && that._setPagingOptions(dataSource)) {\r\n                                dataSource.load().done(that.pageChanged.fire.bind(that.pageChanged))\r\n                            }\r\n                            handled();\r\n                            break;\r\n                        case \"rtlEnabled\":\r\n                            that.reset();\r\n                            break;\r\n                        case \"columns\":\r\n                            dataSource = that.dataSource();\r\n                            if (dataSource && dataSource.isLoading() && args.name === args.fullName) {\r\n                                this._useSortingGroupingFromColumns = true;\r\n                                dataSource.load()\r\n                            }\r\n                            break;\r\n                        default:\r\n                            that.callBase(args)\r\n                    }\r\n                },\r\n                isReady: function() {\r\n                    return !this._isLoading\r\n                },\r\n                getDataSource: function() {\r\n                    return this._dataSource && this._dataSource._dataSource\r\n                },\r\n                getCombinedFilter: function(returnDataField) {\r\n                    return this.combinedFilter(void 0, returnDataField)\r\n                },\r\n                combinedFilter: function(filter, returnDataField) {\r\n                    var that = this;\r\n                    var dataSource = that._dataSource;\r\n                    var columnsController = that._columnsController;\r\n                    if (dataSource) {\r\n                        if (void 0 === filter) {\r\n                            filter = dataSource.filter()\r\n                        }\r\n                        var additionalFilter = that._calculateAdditionalFilter();\r\n                        if (additionalFilter) {\r\n                            if (columnsController.isDataSourceApplied() || columnsController.isAllDataTypesDefined()) {\r\n                                filter = _uiGrid_core2.default.combineFilters([additionalFilter, filter])\r\n                            }\r\n                        }\r\n                        filter = columnsController.updateFilter(filter, returnDataField || dataSource.remoteOperations().filtering)\r\n                    }\r\n                    return filter\r\n                },\r\n                waitReady: function() {\r\n                    if (this._updateLockCount) {\r\n                        this._readyDeferred = new _deferred.Deferred;\r\n                        return this._readyDeferred\r\n                    }\r\n                    return (0, _deferred.when)()\r\n                },\r\n                _endUpdateCore: function() {\r\n                    var changes = this._changes;\r\n                    if (changes.length) {\r\n                        this._changes = [];\r\n                        var repaintChangesOnly = changes.every(function(change) {\r\n                            return change.repaintChangesOnly\r\n                        });\r\n                        this.updateItems(1 === changes.length ? changes[0] : {\r\n                            repaintChangesOnly: repaintChangesOnly\r\n                        })\r\n                    }\r\n                    if (this._readyDeferred) {\r\n                        this._readyDeferred.resolve();\r\n                        this._readyDeferred = null\r\n                    }\r\n                },\r\n                _handleCustomizeStoreLoadOptions: function(e) {\r\n                    var columnsController = this._columnsController;\r\n                    var dataSource = this._dataSource;\r\n                    var storeLoadOptions = e.storeLoadOptions;\r\n                    if (e.isCustomLoading && !storeLoadOptions.isLoadingAll) {\r\n                        return\r\n                    }\r\n                    storeLoadOptions.filter = this.combinedFilter(storeLoadOptions.filter);\r\n                    if (!columnsController.isDataSourceApplied()) {\r\n                        columnsController.updateColumnDataTypes(dataSource)\r\n                    }\r\n                    this._columnsUpdating = true;\r\n                    columnsController.updateSortingGrouping(dataSource, !this._useSortingGroupingFromColumns);\r\n                    this._columnsUpdating = false;\r\n                    storeLoadOptions.sort = columnsController.getSortDataSourceParameters();\r\n                    storeLoadOptions.group = columnsController.getGroupDataSourceParameters();\r\n                    dataSource.sort(storeLoadOptions.sort);\r\n                    dataSource.group(storeLoadOptions.group);\r\n                    storeLoadOptions.sort = columnsController.getSortDataSourceParameters(!dataSource.remoteOperations().sorting);\r\n                    e.group = columnsController.getGroupDataSourceParameters(!dataSource.remoteOperations().grouping)\r\n                },\r\n                _handleColumnsChanged: function(e) {\r\n                    var that = this;\r\n                    var changeTypes = e.changeTypes;\r\n                    var optionNames = e.optionNames;\r\n                    var filterValue;\r\n                    var filterValues;\r\n                    var filterApplied;\r\n                    var updateItemsHandler = function updateItemsHandler() {\r\n                        that._columnsController.columnsChanged.remove(updateItemsHandler);\r\n                        that.updateItems()\r\n                    };\r\n                    if (changeTypes.sorting || changeTypes.grouping) {\r\n                        if (that._dataSource && !that._columnsUpdating) {\r\n                            that._dataSource.group(that._columnsController.getGroupDataSourceParameters());\r\n                            that._dataSource.sort(that._columnsController.getSortDataSourceParameters());\r\n                            that.reload()\r\n                        }\r\n                    } else {\r\n                        if (changeTypes.columns) {\r\n                            if (optionNames.filterValues || optionNames.filterValue || optionNames.selectedFilterOperation) {\r\n                                filterValue = that._columnsController.columnOption(e.columnIndex, \"filterValue\");\r\n                                filterValues = that._columnsController.columnOption(e.columnIndex, \"filterValues\");\r\n                                if (Array.isArray(filterValues) || void 0 === e.columnIndex || (0, _type.isDefined)(filterValue) || !optionNames.selectedFilterOperation || optionNames.filterValue) {\r\n                                    that._applyFilter();\r\n                                    filterApplied = true\r\n                                }\r\n                            }\r\n                            if (!that._needApplyFilter && !_uiGrid_core2.default.checkChanges(optionNames, [\"width\", \"visibleWidth\", \"filterValue\", \"bufferedFilterValue\", \"selectedFilterOperation\", \"filterValues\", \"filterType\"])) {\r\n                                that._columnsController.columnsChanged.add(updateItemsHandler)\r\n                            }\r\n                            if ((0, _type.isDefined)(optionNames.visible)) {\r\n                                var column = that._columnsController.columnOption(e.columnIndex);\r\n                                if (column && ((0, _type.isDefined)(column.filterValue) || (0, _type.isDefined)(column.filterValues))) {\r\n                                    that._applyFilter();\r\n                                    filterApplied = true\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    if (!filterApplied && changeTypes.filtering) {\r\n                        that.reload()\r\n                    }\r\n                },\r\n                _handleDataChanged: function(e) {\r\n                    var that = this;\r\n                    var dataSource = that._dataSource;\r\n                    var columnsController = that._columnsController;\r\n                    var isAsyncDataSourceApplying = false;\r\n                    this._useSortingGroupingFromColumns = false;\r\n                    if (dataSource && !that._isDataSourceApplying) {\r\n                        that._isDataSourceApplying = true;\r\n                        (0, _deferred.when)(that._columnsController.applyDataSource(dataSource)).done(function() {\r\n                            if (that._isLoading) {\r\n                                that._handleLoadingChanged(false)\r\n                            }\r\n                            if (isAsyncDataSourceApplying && e && e.isDelayed) {\r\n                                e.isDelayed = false\r\n                            }\r\n                            that._isDataSourceApplying = false;\r\n                            var hasAdditionalFilter = function() {\r\n                                var additionalFilter = that._calculateAdditionalFilter();\r\n                                return additionalFilter && additionalFilter.length\r\n                            };\r\n                            var needApplyFilter = that._needApplyFilter;\r\n                            that._needApplyFilter = false;\r\n                            if (needApplyFilter && !that._isAllDataTypesDefined && hasAdditionalFilter()) {\r\n                                _ui.default.log(\"W1005\", that.component.NAME);\r\n                                that._applyFilter()\r\n                            } else {\r\n                                that.updateItems(e, true)\r\n                            }\r\n                        }).fail(function() {\r\n                            that._isDataSourceApplying = false\r\n                        });\r\n                        if (that._isDataSourceApplying) {\r\n                            isAsyncDataSourceApplying = true;\r\n                            that._handleLoadingChanged(true)\r\n                        }\r\n                        that._needApplyFilter = !that._columnsController.isDataSourceApplied();\r\n                        that._isAllDataTypesDefined = columnsController.isAllDataTypesDefined()\r\n                    }\r\n                },\r\n                _handleLoadingChanged: function(isLoading) {\r\n                    this._isLoading = isLoading;\r\n                    this._fireLoadingChanged()\r\n                },\r\n                _handleLoadError: function(e) {\r\n                    this.dataErrorOccurred.fire(e)\r\n                },\r\n                fireError: function() {\r\n                    this.dataErrorOccurred.fire(_ui.default.Error.apply(_ui.default, arguments))\r\n                },\r\n                _setPagingOptions: function(dataSource) {\r\n                    var pageIndex = this.option(\"paging.pageIndex\");\r\n                    var pageSize = this.option(\"paging.pageSize\");\r\n                    var pagingEnabled = this.option(\"paging.enabled\");\r\n                    var scrollingMode = this.option(\"scrolling.mode\");\r\n                    var appendMode = \"infinite\" === scrollingMode;\r\n                    var virtualMode = \"virtual\" === scrollingMode;\r\n                    var paginate = pagingEnabled || virtualMode || appendMode;\r\n                    var isChanged = false;\r\n                    dataSource.requireTotalCount(!appendMode);\r\n                    if (void 0 !== pagingEnabled && dataSource.paginate() !== paginate) {\r\n                        dataSource.paginate(paginate);\r\n                        isChanged = true\r\n                    }\r\n                    if (void 0 !== pageSize && dataSource.pageSize() !== pageSize) {\r\n                        dataSource.pageSize(pageSize);\r\n                        isChanged = true\r\n                    }\r\n                    if (void 0 !== pageIndex && dataSource.pageIndex() !== pageIndex) {\r\n                        dataSource.pageIndex(pageIndex);\r\n                        isChanged = true\r\n                    }\r\n                    return isChanged\r\n                },\r\n                _getSpecificDataSourceOption: function() {\r\n                    var dataSource = this.option(\"dataSource\");\r\n                    if (Array.isArray(dataSource)) {\r\n                        return {\r\n                            store: {\r\n                                type: \"array\",\r\n                                data: dataSource,\r\n                                key: this.option(\"keyExpr\")\r\n                            }\r\n                        }\r\n                    }\r\n                    return dataSource\r\n                },\r\n                _initDataSource: function() {\r\n                    var that = this;\r\n                    var dataSource = this.option(\"dataSource\");\r\n                    var oldDataSource = this._dataSource;\r\n                    that.callBase();\r\n                    dataSource = that._dataSource;\r\n                    that._useSortingGroupingFromColumns = true;\r\n                    if (dataSource) {\r\n                        that._setPagingOptions(dataSource);\r\n                        that.setDataSource(dataSource)\r\n                    } else {\r\n                        if (oldDataSource) {\r\n                            that.updateItems()\r\n                        }\r\n                    }\r\n                },\r\n                _loadDataSource: function() {\r\n                    var that = this;\r\n                    var dataSource = that._dataSource;\r\n                    var result = new _deferred.Deferred;\r\n                    (0, _deferred.when)(this._columnsController.refresh(true)).always(function() {\r\n                        if (dataSource) {\r\n                            dataSource.load().done(result.resolve).fail(result.reject)\r\n                        } else {\r\n                            result.resolve()\r\n                        }\r\n                    });\r\n                    return result.promise()\r\n                },\r\n                _beforeProcessItems: function(items) {\r\n                    return items.slice(0)\r\n                },\r\n                getRowIndexDelta: function() {\r\n                    return 0\r\n                },\r\n                _processItems: function(items, change) {\r\n                    var that = this;\r\n                    var rowIndexDelta = that.getRowIndexDelta();\r\n                    var changeType = change.changeType;\r\n                    var visibleColumns = that._columnsController.getVisibleColumns(null, \"loadingAll\" === changeType);\r\n                    var visibleItems = that._items;\r\n                    var lastVisibleItem = \"append\" === changeType && visibleItems.length > 0 ? visibleItems[visibleItems.length - 1] : null;\r\n                    var dataIndex = (0, _type.isDefined)(null === lastVisibleItem || void 0 === lastVisibleItem ? void 0 : lastVisibleItem.dataIndex) ? lastVisibleItem.dataIndex + 1 : 0;\r\n                    var options = {\r\n                        visibleColumns: visibleColumns,\r\n                        dataIndex: dataIndex\r\n                    };\r\n                    var result = [];\r\n                    (0, _iterator.each)(items, function(index, item) {\r\n                        if ((0, _type.isDefined)(item)) {\r\n                            options.rowIndex = index - rowIndexDelta;\r\n                            item = that._processItem(item, options);\r\n                            result.push(item)\r\n                        }\r\n                    });\r\n                    return result\r\n                },\r\n                _processItem: function(item, options) {\r\n                    item = this._generateDataItem(item, options);\r\n                    item = this._processDataItem(item, options);\r\n                    item.dataIndex = options.dataIndex++;\r\n                    return item\r\n                },\r\n                _generateDataItem: function(data) {\r\n                    return {\r\n                        rowType: \"data\",\r\n                        data: data,\r\n                        key: this.keyOf(data)\r\n                    }\r\n                },\r\n                _processDataItem: function(dataItem, options) {\r\n                    dataItem.values = this.generateDataValues(dataItem.data, options.visibleColumns);\r\n                    return dataItem\r\n                },\r\n                generateDataValues: function(data, columns, isModified) {\r\n                    var values = [];\r\n                    var value;\r\n                    for (var i = 0; i < columns.length; i++) {\r\n                        var column = columns[i];\r\n                        value = isModified ? void 0 : null;\r\n                        if (!column.command) {\r\n                            if (column.calculateCellValue) {\r\n                                value = column.calculateCellValue(data)\r\n                            } else {\r\n                                if (column.dataField) {\r\n                                    value = data[column.dataField]\r\n                                }\r\n                            }\r\n                        }\r\n                        values.push(value)\r\n                    }\r\n                    return values\r\n                },\r\n                _applyChange: function(change) {\r\n                    var that = this;\r\n                    if (\"update\" === change.changeType) {\r\n                        that._applyChangeUpdate(change)\r\n                    } else {\r\n                        if (that.items().length && change.repaintChangesOnly && \"refresh\" === change.changeType) {\r\n                            that._applyChangesOnly(change)\r\n                        } else {\r\n                            if (\"refresh\" === change.changeType) {\r\n                                that._applyChangeFull(change)\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                _applyChangeFull: function(change) {\r\n                    this._items = change.items.slice(0)\r\n                },\r\n                _getRowIndices: function(change) {\r\n                    var rowIndices = change.rowIndices.slice(0);\r\n                    var rowIndexDelta = this.getRowIndexDelta();\r\n                    rowIndices.sort(function(a, b) {\r\n                        return a - b\r\n                    });\r\n                    for (var i = 0; i < rowIndices.length; i++) {\r\n                        var correctedRowIndex = rowIndices[i];\r\n                        if (change.allowInvisibleRowIndices) {\r\n                            correctedRowIndex += rowIndexDelta\r\n                        }\r\n                        if (correctedRowIndex < 0) {\r\n                            rowIndices.splice(i, 1);\r\n                            i--\r\n                        }\r\n                    }\r\n                    return rowIndices\r\n                },\r\n                _applyChangeUpdate: function(change) {\r\n                    var that = this;\r\n                    var items = change.items;\r\n                    var rowIndices = that._getRowIndices(change);\r\n                    var rowIndexDelta = that.getRowIndexDelta();\r\n                    var repaintChangesOnly = that.option(\"repaintChangesOnly\");\r\n                    var prevIndex = -1;\r\n                    var rowIndexCorrection = 0;\r\n                    var changeType;\r\n                    change.items = [];\r\n                    change.rowIndices = [];\r\n                    change.columnIndices = [];\r\n                    change.changeTypes = [];\r\n                    var equalItems = function(item1, item2, strict) {\r\n                        var result = item1 && item2 && (0, _common.equalByValue)(item1.key, item2.key);\r\n                        if (result && strict) {\r\n                            result = item1.rowType === item2.rowType && (\"detail\" !== item2.rowType || item1.isEditing === item2.isEditing)\r\n                        }\r\n                        return result\r\n                    };\r\n                    (0, _iterator.each)(rowIndices, function(index, rowIndex) {\r\n                        var columnIndices;\r\n                        rowIndex += rowIndexCorrection + rowIndexDelta;\r\n                        if (prevIndex === rowIndex) {\r\n                            return\r\n                        }\r\n                        prevIndex = rowIndex;\r\n                        var oldItem = that._items[rowIndex];\r\n                        var oldNextItem = that._items[rowIndex + 1];\r\n                        var newItem = items[rowIndex];\r\n                        var newNextItem = items[rowIndex + 1];\r\n                        var strict = equalItems(oldItem, oldNextItem) || equalItems(newItem, newNextItem);\r\n                        if (newItem) {\r\n                            newItem.rowIndex = rowIndex;\r\n                            change.items.push(newItem)\r\n                        }\r\n                        if (oldItem && newItem && equalItems(oldItem, newItem, strict)) {\r\n                            changeType = \"update\";\r\n                            that._items[rowIndex] = newItem;\r\n                            if (oldItem.visible !== newItem.visible) {\r\n                                change.items.splice(-1, 1, {\r\n                                    visible: newItem.visible\r\n                                })\r\n                            } else {\r\n                                if (repaintChangesOnly && !change.isFullUpdate) {\r\n                                    columnIndices = that._partialUpdateRow(oldItem, newItem, rowIndex - rowIndexDelta)\r\n                                }\r\n                            }\r\n                        } else {\r\n                            if (newItem && !oldItem || newNextItem && equalItems(oldItem, newNextItem, strict)) {\r\n                                changeType = \"insert\";\r\n                                that._items.splice(rowIndex, 0, newItem);\r\n                                rowIndexCorrection++\r\n                            } else {\r\n                                if (oldItem && !newItem || oldNextItem && equalItems(newItem, oldNextItem, strict)) {\r\n                                    changeType = \"remove\";\r\n                                    that._items.splice(rowIndex, 1);\r\n                                    rowIndexCorrection--;\r\n                                    prevIndex = -1\r\n                                } else {\r\n                                    if (newItem) {\r\n                                        changeType = \"update\";\r\n                                        that._items[rowIndex] = newItem\r\n                                    } else {\r\n                                        return\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        change.rowIndices.push(rowIndex - rowIndexDelta);\r\n                        change.changeTypes.push(changeType);\r\n                        change.columnIndices.push(columnIndices)\r\n                    })\r\n                },\r\n                _isCellChanged: function(oldRow, newRow, visibleRowIndex, columnIndex, isLiveUpdate) {\r\n                    if (JSON.stringify(oldRow.values[columnIndex]) !== JSON.stringify(newRow.values[columnIndex])) {\r\n                        return true\r\n                    }\r\n\r\n                    function isCellModified(row, columnIndex) {\r\n                        return row.modifiedValues ? void 0 !== row.modifiedValues[columnIndex] : false\r\n                    }\r\n                    if (isCellModified(oldRow, columnIndex) !== isCellModified(newRow, columnIndex)) {\r\n                        return true\r\n                    }\r\n                    return false\r\n                },\r\n                _getChangedColumnIndices: function(oldItem, newItem, visibleRowIndex, isLiveUpdate) {\r\n                    if (oldItem.rowType === newItem.rowType && \"group\" !== newItem.rowType && \"groupFooter\" !== newItem.rowType) {\r\n                        var columnIndices = [];\r\n                        if (\"detail\" !== newItem.rowType) {\r\n                            for (var columnIndex = 0; columnIndex < oldItem.values.length; columnIndex++) {\r\n                                if (this._isCellChanged(oldItem, newItem, visibleRowIndex, columnIndex, isLiveUpdate)) {\r\n                                    columnIndices.push(columnIndex)\r\n                                }\r\n                            }\r\n                        }\r\n                        return columnIndices\r\n                    }\r\n                },\r\n                _partialUpdateRow: function(oldItem, newItem, visibleRowIndex, isLiveUpdate) {\r\n                    var changedColumnIndices = this._getChangedColumnIndices(oldItem, newItem, visibleRowIndex, isLiveUpdate);\r\n                    if (changedColumnIndices) {\r\n                        oldItem.cells && oldItem.cells.forEach(function(cell, columnIndex) {\r\n                            var isCellChanged = changedColumnIndices.indexOf(columnIndex) >= 0;\r\n                            if (!isCellChanged && cell && cell.update) {\r\n                                cell.update(newItem)\r\n                            }\r\n                        });\r\n                        newItem.update = oldItem.update;\r\n                        newItem.watch = oldItem.watch;\r\n                        newItem.cells = oldItem.cells;\r\n                        if (isLiveUpdate) {\r\n                            newItem.oldValues = oldItem.values\r\n                        }\r\n                        oldItem.update && oldItem.update(newItem)\r\n                    }\r\n                    return changedColumnIndices\r\n                },\r\n                _isItemEquals: function(item1, item2) {\r\n                    if (JSON.stringify(item1.values) !== JSON.stringify(item2.values)) {\r\n                        return false\r\n                    }\r\n                    var compareFields = [\"modified\", \"isNewRow\", \"removed\", \"isEditing\"];\r\n                    if (compareFields.some(function(field) {\r\n                            return item1[field] !== item2[field]\r\n                        })) {\r\n                        return false\r\n                    }\r\n                    if (\"group\" === item1.rowType || \"groupFooter\" === item1.rowType) {\r\n                        var _item1$data, _item2$data, _item1$data2, _item2$data2;\r\n                        var expandedMatch = item1.isExpanded === item2.isExpanded;\r\n                        var summaryCellsMatch = JSON.stringify(item1.summaryCells) === JSON.stringify(item2.summaryCells);\r\n                        var continuationMatch = (null === (_item1$data = item1.data) || void 0 === _item1$data ? void 0 : _item1$data.isContinuation) === (null === (_item2$data = item2.data) || void 0 === _item2$data ? void 0 : _item2$data.isContinuation) && (null === (_item1$data2 = item1.data) || void 0 === _item1$data2 ? void 0 : _item1$data2.isContinuationOnNextPage) === (null === (_item2$data2 = item2.data) || void 0 === _item2$data2 ? void 0 : _item2$data2.isContinuationOnNextPage);\r\n                        if (!expandedMatch || !summaryCellsMatch || !continuationMatch) {\r\n                            return false\r\n                        }\r\n                    }\r\n                    return true\r\n                },\r\n                _applyChangesOnly: function(change) {\r\n                    var _this2 = this;\r\n                    var rowIndices = [];\r\n                    var columnIndices = [];\r\n                    var changeTypes = [];\r\n                    var items = [];\r\n                    var newIndexByKey = {};\r\n\r\n                    function getRowKey(row) {\r\n                        if (row) {\r\n                            return row.rowType + \",\" + JSON.stringify(row.key)\r\n                        }\r\n                    }\r\n                    var isItemEquals = function(item1, item2) {\r\n                        if (!_this2._isItemEquals(item1, item2)) {\r\n                            return false\r\n                        }\r\n                        if (item1.cells) {\r\n                            item1.update && item1.update(item2);\r\n                            item1.cells.forEach(function(cell) {\r\n                                if (cell && cell.update) {\r\n                                    cell.update(item2)\r\n                                }\r\n                            })\r\n                        }\r\n                        return true\r\n                    };\r\n                    var oldItems = this._items.slice();\r\n                    change.items.forEach(function(item, index) {\r\n                        var key = getRowKey(item);\r\n                        newIndexByKey[key] = index;\r\n                        item.rowIndex = index\r\n                    });\r\n                    var result = (0, _array_compare.findChanges)(oldItems, change.items, getRowKey, isItemEquals);\r\n                    if (!result) {\r\n                        this._applyChangeFull(change);\r\n                        return\r\n                    }\r\n                    result.forEach(function(change) {\r\n                        switch (change.type) {\r\n                            case \"update\":\r\n                                var index = change.index;\r\n                                var newItem = change.data;\r\n                                var oldItem = change.oldItem;\r\n                                var changedColumnIndices = _this2._partialUpdateRow(oldItem, newItem, index, true);\r\n                                rowIndices.push(index);\r\n                                changeTypes.push(\"update\");\r\n                                items.push(newItem);\r\n                                _this2._items[index] = newItem;\r\n                                columnIndices.push(changedColumnIndices);\r\n                                break;\r\n                            case \"insert\":\r\n                                rowIndices.push(change.index);\r\n                                changeTypes.push(\"insert\");\r\n                                items.push(change.data);\r\n                                columnIndices.push(void 0);\r\n                                _this2._items.splice(change.index, 0, change.data);\r\n                                break;\r\n                            case \"remove\":\r\n                                rowIndices.push(change.index);\r\n                                changeTypes.push(\"remove\");\r\n                                _this2._items.splice(change.index, 1);\r\n                                items.push(change.oldItem);\r\n                                columnIndices.push(void 0)\r\n                        }\r\n                    });\r\n                    change.repaintChangesOnly = true;\r\n                    change.changeType = \"update\";\r\n                    change.rowIndices = rowIndices;\r\n                    change.columnIndices = columnIndices;\r\n                    change.changeTypes = changeTypes;\r\n                    change.items = items;\r\n                    if (oldItems.length) {\r\n                        change.isLiveUpdate = true\r\n                    }\r\n                    this._correctRowIndices(function(rowIndex) {\r\n                        var oldItem = oldItems[rowIndex];\r\n                        var key = getRowKey(oldItem);\r\n                        var newRowIndex = newIndexByKey[key];\r\n                        return newRowIndex >= 0 ? newRowIndex - rowIndex : 0\r\n                    })\r\n                },\r\n                _correctRowIndices: _common.noop,\r\n                _updateItemsCore: function(change) {\r\n                    var that = this;\r\n                    var items;\r\n                    var dataSource = that._dataSource;\r\n                    var changeType = change.changeType || \"refresh\";\r\n                    change.changeType = changeType;\r\n                    if (dataSource) {\r\n                        items = change.items || dataSource.items();\r\n                        items = that._beforeProcessItems(items);\r\n                        items = that._processItems(items, change);\r\n                        change.items = items;\r\n                        var oldItems = that._items.length === items.length && that._items;\r\n                        that._applyChange(change);\r\n                        var rowIndexDelta = that.getRowIndexDelta();\r\n                        (0, _iterator.each)(that._items, function(index, item) {\r\n                            item.rowIndex = index - rowIndexDelta;\r\n                            if (oldItems) {\r\n                                item.cells = oldItems[index].cells || []\r\n                            }\r\n                        })\r\n                    } else {\r\n                        that._items = []\r\n                    }\r\n                },\r\n                _handleChanging: function(e) {\r\n                    var that = this;\r\n                    var rows = that.getVisibleRows();\r\n                    var dataSource = that.dataSource();\r\n                    if (dataSource) {\r\n                        e.changes.forEach(function(change) {\r\n                            if (\"insert\" === change.type && change.index >= 0) {\r\n                                var dataIndex = 0;\r\n                                for (var i = 0; i < change.index; i++) {\r\n                                    var row = rows[i];\r\n                                    if (row && (\"data\" === row.rowType || \"group\" === row.rowType)) {\r\n                                        dataIndex++\r\n                                    }\r\n                                }\r\n                                change.index = dataIndex\r\n                            }\r\n                        })\r\n                    }\r\n                },\r\n                updateItems: function(change, isDataChanged) {\r\n                    change = change || {};\r\n                    var that = this;\r\n                    if (void 0 !== that._repaintChangesOnly) {\r\n                        change.repaintChangesOnly = that._repaintChangesOnly\r\n                    } else {\r\n                        if (change.changes) {\r\n                            change.repaintChangesOnly = that.option(\"repaintChangesOnly\")\r\n                        } else {\r\n                            if (isDataChanged) {\r\n                                var operationTypes = that.dataSource().operationTypes();\r\n                                change.repaintChangesOnly = operationTypes && !operationTypes.grouping && !operationTypes.filtering && that.option(\"repaintChangesOnly\");\r\n                                change.isDataChanged = true;\r\n                                if (operationTypes && (operationTypes.reload || operationTypes.paging || operationTypes.groupExpanding)) {\r\n                                    change.needUpdateDimensions = true\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    if (that._updateLockCount) {\r\n                        that._changes.push(change);\r\n                        return\r\n                    }\r\n                    that._updateItemsCore(change);\r\n                    if (change.cancel) {\r\n                        return\r\n                    }\r\n                    that._fireChanged(change)\r\n                },\r\n                loadingOperationTypes: function() {\r\n                    var dataSource = this.dataSource();\r\n                    return dataSource && dataSource.loadingOperationTypes() || {}\r\n                },\r\n                _fireChanged: function(change) {\r\n                    var _this3 = this;\r\n                    if (this._currentOperationTypes) {\r\n                        change.operationTypes = this._currentOperationTypes;\r\n                        this._currentOperationTypes = null\r\n                    }(0, _common.deferRender)(function() {\r\n                        _this3.changed.fire(change)\r\n                    })\r\n                },\r\n                isLoading: function() {\r\n                    return this._isLoading || this._isCustomLoading\r\n                },\r\n                _fireLoadingChanged: function() {\r\n                    this.loadingChanged.fire(this.isLoading(), this._loadingText)\r\n                },\r\n                _calculateAdditionalFilter: function() {\r\n                    return null\r\n                },\r\n                _applyFilter: function() {\r\n                    var that = this;\r\n                    var dataSource = that._dataSource;\r\n                    if (dataSource) {\r\n                        dataSource.pageIndex(0);\r\n                        return that.reload().done(that.pageChanged.fire.bind(that.pageChanged))\r\n                    }\r\n                },\r\n                filter: function filter(filterExpr) {\r\n                    var dataSource = this._dataSource;\r\n                    var filter = dataSource && dataSource.filter();\r\n                    if (0 === arguments.length) {\r\n                        return filter\r\n                    }\r\n                    filterExpr = arguments.length > 1 ? Array.prototype.slice.call(arguments, 0) : filterExpr;\r\n                    if (_uiGrid_core2.default.equalFilterParameters(filter, filterExpr)) {\r\n                        return\r\n                    }\r\n                    if (dataSource) {\r\n                        dataSource.filter(filterExpr)\r\n                    }\r\n                    this._applyFilter()\r\n                },\r\n                clearFilter: function(filterName) {\r\n                    var that = this;\r\n                    var columnsController = that._columnsController;\r\n                    var clearColumnOption = function(optionName) {\r\n                        var columnCount = columnsController.columnCount();\r\n                        for (var index = 0; index < columnCount; index++) {\r\n                            columnsController.columnOption(index, optionName, void 0)\r\n                        }\r\n                    };\r\n                    that.component.beginUpdate();\r\n                    if (arguments.length > 0) {\r\n                        switch (filterName) {\r\n                            case \"dataSource\":\r\n                                that.filter(null);\r\n                                break;\r\n                            case \"search\":\r\n                                that.searchByText(\"\");\r\n                                break;\r\n                            case \"header\":\r\n                                clearColumnOption(\"filterValues\");\r\n                                break;\r\n                            case \"row\":\r\n                                clearColumnOption(\"filterValue\")\r\n                        }\r\n                    } else {\r\n                        that.filter(null);\r\n                        that.searchByText(\"\");\r\n                        clearColumnOption(\"filterValue\");\r\n                        clearColumnOption(\"bufferedFilterValue\");\r\n                        clearColumnOption(\"filterValues\")\r\n                    }\r\n                    that.component.endUpdate()\r\n                },\r\n                _fireDataSourceChanged: function() {\r\n                    var that = this;\r\n                    var changedHandler = function changedHandler() {\r\n                        that.changed.remove(changedHandler);\r\n                        that.dataSourceChanged.fire()\r\n                    };\r\n                    that.changed.add(changedHandler)\r\n                },\r\n                _getDataSourceAdapter: _common.noop,\r\n                _createDataSourceAdapterCore: function(dataSource, remoteOperations) {\r\n                    var dataSourceAdapterProvider = this._getDataSourceAdapter();\r\n                    var dataSourceAdapter = dataSourceAdapterProvider.create(this.component);\r\n                    dataSourceAdapter.init(dataSource, remoteOperations);\r\n                    return dataSourceAdapter\r\n                },\r\n                isLocalStore: function(store) {\r\n                    store = store || this.store();\r\n                    return store instanceof _array_store.default\r\n                },\r\n                isCustomStore: function(store) {\r\n                    store = store || this.store();\r\n                    return store instanceof _custom_store.default\r\n                },\r\n                _createDataSourceAdapter: function(dataSource) {\r\n                    var remoteOperations = this.option(\"remoteOperations\");\r\n                    var store = dataSource.store();\r\n                    var enabledRemoteOperations = {\r\n                        filtering: true,\r\n                        sorting: true,\r\n                        paging: true,\r\n                        grouping: true,\r\n                        summary: true\r\n                    };\r\n                    if (remoteOperations && remoteOperations.groupPaging) {\r\n                        remoteOperations = (0, _extend.extend)({}, enabledRemoteOperations, remoteOperations)\r\n                    }\r\n                    if (\"auto\" === remoteOperations) {\r\n                        remoteOperations = this.isLocalStore(store) || this.isCustomStore(store) ? {} : {\r\n                            filtering: true,\r\n                            sorting: true,\r\n                            paging: true\r\n                        }\r\n                    }\r\n                    if (true === remoteOperations) {\r\n                        remoteOperations = enabledRemoteOperations\r\n                    }\r\n                    return this._createDataSourceAdapterCore(dataSource, remoteOperations)\r\n                },\r\n                setDataSource: function(dataSource) {\r\n                    var that = this;\r\n                    var oldDataSource = that._dataSource;\r\n                    if (!dataSource && oldDataSource) {\r\n                        oldDataSource.cancelAll();\r\n                        oldDataSource.changed.remove(that._dataChangedHandler);\r\n                        oldDataSource.loadingChanged.remove(that._loadingChangedHandler);\r\n                        oldDataSource.loadError.remove(that._loadErrorHandler);\r\n                        oldDataSource.customizeStoreLoadOptions.remove(that._customizeStoreLoadOptionsHandler);\r\n                        oldDataSource.changing.remove(that._changingHandler);\r\n                        oldDataSource.dispose(that._isSharedDataSource)\r\n                    }\r\n                    if (dataSource) {\r\n                        dataSource = that._createDataSourceAdapter(dataSource)\r\n                    }\r\n                    that._dataSource = dataSource;\r\n                    if (dataSource) {\r\n                        that._fireDataSourceChanged();\r\n                        that._isLoading = !dataSource.isLoaded();\r\n                        that._needApplyFilter = true;\r\n                        that._isAllDataTypesDefined = that._columnsController.isAllDataTypesDefined();\r\n                        dataSource.changed.add(that._dataChangedHandler);\r\n                        dataSource.loadingChanged.add(that._loadingChangedHandler);\r\n                        dataSource.loadError.add(that._loadErrorHandler);\r\n                        dataSource.customizeStoreLoadOptions.add(that._customizeStoreLoadOptionsHandler);\r\n                        dataSource.changing.add(that._changingHandler)\r\n                    }\r\n                },\r\n                items: function() {\r\n                    return this._items\r\n                },\r\n                isEmpty: function() {\r\n                    return !this.items().length\r\n                },\r\n                pageCount: function() {\r\n                    return this._dataSource ? this._dataSource.pageCount() : 1\r\n                },\r\n                dataSource: function() {\r\n                    return this._dataSource\r\n                },\r\n                store: function() {\r\n                    var dataSource = this._dataSource;\r\n                    return dataSource && dataSource.store()\r\n                },\r\n                loadAll: function(data) {\r\n                    var that = this;\r\n                    var d = new _deferred.Deferred;\r\n                    var dataSource = that._dataSource;\r\n                    if (dataSource) {\r\n                        if (data) {\r\n                            var options = {\r\n                                data: data,\r\n                                isCustomLoading: true,\r\n                                storeLoadOptions: {\r\n                                    isLoadingAll: true\r\n                                },\r\n                                loadOptions: {\r\n                                    filter: that.getCombinedFilter(),\r\n                                    group: dataSource.group(),\r\n                                    sort: dataSource.sort()\r\n                                }\r\n                            };\r\n                            dataSource._handleDataLoaded(options);\r\n                            (0, _deferred.when)(options.data).done(function(data) {\r\n                                data = that._beforeProcessItems(data);\r\n                                d.resolve(that._processItems(data, {\r\n                                    changeType: \"loadingAll\"\r\n                                }), options.extra && options.extra.summary)\r\n                            }).fail(d.reject)\r\n                        } else {\r\n                            if (!dataSource.isLoading()) {\r\n                                var loadOptions = (0, _extend.extend)({}, dataSource.loadOptions(), {\r\n                                    isLoadingAll: true,\r\n                                    requireTotalCount: false\r\n                                });\r\n                                dataSource.load(loadOptions).done(function(items, extra) {\r\n                                    items = that._beforeProcessItems(items);\r\n                                    items = that._processItems(items, {\r\n                                        changeType: \"loadingAll\"\r\n                                    });\r\n                                    d.resolve(items, extra && extra.summary)\r\n                                }).fail(d.reject)\r\n                            } else {\r\n                                d.reject()\r\n                            }\r\n                        }\r\n                    } else {\r\n                        d.resolve([])\r\n                    }\r\n                    return d\r\n                },\r\n                getKeyByRowIndex: function(rowIndex) {\r\n                    var item = this.items()[rowIndex];\r\n                    if (item) {\r\n                        return item.key\r\n                    }\r\n                },\r\n                getRowIndexByKey: function(key) {\r\n                    return _uiGrid_core2.default.getIndexByKey(key, this.items())\r\n                },\r\n                keyOf: function(data) {\r\n                    var store = this.store();\r\n                    if (store) {\r\n                        return store.keyOf(data)\r\n                    }\r\n                },\r\n                byKey: function(key) {\r\n                    var store = this.store();\r\n                    var rowIndex = this.getRowIndexByKey(key);\r\n                    var result;\r\n                    if (!store) {\r\n                        return\r\n                    }\r\n                    if (rowIndex >= 0) {\r\n                        result = (new _deferred.Deferred).resolve(this.items()[rowIndex].data)\r\n                    }\r\n                    return result || store.byKey(key)\r\n                },\r\n                key: function() {\r\n                    var store = this.store();\r\n                    if (store) {\r\n                        return store.key()\r\n                    }\r\n                },\r\n                getRowIndexOffset: function() {\r\n                    return 0\r\n                },\r\n                getDataByKeys: function(rowKeys) {\r\n                    var that = this;\r\n                    var result = new _deferred.Deferred;\r\n                    var deferreds = [];\r\n                    var data = [];\r\n                    (0, _iterator.each)(rowKeys, function(index, key) {\r\n                        deferreds.push(that.byKey(key).done(function(keyData) {\r\n                            data[index] = keyData\r\n                        }))\r\n                    });\r\n                    _deferred.when.apply(_renderer.default, deferreds).always(function() {\r\n                        result.resolve(data)\r\n                    });\r\n                    return result\r\n                },\r\n                pageIndex: function(value) {\r\n                    return changePaging(this, \"pageIndex\", value)\r\n                },\r\n                pageSize: function(value) {\r\n                    return changePaging(this, \"pageSize\", value)\r\n                },\r\n                beginCustomLoading: function(messageText) {\r\n                    this._isCustomLoading = true;\r\n                    this._loadingText = messageText || \"\";\r\n                    this._fireLoadingChanged()\r\n                },\r\n                endCustomLoading: function() {\r\n                    this._isCustomLoading = false;\r\n                    this._loadingText = void 0;\r\n                    this._fireLoadingChanged()\r\n                },\r\n                refresh: function(options) {\r\n                    if (true === options) {\r\n                        options = {\r\n                            reload: true,\r\n                            changesOnly: true\r\n                        }\r\n                    } else {\r\n                        if (!options) {\r\n                            options = {\r\n                                lookup: true,\r\n                                selection: true,\r\n                                reload: true\r\n                            }\r\n                        }\r\n                    }\r\n                    var that = this;\r\n                    var dataSource = that.getDataSource();\r\n                    var changesOnly = options.changesOnly;\r\n                    var d = new _deferred.Deferred;\r\n                    var customizeLoadResult = function() {\r\n                        that._repaintChangesOnly = !!changesOnly\r\n                    };\r\n                    (0, _deferred.when)(!options.lookup || that._columnsController.refresh()).always(function() {\r\n                        if (options.load || options.reload) {\r\n                            dataSource && dataSource.on(\"customizeLoadResult\", customizeLoadResult);\r\n                            (0, _deferred.when)(that.reload(options.reload, changesOnly)).always(function() {\r\n                                dataSource && dataSource.off(\"customizeLoadResult\", customizeLoadResult);\r\n                                that._repaintChangesOnly = void 0\r\n                            }).done(d.resolve).fail(d.reject)\r\n                        } else {\r\n                            that.updateItems({\r\n                                repaintChangesOnly: options.changesOnly\r\n                            });\r\n                            d.resolve()\r\n                        }\r\n                    });\r\n                    return d.promise()\r\n                },\r\n                getVisibleRows: function() {\r\n                    return this.items()\r\n                },\r\n                _disposeDataSource: function() {\r\n                    this.setDataSource(null)\r\n                },\r\n                dispose: function() {\r\n                    this._disposeDataSource();\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                repaintRows: function(rowIndexes, changesOnly) {\r\n                    rowIndexes = Array.isArray(rowIndexes) ? rowIndexes : [rowIndexes];\r\n                    if (rowIndexes.length > 1 || (0, _type.isDefined)(rowIndexes[0])) {\r\n                        this.updateItems({\r\n                            changeType: \"update\",\r\n                            rowIndices: rowIndexes,\r\n                            isFullUpdate: !changesOnly\r\n                        })\r\n                    }\r\n                },\r\n                skipProcessingPagingChange: function(fullName) {\r\n                    return this._skipProcessingPagingChange && (\"paging.pageIndex\" === fullName || \"paging.pageSize\" === fullName)\r\n                },\r\n                getUserState: function() {\r\n                    return {\r\n                        searchText: this.option(\"searchPanel.text\"),\r\n                        pageIndex: this.pageIndex(),\r\n                        pageSize: this.pageSize()\r\n                    }\r\n                },\r\n                getCachedStoreData: function() {\r\n                    return this._dataSource && this._dataSource.getCachedStoreData()\r\n                }\r\n            };\r\n            _uiGrid_core2.default.proxyMethod(members, \"load\");\r\n            _uiGrid_core2.default.proxyMethod(members, \"reload\");\r\n            _uiGrid_core2.default.proxyMethod(members, \"push\");\r\n            _uiGrid_core2.default.proxyMethod(members, \"itemsCount\", 0);\r\n            _uiGrid_core2.default.proxyMethod(members, \"totalItemsCount\", 0);\r\n            _uiGrid_core2.default.proxyMethod(members, \"hasKnownLastPage\", true);\r\n            _uiGrid_core2.default.proxyMethod(members, \"isLoaded\", true);\r\n            _uiGrid_core2.default.proxyMethod(members, \"totalCount\", 0);\r\n            return members\r\n        }())\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.sorting.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.sorting\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"sorting\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.sorting.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _click = require(\"../../events/click\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.sorting_mixin\"));\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _index = require(\"../../events/utils/index\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar COLUMN_HEADERS_VIEW_NAMESPACE = \"dxDataGridColumnHeadersView\";\r\nvar ColumnHeadersViewSortingExtender = (0, _extend.extend)({}, _uiGrid_core.default, {\r\n    _createRow: function(row) {\r\n        var _this = this;\r\n        var $row = this.callBase(row);\r\n        if (\"header\" === row.rowType) {\r\n            _events_engine.default.on($row, (0, _index.addNamespace)(_click.name, COLUMN_HEADERS_VIEW_NAMESPACE), \"td\", this.createAction(function(e) {\r\n                _this._processHeaderAction(e.event, $row)\r\n            }))\r\n        }\r\n        return $row\r\n    },\r\n    _processHeaderAction: function(event, $row) {\r\n        if ((0, _renderer.default)(event.currentTarget).parent().get(0) !== $row.get(0)) {\r\n            return\r\n        }\r\n        var that = this;\r\n        var keyName = null;\r\n        var $cellElementFromEvent = (0, _renderer.default)(event.currentTarget);\r\n        var rowIndex = $cellElementFromEvent.parent().index();\r\n        var columnIndex = -1;\r\n        [].slice.call(that.getCellElements(rowIndex)).some(function($cellElement, index) {\r\n            if ($cellElement === $cellElementFromEvent.get(0)) {\r\n                columnIndex = index;\r\n                return true\r\n            }\r\n        });\r\n        var visibleColumns = that._columnsController.getVisibleColumns(rowIndex);\r\n        var column = visibleColumns[columnIndex];\r\n        var editingController = that.getController(\"editing\");\r\n        var editingMode = that.option(\"editing.mode\");\r\n        var isCellEditing = editingController && editingController.isEditing() && (\"batch\" === editingMode || \"cell\" === editingMode);\r\n        if (isCellEditing || !that._isSortableElement((0, _renderer.default)(event.target))) {\r\n            return\r\n        }\r\n        if (column && !(0, _type.isDefined)(column.groupIndex) && !column.command) {\r\n            if (event.shiftKey) {\r\n                keyName = \"shift\"\r\n            } else {\r\n                if (event.ctrlKey) {\r\n                    keyName = \"ctrl\"\r\n                }\r\n            }\r\n            setTimeout(function() {\r\n                that._columnsController.changeSortOrder(column.index, keyName)\r\n            })\r\n        }\r\n    },\r\n    _renderCellContent: function($cell, options) {\r\n        var that = this;\r\n        var column = options.column;\r\n        if (!column.command && \"header\" === options.rowType) {\r\n            that._applyColumnState({\r\n                name: \"sort\",\r\n                rootElement: $cell,\r\n                column: column,\r\n                showColumnLines: that.option(\"showColumnLines\")\r\n            })\r\n        }\r\n        that.callBase($cell, options)\r\n    },\r\n    _columnOptionChanged: function(e) {\r\n        var changeTypes = e.changeTypes;\r\n        if (1 === changeTypes.length && changeTypes.sorting) {\r\n            this._updateIndicators(\"sort\");\r\n            return\r\n        }\r\n        this.callBase(e)\r\n    },\r\n    optionChanged: function(args) {\r\n        var that = this;\r\n        switch (args.name) {\r\n            case \"sorting\":\r\n                that._invalidate();\r\n                args.handled = true;\r\n                break;\r\n            default:\r\n                that.callBase(args)\r\n        }\r\n    }\r\n});\r\nvar HeaderPanelSortingExtender = (0, _extend.extend)({}, _uiGrid_core.default, {\r\n    _createGroupPanelItem: function($rootElement, groupColumn) {\r\n        var that = this;\r\n        var $item = that.callBase.apply(that, arguments);\r\n        _events_engine.default.on($item, (0, _index.addNamespace)(_click.name, \"dxDataGridHeaderPanel\"), that.createAction(function() {\r\n            that._processGroupItemAction(groupColumn.index)\r\n        }));\r\n        that._applyColumnState({\r\n            name: \"sort\",\r\n            rootElement: $item,\r\n            column: {\r\n                alignment: that.option(\"rtlEnabled\") ? \"right\" : \"left\",\r\n                allowSorting: groupColumn.allowSorting,\r\n                sortOrder: \"desc\" === groupColumn.sortOrder ? \"desc\" : \"asc\"\r\n            },\r\n            showColumnLines: true\r\n        });\r\n        return $item\r\n    },\r\n    _processGroupItemAction: function(groupColumnIndex) {\r\n        var _this2 = this;\r\n        setTimeout(function() {\r\n            return _this2.getController(\"columns\").changeSortOrder(groupColumnIndex)\r\n        })\r\n    },\r\n    optionChanged: function(args) {\r\n        var that = this;\r\n        switch (args.name) {\r\n            case \"sorting\":\r\n                that._invalidate();\r\n                args.handled = true;\r\n                break;\r\n            default:\r\n                that.callBase(args)\r\n        }\r\n    }\r\n});\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            sorting: {\r\n                mode: \"single\",\r\n                ascendingText: _message.default.format(\"dxDataGrid-sortingAscendingText\"),\r\n                descendingText: _message.default.format(\"dxDataGrid-sortingDescendingText\"),\r\n                clearText: _message.default.format(\"dxDataGrid-sortingClearText\"),\r\n                showSortIndexes: true\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        views: {\r\n            columnHeadersView: ColumnHeadersViewSortingExtender,\r\n            headerPanel: HeaderPanelSortingExtender\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.sorting_mixin.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar SORT_CLASS = \"dx-sort\";\r\nvar SORT_NONE_CLASS = \"dx-sort-none\";\r\nvar SORTUP_CLASS = \"dx-sort-up\";\r\nvar SORTDOWN_CLASS = \"dx-sort-down\";\r\nvar SORT_INDEX_CLASS = \"dx-sort-index\";\r\nvar SORT_INDEX_ICON_CLASS = \"dx-sort-index-icon\";\r\nvar HEADERS_ACTION_CLASS = \"action\";\r\nvar _default = {\r\n    _applyColumnState: function(options) {\r\n        var that = this;\r\n        var ariaSortState;\r\n        var $sortIndicator;\r\n        var sortingMode = that.option(\"sorting.mode\");\r\n        var rootElement = options.rootElement;\r\n        var column = options.column;\r\n        var $indicatorsContainer = that._getIndicatorContainer(rootElement);\r\n        if (\"sort\" === options.name) {\r\n            rootElement.find(\".\" + SORT_CLASS).remove();\r\n            !$indicatorsContainer.children().length && $indicatorsContainer.remove();\r\n            var isSortingAllowed = (\"single\" === sortingMode || \"multiple\" === sortingMode) && column.allowSorting;\r\n            if (!(0, _type.isDefined)(column.groupIndex) && (isSortingAllowed || (0, _type.isDefined)(column.sortOrder))) {\r\n                ariaSortState = \"asc\" === column.sortOrder ? \"ascending\" : \"descending\";\r\n                $sortIndicator = that.callBase(options).toggleClass(SORTUP_CLASS, \"asc\" === column.sortOrder).toggleClass(SORTDOWN_CLASS, \"desc\" === column.sortOrder);\r\n                var hasSeveralSortIndexes = that.getController && !!that.getController(\"columns\").columnOption(\"sortIndex:1\");\r\n                if (hasSeveralSortIndexes && that.option(\"sorting.showSortIndexes\") && column.sortIndex >= 0) {\r\n                    (0, _renderer.default)(\"<span>\").addClass(SORT_INDEX_ICON_CLASS).text(column.sortIndex + 1).appendTo($sortIndicator);\r\n                    $sortIndicator.addClass(SORT_INDEX_CLASS)\r\n                }\r\n                options.rootElement.addClass(that.addWidgetPrefix(HEADERS_ACTION_CLASS))\r\n            }\r\n            if (!(0, _type.isDefined)(column.sortOrder)) {\r\n                that.setAria(\"sort\", \"none\", rootElement)\r\n            } else {\r\n                that.setAria(\"sort\", ariaSortState, rootElement)\r\n            }\r\n            return $sortIndicator\r\n        } else {\r\n            return that.callBase(options)\r\n        }\r\n    },\r\n    _getIndicatorClassName: function(name) {\r\n        if (\"sort\" === name) {\r\n            return SORT_CLASS\r\n        } else {\r\n            if (\"sortIndex\" === name) {\r\n                return SORT_INDEX_ICON_CLASS\r\n            }\r\n        }\r\n        return this.callBase(name)\r\n    },\r\n    _renderIndicator: function(options) {\r\n        var column = options.column;\r\n        var $container = options.container;\r\n        var $indicator = options.indicator;\r\n        if (\"sort\" === options.name) {\r\n            var rtlEnabled = this.option(\"rtlEnabled\");\r\n            if (!(0, _type.isDefined)(column.sortOrder)) {\r\n                $indicator && $indicator.addClass(SORT_NONE_CLASS)\r\n            }\r\n            if ($container.children().length && (!rtlEnabled && \"left\" === options.columnAlignment || rtlEnabled && \"right\" === options.columnAlignment)) {\r\n                $container.prepend($indicator);\r\n                return\r\n            }\r\n        }\r\n        this.callBase(options)\r\n    },\r\n    _updateIndicator: function($cell, column, indicatorName) {\r\n        if (\"sort\" === indicatorName && (0, _type.isDefined)(column.groupIndex)) {\r\n            return\r\n        }\r\n        return this.callBase.apply(this, arguments)\r\n    },\r\n    _getIndicatorElements: function($cell, returnAll) {\r\n        var $indicatorElements = this.callBase($cell);\r\n        return returnAll ? $indicatorElements : $indicatorElements && $indicatorElements.not(\".\" + SORT_NONE_CLASS)\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.rows.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.RowsView = void 0;\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.rows\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar RowsView = _uiGrid_core.default.views.rowsView;\r\nexports.RowsView = RowsView;\r\n_uiData_grid.default.registerModule(\"rows\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.rows.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _style = require(\"../../core/utils/style\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _position = require(\"../../core/utils/position\");\r\nvar _string = require(\"../../core/utils/string\");\r\nvar _data = require(\"../../core/utils/data\");\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\nvar _uiGrid_core2 = require(\"./ui.grid_core.columns_view\");\r\nvar _ui = _interopRequireDefault(require(\"../scroll_view/ui.scrollable\"));\r\nvar _remove_event = _interopRequireDefault(require(\"../../core/remove_event\"));\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _browser = _interopRequireDefault(require(\"../../core/utils/browser\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar ROWS_VIEW_CLASS = \"rowsview\";\r\nvar CONTENT_CLASS = \"content\";\r\nvar NOWRAP_CLASS = \"nowrap\";\r\nvar GROUP_ROW_CLASS = \"dx-group-row\";\r\nvar GROUP_CELL_CLASS = \"dx-group-cell\";\r\nvar DATA_ROW_CLASS = \"dx-data-row\";\r\nvar FREE_SPACE_CLASS = \"dx-freespace-row\";\r\nvar ROW_LINES_CLASS = \"dx-row-lines\";\r\nvar COLUMN_LINES_CLASS = \"dx-column-lines\";\r\nvar ROW_ALTERNATION_CLASS = \"dx-row-alt\";\r\nvar LAST_ROW_BORDER = \"dx-last-row-border\";\r\nvar EMPTY_CLASS = \"dx-empty\";\r\nvar ROW_INSERTED_ANIMATION_CLASS = \"row-inserted-animation\";\r\nvar LOADPANEL_HIDE_TIMEOUT = 200;\r\n\r\nfunction getMaxHorizontalScrollOffset(scrollable) {\r\n    return scrollable ? scrollable.scrollWidth() - scrollable.clientWidth() : 0\r\n}\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            hoverStateEnabled: false,\r\n            scrolling: {\r\n                useNative: \"auto\"\r\n            },\r\n            loadPanel: {\r\n                enabled: \"auto\",\r\n                text: _message.default.format(\"Loading\"),\r\n                width: 200,\r\n                height: 90,\r\n                showIndicator: true,\r\n                indicatorSrc: \"\",\r\n                showPane: true\r\n            },\r\n            rowTemplate: null,\r\n            columnAutoWidth: false,\r\n            noDataText: _message.default.format(\"dxDataGrid-noDataText\"),\r\n            wordWrapEnabled: false,\r\n            showColumnLines: true,\r\n            showRowLines: false,\r\n            rowAlternationEnabled: false,\r\n            activeStateEnabled: false,\r\n            twoWayBindingEnabled: true\r\n        }\r\n    },\r\n    views: {\r\n        rowsView: _uiGrid_core2.ColumnsView.inherit(function() {\r\n            var defaultCellTemplate = function($container, options) {\r\n                var isDataTextEmpty = (0, _string.isEmpty)(options.text) && \"data\" === options.rowType;\r\n                var text = options.text;\r\n                var container = $container.get(0);\r\n                if (isDataTextEmpty) {\r\n                    _uiGrid_core.default.setEmptyText($container)\r\n                } else {\r\n                    if (options.column.encodeHtml) {\r\n                        container.textContent = text\r\n                    } else {\r\n                        container.innerHTML = text\r\n                    }\r\n                }\r\n            };\r\n            var getScrollableBottomPadding = function(that) {\r\n                var scrollable = that.getScrollable();\r\n                return scrollable ? Math.ceil(parseFloat(scrollable.$content().css(\"paddingBottom\"))) : 0\r\n            };\r\n            return {\r\n                _getDefaultTemplate: function(column) {\r\n                    switch (column.command) {\r\n                        case \"empty\":\r\n                            return function(container) {\r\n                                container.html(\"&nbsp;\")\r\n                            };\r\n                        default:\r\n                            return defaultCellTemplate\r\n                    }\r\n                },\r\n                _getDefaultGroupTemplate: function(column) {\r\n                    var that = this;\r\n                    var summaryTexts = that.option(\"summary.texts\");\r\n                    return function($container, options) {\r\n                        var data = options.data;\r\n                        var text = options.column.caption + \": \" + options.text;\r\n                        var container = $container.get(0);\r\n                        if (options.summaryItems && options.summaryItems.length) {\r\n                            text += \" \" + _uiGrid_core.default.getGroupRowSummaryText(options.summaryItems, summaryTexts)\r\n                        }\r\n                        if (data) {\r\n                            if (options.groupContinuedMessage && options.groupContinuesMessage) {\r\n                                text += \" (\" + options.groupContinuedMessage + \". \" + options.groupContinuesMessage + \")\"\r\n                            } else {\r\n                                if (options.groupContinuesMessage) {\r\n                                    text += \" (\" + options.groupContinuesMessage + \")\"\r\n                                } else {\r\n                                    if (options.groupContinuedMessage) {\r\n                                        text += \" (\" + options.groupContinuedMessage + \")\"\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        $container.addClass(GROUP_CELL_CLASS);\r\n                        if (column.encodeHtml) {\r\n                            container.textContent = text\r\n                        } else {\r\n                            container.innerHTML = text\r\n                        }\r\n                    }\r\n                },\r\n                _update: function() {},\r\n                _getCellTemplate: function(options) {\r\n                    var that = this;\r\n                    var column = options.column;\r\n                    var template;\r\n                    if (\"group\" === options.rowType && (0, _type.isDefined)(column.groupIndex) && !column.showWhenGrouped && !column.command) {\r\n                        template = column.groupCellTemplate || {\r\n                            allowRenderToDetachedContainer: true,\r\n                            render: that._getDefaultGroupTemplate(column)\r\n                        }\r\n                    } else {\r\n                        if ((\"data\" === options.rowType || column.command) && column.cellTemplate) {\r\n                            template = column.cellTemplate\r\n                        } else {\r\n                            template = {\r\n                                allowRenderToDetachedContainer: true,\r\n                                render: that._getDefaultTemplate(column)\r\n                            }\r\n                        }\r\n                    }\r\n                    return template\r\n                },\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase(row);\r\n                    if (row) {\r\n                        var isGroup = \"group\" === row.rowType;\r\n                        var isDataRow = \"data\" === row.rowType;\r\n                        isDataRow && $row.addClass(DATA_ROW_CLASS);\r\n                        isDataRow && this.option(\"showRowLines\") && $row.addClass(ROW_LINES_CLASS);\r\n                        this.option(\"showColumnLines\") && $row.addClass(COLUMN_LINES_CLASS);\r\n                        if (false === row.visible) {\r\n                            $row.hide()\r\n                        }\r\n                        if (isGroup) {\r\n                            $row.addClass(GROUP_ROW_CLASS);\r\n                            var isRowExpanded = row.isExpanded;\r\n                            this.setAria(\"role\", \"row\", $row);\r\n                            this.setAria(\"expanded\", (0, _type.isDefined)(isRowExpanded) && isRowExpanded.toString(), $row)\r\n                        }\r\n                    }\r\n                    return $row\r\n                },\r\n                _rowPrepared: function($row, rowOptions, row) {\r\n                    var _this = this;\r\n                    if (\"data\" === rowOptions.rowType) {\r\n                        if (this.option(\"rowAlternationEnabled\")) {\r\n                            this._isAltRow(row) && $row.addClass(ROW_ALTERNATION_CLASS);\r\n                            rowOptions.watch && rowOptions.watch(function() {\r\n                                return _this._isAltRow(row)\r\n                            }, function(value) {\r\n                                $row.toggleClass(ROW_ALTERNATION_CLASS, value)\r\n                            })\r\n                        }\r\n                        this._setAriaRowIndex(rowOptions, $row);\r\n                        rowOptions.watch && rowOptions.watch(function() {\r\n                            return rowOptions.rowIndex\r\n                        }, function() {\r\n                            return _this._setAriaRowIndex(rowOptions, $row)\r\n                        })\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _setAriaRowIndex: function(row, $row) {\r\n                    var component = this.component;\r\n                    var isPagerMode = \"standard\" === component.option(\"scrolling.mode\") && \"virtual\" !== component.option(\"scrolling.rowRenderingMode\");\r\n                    var rowIndex = row.rowIndex + 1;\r\n                    if (isPagerMode) {\r\n                        rowIndex = component.pageIndex() * component.pageSize() + rowIndex\r\n                    } else {\r\n                        rowIndex += this._dataController.getRowIndexOffset()\r\n                    }\r\n                    this.setAria(\"rowindex\", rowIndex, $row)\r\n                },\r\n                _afterRowPrepared: function(e) {\r\n                    var _this2 = this;\r\n                    var arg = e.args[0];\r\n                    var dataController = this._dataController;\r\n                    var row = dataController.getVisibleRows()[arg.rowIndex];\r\n                    var watch = this.option(\"integrationOptions.watchMethod\");\r\n                    if (!arg.data || \"data\" !== arg.rowType || arg.isNewRow || !this.option(\"twoWayBindingEnabled\") || !watch || !row) {\r\n                        return\r\n                    }\r\n                    var dispose = watch(function() {\r\n                        return dataController.generateDataValues(arg.data, arg.columns)\r\n                    }, function() {\r\n                        dataController.repaintRows([row.rowIndex], _this2.option(\"repaintChangesOnly\"))\r\n                    }, {\r\n                        deep: true,\r\n                        skipImmediate: true\r\n                    });\r\n                    _events_engine.default.on(arg.rowElement, _remove_event.default, dispose)\r\n                },\r\n                _renderScrollable: function(force) {\r\n                    var that = this;\r\n                    var $element = that.element();\r\n                    if (!$element.children().length) {\r\n                        $element.append(\"<div>\")\r\n                    }\r\n                    if (force || !that._loadPanel) {\r\n                        that._renderLoadPanel($element, $element.parent(), that._dataController.isLocalStore())\r\n                    }\r\n                    if ((force || !that.getScrollable()) && that._dataController.isLoaded()) {\r\n                        var columns = that.getColumns();\r\n                        var allColumnsHasWidth = true;\r\n                        for (var i = 0; i < columns.length; i++) {\r\n                            if (!columns[i].width && !columns[i].minWidth) {\r\n                                allColumnsHasWidth = false;\r\n                                break\r\n                            }\r\n                        }\r\n                        if (that.option(\"columnAutoWidth\") || that._hasHeight || allColumnsHasWidth || that._columnsController._isColumnFixing()) {\r\n                            that._renderScrollableCore($element)\r\n                        }\r\n                    }\r\n                },\r\n                _handleScroll: function(e) {\r\n                    var that = this;\r\n                    var rtlEnabled = that.option(\"rtlEnabled\");\r\n                    that._isScrollByEvent = !!e.event;\r\n                    that._scrollTop = e.scrollOffset.top;\r\n                    that._scrollLeft = e.scrollOffset.left;\r\n                    if (rtlEnabled) {\r\n                        this._scrollRight = getMaxHorizontalScrollOffset(e.component) - this._scrollLeft\r\n                    }\r\n                    that.scrollChanged.fire(e.scrollOffset, that.name)\r\n                },\r\n                _renderScrollableCore: function($element) {\r\n                    var that = this;\r\n                    var dxScrollableOptions = that._createScrollableOptions();\r\n                    var scrollHandler = that._handleScroll.bind(that);\r\n                    dxScrollableOptions.onScroll = scrollHandler;\r\n                    dxScrollableOptions.onStop = scrollHandler;\r\n                    that._scrollable = that._createComponent($element, _ui.default, dxScrollableOptions);\r\n                    that._scrollableContainer = that._scrollable && that._scrollable._$container\r\n                },\r\n                _renderLoadPanel: _uiGrid_core.default.renderLoadPanel,\r\n                _renderContent: function(contentElement, tableElement) {\r\n                    contentElement.empty().append(tableElement);\r\n                    return this._findContentElement()\r\n                },\r\n                _updateContent: function(newTableElement, change) {\r\n                    var that = this;\r\n                    var tableElement = that._getTableElement();\r\n                    var contentElement = that._findContentElement();\r\n                    var changeType = change && change.changeType;\r\n                    var executors = [];\r\n                    var highlightChanges = this.option(\"highlightChanges\");\r\n                    var rowInsertedClass = this.addWidgetPrefix(ROW_INSERTED_ANIMATION_CLASS);\r\n                    switch (changeType) {\r\n                        case \"update\":\r\n                            (0, _iterator.each)(change.rowIndices, function(index, rowIndex) {\r\n                                var $newRowElement = that._getRowElements(newTableElement).eq(index);\r\n                                var changeType = change.changeTypes && change.changeTypes[index];\r\n                                var item = change.items && change.items[index];\r\n                                executors.push(function() {\r\n                                    var $rowsElement = that._getRowElements();\r\n                                    var $rowElement = $rowsElement.eq(rowIndex);\r\n                                    switch (changeType) {\r\n                                        case \"update\":\r\n                                            if (item) {\r\n                                                var columnIndices = change.columnIndices && change.columnIndices[index];\r\n                                                if ((0, _type.isDefined)(item.visible) && item.visible !== $rowElement.is(\":visible\")) {\r\n                                                    $rowElement.toggle(item.visible)\r\n                                                } else {\r\n                                                    if (columnIndices) {\r\n                                                        that._updateCells($rowElement, $newRowElement, columnIndices)\r\n                                                    } else {\r\n                                                        $rowElement.replaceWith($newRowElement)\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                            break;\r\n                                        case \"insert\":\r\n                                            if (!$rowsElement.length) {\r\n                                                if (tableElement) {\r\n                                                    var target = $newRowElement.is(\"tbody\") ? tableElement : tableElement.children(\"tbody\");\r\n                                                    $newRowElement.prependTo(target)\r\n                                                }\r\n                                            } else {\r\n                                                if ($rowElement.length) {\r\n                                                    $newRowElement.insertBefore($rowElement)\r\n                                                } else {\r\n                                                    $newRowElement.insertAfter($rowsElement.last())\r\n                                                }\r\n                                            }\r\n                                            if (highlightChanges && change.isLiveUpdate) {\r\n                                                $newRowElement.addClass(rowInsertedClass)\r\n                                            }\r\n                                            break;\r\n                                        case \"remove\":\r\n                                            $rowElement.remove()\r\n                                    }\r\n                                })\r\n                            });\r\n                            (0, _iterator.each)(executors, function() {\r\n                                this()\r\n                            });\r\n                            newTableElement.remove();\r\n                            break;\r\n                        default:\r\n                            that._setTableElement(newTableElement);\r\n                            contentElement.addClass(that.addWidgetPrefix(CONTENT_CLASS));\r\n                            that._renderContent(contentElement, newTableElement)\r\n                    }\r\n                },\r\n                _createEmptyRow: function(className, isFixed, height) {\r\n                    var that = this;\r\n                    var $cell;\r\n                    var $row = that._createRow();\r\n                    var columns = isFixed ? this.getFixedColumns() : this.getColumns();\r\n                    $row.addClass(className).toggleClass(COLUMN_LINES_CLASS, that.option(\"showColumnLines\"));\r\n                    for (var i = 0; i < columns.length; i++) {\r\n                        $cell = that._createCell({\r\n                            column: columns[i],\r\n                            rowType: \"freeSpace\",\r\n                            columnIndex: i,\r\n                            columns: columns\r\n                        });\r\n                        (0, _type.isNumeric)(height) && $cell.css(\"height\", height);\r\n                        $row.append($cell)\r\n                    }\r\n                    that.setAria(\"role\", \"presentation\", $row);\r\n                    return $row\r\n                },\r\n                _appendEmptyRow: function($table, $emptyRow, location) {\r\n                    var $tBodies = this._getBodies($table);\r\n                    var isTableContainer = !$tBodies.length || $emptyRow.is(\"tbody\");\r\n                    var $container = isTableContainer ? $table : $tBodies;\r\n                    if (\"top\" === location) {\r\n                        $container.first().prepend($emptyRow);\r\n                        if (isTableContainer) {\r\n                            var $colgroup = $container.children(\"colgroup\");\r\n                            $container.prepend($colgroup)\r\n                        }\r\n                    } else {\r\n                        $container.last().append($emptyRow)\r\n                    }\r\n                },\r\n                _renderFreeSpaceRow: function($tableElement) {\r\n                    var $freeSpaceRowElement = this._createEmptyRow(FREE_SPACE_CLASS);\r\n                    $freeSpaceRowElement = this._wrapRowIfNeed($tableElement, $freeSpaceRowElement);\r\n                    this._appendEmptyRow($tableElement, $freeSpaceRowElement)\r\n                },\r\n                _checkRowKeys: function(options) {\r\n                    var that = this;\r\n                    var rows = that._getRows(options);\r\n                    var keyExpr = that._dataController.store() && that._dataController.store().key();\r\n                    keyExpr && rows.some(function(row) {\r\n                        if (\"data\" === row.rowType && void 0 === row.key) {\r\n                            that._dataController.fireError(\"E1046\", keyExpr);\r\n                            return true\r\n                        }\r\n                    })\r\n                },\r\n                _needUpdateRowHeight: function(itemsCount) {\r\n                    return itemsCount > 0 && !this._rowHeight\r\n                },\r\n                _getRowsHeight: function($tableElement) {\r\n                    var $rowElements = $tableElement.children(\"tbody\").children().not(\".dx-virtual-row\").not(\".\" + FREE_SPACE_CLASS);\r\n                    return $rowElements.toArray().reduce(function(sum, row) {\r\n                        return sum + (0, _position.getBoundingRect)(row).height\r\n                    }, 0)\r\n                },\r\n                _updateRowHeight: function() {\r\n                    var that = this;\r\n                    var $tableElement = that._getTableElement();\r\n                    var itemsCount = that._dataController.items().length;\r\n                    if ($tableElement && that._needUpdateRowHeight(itemsCount)) {\r\n                        var rowsHeight = that._getRowsHeight($tableElement);\r\n                        that._rowHeight = rowsHeight / itemsCount\r\n                    }\r\n                },\r\n                _findContentElement: function() {\r\n                    var $content = this.element();\r\n                    var scrollable = this.getScrollable();\r\n                    if ($content) {\r\n                        if (scrollable) {\r\n                            $content = scrollable.$content()\r\n                        }\r\n                        return $content.children().first()\r\n                    }\r\n                },\r\n                _getRowElements: function(tableElement) {\r\n                    var $rows = this.callBase(tableElement);\r\n                    return $rows && $rows.not(\".\" + FREE_SPACE_CLASS)\r\n                },\r\n                _getFreeSpaceRowElements: function($table) {\r\n                    var tableElements = $table || this.getTableElements();\r\n                    return tableElements && tableElements.children(\"tbody\").children(\".\" + FREE_SPACE_CLASS)\r\n                },\r\n                _getNoDataText: function() {\r\n                    return this.option(\"noDataText\")\r\n                },\r\n                _rowClick: function(e) {\r\n                    var item = this._dataController.items()[e.rowIndex] || {};\r\n                    this.executeAction(\"onRowClick\", (0, _extend.extend)({\r\n                        evaluate: function(expr) {\r\n                            var getter = (0, _data.compileGetter)(expr);\r\n                            return getter(item.data)\r\n                        }\r\n                    }, e, item))\r\n                },\r\n                _rowDblClick: function(e) {\r\n                    var item = this._dataController.items()[e.rowIndex] || {};\r\n                    this.executeAction(\"onRowDblClick\", (0, _extend.extend)({}, e, item))\r\n                },\r\n                _getColumnsCountBeforeGroups: function(columns) {\r\n                    for (var i = 0; i < columns.length; i++) {\r\n                        if (\"groupExpand\" === columns[i].type) {\r\n                            return i\r\n                        }\r\n                    }\r\n                    return 0\r\n                },\r\n                _getGroupCellOptions: function(options) {\r\n                    var columnsCountBeforeGroups = this._getColumnsCountBeforeGroups(options.columns);\r\n                    var columnIndex = (options.row.groupIndex || 0) + columnsCountBeforeGroups;\r\n                    return {\r\n                        columnIndex: columnIndex,\r\n                        colspan: options.columns.length - columnIndex - 1\r\n                    }\r\n                },\r\n                _renderCells: function($row, options) {\r\n                    if (\"group\" === options.row.rowType) {\r\n                        this._renderGroupedCells($row, options)\r\n                    } else {\r\n                        if (options.row.values) {\r\n                            this.callBase($row, options)\r\n                        }\r\n                    }\r\n                },\r\n                _renderGroupedCells: function($row, options) {\r\n                    var row = options.row;\r\n                    var expandColumn;\r\n                    var columns = options.columns;\r\n                    var rowIndex = row.rowIndex;\r\n                    var isExpanded;\r\n                    var groupCellOptions = this._getGroupCellOptions(options);\r\n                    for (var i = 0; i <= groupCellOptions.columnIndex; i++) {\r\n                        if (i === groupCellOptions.columnIndex && columns[i].allowCollapsing && \"infinite\" !== options.scrollingMode) {\r\n                            isExpanded = !!row.isExpanded;\r\n                            expandColumn = columns[i]\r\n                        } else {\r\n                            isExpanded = null;\r\n                            expandColumn = {\r\n                                command: \"expand\",\r\n                                cssClass: columns[i].cssClass\r\n                            }\r\n                        }\r\n                        this._renderCell($row, {\r\n                            value: isExpanded,\r\n                            row: row,\r\n                            rowIndex: rowIndex,\r\n                            column: expandColumn,\r\n                            columnIndex: i\r\n                        })\r\n                    }\r\n                    var groupColumnAlignment = (0, _position.getDefaultAlignment)(this.option(\"rtlEnabled\"));\r\n                    var groupColumn = (0, _extend.extend)({}, columns[groupCellOptions.columnIndex], {\r\n                        command: null,\r\n                        cssClass: null,\r\n                        width: null,\r\n                        showWhenGrouped: false,\r\n                        alignment: groupColumnAlignment\r\n                    });\r\n                    if (groupCellOptions.colspan > 1) {\r\n                        groupColumn.colspan = groupCellOptions.colspan\r\n                    }\r\n                    this._renderCell($row, {\r\n                        value: row.values[row.groupIndex],\r\n                        row: row,\r\n                        rowIndex: rowIndex,\r\n                        column: groupColumn,\r\n                        columnIndex: groupCellOptions.columnIndex\r\n                    })\r\n                },\r\n                _renderRows: function($table, options) {\r\n                    var that = this;\r\n                    var scrollingMode = that.option(\"scrolling.mode\");\r\n                    that.callBase($table, (0, _extend.extend)({\r\n                        scrollingMode: scrollingMode\r\n                    }, options));\r\n                    that._checkRowKeys(options.change);\r\n                    that._renderFreeSpaceRow($table);\r\n                    if (!that._hasHeight) {\r\n                        that.updateFreeSpaceRowHeight($table)\r\n                    }\r\n                },\r\n                _renderRow: function($table, options) {\r\n                    var that = this;\r\n                    var row = options.row;\r\n                    var rowTemplate = that.option(\"rowTemplate\");\r\n                    if ((\"data\" === row.rowType || \"group\" === row.rowType) && !(0, _type.isDefined)(row.groupIndex) && rowTemplate) {\r\n                        that.renderTemplate($table, rowTemplate, (0, _extend.extend)({\r\n                            columns: options.columns\r\n                        }, row), true)\r\n                    } else {\r\n                        that.callBase($table, options)\r\n                    }\r\n                },\r\n                _renderTable: function(options) {\r\n                    var that = this;\r\n                    var $table = that.callBase(options);\r\n                    var resizeCompletedHandler = function resizeCompletedHandler() {\r\n                        var scrollableInstance = that.getScrollable();\r\n                        if (scrollableInstance && that.element().closest((0, _window.getWindow)().document).length) {\r\n                            that.resizeCompleted.remove(resizeCompletedHandler);\r\n                            scrollableInstance._visibilityChanged(true)\r\n                        }\r\n                    };\r\n                    if (!(0, _type.isDefined)(that._getTableElement())) {\r\n                        that._setTableElement($table);\r\n                        that._renderScrollable(true);\r\n                        that.resizeCompleted.add(resizeCompletedHandler)\r\n                    } else {\r\n                        that._renderScrollable()\r\n                    }\r\n                    return $table\r\n                },\r\n                _createTable: function() {\r\n                    var $table = this.callBase.apply(this, arguments);\r\n                    if (this.option(\"rowTemplate\")) {\r\n                        $table.appendTo(this.component.$element())\r\n                    }\r\n                    return $table\r\n                },\r\n                _renderCore: function(change) {\r\n                    var that = this;\r\n                    var $element = that.element();\r\n                    $element.addClass(that.addWidgetPrefix(ROWS_VIEW_CLASS)).toggleClass(that.addWidgetPrefix(NOWRAP_CLASS), !that.option(\"wordWrapEnabled\"));\r\n                    $element.toggleClass(EMPTY_CLASS, 0 === that._dataController.items().length);\r\n                    that.setAria(\"role\", \"presentation\", $element);\r\n                    var $table = that._renderTable({\r\n                        change: change\r\n                    });\r\n                    that._updateContent($table, change);\r\n                    that.callBase(change);\r\n                    that._lastColumnWidths = null\r\n                },\r\n                _getRows: function(change) {\r\n                    return change && change.items || this._dataController.items()\r\n                },\r\n                _getCellOptions: function(options) {\r\n                    var that = this;\r\n                    var column = options.column;\r\n                    var row = options.row;\r\n                    var data = row.data;\r\n                    var summaryCells = row && row.summaryCells;\r\n                    var value = options.value;\r\n                    var displayValue = _uiGrid_core.default.getDisplayValue(column, value, data, row.rowType);\r\n                    var parameters = this.callBase(options);\r\n                    parameters.value = value;\r\n                    parameters.oldValue = options.oldValue;\r\n                    parameters.displayValue = displayValue;\r\n                    parameters.row = row;\r\n                    parameters.key = row.key;\r\n                    parameters.data = data;\r\n                    parameters.rowType = row.rowType;\r\n                    parameters.values = row.values;\r\n                    parameters.text = !column.command ? _uiGrid_core.default.formatValue(displayValue, column) : \"\";\r\n                    parameters.rowIndex = row.rowIndex;\r\n                    parameters.summaryItems = summaryCells && summaryCells[options.columnIndex];\r\n                    parameters.resized = column.resizedCallbacks;\r\n                    if ((0, _type.isDefined)(column.groupIndex) && !column.command) {\r\n                        var groupingTextsOptions = that.option(\"grouping.texts\");\r\n                        var scrollingMode = that.option(\"scrolling.mode\");\r\n                        if (\"virtual\" !== scrollingMode && \"infinite\" !== scrollingMode) {\r\n                            parameters.groupContinuesMessage = data && data.isContinuationOnNextPage && groupingTextsOptions && groupingTextsOptions.groupContinuesMessage;\r\n                            parameters.groupContinuedMessage = data && data.isContinuation && groupingTextsOptions && groupingTextsOptions.groupContinuedMessage\r\n                        }\r\n                    }\r\n                    return parameters\r\n                },\r\n                _setRowsOpacityCore: function($rows, visibleColumns, columnIndex, value) {\r\n                    var columnsController = this._columnsController;\r\n                    var columns = columnsController.getColumns();\r\n                    var column = columns && columns[columnIndex];\r\n                    var columnID = column && column.isBand && column.index;\r\n                    (0, _iterator.each)($rows, function(rowIndex, row) {\r\n                        if (!(0, _renderer.default)(row).hasClass(GROUP_ROW_CLASS)) {\r\n                            for (var i = 0; i < visibleColumns.length; i++) {\r\n                                if ((0, _type.isNumeric)(columnID) && columnsController.isParentBandColumn(visibleColumns[i].index, columnID) || visibleColumns[i].index === columnIndex) {\r\n                                    $rows.eq(rowIndex).children().eq(i).css({\r\n                                        opacity: value\r\n                                    });\r\n                                    if (!(0, _type.isNumeric)(columnID)) {\r\n                                        break\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    })\r\n                },\r\n                _getDevicePixelRatio: function() {\r\n                    return (0, _window.getWindow)().devicePixelRatio\r\n                },\r\n                renderNoDataText: _uiGrid_core.default.renderNoDataText,\r\n                getCellOptions: function(rowIndex, columnIdentifier) {\r\n                    var rowOptions = this._dataController.items()[rowIndex];\r\n                    var cellOptions;\r\n                    var column;\r\n                    if (rowOptions) {\r\n                        if ((0, _type.isString)(columnIdentifier)) {\r\n                            column = this._columnsController.columnOption(columnIdentifier)\r\n                        } else {\r\n                            column = this._columnsController.getVisibleColumns()[columnIdentifier]\r\n                        }\r\n                        if (column) {\r\n                            cellOptions = this._getCellOptions({\r\n                                value: column.calculateCellValue(rowOptions.data),\r\n                                rowIndex: rowOptions.rowIndex,\r\n                                row: rowOptions,\r\n                                column: column\r\n                            })\r\n                        }\r\n                    }\r\n                    return cellOptions\r\n                },\r\n                getRow: function(index) {\r\n                    if (index >= 0) {\r\n                        var rows = this._getRowElements();\r\n                        if (rows.length > index) {\r\n                            return (0, _renderer.default)(rows[index])\r\n                        }\r\n                    }\r\n                },\r\n                updateFreeSpaceRowHeight: function($table) {\r\n                    var _this3 = this;\r\n                    var dataController = this._dataController;\r\n                    var itemCount = dataController.items(true).length;\r\n                    var contentElement = this._findContentElement();\r\n                    var freeSpaceRowElements = this._getFreeSpaceRowElements($table);\r\n                    if (freeSpaceRowElements && contentElement && dataController.totalCount() >= 0) {\r\n                        var isFreeSpaceRowVisible = false;\r\n                        if (itemCount > 0) {\r\n                            if (!this._hasHeight) {\r\n                                var freeSpaceRowCount = dataController.pageSize() - itemCount;\r\n                                var scrollingMode = this.option(\"scrolling.mode\");\r\n                                if (freeSpaceRowCount > 0 && dataController.pageCount() > 1 && \"virtual\" !== scrollingMode && \"infinite\" !== scrollingMode) {\r\n                                    (0, _style.setHeight)(freeSpaceRowElements, freeSpaceRowCount * this._rowHeight);\r\n                                    isFreeSpaceRowVisible = true\r\n                                }\r\n                                if (!isFreeSpaceRowVisible && $table) {\r\n                                    (0, _style.setHeight)(freeSpaceRowElements, 0)\r\n                                } else {\r\n                                    freeSpaceRowElements.toggle(isFreeSpaceRowVisible)\r\n                                }\r\n                                this._updateLastRowBorder(isFreeSpaceRowVisible)\r\n                            } else {\r\n                                freeSpaceRowElements.hide();\r\n                                (0, _common.deferUpdate)(function() {\r\n                                    var scrollbarWidth = _this3.getScrollbarWidth(true);\r\n                                    var elementHeightWithoutScrollbar = _this3.element().height() - scrollbarWidth;\r\n                                    var contentHeight = contentElement.outerHeight();\r\n                                    var showFreeSpaceRow = elementHeightWithoutScrollbar - contentHeight > 0;\r\n                                    var rowsHeight = _this3._getRowsHeight(contentElement.children().first());\r\n                                    var $tableElement = $table || _this3.getTableElements();\r\n                                    var borderTopWidth = Math.ceil(parseFloat($tableElement.css(\"borderTopWidth\")));\r\n                                    var heightCorrection = _this3._getHeightCorrection();\r\n                                    var resultHeight = elementHeightWithoutScrollbar - rowsHeight - borderTopWidth - heightCorrection;\r\n                                    if (showFreeSpaceRow) {\r\n                                        (0, _common.deferRender)(function() {\r\n                                            freeSpaceRowElements.css(\"height\", resultHeight);\r\n                                            isFreeSpaceRowVisible = true;\r\n                                            freeSpaceRowElements.show()\r\n                                        })\r\n                                    }(0, _common.deferRender)(function() {\r\n                                        return _this3._updateLastRowBorder(isFreeSpaceRowVisible)\r\n                                    })\r\n                                })\r\n                            }\r\n                        } else {\r\n                            freeSpaceRowElements.css(\"height\", 0);\r\n                            freeSpaceRowElements.show();\r\n                            this._updateLastRowBorder(true)\r\n                        }\r\n                    }\r\n                },\r\n                _getHeightCorrection: function() {\r\n                    var isZoomedWebkit = _browser.default.webkit && this._getDevicePixelRatio() >= 2;\r\n                    var hasExtraBorderTop = _browser.default.mozilla && _browser.default.version >= 70 && !this.option(\"showRowLines\");\r\n                    return isZoomedWebkit || hasExtraBorderTop ? 1 : 0\r\n                },\r\n                _columnOptionChanged: function(e) {\r\n                    var optionNames = e.optionNames;\r\n                    if (e.changeTypes.grouping) {\r\n                        return\r\n                    }\r\n                    if (optionNames.width || optionNames.visibleWidth) {\r\n                        this.callBase(e);\r\n                        this._fireColumnResizedCallbacks()\r\n                    }\r\n                },\r\n                getScrollable: function() {\r\n                    return this._scrollable\r\n                },\r\n                init: function() {\r\n                    var that = this;\r\n                    var dataController = that.getController(\"data\");\r\n                    that.callBase();\r\n                    that._editorFactoryController = that.getController(\"editorFactory\");\r\n                    that._rowHeight = 0;\r\n                    that._scrollTop = 0;\r\n                    that._scrollLeft = -1;\r\n                    that._scrollRight = 0;\r\n                    that._hasHeight = false;\r\n                    dataController.loadingChanged.add(function(isLoading, messageText) {\r\n                        that.setLoading(isLoading, messageText)\r\n                    });\r\n                    dataController.dataSourceChanged.add(function() {\r\n                        if (that._scrollLeft >= 0) {\r\n                            that._handleScroll({\r\n                                component: that.getScrollable(),\r\n                                scrollOffset: {\r\n                                    top: that._scrollTop,\r\n                                    left: that._scrollLeft\r\n                                }\r\n                            })\r\n                        }\r\n                    })\r\n                },\r\n                _handleDataChanged: function(change) {\r\n                    var that = this;\r\n                    switch (change.changeType) {\r\n                        case \"refresh\":\r\n                        case \"prepend\":\r\n                        case \"append\":\r\n                        case \"update\":\r\n                            that.render(null, change);\r\n                            break;\r\n                        default:\r\n                            that._update(change)\r\n                    }\r\n                },\r\n                publicMethods: function() {\r\n                    return [\"isScrollbarVisible\", \"getTopVisibleRowData\", \"getScrollbarWidth\", \"getCellElement\", \"getRowElement\", \"getScrollable\"]\r\n                },\r\n                contentWidth: function() {\r\n                    return this.element().width() - this.getScrollbarWidth()\r\n                },\r\n                getScrollbarWidth: function(isHorizontal) {\r\n                    var scrollableContainer = this._scrollableContainer && this._scrollableContainer.get(0);\r\n                    var scrollbarWidth = 0;\r\n                    if (scrollableContainer) {\r\n                        if (!isHorizontal) {\r\n                            scrollbarWidth = scrollableContainer.clientWidth ? scrollableContainer.offsetWidth - scrollableContainer.clientWidth : 0\r\n                        } else {\r\n                            scrollbarWidth = scrollableContainer.clientHeight ? scrollableContainer.offsetHeight - scrollableContainer.clientHeight : 0;\r\n                            scrollbarWidth += getScrollableBottomPadding(this)\r\n                        }\r\n                    }\r\n                    return scrollbarWidth > 0 ? scrollbarWidth : 0\r\n                },\r\n                _fireColumnResizedCallbacks: function() {\r\n                    var that = this;\r\n                    var lastColumnWidths = that._lastColumnWidths || [];\r\n                    var columnWidths = [];\r\n                    var columns = that.getColumns();\r\n                    for (var i = 0; i < columns.length; i++) {\r\n                        columnWidths[i] = columns[i].visibleWidth;\r\n                        if (columns[i].resizedCallbacks && !(0, _type.isDefined)(columns[i].groupIndex) && lastColumnWidths[i] !== columnWidths[i]) {\r\n                            columns[i].resizedCallbacks.fire(columnWidths[i])\r\n                        }\r\n                    }\r\n                    that._lastColumnWidths = columnWidths\r\n                },\r\n                _updateLastRowBorder: function(isFreeSpaceRowVisible) {\r\n                    if (this.option(\"showBorders\") && this.option(\"showRowLines\") && !isFreeSpaceRowVisible) {\r\n                        this.element().addClass(LAST_ROW_BORDER)\r\n                    } else {\r\n                        this.element().removeClass(LAST_ROW_BORDER)\r\n                    }\r\n                },\r\n                _updateScrollable: function() {\r\n                    var dxScrollable = _ui.default.getInstance(this.element());\r\n                    if (dxScrollable) {\r\n                        dxScrollable.update();\r\n                        this._updateHorizontalScrollPosition()\r\n                    }\r\n                },\r\n                _updateHorizontalScrollPosition: function() {\r\n                    var scrollable = this.getScrollable();\r\n                    var scrollLeft = scrollable && scrollable.scrollOffset().left;\r\n                    var rtlEnabled = this.option(\"rtlEnabled\");\r\n                    if (rtlEnabled) {\r\n                        var maxHorizontalScrollOffset = getMaxHorizontalScrollOffset(scrollable);\r\n                        var scrollRight = maxHorizontalScrollOffset - scrollLeft;\r\n                        if (scrollRight !== this._scrollRight) {\r\n                            this._scrollLeft = maxHorizontalScrollOffset - this._scrollRight\r\n                        }\r\n                    }\r\n                    if (this._scrollLeft >= 0 && scrollLeft !== this._scrollLeft) {\r\n                        scrollable.scrollTo({\r\n                            x: this._scrollLeft\r\n                        })\r\n                    }\r\n                },\r\n                _resizeCore: function() {\r\n                    var that = this;\r\n                    that._fireColumnResizedCallbacks();\r\n                    that._updateRowHeight();\r\n                    (0, _common.deferRender)(function() {\r\n                        that._renderScrollable();\r\n                        that.renderNoDataText();\r\n                        that.updateFreeSpaceRowHeight();\r\n                        (0, _common.deferUpdate)(function() {\r\n                            that._updateScrollable()\r\n                        })\r\n                    })\r\n                },\r\n                scrollTo: function(location) {\r\n                    var $element = this.element();\r\n                    var dxScrollable = $element && _ui.default.getInstance($element);\r\n                    if (dxScrollable) {\r\n                        dxScrollable.scrollTo(location)\r\n                    }\r\n                },\r\n                height: function(_height, hasHeight) {\r\n                    var that = this;\r\n                    var $element = this.element();\r\n                    if (0 === arguments.length) {\r\n                        return $element ? $element.outerHeight(true) : 0\r\n                    }\r\n                    that._hasHeight = void 0 === hasHeight ? \"auto\" !== _height : hasHeight;\r\n                    if ((0, _type.isDefined)(_height) && $element) {\r\n                        (0, _style.setHeight)($element, _height)\r\n                    }\r\n                },\r\n                setLoading: function(isLoading, messageText) {\r\n                    var that = this;\r\n                    var loadPanel = that._loadPanel;\r\n                    var dataController = that._dataController;\r\n                    var loadPanelOptions = that.option(\"loadPanel\") || {};\r\n                    var animation = dataController.isLoaded() ? loadPanelOptions.animation : null;\r\n                    var $element = that.element();\r\n                    if (!(0, _window.hasWindow)()) {\r\n                        return\r\n                    }\r\n                    if (!loadPanel && void 0 !== messageText && dataController.isLocalStore() && \"auto\" === loadPanelOptions.enabled && $element) {\r\n                        that._renderLoadPanel($element, $element.parent());\r\n                        loadPanel = that._loadPanel\r\n                    }\r\n                    if (loadPanel) {\r\n                        var visibilityOptions = {\r\n                            message: messageText || loadPanelOptions.text,\r\n                            animation: animation,\r\n                            visible: isLoading\r\n                        };\r\n                        clearTimeout(that._hideLoadingTimeoutID);\r\n                        if (loadPanel.option(\"visible\") && !isLoading) {\r\n                            that._hideLoadingTimeoutID = setTimeout(function() {\r\n                                loadPanel.option(visibilityOptions)\r\n                            }, LOADPANEL_HIDE_TIMEOUT)\r\n                        } else {\r\n                            loadPanel.option(visibilityOptions)\r\n                        }\r\n                    }\r\n                },\r\n                setRowsOpacity: function(columnIndex, value) {\r\n                    var $rows = this._getRowElements().not(\".\" + GROUP_ROW_CLASS) || [];\r\n                    this._setRowsOpacityCore($rows, this.getColumns(), columnIndex, value)\r\n                },\r\n                _getCellElementsCore: function(rowIndex) {\r\n                    var $cells = this.callBase(rowIndex);\r\n                    if ($cells) {\r\n                        var groupCellIndex = $cells.filter(\".\" + GROUP_CELL_CLASS).index();\r\n                        if (groupCellIndex >= 0 && $cells.length > groupCellIndex + 1) {\r\n                            return $cells.slice(0, groupCellIndex + 1)\r\n                        }\r\n                    }\r\n                    return $cells\r\n                },\r\n                getTopVisibleItemIndex: function(isFloor) {\r\n                    var that = this;\r\n                    var itemIndex = 0;\r\n                    var prevOffsetTop = 0;\r\n                    var offsetTop = 0;\r\n                    var scrollPosition = that._scrollTop;\r\n                    var $contentElement = that._findContentElement();\r\n                    var contentElementOffsetTop = $contentElement && $contentElement.offset().top;\r\n                    var items = that._dataController.items();\r\n                    var tableElement = that._getTableElement();\r\n                    if (items.length && tableElement) {\r\n                        var rowElements = that._getRowElements(tableElement).filter(\":visible\");\r\n                        for (itemIndex = 0; itemIndex < items.length; itemIndex++) {\r\n                            prevOffsetTop = offsetTop;\r\n                            var rowElement = rowElements.eq(itemIndex);\r\n                            if (rowElement.length) {\r\n                                offsetTop = rowElement.offset().top - contentElementOffsetTop;\r\n                                if (offsetTop > scrollPosition) {\r\n                                    if (itemIndex) {\r\n                                        if (isFloor || 2 * scrollPosition < Math.round(offsetTop + prevOffsetTop)) {\r\n                                            itemIndex--\r\n                                        }\r\n                                    }\r\n                                    break\r\n                                }\r\n                            }\r\n                        }\r\n                        if (itemIndex && itemIndex === items.length) {\r\n                            itemIndex--\r\n                        }\r\n                    }\r\n                    return itemIndex\r\n                },\r\n                getTopVisibleRowData: function() {\r\n                    var itemIndex = this.getTopVisibleItemIndex();\r\n                    var items = this._dataController.items();\r\n                    if (items[itemIndex]) {\r\n                        return items[itemIndex].data\r\n                    }\r\n                },\r\n                _scrollToElement: function($element, offset) {\r\n                    var scrollable = this.getScrollable();\r\n                    scrollable && scrollable.scrollToElement($element, offset)\r\n                },\r\n                optionChanged: function(args) {\r\n                    var that = this;\r\n                    that.callBase(args);\r\n                    switch (args.name) {\r\n                        case \"wordWrapEnabled\":\r\n                        case \"showColumnLines\":\r\n                        case \"showRowLines\":\r\n                        case \"rowAlternationEnabled\":\r\n                        case \"rowTemplate\":\r\n                        case \"twoWayBindingEnabled\":\r\n                            that._invalidate(true, true);\r\n                            args.handled = true;\r\n                            break;\r\n                        case \"scrolling\":\r\n                            that._rowHeight = null;\r\n                            that._tableElement = null;\r\n                            args.handled = true;\r\n                            break;\r\n                        case \"rtlEnabled\":\r\n                            that._rowHeight = null;\r\n                            that._tableElement = null;\r\n                            break;\r\n                        case \"loadPanel\":\r\n                            that._tableElement = null;\r\n                            that._invalidate(true, \"loadPanel.enabled\" !== args.fullName);\r\n                            args.handled = true;\r\n                            break;\r\n                        case \"noDataText\":\r\n                            that.renderNoDataText();\r\n                            args.handled = true\r\n                    }\r\n                },\r\n                dispose: function() {\r\n                    clearTimeout(this._hideLoadingTimeoutID);\r\n                    this._scrollable && this._scrollable.dispose()\r\n                },\r\n                setScrollerSpacing: function() {}\r\n            }\r\n        }())\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.context_menu.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.context_menu\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"contextMenu\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.context_menu.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _element = require(\"../../core/element\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _context_menu = _interopRequireDefault(require(\"../context_menu\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar CONTEXT_MENU = \"dx-context-menu\";\r\nvar viewName = {\r\n    columnHeadersView: \"header\",\r\n    rowsView: \"content\",\r\n    footerView: \"footer\",\r\n    headerPanel: \"headerPanel\"\r\n};\r\nvar VIEW_NAMES = [\"columnHeadersView\", \"rowsView\", \"footerView\", \"headerPanel\"];\r\nvar ContextMenuController = _uiGrid_core.default.ViewController.inherit({\r\n    init: function() {\r\n        this.createAction(\"onContextMenuPreparing\")\r\n    },\r\n    getContextMenuItems: function(dxEvent) {\r\n        if (!dxEvent) {\r\n            return false\r\n        }\r\n        var that = this;\r\n        var $targetElement = (0, _renderer.default)(dxEvent.target);\r\n        var $element;\r\n        var $targetRowElement;\r\n        var $targetCellElement;\r\n        var menuItems;\r\n        (0, _iterator.each)(VIEW_NAMES, function() {\r\n            var view = that.getView(this);\r\n            $element = view && view.element();\r\n            if ($element && ($element.is($targetElement) || $element.find($targetElement).length)) {\r\n                $targetCellElement = $targetElement.closest(\".dx-row > td, .dx-row > tr\");\r\n                $targetRowElement = $targetCellElement.parent();\r\n                var rowIndex = view.getRowIndex($targetRowElement);\r\n                var columnIndex = $targetCellElement[0] && $targetCellElement[0].cellIndex;\r\n                var rowOptions = $targetRowElement.data(\"options\");\r\n                var options = {\r\n                    event: dxEvent,\r\n                    targetElement: (0, _element.getPublicElement)($targetElement),\r\n                    target: viewName[this],\r\n                    rowIndex: rowIndex,\r\n                    row: view._getRows()[rowIndex],\r\n                    columnIndex: columnIndex,\r\n                    column: rowOptions && rowOptions.cells[columnIndex].column\r\n                };\r\n                options.items = view.getContextMenuItems && view.getContextMenuItems(options);\r\n                that.executeAction(\"onContextMenuPreparing\", options);\r\n                that._contextMenuPrepared(options);\r\n                menuItems = options.items;\r\n                if (menuItems) {\r\n                    return false\r\n                }\r\n            }\r\n        });\r\n        return menuItems\r\n    },\r\n    _contextMenuPrepared: _common.noop\r\n});\r\nvar ContextMenuView = _uiGrid_core.default.View.inherit({\r\n    _renderCore: function() {\r\n        var that = this;\r\n        var $element = that.element().addClass(CONTEXT_MENU);\r\n        this.setAria(\"role\", \"presentation\", $element);\r\n        this._createComponent($element, _context_menu.default, {\r\n            onPositioning: function(actionArgs) {\r\n                var event = actionArgs.event;\r\n                var contextMenuInstance = actionArgs.component;\r\n                var items = that.getController(\"contextMenu\").getContextMenuItems(event);\r\n                if (items) {\r\n                    contextMenuInstance.option(\"items\", items);\r\n                    event.stopPropagation()\r\n                } else {\r\n                    actionArgs.cancel = true\r\n                }\r\n            },\r\n            onItemClick: function(params) {\r\n                params.itemData.onItemClick && params.itemData.onItemClick(params)\r\n            },\r\n            cssClass: that.getWidgetContainerClass(),\r\n            target: that.component.$element()\r\n        })\r\n    }\r\n});\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            onContextMenuPreparing: null\r\n        }\r\n    },\r\n    controllers: {\r\n        contextMenu: ContextMenuController\r\n    },\r\n    views: {\r\n        contextMenuView: ContextMenuView\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/context_menu/ui.context_menu.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _dom_adapter = _interopRequireDefault(require(\"../../core/dom_adapter\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _guid = _interopRequireDefault(require(\"../../core/guid\"));\r\nvar _component_registrator = _interopRequireDefault(require(\"../../core/component_registrator\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _dom = require(\"../../core/utils/dom\");\r\nvar _element = require(\"../../core/element\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _array = require(\"../../core/utils/array\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _fx = _interopRequireDefault(require(\"../../animation/fx\"));\r\nvar _position = _interopRequireDefault(require(\"../../animation/position\"));\r\nvar _devices = _interopRequireDefault(require(\"../../core/devices\"));\r\nvar _index = require(\"../../events/utils/index\");\r\nvar _overlay = _interopRequireDefault(require(\"../overlay\"));\r\nvar _ui = _interopRequireDefault(require(\"./ui.menu_base\"));\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _get(target, property, receiver) {\r\n    if (\"undefined\" !== typeof Reflect && Reflect.get) {\r\n        _get = Reflect.get\r\n    } else {\r\n        _get = function(target, property, receiver) {\r\n            var base = _superPropBase(target, property);\r\n            if (!base) {\r\n                return\r\n            }\r\n            var desc = Object.getOwnPropertyDescriptor(base, property);\r\n            if (desc.get) {\r\n                return desc.get.call(receiver)\r\n            }\r\n            return desc.value\r\n        }\r\n    }\r\n    return _get(target, property, receiver || target)\r\n}\r\n\r\nfunction _superPropBase(object, property) {\r\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n        object = _getPrototypeOf(object);\r\n        if (null === object) {\r\n            break\r\n        }\r\n    }\r\n    return object\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\n\r\nfunction _createSuper(Derived) {\r\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\r\n    return function() {\r\n        var result, Super = _getPrototypeOf(Derived);\r\n        if (hasNativeReflectConstruct) {\r\n            var NewTarget = _getPrototypeOf(this).constructor;\r\n            result = Reflect.construct(Super, arguments, NewTarget)\r\n        } else {\r\n            result = Super.apply(this, arguments)\r\n        }\r\n        return _possibleConstructorReturn(this, result)\r\n    }\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _isNativeReflectConstruct() {\r\n    if (\"undefined\" === typeof Reflect || !Reflect.construct) {\r\n        return false\r\n    }\r\n    if (Reflect.construct.sham) {\r\n        return false\r\n    }\r\n    if (\"function\" === typeof Proxy) {\r\n        return true\r\n    }\r\n    try {\r\n        Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\r\n        return true\r\n    } catch (e) {\r\n        return false\r\n    }\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\nvar DX_MENU_CLASS = \"dx-menu\";\r\nvar DX_MENU_ITEM_CLASS = DX_MENU_CLASS + \"-item\";\r\nvar DX_MENU_ITEM_EXPANDED_CLASS = DX_MENU_ITEM_CLASS + \"-expanded\";\r\nvar DX_MENU_PHONE_CLASS = \"dx-menu-phone-overlay\";\r\nvar DX_MENU_ITEMS_CONTAINER_CLASS = DX_MENU_CLASS + \"-items-container\";\r\nvar DX_MENU_ITEM_WRAPPER_CLASS = DX_MENU_ITEM_CLASS + \"-wrapper\";\r\nvar DX_SUBMENU_CLASS = \"dx-submenu\";\r\nvar DX_CONTEXT_MENU_CLASS = \"dx-context-menu\";\r\nvar DX_HAS_CONTEXT_MENU_CLASS = \"dx-has-context-menu\";\r\nvar DX_STATE_DISABLED_CLASS = \"dx-state-disabled\";\r\nvar DX_STATE_FOCUSED_CLASS = \"dx-state-focused\";\r\nvar DX_STATE_HOVER_CLASS = \"dx-state-hover\";\r\nvar FOCUS_UP = \"up\";\r\nvar FOCUS_DOWN = \"down\";\r\nvar FOCUS_LEFT = \"left\";\r\nvar FOCUS_RIGHT = \"right\";\r\nvar FOCUS_FIRST = \"first\";\r\nvar FOCUS_LAST = \"last\";\r\nvar ACTIONS = [\"onShowing\", \"onShown\", \"onSubmenuCreated\", \"onHiding\", \"onHidden\", \"onPositioning\", \"onLeftFirstItem\", \"onLeftLastItem\", \"onCloseRootSubmenu\", \"onExpandLastSubmenu\"];\r\nvar LOCAL_SUBMENU_DIRECTIONS = [FOCUS_UP, FOCUS_DOWN, FOCUS_FIRST, FOCUS_LAST];\r\nvar DEFAULT_SHOW_EVENT = \"dxcontextmenu\";\r\nvar ContextMenu = function(_MenuBase) {\r\n    _inherits(ContextMenu, _MenuBase);\r\n    var _super = _createSuper(ContextMenu);\r\n\r\n    function ContextMenu() {\r\n        _classCallCheck(this, ContextMenu);\r\n        return _super.apply(this, arguments)\r\n    }\r\n    _createClass(ContextMenu, [{\r\n        key: \"getShowEvent\",\r\n        value: function(showEventOption) {\r\n            var result = null;\r\n            if ((0, _type.isObject)(showEventOption)) {\r\n                if (null !== showEventOption.name) {\r\n                    result = showEventOption.name || DEFAULT_SHOW_EVENT\r\n                }\r\n            } else {\r\n                result = showEventOption\r\n            }\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"getShowDelay\",\r\n        value: function(showEventOption) {\r\n            return (0, _type.isObject)(showEventOption) && showEventOption.delay\r\n        }\r\n    }, {\r\n        key: \"_getDefaultOptions\",\r\n        value: function() {\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(ContextMenu.prototype), \"_getDefaultOptions\", this).call(this), {\r\n                showEvent: DEFAULT_SHOW_EVENT,\r\n                closeOnOutsideClick: true,\r\n                position: {\r\n                    at: \"top left\",\r\n                    my: \"top left\"\r\n                },\r\n                onShowing: null,\r\n                onShown: null,\r\n                onSubmenuCreated: null,\r\n                onHiding: null,\r\n                onHidden: null,\r\n                onPositioning: null,\r\n                submenuDirection: \"auto\",\r\n                visible: false,\r\n                target: void 0,\r\n                onLeftFirstItem: null,\r\n                onLeftLastItem: null,\r\n                onCloseRootSubmenu: null,\r\n                onExpandLastSubmenu: null\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_defaultOptionsRules\",\r\n        value: function() {\r\n            return _get(_getPrototypeOf(ContextMenu.prototype), \"_defaultOptionsRules\", this).call(this).concat([{\r\n                device: function() {\r\n                    return !(0, _window.hasWindow)()\r\n                },\r\n                options: {\r\n                    animation: null\r\n                }\r\n            }])\r\n        }\r\n    }, {\r\n        key: \"_initActions\",\r\n        value: function() {\r\n            var _this = this;\r\n            this._actions = {};\r\n            (0, _iterator.each)(ACTIONS, function(index, action) {\r\n                _this._actions[action] = _this._createActionByOption(action) || _common.noop\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_setOptionsByReference\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(ContextMenu.prototype), \"_setOptionsByReference\", this).call(this);\r\n            (0, _extend.extend)(this._optionsByReference, {\r\n                animation: true,\r\n                selectedItem: true\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_focusInHandler\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"_itemContainer\",\r\n        value: function() {\r\n            return this._overlay ? this._overlay.$content() : (0, _renderer.default)()\r\n        }\r\n    }, {\r\n        key: \"_eventBindingTarget\",\r\n        value: function() {\r\n            return this._itemContainer()\r\n        }\r\n    }, {\r\n        key: \"itemsContainer\",\r\n        value: function() {\r\n            return this._overlay ? this._overlay.$content() : void 0\r\n        }\r\n    }, {\r\n        key: \"_supportedKeys\",\r\n        value: function() {\r\n            var _this2 = this;\r\n            var selectItem = function() {\r\n                var $item = (0, _renderer.default)(_this2.option(\"focusedElement\"));\r\n                _this2.hide();\r\n                if (!$item.length || !_this2._isSelectionEnabled()) {\r\n                    return\r\n                }\r\n                _this2.selectItem($item[0])\r\n            };\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(ContextMenu.prototype), \"_supportedKeys\", this).call(this), {\r\n                space: selectItem,\r\n                escape: this.hide\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_getActiveItem\",\r\n        value: function() {\r\n            var $availableItems = this._getAvailableItems();\r\n            var $focusedItem = $availableItems.filter(\".\".concat(DX_STATE_FOCUSED_CLASS));\r\n            var $hoveredItem = $availableItems.filter(\".\".concat(DX_STATE_HOVER_CLASS));\r\n            var $hoveredItemContainer = $hoveredItem.closest(\".\".concat(DX_MENU_ITEMS_CONTAINER_CLASS));\r\n            if ($hoveredItemContainer.find(\".\".concat(DX_MENU_ITEM_CLASS)).index($focusedItem) >= 0) {\r\n                return $focusedItem\r\n            }\r\n            if ($hoveredItem.length) {\r\n                return $hoveredItem\r\n            }\r\n            return _get(_getPrototypeOf(ContextMenu.prototype), \"_getActiveItem\", this).call(this)\r\n        }\r\n    }, {\r\n        key: \"_moveFocus\",\r\n        value: function(location) {\r\n            var $items = this._getItemsByLocation(location);\r\n            var $oldTarget = this._getActiveItem(true);\r\n            var $hoveredItem = this.itemsContainer().find(\".\".concat(DX_STATE_HOVER_CLASS));\r\n            var $focusedItem = (0, _renderer.default)(this.option(\"focusedElement\"));\r\n            var $activeItemHighlighted = !!($focusedItem.length || $hoveredItem.length);\r\n            var $newTarget;\r\n            switch (location) {\r\n                case FOCUS_UP:\r\n                    $newTarget = $activeItemHighlighted ? this._prevItem($items) : $oldTarget;\r\n                    this._setFocusedElement($newTarget);\r\n                    if ($oldTarget.is($items.first())) {\r\n                        this._actions.onLeftFirstItem($oldTarget)\r\n                    }\r\n                    break;\r\n                case FOCUS_DOWN:\r\n                    $newTarget = $activeItemHighlighted ? this._nextItem($items) : $oldTarget;\r\n                    this._setFocusedElement($newTarget);\r\n                    if ($oldTarget.is($items.last())) {\r\n                        this._actions.onLeftLastItem($oldTarget)\r\n                    }\r\n                    break;\r\n                case FOCUS_RIGHT:\r\n                    $newTarget = this.option(\"rtlEnabled\") ? this._hideSubmenuHandler() : this._expandSubmenuHandler($items, location);\r\n                    this._setFocusedElement($newTarget);\r\n                    break;\r\n                case FOCUS_LEFT:\r\n                    $newTarget = this.option(\"rtlEnabled\") ? this._expandSubmenuHandler($items, location) : this._hideSubmenuHandler();\r\n                    this._setFocusedElement($newTarget);\r\n                    break;\r\n                case FOCUS_FIRST:\r\n                    $newTarget = $items.first();\r\n                    this._setFocusedElement($newTarget);\r\n                    break;\r\n                case FOCUS_LAST:\r\n                    $newTarget = $items.last();\r\n                    this._setFocusedElement($newTarget);\r\n                    break;\r\n                default:\r\n                    return _get(_getPrototypeOf(ContextMenu.prototype), \"_moveFocus\", this).call(this, location)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_setFocusedElement\",\r\n        value: function($element) {\r\n            if ($element && 0 !== $element.length) {\r\n                this.option(\"focusedElement\", (0, _element.getPublicElement)($element))\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getItemsByLocation\",\r\n        value: function(location) {\r\n            var $activeItem = this._getActiveItem(true);\r\n            var $items;\r\n            if ((0, _array.inArray)(location, LOCAL_SUBMENU_DIRECTIONS) >= 0) {\r\n                $items = $activeItem.closest(\".\".concat(DX_MENU_ITEMS_CONTAINER_CLASS)).children().children()\r\n            }\r\n            $items = this._getAvailableItems($items);\r\n            return $items\r\n        }\r\n    }, {\r\n        key: \"_getAriaTarget\",\r\n        value: function() {\r\n            return this.$element()\r\n        }\r\n    }, {\r\n        key: \"_refreshActiveDescendant\",\r\n        value: function() {\r\n            if ((0, _type.isDefined)(this._overlay)) {\r\n                var $target = this._overlay.$content();\r\n                _get(_getPrototypeOf(ContextMenu.prototype), \"_refreshActiveDescendant\", this).call(this, $target)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_hideSubmenuHandler\",\r\n        value: function() {\r\n            var $curItem = this._getActiveItem(true);\r\n            var $parentItem = $curItem.parents(\".\".concat(DX_MENU_ITEM_EXPANDED_CLASS)).first();\r\n            if ($parentItem.length) {\r\n                this._hideSubmenusOnSameLevel($parentItem);\r\n                this._hideSubmenu($curItem.closest(\".\".concat(DX_SUBMENU_CLASS)));\r\n                return $parentItem\r\n            }\r\n            this._actions.onCloseRootSubmenu($curItem);\r\n            return $curItem\r\n        }\r\n    }, {\r\n        key: \"_expandSubmenuHandler\",\r\n        value: function($items, location) {\r\n            var $curItem = this._getActiveItem(true);\r\n            var itemData = this._getItemData($curItem);\r\n            var node = this._dataAdapter.getNodeByItem(itemData);\r\n            var isItemHasSubmenu = this._hasSubmenu(node);\r\n            var $submenu = $curItem.children(\".\".concat(DX_SUBMENU_CLASS));\r\n            if (isItemHasSubmenu && !$curItem.hasClass(DX_STATE_DISABLED_CLASS)) {\r\n                if (!$submenu.length || \"hidden\" === $submenu.css(\"visibility\")) {\r\n                    this._showSubmenu($curItem)\r\n                }\r\n                return this._nextItem(this._getItemsByLocation(location))\r\n            }\r\n            this._actions.onExpandLastSubmenu($curItem);\r\n            return\r\n        }\r\n    }, {\r\n        key: \"_clean\",\r\n        value: function() {\r\n            if (this._overlay) {\r\n                this._overlay.$element().remove();\r\n                this._overlay = null\r\n            }\r\n            this._detachShowContextMenuEvents(this._getTarget());\r\n            _get(_getPrototypeOf(ContextMenu.prototype), \"_clean\", this).call(this)\r\n        }\r\n    }, {\r\n        key: \"_initMarkup\",\r\n        value: function() {\r\n            this.$element().addClass(DX_HAS_CONTEXT_MENU_CLASS);\r\n            _get(_getPrototypeOf(ContextMenu.prototype), \"_initMarkup\", this).call(this)\r\n        }\r\n    }, {\r\n        key: \"_render\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(ContextMenu.prototype), \"_render\", this).call(this);\r\n            this._renderVisibility(this.option(\"visible\"));\r\n            this._addWidgetClass()\r\n        }\r\n    }, {\r\n        key: \"_renderContentImpl\",\r\n        value: function() {\r\n            this._detachShowContextMenuEvents(this._getTarget());\r\n            this._attachShowContextMenuEvents()\r\n        }\r\n    }, {\r\n        key: \"_attachKeyboardEvents\",\r\n        value: function() {\r\n            !this._keyboardListenerId && this._focusTarget().length && _get(_getPrototypeOf(ContextMenu.prototype), \"_attachKeyboardEvents\", this).call(this)\r\n        }\r\n    }, {\r\n        key: \"_renderContextMenuOverlay\",\r\n        value: function() {\r\n            if (this._overlay) {\r\n                return\r\n            }\r\n            var overlayOptions = this._getOverlayOptions();\r\n            this._overlay = this._createComponent((0, _renderer.default)(\"<div>\").appendTo(this._$element), _overlay.default, overlayOptions);\r\n            var $overlayContent = this._overlay.$content();\r\n            $overlayContent.addClass(DX_CONTEXT_MENU_CLASS);\r\n            this._addCustomCssClass($overlayContent);\r\n            this._addPlatformDependentClass($overlayContent);\r\n            this._attachContextMenuEvent()\r\n        }\r\n    }, {\r\n        key: \"_itemContextMenuHandler\",\r\n        value: function(e) {\r\n            _get(_getPrototypeOf(ContextMenu.prototype), \"_itemContextMenuHandler\", this).call(this, e);\r\n            e.stopPropagation()\r\n        }\r\n    }, {\r\n        key: \"_addPlatformDependentClass\",\r\n        value: function($element) {\r\n            if (_devices.default.current().phone) {\r\n                $element.addClass(DX_MENU_PHONE_CLASS)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_detachShowContextMenuEvents\",\r\n        value: function(target) {\r\n            var showEvent = this.getShowEvent(this.option(\"showEvent\"));\r\n            if (!showEvent) {\r\n                return\r\n            }\r\n            var eventName = (0, _index.addNamespace)(showEvent, this.NAME);\r\n            if (this._showContextMenuEventHandler) {\r\n                _events_engine.default.off(_dom_adapter.default.getDocument(), eventName, target, this._showContextMenuEventHandler)\r\n            } else {\r\n                _events_engine.default.off((0, _renderer.default)(target), eventName)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_attachShowContextMenuEvents\",\r\n        value: function() {\r\n            var _this3 = this;\r\n            var target = this._getTarget();\r\n            var showEvent = this.getShowEvent(this.option(\"showEvent\"));\r\n            if (!showEvent) {\r\n                return\r\n            }\r\n            var eventName = (0, _index.addNamespace)(showEvent, this.NAME);\r\n            var contextMenuAction = this._createAction(function(e) {\r\n                var delay = _this3.getShowDelay(_this3.option(\"showEvent\"));\r\n                if (delay) {\r\n                    setTimeout(function() {\r\n                        return _this3._show(e.event)\r\n                    }, delay)\r\n                } else {\r\n                    _this3._show(e.event)\r\n                }\r\n            }, {\r\n                validatingTargetName: \"target\"\r\n            });\r\n            var handler = function(e) {\r\n                return contextMenuAction({\r\n                    event: e,\r\n                    target: (0, _renderer.default)(e.currentTarget)\r\n                })\r\n            };\r\n            contextMenuAction = this._createAction(contextMenuAction);\r\n            if ((0, _type.isRenderer)(target) || target.nodeType || (0, _type.isWindow)(target)) {\r\n                this._showContextMenuEventHandler = void 0;\r\n                _events_engine.default.on(target, eventName, handler)\r\n            } else {\r\n                this._showContextMenuEventHandler = handler;\r\n                _events_engine.default.on(_dom_adapter.default.getDocument(), eventName, target, this._showContextMenuEventHandler)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_hoverEndHandler\",\r\n        value: function(e) {\r\n            _get(_getPrototypeOf(ContextMenu.prototype), \"_hoverEndHandler\", this).call(this, e);\r\n            e.stopPropagation()\r\n        }\r\n    }, {\r\n        key: \"_renderDimensions\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"_renderContainer\",\r\n        value: function($wrapper, submenuContainer) {\r\n            var $holder = submenuContainer || this._itemContainer();\r\n            $wrapper = (0, _renderer.default)(\"<div>\");\r\n            $wrapper.appendTo($holder).addClass(DX_SUBMENU_CLASS).css(\"visibility\", submenuContainer ? \"hidden\" : \"visible\");\r\n            var $itemsContainer = _get(_getPrototypeOf(ContextMenu.prototype), \"_renderContainer\", this).call(this, $wrapper);\r\n            if (submenuContainer) {\r\n                return $itemsContainer\r\n            }\r\n            if (this.option(\"width\")) {\r\n                return $itemsContainer.css(\"minWidth\", this.option(\"width\"))\r\n            }\r\n            if (this.option(\"height\")) {\r\n                return $itemsContainer.css(\"minHeight\", this.option(\"height\"))\r\n            }\r\n            return $itemsContainer\r\n        }\r\n    }, {\r\n        key: \"_renderSubmenuItems\",\r\n        value: function(node, $itemFrame) {\r\n            this._renderItems(this._getChildNodes(node), $itemFrame);\r\n            this._actions.onSubmenuCreated({\r\n                itemElement: (0, _element.getPublicElement)($itemFrame),\r\n                itemData: node.internalFields.item,\r\n                submenuElement: (0, _element.getPublicElement)($itemFrame.children(\".\".concat(DX_SUBMENU_CLASS)))\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_getOverlayOptions\",\r\n        value: function() {\r\n            var position = this.option(\"position\");\r\n            var overlayOptions = {\r\n                focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n                animation: this.option(\"animation\"),\r\n                innerOverlay: true,\r\n                closeOnOutsideClick: this._closeOnOutsideClickHandler.bind(this),\r\n                propagateOutsideClick: true,\r\n                closeOnTargetScroll: true,\r\n                deferRendering: false,\r\n                position: {\r\n                    at: position.at,\r\n                    my: position.my,\r\n                    of: this._getTarget(),\r\n                    collision: \"flipfit\"\r\n                },\r\n                shading: false,\r\n                showTitle: false,\r\n                height: \"auto\",\r\n                width: \"auto\",\r\n                onShown: this._overlayShownActionHandler.bind(this),\r\n                onHiding: this._overlayHidingActionHandler.bind(this),\r\n                onHidden: this._overlayHiddenActionHandler.bind(this)\r\n            };\r\n            return overlayOptions\r\n        }\r\n    }, {\r\n        key: \"_overlayShownActionHandler\",\r\n        value: function(arg) {\r\n            this._actions.onShown(arg)\r\n        }\r\n    }, {\r\n        key: \"_overlayHidingActionHandler\",\r\n        value: function(arg) {\r\n            this._actions.onHiding(arg);\r\n            if (!arg.cancel) {\r\n                this._hideAllShownSubmenus();\r\n                this._setOptionWithoutOptionChange(\"visible\", false)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_overlayHiddenActionHandler\",\r\n        value: function(arg) {\r\n            this._actions.onHidden(arg)\r\n        }\r\n    }, {\r\n        key: \"_closeOnOutsideClickHandler\",\r\n        value: function(e) {\r\n            var closeOnOutsideClick = this.option(\"closeOnOutsideClick\");\r\n            if ((0, _type.isFunction)(closeOnOutsideClick)) {\r\n                return closeOnOutsideClick(e)\r\n            }\r\n            if (!closeOnOutsideClick) {\r\n                return false\r\n            }\r\n            if (_dom_adapter.default.isDocument(e.target)) {\r\n                return true\r\n            }\r\n            var $activeItemContainer = this._getActiveItemsContainer(e.target);\r\n            var $itemContainers = this._getItemsContainers();\r\n            var $clickedItem = this._searchActiveItem(e.target);\r\n            var $rootItem = this.$element().parents(\".\".concat(DX_MENU_ITEM_CLASS));\r\n            var isRootItemClicked = $clickedItem[0] === $rootItem[0] && $clickedItem.length && $rootItem.length;\r\n            var isInnerOverlayClicked = this._isIncludeOverlay($activeItemContainer, $itemContainers) && $clickedItem.length;\r\n            if (isInnerOverlayClicked || isRootItemClicked) {\r\n                if (\"onClick\" === this._getShowSubmenuMode()) {\r\n                    this._hideAllShownChildSubmenus($clickedItem)\r\n                }\r\n                return false\r\n            }\r\n            return true\r\n        }\r\n    }, {\r\n        key: \"_getActiveItemsContainer\",\r\n        value: function(target) {\r\n            return (0, _renderer.default)(target).closest(\".\".concat(DX_MENU_ITEMS_CONTAINER_CLASS))\r\n        }\r\n    }, {\r\n        key: \"_getItemsContainers\",\r\n        value: function() {\r\n            return this._overlay._$content.find(\".\".concat(DX_MENU_ITEMS_CONTAINER_CLASS))\r\n        }\r\n    }, {\r\n        key: \"_searchActiveItem\",\r\n        value: function(target) {\r\n            return (0, _renderer.default)(target).closest(\".\".concat(DX_MENU_ITEM_CLASS)).eq(0)\r\n        }\r\n    }, {\r\n        key: \"_isIncludeOverlay\",\r\n        value: function($activeOverlay, $allOverlays) {\r\n            var isSame = false;\r\n            (0, _iterator.each)($allOverlays, function(index, $overlay) {\r\n                if ($activeOverlay.is($overlay) && !isSame) {\r\n                    isSame = true\r\n                }\r\n            });\r\n            return isSame\r\n        }\r\n    }, {\r\n        key: \"_hideAllShownChildSubmenus\",\r\n        value: function($clickedItem) {\r\n            var _this4 = this;\r\n            var $submenuElements = $clickedItem.find(\".\".concat(DX_SUBMENU_CLASS));\r\n            var shownSubmenus = (0, _extend.extend)([], this._shownSubmenus);\r\n            if ($submenuElements.length > 0) {\r\n                (0, _iterator.each)(shownSubmenus, function(index, $submenu) {\r\n                    var $context = _this4._searchActiveItem($submenu.context).parent();\r\n                    if ($context.parent().is($clickedItem.parent().parent()) && !$context.is($clickedItem.parent())) {\r\n                        _this4._hideSubmenu($submenu)\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_showSubmenu\",\r\n        value: function($item) {\r\n            var node = this._dataAdapter.getNodeByItem(this._getItemData($item));\r\n            this._hideSubmenusOnSameLevel($item);\r\n            if (!this._hasSubmenu(node)) {\r\n                return\r\n            }\r\n            var $submenu = $item.children(\".\".concat(DX_SUBMENU_CLASS));\r\n            var isSubmenuRendered = $submenu.length;\r\n            _get(_getPrototypeOf(ContextMenu.prototype), \"_showSubmenu\", this).call(this, $item);\r\n            if (!isSubmenuRendered) {\r\n                this._renderSubmenuItems(node, $item)\r\n            }\r\n            if (!this._isSubmenuVisible($submenu)) {\r\n                this._drawSubmenu($item)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_hideSubmenusOnSameLevel\",\r\n        value: function($item) {\r\n            var $expandedItems = $item.parent(\".\".concat(DX_MENU_ITEM_WRAPPER_CLASS)).siblings().find(\".\".concat(DX_MENU_ITEM_EXPANDED_CLASS));\r\n            if ($expandedItems.length) {\r\n                $expandedItems.removeClass(DX_MENU_ITEM_EXPANDED_CLASS);\r\n                this._hideSubmenu($expandedItems.find(\".\".concat(DX_SUBMENU_CLASS)))\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_hideSubmenuGroup\",\r\n        value: function($submenu) {\r\n            if (this._isSubmenuVisible($submenu)) {\r\n                this._hideSubmenuCore($submenu)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_isSubmenuVisible\",\r\n        value: function($submenu) {\r\n            return \"visible\" === $submenu.css(\"visibility\")\r\n        }\r\n    }, {\r\n        key: \"_drawSubmenu\",\r\n        value: function($itemElement) {\r\n            var animation = this.option(\"animation\") ? this.option(\"animation\").show : {};\r\n            var $submenu = $itemElement.children(\".\".concat(DX_SUBMENU_CLASS));\r\n            var submenuPosition = this._getSubmenuPosition($itemElement);\r\n            if (this._overlay && this._overlay.option(\"visible\")) {\r\n                if (!(0, _type.isDefined)(this._shownSubmenus)) {\r\n                    this._shownSubmenus = []\r\n                }\r\n                if ((0, _array.inArray)($submenu, this._shownSubmenus)) {\r\n                    this._shownSubmenus.push($submenu)\r\n                }\r\n                if (animation) {\r\n                    _fx.default.stop($submenu)\r\n                }\r\n                _position.default.setup($submenu, submenuPosition);\r\n                if (animation) {\r\n                    if ((0, _type.isPlainObject)(animation.to)) {\r\n                        animation.to.position = submenuPosition\r\n                    }\r\n                    this._animate($submenu, animation)\r\n                }\r\n                $submenu.css(\"visibility\", \"visible\")\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_animate\",\r\n        value: function($container, options) {\r\n            _fx.default.animate($container, options)\r\n        }\r\n    }, {\r\n        key: \"_getSubmenuPosition\",\r\n        value: function($rootItem) {\r\n            var submenuDirection = this.option(\"submenuDirection\").toLowerCase();\r\n            var $rootItemWrapper = $rootItem.parent(\".\".concat(DX_MENU_ITEM_WRAPPER_CLASS));\r\n            var position = {\r\n                collision: \"flip\",\r\n                of: $rootItemWrapper,\r\n                offset: {\r\n                    h: 0,\r\n                    v: -1\r\n                }\r\n            };\r\n            switch (submenuDirection) {\r\n                case \"left\":\r\n                    position.at = \"left top\";\r\n                    position.my = \"right top\";\r\n                    break;\r\n                case \"right\":\r\n                    position.at = \"right top\";\r\n                    position.my = \"left top\";\r\n                    break;\r\n                default:\r\n                    if (this.option(\"rtlEnabled\")) {\r\n                        position.at = \"left top\";\r\n                        position.my = \"right top\"\r\n                    } else {\r\n                        position.at = \"right top\";\r\n                        position.my = \"left top\"\r\n                    }\r\n            }\r\n            return position\r\n        }\r\n    }, {\r\n        key: \"_updateSubmenuVisibilityOnClick\",\r\n        value: function(actionArgs) {\r\n            if (!actionArgs.args.length) {\r\n                return\r\n            }\r\n            var itemData = actionArgs.args[0].itemData;\r\n            var node = this._dataAdapter.getNodeByItem(itemData);\r\n            if (!node) {\r\n                return\r\n            }\r\n            var $itemElement = (0, _renderer.default)(actionArgs.args[0].itemElement);\r\n            var $submenu = $itemElement.find(\".\".concat(DX_SUBMENU_CLASS));\r\n            var shouldRenderSubmenu = this._hasSubmenu(node) && !$submenu.length;\r\n            if (shouldRenderSubmenu) {\r\n                this._renderSubmenuItems(node, $itemElement);\r\n                $submenu = $itemElement.find(\".\".concat(DX_SUBMENU_CLASS))\r\n            }\r\n            if ($itemElement.context === $submenu.context && \"visible\" === $submenu.css(\"visibility\")) {\r\n                return\r\n            }\r\n            var notCloseMenuOnItemClick = itemData && false === itemData.closeMenuOnClick;\r\n            if (!itemData || itemData.disabled || notCloseMenuOnItemClick) {\r\n                return\r\n            }\r\n            this._updateSelectedItemOnClick(actionArgs);\r\n            if (0 === $submenu.length) {\r\n                var $prevSubmenu = (0, _renderer.default)($itemElement.parents(\".\".concat(DX_SUBMENU_CLASS))[0]);\r\n                this._hideSubmenu($prevSubmenu);\r\n                if (!actionArgs.canceled && this._overlay && this._overlay.option(\"visible\")) {\r\n                    this.option(\"visible\", false)\r\n                }\r\n            } else {\r\n                if (this._shownSubmenus && this._shownSubmenus.length > 0) {\r\n                    if (this._shownSubmenus[0].is($submenu)) {\r\n                        this._hideSubmenu($submenu)\r\n                    }\r\n                }\r\n                this._showSubmenu($itemElement)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_hideSubmenu\",\r\n        value: function($curSubmenu) {\r\n            var _this5 = this;\r\n            var shownSubmenus = (0, _extend.extend)([], this._shownSubmenus);\r\n            (0, _iterator.each)(shownSubmenus, function(index, $submenu) {\r\n                if ($curSubmenu.is($submenu) || (0, _dom.contains)($curSubmenu[0], $submenu[0])) {\r\n                    $submenu.parent().removeClass(DX_MENU_ITEM_EXPANDED_CLASS);\r\n                    _this5._hideSubmenuCore($submenu)\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_hideSubmenuCore\",\r\n        value: function($submenu) {\r\n            var index = (0, _array.inArray)($submenu, this._shownSubmenus);\r\n            var animation = this.option(\"animation\") ? this.option(\"animation\").hide : null;\r\n            if (index >= 0) {\r\n                this._shownSubmenus.splice(index, 1)\r\n            }\r\n            this._stopAnimate($submenu);\r\n            animation && this._animate($submenu, animation);\r\n            $submenu.css(\"visibility\", \"hidden\")\r\n        }\r\n    }, {\r\n        key: \"_stopAnimate\",\r\n        value: function($container) {\r\n            _fx.default.stop($container, true)\r\n        }\r\n    }, {\r\n        key: \"_hideAllShownSubmenus\",\r\n        value: function() {\r\n            var _this6 = this;\r\n            var shownSubmenus = (0, _extend.extend)([], this._shownSubmenus);\r\n            var $expandedItems = this._overlay.$content().find(\".\".concat(DX_MENU_ITEM_EXPANDED_CLASS));\r\n            $expandedItems.removeClass(DX_MENU_ITEM_EXPANDED_CLASS);\r\n            (0, _iterator.each)(shownSubmenus, function(_, $submenu) {\r\n                _this6._hideSubmenu($submenu)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_visibilityChanged\",\r\n        value: function(visible) {\r\n            if (visible) {\r\n                this._renderContentImpl()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_optionChanged\",\r\n        value: function(args) {\r\n            if ((0, _array.inArray)(args.name, ACTIONS) > -1) {\r\n                this._initActions();\r\n                return\r\n            }\r\n            switch (args.name) {\r\n                case \"visible\":\r\n                    this._renderVisibility(args.value);\r\n                    break;\r\n                case \"showEvent\":\r\n                case \"position\":\r\n                case \"submenuDirection\":\r\n                    this._invalidate();\r\n                    break;\r\n                case \"target\":\r\n                    args.previousValue && this._detachShowContextMenuEvents(args.previousValue);\r\n                    this._invalidate();\r\n                    break;\r\n                case \"closeOnOutsideClick\":\r\n                    break;\r\n                default:\r\n                    _get(_getPrototypeOf(ContextMenu.prototype), \"_optionChanged\", this).call(this, args)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_renderVisibility\",\r\n        value: function(showing) {\r\n            return showing ? this._show() : this._hide()\r\n        }\r\n    }, {\r\n        key: \"_toggleVisibility\",\r\n        value: function() {}\r\n    }, {\r\n        key: \"_show\",\r\n        value: function(event) {\r\n            var args = {\r\n                jQEvent: event\r\n            };\r\n            var promise = (new _deferred.Deferred).reject().promise();\r\n            this._actions.onShowing(args);\r\n            if (args.cancel) {\r\n                return promise\r\n            }\r\n            var position = this._positionContextMenu(event);\r\n            if (position) {\r\n                if (!this._overlay) {\r\n                    this._renderContextMenuOverlay();\r\n                    this._overlay.$content().addClass(this._widgetClass());\r\n                    this._renderFocusState();\r\n                    this._attachHoverEvents();\r\n                    this._attachClickEvent();\r\n                    this._renderItems(this._dataAdapter.getRootNodes())\r\n                }\r\n                this._setOptionWithoutOptionChange(\"visible\", true);\r\n                this._overlay.option(\"position\", position);\r\n                promise = this._overlay.show();\r\n                event && event.stopPropagation();\r\n                this._setAriaAttributes()\r\n            }\r\n            return promise\r\n        }\r\n    }, {\r\n        key: \"_setAriaAttributes\",\r\n        value: function() {\r\n            this._overlayContentId = \"dx-\".concat(new _guid.default);\r\n            this.setAria(\"owns\", this._overlayContentId);\r\n            this.setAria({\r\n                id: this._overlayContentId,\r\n                role: \"menu\"\r\n            }, this._overlay.$content())\r\n        }\r\n    }, {\r\n        key: \"_cleanAriaAttributes\",\r\n        value: function() {\r\n            this._overlay && this.setAria(\"id\", null, this._overlay.$content());\r\n            this.setAria(\"owns\", void 0)\r\n        }\r\n    }, {\r\n        key: \"_getTarget\",\r\n        value: function() {\r\n            return this.option(\"target\") || this.option(\"position\").of || (0, _renderer.default)(_dom_adapter.default.getDocument())\r\n        }\r\n    }, {\r\n        key: \"_getContextMenuPosition\",\r\n        value: function() {\r\n            return (0, _extend.extend)({}, this.option(\"position\"), {\r\n                of: this._getTarget()\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_positionContextMenu\",\r\n        value: function(jQEvent) {\r\n            var position = this._getContextMenuPosition();\r\n            var isInitialPosition = this._isInitialOptionValue(\"position\");\r\n            var positioningAction = this._createActionByOption(\"onPositioning\", actionArgs);\r\n            if (jQEvent && jQEvent.preventDefault && isInitialPosition) {\r\n                position.of = jQEvent\r\n            }\r\n            var actionArgs = {\r\n                position: position,\r\n                event: jQEvent\r\n            };\r\n            positioningAction(actionArgs);\r\n            if (actionArgs.cancel) {\r\n                position = null\r\n            } else {\r\n                if (actionArgs.event) {\r\n                    actionArgs.event.cancel = true;\r\n                    jQEvent.preventDefault()\r\n                }\r\n            }\r\n            return position\r\n        }\r\n    }, {\r\n        key: \"_refresh\",\r\n        value: function() {\r\n            if (!(0, _window.hasWindow)()) {\r\n                _get(_getPrototypeOf(ContextMenu.prototype), \"_refresh\", this).call(this)\r\n            } else {\r\n                if (this._overlay) {\r\n                    var lastPosition = this._overlay.option(\"position\");\r\n                    _get(_getPrototypeOf(ContextMenu.prototype), \"_refresh\", this).call(this);\r\n                    this._overlay && this._overlay.option(\"position\", lastPosition)\r\n                } else {\r\n                    _get(_getPrototypeOf(ContextMenu.prototype), \"_refresh\", this).call(this)\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_hide\",\r\n        value: function() {\r\n            var promise;\r\n            if (this._overlay) {\r\n                promise = this._overlay.hide();\r\n                this._setOptionWithoutOptionChange(\"visible\", false)\r\n            }\r\n            this._cleanAriaAttributes();\r\n            this.option(\"focusedElement\", null);\r\n            return promise || (new _deferred.Deferred).reject().promise()\r\n        }\r\n    }, {\r\n        key: \"toggle\",\r\n        value: function(showing) {\r\n            var visible = this.option(\"visible\");\r\n            showing = void 0 === showing ? !visible : showing;\r\n            return this._renderVisibility(showing)\r\n        }\r\n    }, {\r\n        key: \"show\",\r\n        value: function() {\r\n            return this.toggle(true)\r\n        }\r\n    }, {\r\n        key: \"hide\",\r\n        value: function() {\r\n            return this.toggle(false)\r\n        }\r\n    }]);\r\n    return ContextMenu\r\n}(_ui.default);\r\n(0, _component_registrator.default)(\"dxContextMenu\", ContextMenu);\r\nvar _default = ContextMenu;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/hierarchical_collection/ui.data_adapter.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _class = _interopRequireDefault(require(\"../../core/class\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _ui = _interopRequireDefault(require(\"../../ui/widget/ui.errors\"));\r\nvar _ui2 = _interopRequireDefault(require(\"../../ui/widget/ui.search_box_mixin\"));\r\nvar _array = require(\"../../core/utils/array\");\r\nvar _query = _interopRequireDefault(require(\"../../data/query\"));\r\nvar _store_helper = _interopRequireDefault(require(\"../../data/store_helper\"));\r\nvar _ui3 = _interopRequireDefault(require(\"./ui.data_converter\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar EXPANDED = \"expanded\";\r\nvar SELECTED = \"selected\";\r\nvar DISABLED = \"disabled\";\r\nvar DataAdapter = _class.default.inherit({\r\n    ctor: function(options) {\r\n        this.options = {};\r\n        (0, _extend.extend)(this.options, this._defaultOptions(), options);\r\n        this.options.dataConverter.setDataAccessors(this.options.dataAccessors);\r\n        this._selectedNodesKeys = [];\r\n        this._expandedNodesKeys = [];\r\n        this._dataStructure = [];\r\n        this._createInternalDataStructure();\r\n        this.getTreeNodes()\r\n    },\r\n    setOption: function(name, value) {\r\n        this.options[name] = value;\r\n        if (\"recursiveSelection\" === name) {\r\n            this._updateSelection()\r\n        }\r\n    },\r\n    _defaultOptions: function() {\r\n        return {\r\n            dataAccessors: void 0,\r\n            items: [],\r\n            multipleSelection: true,\r\n            recursiveSelection: false,\r\n            recursiveExpansion: false,\r\n            rootValue: 0,\r\n            searchValue: \"\",\r\n            dataType: \"tree\",\r\n            searchMode: \"contains\",\r\n            dataConverter: new _ui3.default,\r\n            onNodeChanged: _common.noop,\r\n            sort: null\r\n        }\r\n    },\r\n    _createInternalDataStructure: function() {\r\n        this._initialDataStructure = this.options.dataConverter.createPlainStructure(this.options.items, this.options.rootValue, this.options.dataType);\r\n        this._dataStructure = this.options.searchValue.length ? this.search(this.options.searchValue) : this._initialDataStructure;\r\n        this.options.dataConverter._dataStructure = this._dataStructure;\r\n        this._updateSelection();\r\n        this._updateExpansion()\r\n    },\r\n    _updateSelection: function() {\r\n        if (this.options.recursiveSelection) {\r\n            this._setChildrenSelection();\r\n            this._setParentSelection()\r\n        }\r\n        this._selectedNodesKeys = this._updateNodesKeysArray(SELECTED)\r\n    },\r\n    _updateExpansion: function(key) {\r\n        if (this.options.recursiveExpansion) {\r\n            key ? this._updateOneBranch(key) : this._setParentExpansion()\r\n        }\r\n        this._expandedNodesKeys = this._updateNodesKeysArray(EXPANDED)\r\n    },\r\n    _updateNodesKeysArray: function(property) {\r\n        var that = this;\r\n        var array = [];\r\n        (0, _iterator.each)(that._getDataBySelectionMode(), function(_, node) {\r\n            if (!that._isNodeVisible(node)) {\r\n                return\r\n            }\r\n            if (node.internalFields[property]) {\r\n                if (property === EXPANDED || that.options.multipleSelection) {\r\n                    array.push(node.internalFields.key)\r\n                } else {\r\n                    array.length && that.toggleSelection(array[0], false, true);\r\n                    array = [node.internalFields.key]\r\n                }\r\n            }\r\n        });\r\n        return array\r\n    },\r\n    _getDataBySelectionMode: function() {\r\n        return this.options.multipleSelection ? this.getData() : this.getFullData()\r\n    },\r\n    _isNodeVisible: function(node) {\r\n        return false !== node.internalFields.item.visible\r\n    },\r\n    _getByKey: function(data, key) {\r\n        return data === this._dataStructure ? this.options.dataConverter._getByKey(key) : this.options.dataConverter.getByKey(data, key)\r\n    },\r\n    _setChildrenSelection: function() {\r\n        var that = this;\r\n        (0, _iterator.each)(this._dataStructure, function(_, node) {\r\n            if (!node.internalFields.childrenKeys.length) {\r\n                return\r\n            }\r\n            var isSelected = node.internalFields.selected;\r\n            true === isSelected && that._toggleChildrenSelection(node, isSelected)\r\n        })\r\n    },\r\n    _setParentSelection: function() {\r\n        var that = this;\r\n        (0, _iterator.each)(this._dataStructure, function(_, node) {\r\n            var parent = that.options.dataConverter.getParentNode(node);\r\n            if (parent && node.internalFields.parentKey !== that.options.rootValue) {\r\n                that._iterateParents(node, function(parent) {\r\n                    var newParentState = that._calculateSelectedState(parent);\r\n                    that._setFieldState(parent, SELECTED, newParentState)\r\n                })\r\n            }\r\n        })\r\n    },\r\n    _setParentExpansion: function() {\r\n        var that = this;\r\n        (0, _iterator.each)(this._dataStructure, function(_, node) {\r\n            if (!node.internalFields.expanded) {\r\n                return\r\n            }\r\n            that._updateOneBranch(node.internalFields.key)\r\n        })\r\n    },\r\n    _updateOneBranch: function(key) {\r\n        var that = this;\r\n        var node = this.getNodeByKey(key);\r\n        that._iterateParents(node, function(parent) {\r\n            that._setFieldState(parent, EXPANDED, true)\r\n        })\r\n    },\r\n    _iterateChildren: function(node, recursive, callback, processedKeys) {\r\n        if (!(0, _type.isFunction)(callback)) {\r\n            return\r\n        }\r\n        var that = this;\r\n        var nodeKey = node.internalFields.key;\r\n        processedKeys = processedKeys || [];\r\n        if (processedKeys.indexOf(nodeKey) === -1) {\r\n            processedKeys.push(nodeKey);\r\n            (0, _iterator.each)(node.internalFields.childrenKeys, function(_, key) {\r\n                var child = that.getNodeByKey(key);\r\n                callback(child);\r\n                if (child.internalFields.childrenKeys.length && recursive) {\r\n                    that._iterateChildren(child, recursive, callback, processedKeys)\r\n                }\r\n            })\r\n        }\r\n    },\r\n    _iterateParents: function(node, callback, processedKeys) {\r\n        if (node.internalFields.parentKey === this.options.rootValue || !(0, _type.isFunction)(callback)) {\r\n            return\r\n        }\r\n        processedKeys = processedKeys || [];\r\n        var key = node.internalFields.key;\r\n        if (processedKeys.indexOf(key) === -1) {\r\n            processedKeys.push(key);\r\n            var parent = this.options.dataConverter.getParentNode(node);\r\n            if (parent) {\r\n                callback(parent);\r\n                if (parent.internalFields.parentKey !== this.options.rootValue) {\r\n                    this._iterateParents(parent, callback, processedKeys)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _calculateSelectedState: function(node) {\r\n        var itemsCount = node.internalFields.childrenKeys.length;\r\n        var selectedItemsCount = 0;\r\n        var invisibleItemsCount = 0;\r\n        var result = false;\r\n        for (var i = 0; i <= itemsCount - 1; i++) {\r\n            var childNode = this.getNodeByKey(node.internalFields.childrenKeys[i]);\r\n            var isChildInvisible = false === childNode.internalFields.item.visible;\r\n            var childState = childNode.internalFields.selected;\r\n            if (isChildInvisible) {\r\n                invisibleItemsCount++;\r\n                continue\r\n            }\r\n            if (childState) {\r\n                selectedItemsCount++\r\n            } else {\r\n                if (void 0 === childState) {\r\n                    selectedItemsCount += .5\r\n                }\r\n            }\r\n        }\r\n        if (selectedItemsCount) {\r\n            result = selectedItemsCount === itemsCount - invisibleItemsCount ? true : void 0\r\n        }\r\n        return result\r\n    },\r\n    _toggleChildrenSelection: function(node, state) {\r\n        var that = this;\r\n        this._iterateChildren(node, true, function(child) {\r\n            if (that._isNodeVisible(child)) {\r\n                that._setFieldState(child, SELECTED, state)\r\n            }\r\n        })\r\n    },\r\n    _setFieldState: function(node, field, state) {\r\n        if (node.internalFields[field] === state) {\r\n            return\r\n        }\r\n        node.internalFields[field] = state;\r\n        if (node.internalFields.publicNode) {\r\n            node.internalFields.publicNode[field] = state\r\n        }\r\n        this.options.dataAccessors.setters[field](node.internalFields.item, state);\r\n        this.options.onNodeChanged(node)\r\n    },\r\n    _markChildren: function(keys) {\r\n        var that = this;\r\n        (0, _iterator.each)(keys, function(_, key) {\r\n            var index = that.getIndexByKey(key);\r\n            var node = that.getNodeByKey(key);\r\n            that._dataStructure[index] = 0;\r\n            node.internalFields.childrenKeys.length && that._markChildren(node.internalFields.childrenKeys)\r\n        })\r\n    },\r\n    _removeNode: function(key) {\r\n        var node = this.getNodeByKey(key);\r\n        this._dataStructure[this.getIndexByKey(key)] = 0;\r\n        this._markChildren(node.internalFields.childrenKeys);\r\n        var that = this;\r\n        var counter = 0;\r\n        var items = (0, _extend.extend)([], this._dataStructure);\r\n        (0, _iterator.each)(items, function(index, item) {\r\n            if (!item) {\r\n                that._dataStructure.splice(index - counter, 1);\r\n                counter++\r\n            }\r\n        })\r\n    },\r\n    _addNode: function(item) {\r\n        var dataConverter = this.options.dataConverter;\r\n        var node = dataConverter._convertItemToNode(item, this.options.dataAccessors.getters.parentKey(item));\r\n        this._dataStructure = this._dataStructure.concat(node);\r\n        this._initialDataStructure = this._initialDataStructure.concat(node);\r\n        dataConverter._dataStructure = dataConverter._dataStructure.concat(node)\r\n    },\r\n    _updateFields: function() {\r\n        this.options.dataConverter.updateChildrenKeys();\r\n        this._updateSelection();\r\n        this._updateExpansion()\r\n    },\r\n    getSelectedNodesKeys: function() {\r\n        return this._selectedNodesKeys\r\n    },\r\n    getExpandedNodesKeys: function() {\r\n        return this._expandedNodesKeys\r\n    },\r\n    getData: function() {\r\n        return this._dataStructure\r\n    },\r\n    getFullData: function() {\r\n        return this._initialDataStructure\r\n    },\r\n    getNodeByItem: function(item) {\r\n        var result = null;\r\n        (0, _iterator.each)(this._dataStructure, function(_, node) {\r\n            if (node.internalFields.item === item) {\r\n                result = node;\r\n                return false\r\n            }\r\n        });\r\n        return result\r\n    },\r\n    getNodesByItems: function(items) {\r\n        var that = this;\r\n        var nodes = [];\r\n        (0, _iterator.each)(items, function(_, item) {\r\n            var node = that.getNodeByItem(item);\r\n            node && nodes.push(node)\r\n        });\r\n        return nodes\r\n    },\r\n    getNodeByKey: function(key, data) {\r\n        return this._getByKey(data || this._getDataBySelectionMode(), key)\r\n    },\r\n    getTreeNodes: function() {\r\n        return this.options.dataConverter.convertToPublicNodes(this.getRootNodes())\r\n    },\r\n    getItemsCount: function() {\r\n        return this.options.dataConverter.getItemsCount()\r\n    },\r\n    getVisibleItemsCount: function() {\r\n        return this.options.dataConverter.getVisibleItemsCount()\r\n    },\r\n    getPublicNode: function(node) {\r\n        return node.internalFields.publicNode\r\n    },\r\n    getRootNodes: function() {\r\n        return this.getChildrenNodes(this.options.rootValue)\r\n    },\r\n    getChildrenNodes: function(parentKey) {\r\n        return (0, _query.default)(this._dataStructure).filter([\"internalFields.parentKey\", parentKey]).toArray()\r\n    },\r\n    getIndexByKey: function(key) {\r\n        return this.options.dataConverter.getIndexByKey(key)\r\n    },\r\n    addItem: function(item) {\r\n        this._addNode(item);\r\n        this._updateFields()\r\n    },\r\n    removeItem: function(key) {\r\n        this._removeNode(key);\r\n        this._updateFields()\r\n    },\r\n    toggleSelection: function(key, state, selectRecursive) {\r\n        var isSingleModeUnselect = this._isSingleModeUnselect(state);\r\n        var node = this._getByKey(selectRecursive || isSingleModeUnselect ? this._initialDataStructure : this._dataStructure, key);\r\n        this._setFieldState(node, SELECTED, state);\r\n        if (this.options.recursiveSelection && !selectRecursive) {\r\n            state ? this._setChildrenSelection() : this._toggleChildrenSelection(node, state);\r\n            this._setParentSelection()\r\n        }\r\n        this._selectedNodesKeys = this._updateNodesKeysArray(SELECTED)\r\n    },\r\n    _isSingleModeUnselect: function(selectionState) {\r\n        return !this.options.multipleSelection && !selectionState\r\n    },\r\n    toggleNodeDisabledState: function(key, state) {\r\n        var node = this.getNodeByKey(key);\r\n        this._setFieldState(node, DISABLED, state)\r\n    },\r\n    toggleSelectAll: function(state) {\r\n        if (!(0, _type.isDefined)(state)) {\r\n            return\r\n        }\r\n        var that = this;\r\n        var lastSelectedKey = that._selectedNodesKeys[that._selectedNodesKeys.length - 1];\r\n        var dataStructure = that._isSingleModeUnselect(state) ? this._initialDataStructure : this._dataStructure;\r\n        (0, _iterator.each)(dataStructure, function(index, node) {\r\n            if (!that._isNodeVisible(node)) {\r\n                return\r\n            }\r\n            that._setFieldState(node, SELECTED, state)\r\n        });\r\n        that._selectedNodesKeys = that._updateNodesKeysArray(SELECTED);\r\n        if (!state && that.options.selectionRequired) {\r\n            that.toggleSelection(lastSelectedKey, true)\r\n        }\r\n    },\r\n    isAllSelected: function() {\r\n        if (this.getSelectedNodesKeys().length) {\r\n            return this.getSelectedNodesKeys().length === this.getVisibleItemsCount() ? true : void 0\r\n        } else {\r\n            return false\r\n        }\r\n    },\r\n    toggleExpansion: function(key, state) {\r\n        var node = this.getNodeByKey(key);\r\n        this._setFieldState(node, EXPANDED, state);\r\n        if (state) {\r\n            this._updateExpansion(key)\r\n        }\r\n        this._expandedNodesKeys = this._updateNodesKeysArray(EXPANDED)\r\n    },\r\n    isFiltered: function(item) {\r\n        return !this.options.searchValue.length || !!this._filterDataStructure(this.options.searchValue, [item]).length\r\n    },\r\n    _createCriteria: function(selector, value, operation) {\r\n        var searchFilter = [];\r\n        if (!Array.isArray(selector)) {\r\n            return [selector, operation, value]\r\n        }(0, _iterator.each)(selector, function(i, item) {\r\n            searchFilter.push([item, operation, value], \"or\")\r\n        });\r\n        searchFilter.pop();\r\n        return searchFilter\r\n    },\r\n    _filterDataStructure: function(filterValue, dataStructure) {\r\n        var selector = this.options.searchExpr || this.options.dataAccessors.getters.display;\r\n        var operation = _ui2.default.getOperationBySearchMode(this.options.searchMode);\r\n        var criteria = this._createCriteria(selector, filterValue, operation);\r\n        dataStructure = dataStructure || this._initialDataStructure;\r\n        return (0, _query.default)(dataStructure).filter(criteria).toArray()\r\n    },\r\n    search: function(searchValue) {\r\n        var that = this;\r\n        var matches = this._filterDataStructure(searchValue);\r\n        var dataConverter = this.options.dataConverter;\r\n\r\n        function lookForParents(matches, index) {\r\n            var length = matches.length;\r\n            while (index < length) {\r\n                var node = matches[index];\r\n                if (node.internalFields.parentKey === that.options.rootValue) {\r\n                    index++;\r\n                    continue\r\n                }\r\n                var parent = dataConverter.getParentNode(node);\r\n                if (!parent) {\r\n                    _ui.default.log(\"W1007\", node.internalFields.parentKey, node.internalFields.key);\r\n                    index++;\r\n                    continue\r\n                }\r\n                if (!parent.internalFields.expanded) {\r\n                    that._setFieldState(parent, EXPANDED, true)\r\n                }\r\n                if ((0, _array.inArray)(parent, matches) > -1) {\r\n                    index++;\r\n                    continue\r\n                }\r\n                matches.splice(index, 0, parent);\r\n                lookForParents(matches, index)\r\n            }\r\n        }\r\n        lookForParents(matches, 0);\r\n        if (this.options.sort) {\r\n            matches = _store_helper.default.queryByOptions((0, _query.default)(matches), {\r\n                sort: this.options.sort\r\n            }).toArray()\r\n        }\r\n        dataConverter._indexByKey = {};\r\n        (0, _iterator.each)(matches, function(index, node) {\r\n            node.internalFields.childrenKeys = [];\r\n            dataConverter._indexByKey[node.internalFields.key] = index\r\n        });\r\n        dataConverter._dataStructure = matches;\r\n        dataConverter.setChildrenKeys();\r\n        return dataConverter._dataStructure\r\n    }\r\n});\r\nvar _default = DataAdapter;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/hierarchical_collection/ui.data_converter.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _class = _interopRequireDefault(require(\"../../core/class\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _ui = _interopRequireDefault(require(\"../../ui/widget/ui.errors\"));\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _type = require(\"../../core/utils/type\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar DataConverter = _class.default.inherit({\r\n    ctor: function() {\r\n        this._dataStructure = [];\r\n        this._itemsCount = 0;\r\n        this._visibleItemsCount = 0\r\n    },\r\n    _indexByKey: {},\r\n    _convertItemsToNodes: function(items, parentKey) {\r\n        var that = this;\r\n        (0, _iterator.each)(items, function(_, item) {\r\n            var parentId = (0, _type.isDefined)(parentKey) ? parentKey : that._getParentId(item);\r\n            var node = that._convertItemToNode(item, parentId);\r\n            that._dataStructure.push(node);\r\n            that._checkForDuplicateId(node.internalFields.key);\r\n            that._indexByKey[node.internalFields.key] = that._dataStructure.length - 1;\r\n            if (that._itemHasChildren(item)) {\r\n                that._convertItemsToNodes(that._dataAccessors.getters.items(item), node.internalFields.key)\r\n            }\r\n        })\r\n    },\r\n    _checkForDuplicateId: function(key) {\r\n        if ((0, _type.isDefined)(this._indexByKey[key])) {\r\n            throw _ui.default.Error(\"E1040\", key)\r\n        }\r\n    },\r\n    _getParentId: function(item) {\r\n        return \"plain\" === this._dataType ? this._dataAccessors.getters.parentKey(item) : void 0\r\n    },\r\n    _itemHasChildren: function(item) {\r\n        if (\"plain\" === this._dataType) {\r\n            return\r\n        }\r\n        var items = this._dataAccessors.getters.items(item);\r\n        return items && items.length\r\n    },\r\n    _getUniqueKey: function(item) {\r\n        var keyGetter = this._dataAccessors.getters.key;\r\n        var itemKey = keyGetter(item);\r\n        var isCorrectKey = keyGetter && (itemKey || 0 === itemKey) && (0, _type.isPrimitive)(itemKey);\r\n        return isCorrectKey ? itemKey : this.getItemsCount()\r\n    },\r\n    _convertItemToNode: function(item, parentKey) {\r\n        this._itemsCount++;\r\n        false !== item.visible && this._visibleItemsCount++;\r\n        var that = this;\r\n        var node = {\r\n            internalFields: {\r\n                disabled: that._dataAccessors.getters.disabled(item, {\r\n                    defaultValue: false\r\n                }),\r\n                expanded: that._dataAccessors.getters.expanded(item, {\r\n                    defaultValue: false\r\n                }),\r\n                selected: that._dataAccessors.getters.selected(item, {\r\n                    defaultValue: false\r\n                }),\r\n                key: that._getUniqueKey(item),\r\n                parentKey: (0, _type.isDefined)(parentKey) ? parentKey : that._rootValue,\r\n                item: that._makeObjectFromPrimitive(item),\r\n                childrenKeys: []\r\n            }\r\n        };\r\n        (0, _extend.extend)(node, item);\r\n        delete node.items;\r\n        return node\r\n    },\r\n    setChildrenKeys: function() {\r\n        var that = this;\r\n        (0, _iterator.each)(this._dataStructure, function(_, node) {\r\n            if (node.internalFields.parentKey === that._rootValue) {\r\n                return\r\n            }\r\n            var parent = that.getParentNode(node);\r\n            parent && parent.internalFields.childrenKeys.push(node.internalFields.key)\r\n        })\r\n    },\r\n    _makeObjectFromPrimitive: function(item) {\r\n        if ((0, _type.isPrimitive)(item)) {\r\n            var key = item;\r\n            item = {};\r\n            this._dataAccessors.setters.key(item, key)\r\n        }\r\n        return item\r\n    },\r\n    _convertToPublicNode: function(node, parent) {\r\n        if (!node) {\r\n            return null\r\n        }\r\n        var publicNode = {\r\n            text: this._dataAccessors.getters.display(node),\r\n            key: node.internalFields.key,\r\n            selected: node.internalFields.selected,\r\n            expanded: node.internalFields.expanded,\r\n            disabled: node.internalFields.disabled,\r\n            parent: parent || null,\r\n            itemData: node.internalFields.item,\r\n            children: [],\r\n            items: []\r\n        };\r\n        if (publicNode.parent) {\r\n            publicNode.parent.children.push(publicNode);\r\n            publicNode.parent.items.push(publicNode)\r\n        }\r\n        return publicNode\r\n    },\r\n    convertToPublicNodes: function(data, parent) {\r\n        if (!data.length) {\r\n            return []\r\n        }\r\n        var that = this;\r\n        var publicNodes = [];\r\n        (0, _iterator.each)(data, function(_, node) {\r\n            node = (0, _type.isPrimitive)(node) ? that._getByKey(node) : node;\r\n            var publicNode = that._convertToPublicNode(node, parent);\r\n            publicNode.children = that.convertToPublicNodes(node.internalFields.childrenKeys, publicNode);\r\n            publicNodes.push(publicNode);\r\n            node.internalFields.publicNode = publicNode\r\n        });\r\n        return publicNodes\r\n    },\r\n    setDataAccessors: function(accessors) {\r\n        this._dataAccessors = accessors\r\n    },\r\n    _getByKey: function(key) {\r\n        return this._dataStructure[this.getIndexByKey(key)] || null\r\n    },\r\n    getParentNode: function(node) {\r\n        return this._getByKey(node.internalFields.parentKey)\r\n    },\r\n    getByKey: function getByKey(data, key) {\r\n        if (null === key || void 0 === key) {\r\n            return null\r\n        }\r\n        var result = null;\r\n        var that = this;\r\n        var getByKey = function(data, key) {\r\n            (0, _iterator.each)(data, function(_, element) {\r\n                var currentElementKey = element.internalFields && element.internalFields.key || that._dataAccessors.getters.key(element);\r\n                if (currentElementKey.toString() === key.toString()) {\r\n                    result = element;\r\n                    return false\r\n                }\r\n            });\r\n            return result\r\n        };\r\n        return getByKey(data, key)\r\n    },\r\n    getItemsCount: function() {\r\n        return this._itemsCount\r\n    },\r\n    getVisibleItemsCount: function() {\r\n        return this._visibleItemsCount\r\n    },\r\n    updateIndexByKey: function() {\r\n        var that = this;\r\n        this._indexByKey = {};\r\n        (0, _iterator.each)(this._dataStructure, function(index, node) {\r\n            that._checkForDuplicateId(node.internalFields.key);\r\n            that._indexByKey[node.internalFields.key] = index\r\n        })\r\n    },\r\n    updateChildrenKeys: function() {\r\n        this._indexByKey = {};\r\n        this.removeChildrenKeys();\r\n        this.updateIndexByKey();\r\n        this.setChildrenKeys()\r\n    },\r\n    removeChildrenKeys: function() {\r\n        this._indexByKey = {};\r\n        (0, _iterator.each)(this._dataStructure, function(index, node) {\r\n            node.internalFields.childrenKeys = []\r\n        })\r\n    },\r\n    getIndexByKey: function(key) {\r\n        return this._indexByKey[key]\r\n    },\r\n    createPlainStructure: function(items, rootValue, dataType) {\r\n        this._itemsCount = 0;\r\n        this._visibleItemsCount = 0;\r\n        this._rootValue = rootValue;\r\n        this._dataType = dataType;\r\n        this._indexByKey = {};\r\n        this._convertItemsToNodes(items);\r\n        this.setChildrenKeys();\r\n        return this._dataStructure\r\n    }\r\n});\r\nvar _default = DataConverter;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/context_menu/ui.menu_base.edit.strategy.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _uiCollection_widgetEditStrategy = _interopRequireDefault(require(\"../collection/ui.collection_widget.edit.strategy.plain\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\n\r\nfunction _createSuper(Derived) {\r\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\r\n    return function() {\r\n        var result, Super = _getPrototypeOf(Derived);\r\n        if (hasNativeReflectConstruct) {\r\n            var NewTarget = _getPrototypeOf(this).constructor;\r\n            result = Reflect.construct(Super, arguments, NewTarget)\r\n        } else {\r\n            result = Super.apply(this, arguments)\r\n        }\r\n        return _possibleConstructorReturn(this, result)\r\n    }\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _isNativeReflectConstruct() {\r\n    if (\"undefined\" === typeof Reflect || !Reflect.construct) {\r\n        return false\r\n    }\r\n    if (Reflect.construct.sham) {\r\n        return false\r\n    }\r\n    if (\"function\" === typeof Proxy) {\r\n        return true\r\n    }\r\n    try {\r\n        Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\r\n        return true\r\n    } catch (e) {\r\n        return false\r\n    }\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\nvar MenuBaseEditStrategy = function(_PlainEditStrategy) {\r\n    _inherits(MenuBaseEditStrategy, _PlainEditStrategy);\r\n    var _super = _createSuper(MenuBaseEditStrategy);\r\n\r\n    function MenuBaseEditStrategy() {\r\n        _classCallCheck(this, MenuBaseEditStrategy);\r\n        return _super.apply(this, arguments)\r\n    }\r\n    _createClass(MenuBaseEditStrategy, [{\r\n        key: \"_getPlainItems\",\r\n        value: function() {\r\n            return (0, _iterator.map)(this._collectionWidget.option(\"items\"), function getMenuItems(item) {\r\n                return item.items ? [item].concat((0, _iterator.map)(item.items, getMenuItems)) : item\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_stringifyItem\",\r\n        value: function(item) {\r\n            var _this = this;\r\n            return JSON.stringify(item, function(key, value) {\r\n                if (\"template\" === key) {\r\n                    return _this._getTemplateString(value)\r\n                }\r\n                return value\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_getTemplateString\",\r\n        value: function(template) {\r\n            var result;\r\n            if (\"object\" === _typeof(template)) {\r\n                result = (0, _renderer.default)(template).text()\r\n            } else {\r\n                result = template.toString()\r\n            }\r\n            return result\r\n        }\r\n    }]);\r\n    return MenuBaseEditStrategy\r\n}(_uiCollection_widgetEditStrategy.default);\r\nvar _default = MenuBaseEditStrategy;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.error_handling.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.error_handling\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"errorHandling\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.error_handling.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _click = require(\"../../events/click\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar ERROR_ROW_CLASS = \"dx-error-row\";\r\nvar ERROR_MESSAGE_CLASS = \"dx-error-message\";\r\nvar ERROR_CLOSEBUTTON_CLASS = \"dx-closebutton\";\r\nvar ACTION_CLASS = \"action\";\r\nvar ErrorHandlingController = _uiGrid_core.default.ViewController.inherit({\r\n    init: function() {\r\n        var that = this;\r\n        that._columnHeadersView = that.getView(\"columnHeadersView\");\r\n        that._rowsView = that.getView(\"rowsView\")\r\n    },\r\n    _createErrorRow: function(error, $tableElements) {\r\n        var that = this;\r\n        var $errorRow;\r\n        var $closeButton;\r\n        var $errorMessage = this._renderErrorMessage(error);\r\n        if ($tableElements) {\r\n            $errorRow = (0, _renderer.default)(\"<tr>\").addClass(ERROR_ROW_CLASS);\r\n            $closeButton = (0, _renderer.default)(\"<div>\").addClass(ERROR_CLOSEBUTTON_CLASS).addClass(that.addWidgetPrefix(ACTION_CLASS));\r\n            _events_engine.default.on($closeButton, _click.name, that.createAction(function(args) {\r\n                var e = args.event;\r\n                var $errorRow;\r\n                var errorRowIndex = (0, _renderer.default)(e.currentTarget).closest(\".\" + ERROR_ROW_CLASS).index();\r\n                e.stopPropagation();\r\n                (0, _iterator.each)($tableElements, function(_, tableElement) {\r\n                    $errorRow = (0, _renderer.default)(tableElement).children(\"tbody\").children(\"tr\").eq(errorRowIndex);\r\n                    that.removeErrorRow($errorRow)\r\n                });\r\n                that.getController(\"resizing\") && that.getController(\"resizing\").fireContentReadyAction()\r\n            }));\r\n            (0, _renderer.default)(\"<td>\").attr({\r\n                colSpan: that.getController(\"columns\").getVisibleColumns().length,\r\n                role: \"presentation\"\r\n            }).prepend($closeButton).append($errorMessage).appendTo($errorRow);\r\n            return $errorRow\r\n        }\r\n        return $errorMessage\r\n    },\r\n    _renderErrorMessage: function(error) {\r\n        var message = error.url ? error.message.replace(error.url, \"\") : error.message || error;\r\n        var $message = (0, _renderer.default)(\"<div>\").addClass(ERROR_MESSAGE_CLASS).text(message);\r\n        if (error.url) {\r\n            (0, _renderer.default)(\"<a>\").attr(\"href\", error.url).text(error.url).appendTo($message)\r\n        }\r\n        return $message\r\n    },\r\n    renderErrorRow: function(error, rowIndex, $popupContent) {\r\n        var that = this;\r\n        var $errorMessageElement;\r\n        var $firstErrorRow;\r\n        if ($popupContent) {\r\n            $popupContent.find(\".\" + ERROR_MESSAGE_CLASS).remove();\r\n            $errorMessageElement = that._createErrorRow(error);\r\n            $popupContent.prepend($errorMessageElement);\r\n            return $errorMessageElement\r\n        }\r\n        var viewElement = rowIndex >= 0 || !that._columnHeadersView.isVisible() ? that._rowsView : that._columnHeadersView;\r\n        var $tableElements = $popupContent || viewElement.getTableElements();\r\n        (0, _iterator.each)($tableElements, function(_, tableElement) {\r\n            $errorMessageElement = that._createErrorRow(error, $tableElements);\r\n            $firstErrorRow = $firstErrorRow || $errorMessageElement;\r\n            if (rowIndex >= 0) {\r\n                var $row = viewElement._getRowElements((0, _renderer.default)(tableElement)).eq(rowIndex);\r\n                that.removeErrorRow($row.next());\r\n                $errorMessageElement.insertAfter($row)\r\n            } else {\r\n                var $tbody = (0, _renderer.default)(tableElement).children(\"tbody\");\r\n                var rowElements = $tbody.children(\"tr\");\r\n                if (that._columnHeadersView.isVisible()) {\r\n                    that.removeErrorRow(rowElements.last());\r\n                    (0, _renderer.default)(tableElement).append($errorMessageElement)\r\n                } else {\r\n                    that.removeErrorRow(rowElements.first());\r\n                    $tbody.first().prepend($errorMessageElement)\r\n                }\r\n            }\r\n        });\r\n        if (!$popupContent) {\r\n            var resizingController = that.getController(\"resizing\");\r\n            resizingController && resizingController.fireContentReadyAction()\r\n        }\r\n        return $firstErrorRow\r\n    },\r\n    removeErrorRow: function($row) {\r\n        if (!$row) {\r\n            var $columnHeaders = this._columnHeadersView && this._columnHeadersView.element();\r\n            $row = $columnHeaders && $columnHeaders.find(\".\" + ERROR_ROW_CLASS);\r\n            if (!$row || !$row.length) {\r\n                var $rowsViewElement = this._rowsView.element();\r\n                $row = $rowsViewElement && $rowsViewElement.find(\".\" + ERROR_ROW_CLASS)\r\n            }\r\n        }\r\n        $row && $row.hasClass(ERROR_ROW_CLASS) && $row.remove()\r\n    },\r\n    optionChanged: function(args) {\r\n        var that = this;\r\n        switch (args.name) {\r\n            case \"errorRowEnabled\":\r\n                args.handled = true;\r\n                break;\r\n            default:\r\n                that.callBase(args)\r\n        }\r\n    }\r\n});\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            errorRowEnabled: true\r\n        }\r\n    },\r\n    controllers: {\r\n        errorHandling: ErrorHandlingController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                init: function() {\r\n                    var that = this;\r\n                    var errorHandlingController = that.getController(\"errorHandling\");\r\n                    that.callBase();\r\n                    that.dataErrorOccurred.add(function(error, $popupContent) {\r\n                        if (that.option(\"errorRowEnabled\")) {\r\n                            errorHandlingController.renderErrorRow(error, void 0, $popupContent)\r\n                        }\r\n                    });\r\n                    that.changed.add(function(e) {\r\n                        if (e && \"loadError\" === e.changeType) {\r\n                            return\r\n                        }\r\n                        var errorHandlingController = that.getController(\"errorHandling\");\r\n                        var editingController = that.getController(\"editing\");\r\n                        if (editingController && !editingController.hasChanges()) {\r\n                            errorHandlingController && errorHandlingController.removeErrorRow()\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.grid_view.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.grid_view\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"gridView\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.grid_view.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _position = require(\"../../core/utils/position\");\r\nvar _uiGrid_core2 = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _dom_adapter = _interopRequireDefault(require(\"../../core/dom_adapter\"));\r\nvar _browser = _interopRequireDefault(require(\"../../core/utils/browser\"));\r\nvar accessibility = _interopRequireWildcard(require(\"../shared/accessibility\"));\r\n\r\nfunction _getRequireWildcardCache() {\r\n    if (\"function\" !== typeof WeakMap) {\r\n        return null\r\n    }\r\n    var cache = new WeakMap;\r\n    _getRequireWildcardCache = function() {\r\n        return cache\r\n    };\r\n    return cache\r\n}\r\n\r\nfunction _interopRequireWildcard(obj) {\r\n    if (obj && obj.__esModule) {\r\n        return obj\r\n    }\r\n    if (null === obj || \"object\" !== _typeof(obj) && \"function\" !== typeof obj) {\r\n        return {\r\n            \"default\": obj\r\n        }\r\n    }\r\n    var cache = _getRequireWildcardCache();\r\n    if (cache && cache.has(obj)) {\r\n        return cache.get(obj)\r\n    }\r\n    var newObj = {};\r\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\r\n    for (var key in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\r\n            if (desc && (desc.get || desc.set)) {\r\n                Object.defineProperty(newObj, key, desc)\r\n            } else {\r\n                newObj[key] = obj[key]\r\n            }\r\n        }\r\n    }\r\n    newObj.default = obj;\r\n    if (cache) {\r\n        cache.set(obj, newObj)\r\n    }\r\n    return newObj\r\n}\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar TABLE_CLASS = \"table\";\r\nvar BORDERS_CLASS = \"borders\";\r\nvar TABLE_FIXED_CLASS = \"table-fixed\";\r\nvar IMPORTANT_MARGIN_CLASS = \"important-margin\";\r\nvar TEXT_CONTENT_CLASS = \"text-content\";\r\nvar HIDDEN_CLASS = \"dx-hidden\";\r\nvar GRIDBASE_CONTAINER_CLASS = \"dx-gridbase-container\";\r\nvar HIDDEN_COLUMNS_WIDTH = \"adaptiveHidden\";\r\nvar EDITORS_INPUT_SELECTOR = \"input:not([type='hidden'])\";\r\nvar VIEW_NAMES = [\"columnsSeparatorView\", \"blockSeparatorView\", \"trackerView\", \"headerPanel\", \"columnHeadersView\", \"rowsView\", \"footerView\", \"columnChooserView\", \"filterPanelView\", \"pagerView\", \"draggingHeaderView\", \"contextMenuView\", \"errorView\", \"headerFilterView\", \"filterBuilderView\"];\r\nvar isPercentWidth = function(width) {\r\n    return (0, _type.isString)(width) && \"%\" === width.slice(-1)\r\n};\r\nvar isPixelWidth = function(width) {\r\n    return (0, _type.isString)(width) && \"px\" === width.slice(-2)\r\n};\r\nvar mergeArraysByMaxValue = function(values1, values2) {\r\n    var result = [];\r\n    if (values1 && values2 && values1.length && values1.length === values2.length) {\r\n        for (var i = 0; i < values1.length; i++) {\r\n            result.push(values1[i] > values2[i] ? values1[i] : values2[i])\r\n        }\r\n    } else {\r\n        if (values1 && values1.length) {\r\n            result = values1\r\n        } else {\r\n            if (values2) {\r\n                result = values2\r\n            }\r\n        }\r\n    }\r\n    return result\r\n};\r\nvar getContainerHeight = function($container) {\r\n    var clientHeight = $container.get(0).clientHeight;\r\n    var paddingTop = parseFloat($container.css(\"paddingTop\"));\r\n    var paddingBottom = parseFloat($container.css(\"paddingBottom\"));\r\n    return clientHeight - paddingTop - paddingBottom\r\n};\r\nvar calculateFreeWidth = function(that, widths) {\r\n    var contentWidth = that._rowsView.contentWidth();\r\n    var totalWidth = that._getTotalWidth(widths, contentWidth);\r\n    return contentWidth - totalWidth\r\n};\r\nvar calculateFreeWidthWithCurrentMinWidth = function(that, columnIndex, currentMinWidth, widths) {\r\n    return calculateFreeWidth(that, widths.map(function(width, index) {\r\n        return index === columnIndex ? currentMinWidth : width\r\n    }))\r\n};\r\nvar restoreFocus = function(focusedElement, selectionRange) {\r\n    accessibility.hiddenFocus(focusedElement);\r\n    _uiGrid_core2.default.setSelectionRange(focusedElement, selectionRange)\r\n};\r\nvar ResizingController = _uiGrid_core.default.ViewController.inherit({\r\n    _initPostRenderHandlers: function() {\r\n        var that = this;\r\n        var dataController = that._dataController;\r\n        if (!that._refreshSizesHandler) {\r\n            that._refreshSizesHandler = function(e) {\r\n                dataController.changed.remove(that._refreshSizesHandler);\r\n                var resizeDeferred;\r\n                var changeType = e && e.changeType;\r\n                var isDelayed = e && e.isDelayed;\r\n                var items = dataController.items();\r\n                if (!e || \"refresh\" === changeType || \"prepend\" === changeType || \"append\" === changeType) {\r\n                    if (!isDelayed) {\r\n                        resizeDeferred = that.resize()\r\n                    }\r\n                } else {\r\n                    if (\"update\" === changeType && e.changeTypes) {\r\n                        if ((items.length > 1 || \"insert\" !== e.changeTypes[0]) && !(0 === items.length && \"remove\" === e.changeTypes[0]) && !e.needUpdateDimensions) {\r\n                            (0, _common.deferUpdate)(function() {\r\n                                that._rowsView.resize()\r\n                            })\r\n                        } else {\r\n                            resizeDeferred = that.resize()\r\n                        }\r\n                    }\r\n                }\r\n                if (changeType && \"updateSelection\" !== changeType && \"updateFocusedRow\" !== changeType && !isDelayed) {\r\n                    (0, _deferred.when)(resizeDeferred).done(function() {\r\n                        that._setAriaRowColCount();\r\n                        that.fireContentReadyAction()\r\n                    })\r\n                }\r\n            };\r\n            that._dataController.changed.add(function() {\r\n                that._dataController.changed.add(that._refreshSizesHandler)\r\n            })\r\n        }\r\n    },\r\n    fireContentReadyAction: function() {\r\n        this.component._fireContentReadyAction()\r\n    },\r\n    _setAriaRowColCount: function() {\r\n        var component = this.component;\r\n        component.setAria({\r\n            rowCount: this._dataController.totalItemsCount(),\r\n            colCount: component.columnCount()\r\n        }, component.$element().children(\".\" + GRIDBASE_CONTAINER_CLASS))\r\n    },\r\n    _getBestFitWidths: function() {\r\n        if (!this.option(\"legacyRendering\")) {\r\n            return this._rowsView.getColumnWidths()\r\n        }\r\n        var rowsColumnWidths = this._rowsView.getColumnWidths();\r\n        var headerColumnWidths = this._columnHeadersView && this._columnHeadersView.getColumnWidths();\r\n        var footerColumnWidths = this._footerView && this._footerView.getColumnWidths();\r\n        var resultWidths = mergeArraysByMaxValue(rowsColumnWidths, headerColumnWidths);\r\n        resultWidths = mergeArraysByMaxValue(resultWidths, footerColumnWidths);\r\n        return resultWidths\r\n    },\r\n    _setVisibleWidths: function(visibleColumns, widths) {\r\n        var columnsController = this._columnsController;\r\n        columnsController.beginUpdate();\r\n        (0, _iterator.each)(visibleColumns, function(index, column) {\r\n            var columnId = columnsController.getColumnId(column);\r\n            columnsController.columnOption(columnId, \"visibleWidth\", widths[index])\r\n        });\r\n        columnsController.endUpdate()\r\n    },\r\n    _toggleBestFitModeForView: function(view, className, isBestFit) {\r\n        var _this = this;\r\n        if (!view || !view.isVisible()) {\r\n            return\r\n        }\r\n        var $rowsTables = this._rowsView.getTableElements();\r\n        var $viewTables = view.getTableElements();\r\n        (0, _iterator.each)($rowsTables, function(index, tableElement) {\r\n            var $tableBody;\r\n            var $rowsTable = (0, _renderer.default)(tableElement);\r\n            var $viewTable = $viewTables.eq(index);\r\n            if ($viewTable && $viewTable.length) {\r\n                if (isBestFit) {\r\n                    $tableBody = $viewTable.children(\"tbody\").appendTo($rowsTable)\r\n                } else {\r\n                    $tableBody = $rowsTable.children(\".\" + className).appendTo($viewTable)\r\n                }\r\n                $tableBody.toggleClass(className, isBestFit);\r\n                $tableBody.toggleClass(_this.addWidgetPrefix(\"best-fit\"), isBestFit)\r\n            }\r\n        })\r\n    },\r\n    _toggleBestFitMode: function(isBestFit) {\r\n        var $element = this.component.$element();\r\n        var that = this;\r\n        if (!that.option(\"legacyRendering\")) {\r\n            var $rowsTable = that._rowsView._getTableElement();\r\n            var $rowsFixedTable = that._rowsView.getTableElements().eq(1);\r\n            if (!$rowsTable) {\r\n                return\r\n            }\r\n            $rowsTable.css(\"tableLayout\", isBestFit ? \"auto\" : \"fixed\");\r\n            $rowsTable.children(\"colgroup\").css(\"display\", isBestFit ? \"none\" : \"\");\r\n            $rowsFixedTable.toggleClass(this.addWidgetPrefix(TABLE_FIXED_CLASS), !isBestFit);\r\n            that._toggleBestFitModeForView(that._columnHeadersView, \"dx-header\", isBestFit);\r\n            that._toggleBestFitModeForView(that._footerView, \"dx-footer\", isBestFit);\r\n            if (that._needStretch()) {\r\n                $rowsTable.get(0).style.width = isBestFit ? \"auto\" : \"\"\r\n            }\r\n            if (_browser.default.msie && 11 === parseInt(_browser.default.version)) {\r\n                $rowsTable.find(\".\" + this.addWidgetPrefix(TABLE_FIXED_CLASS)).each(function() {\r\n                    this.style.width = isBestFit ? \"10px\" : \"\"\r\n                })\r\n            }\r\n        } else {\r\n            $element.find(\".\" + this.addWidgetPrefix(TABLE_CLASS)).toggleClass(this.addWidgetPrefix(TABLE_FIXED_CLASS), !isBestFit);\r\n            $element.find(EDITORS_INPUT_SELECTOR).toggleClass(HIDDEN_CLASS, isBestFit);\r\n            $element.find(\".dx-group-cell\").toggleClass(HIDDEN_CLASS, isBestFit);\r\n            $element.find(\".dx-header-row .\" + this.addWidgetPrefix(TEXT_CONTENT_CLASS)).css(\"maxWidth\", \"\")\r\n        }\r\n    },\r\n    _synchronizeColumns: function() {\r\n        var that = this;\r\n        var columnsController = that._columnsController;\r\n        var visibleColumns = columnsController.getVisibleColumns();\r\n        var columnAutoWidth = that.option(\"columnAutoWidth\");\r\n        var legacyRendering = that.option(\"legacyRendering\");\r\n        var needBestFit = that._needBestFit();\r\n        var hasMinWidth = false;\r\n        var resetBestFitMode;\r\n        var isColumnWidthsCorrected = false;\r\n        var resultWidths = [];\r\n        var focusedElement;\r\n        var selectionRange;\r\n        var normalizeWidthsByExpandColumns = function() {\r\n            var expandColumnWidth;\r\n            (0, _iterator.each)(visibleColumns, function(index, column) {\r\n                if (\"groupExpand\" === column.type) {\r\n                    expandColumnWidth = resultWidths[index]\r\n                }\r\n            });\r\n            (0, _iterator.each)(visibleColumns, function(index, column) {\r\n                if (\"groupExpand\" === column.type && expandColumnWidth) {\r\n                    resultWidths[index] = expandColumnWidth\r\n                }\r\n            })\r\n        };\r\n        !needBestFit && (0, _iterator.each)(visibleColumns, function(index, column) {\r\n            if (\"auto\" === column.width || legacyRendering && column.fixed) {\r\n                needBestFit = true;\r\n                return false\r\n            }\r\n        });\r\n        (0, _iterator.each)(visibleColumns, function(index, column) {\r\n            if (column.minWidth) {\r\n                hasMinWidth = true;\r\n                return false\r\n            }\r\n        });\r\n        that._setVisibleWidths(visibleColumns, []);\r\n        if (needBestFit) {\r\n            focusedElement = _dom_adapter.default.getActiveElement();\r\n            selectionRange = _uiGrid_core2.default.getSelectionRange(focusedElement);\r\n            that._toggleBestFitMode(true);\r\n            resetBestFitMode = true\r\n        }(0, _common.deferUpdate)(function() {\r\n            if (needBestFit) {\r\n                resultWidths = that._getBestFitWidths();\r\n                (0, _iterator.each)(visibleColumns, function(index, column) {\r\n                    var columnId = columnsController.getColumnId(column);\r\n                    columnsController.columnOption(columnId, \"bestFitWidth\", resultWidths[index], true)\r\n                })\r\n            } else {\r\n                if (hasMinWidth) {\r\n                    resultWidths = that._getBestFitWidths()\r\n                }\r\n            }(0, _iterator.each)(visibleColumns, function(index) {\r\n                var width = this.width;\r\n                if (\"auto\" !== width) {\r\n                    if ((0, _type.isDefined)(width)) {\r\n                        resultWidths[index] = (0, _type.isNumeric)(width) || isPixelWidth(width) ? parseFloat(width) : width\r\n                    } else {\r\n                        if (!columnAutoWidth) {\r\n                            resultWidths[index] = void 0\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            if (resetBestFitMode) {\r\n                that._toggleBestFitMode(false);\r\n                resetBestFitMode = false;\r\n                if (focusedElement && focusedElement !== _dom_adapter.default.getActiveElement()) {\r\n                    var isFocusOutsideWindow = (0, _position.getBoundingRect)(focusedElement).bottom < 0;\r\n                    if (!isFocusOutsideWindow) {\r\n                        if (_browser.default.msie) {\r\n                            setTimeout(function() {\r\n                                restoreFocus(focusedElement, selectionRange)\r\n                            })\r\n                        } else {\r\n                            restoreFocus(focusedElement, selectionRange)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            isColumnWidthsCorrected = that._correctColumnWidths(resultWidths, visibleColumns);\r\n            if (columnAutoWidth) {\r\n                normalizeWidthsByExpandColumns();\r\n                if (that._needStretch()) {\r\n                    that._processStretch(resultWidths, visibleColumns)\r\n                }\r\n            }(0, _common.deferRender)(function() {\r\n                if (needBestFit || isColumnWidthsCorrected) {\r\n                    that._setVisibleWidths(visibleColumns, resultWidths)\r\n                }\r\n            })\r\n        })\r\n    },\r\n    _needBestFit: function() {\r\n        return this.option(\"columnAutoWidth\")\r\n    },\r\n    _needStretch: function() {\r\n        return this.option(\"legacyRendering\") || this._columnsController.getVisibleColumns().some(function(c) {\r\n            return \"auto\" === c.width && !c.command\r\n        })\r\n    },\r\n    _getAverageColumnsWidth: function(resultWidths) {\r\n        var freeWidth = calculateFreeWidth(this, resultWidths);\r\n        var columnCountWithoutWidth = resultWidths.filter(function(width) {\r\n            return void 0 === width\r\n        }).length;\r\n        return freeWidth / columnCountWithoutWidth\r\n    },\r\n    _correctColumnWidths: function(resultWidths, visibleColumns) {\r\n        var that = this;\r\n        var i;\r\n        var hasPercentWidth = false;\r\n        var hasAutoWidth = false;\r\n        var isColumnWidthsCorrected = false;\r\n        var $element = that.component.$element();\r\n        var hasWidth = that._hasWidth;\r\n        var _loop = function() {\r\n            var index = i;\r\n            var column = visibleColumns[index];\r\n            var isHiddenColumn = resultWidths[index] === HIDDEN_COLUMNS_WIDTH;\r\n            var width = resultWidths[index];\r\n            var minWidth = column.minWidth;\r\n            if (minWidth) {\r\n                if (void 0 === width) {\r\n                    var averageColumnsWidth = that._getAverageColumnsWidth(resultWidths);\r\n                    width = averageColumnsWidth\r\n                } else {\r\n                    if (isPercentWidth(width)) {\r\n                        var freeWidth = calculateFreeWidthWithCurrentMinWidth(that, index, minWidth, resultWidths);\r\n                        if (freeWidth < 0) {\r\n                            width = -1\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            var realColumnWidth = that._getRealColumnWidth(index, resultWidths.map(function(columnWidth, columnIndex) {\r\n                return index === columnIndex ? width : columnWidth\r\n            }));\r\n            if (minWidth && !isHiddenColumn && realColumnWidth < minWidth) {\r\n                resultWidths[index] = minWidth;\r\n                isColumnWidthsCorrected = true;\r\n                i = -1\r\n            }\r\n            if (!(0, _type.isDefined)(column.width)) {\r\n                hasAutoWidth = true\r\n            }\r\n            if (isPercentWidth(column.width)) {\r\n                hasPercentWidth = true\r\n            }\r\n        };\r\n        for (i = 0; i < visibleColumns.length; i++) {\r\n            _loop()\r\n        }\r\n        if ($element && that._maxWidth) {\r\n            delete that._maxWidth;\r\n            $element.css(\"maxWidth\", \"\")\r\n        }\r\n        if (!hasAutoWidth && resultWidths.length) {\r\n            var contentWidth = that._rowsView.contentWidth();\r\n            var scrollbarWidth = that._rowsView.getScrollbarWidth();\r\n            var totalWidth = that._getTotalWidth(resultWidths, contentWidth);\r\n            if (totalWidth < contentWidth) {\r\n                var lastColumnIndex = _uiGrid_core2.default.getLastResizableColumnIndex(visibleColumns, resultWidths);\r\n                if (lastColumnIndex >= 0) {\r\n                    resultWidths[lastColumnIndex] = \"auto\";\r\n                    isColumnWidthsCorrected = true;\r\n                    if (false === hasWidth && !hasPercentWidth) {\r\n                        that._maxWidth = totalWidth + scrollbarWidth + (that.option(\"showBorders\") ? 2 : 0);\r\n                        $element.css(\"maxWidth\", that._maxWidth)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return isColumnWidthsCorrected\r\n    },\r\n    _processStretch: function(resultSizes, visibleColumns) {\r\n        var groupSize = this._rowsView.contentWidth();\r\n        var tableSize = this._getTotalWidth(resultSizes, groupSize);\r\n        var unusedIndexes = {\r\n            length: 0\r\n        };\r\n        if (!resultSizes.length) {\r\n            return\r\n        }(0, _iterator.each)(visibleColumns, function(index) {\r\n            if (this.width || resultSizes[index] === HIDDEN_COLUMNS_WIDTH) {\r\n                unusedIndexes[index] = true;\r\n                unusedIndexes.length++\r\n            }\r\n        });\r\n        var diff = groupSize - tableSize;\r\n        var diffElement = Math.floor(diff / (resultSizes.length - unusedIndexes.length));\r\n        var onePixelElementsCount = diff - diffElement * (resultSizes.length - unusedIndexes.length);\r\n        if (diff >= 0) {\r\n            for (var i = 0; i < resultSizes.length; i++) {\r\n                if (unusedIndexes[i]) {\r\n                    continue\r\n                }\r\n                resultSizes[i] += diffElement;\r\n                if (onePixelElementsCount > 0) {\r\n                    if (onePixelElementsCount < 1) {\r\n                        resultSizes[i] += onePixelElementsCount;\r\n                        onePixelElementsCount = 0\r\n                    } else {\r\n                        resultSizes[i]++;\r\n                        onePixelElementsCount--\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _getRealColumnWidth: function(columnIndex, columnWidths, groupWidth) {\r\n        var ratio = 1;\r\n        var width = columnWidths[columnIndex];\r\n        if (!isPercentWidth(width)) {\r\n            return parseFloat(width)\r\n        }\r\n        var percentTotalWidth = columnWidths.reduce(function(sum, width, index) {\r\n            if (!isPercentWidth(width)) {\r\n                return sum\r\n            }\r\n            return sum + parseFloat(width)\r\n        }, 0);\r\n        var pixelTotalWidth = columnWidths.reduce(function(sum, width) {\r\n            if (!width || width === HIDDEN_COLUMNS_WIDTH || isPercentWidth(width)) {\r\n                return sum\r\n            }\r\n            return sum + parseFloat(width)\r\n        }, 0);\r\n        groupWidth = groupWidth || this._rowsView.contentWidth();\r\n        var freeSpace = groupWidth - pixelTotalWidth;\r\n        var percentTotalWidthInPixel = percentTotalWidth * groupWidth / 100;\r\n        if (pixelTotalWidth > 0 && percentTotalWidthInPixel + pixelTotalWidth >= groupWidth) {\r\n            ratio = percentTotalWidthInPixel > freeSpace ? freeSpace / percentTotalWidthInPixel : 1\r\n        }\r\n        return parseFloat(width) * groupWidth * ratio / 100\r\n    },\r\n    _getTotalWidth: function(widths, groupWidth) {\r\n        var result = 0;\r\n        for (var i = 0; i < widths.length; i++) {\r\n            var width = widths[i];\r\n            if (width && width !== HIDDEN_COLUMNS_WIDTH) {\r\n                result += this._getRealColumnWidth(i, widths, groupWidth)\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    updateSize: function($rootElement) {\r\n        var that = this;\r\n        var $groupElement;\r\n        var width;\r\n        var importantMarginClass = that.addWidgetPrefix(IMPORTANT_MARGIN_CLASS);\r\n        if (void 0 === that._hasHeight && $rootElement && $rootElement.is(\":visible\") && $rootElement.width()) {\r\n            $groupElement = $rootElement.children(\".\" + that.getWidgetContainerClass());\r\n            if ($groupElement.length) {\r\n                $groupElement.detach()\r\n            }\r\n            that._hasHeight = !!getContainerHeight($rootElement);\r\n            width = $rootElement.width();\r\n            $rootElement.addClass(importantMarginClass);\r\n            that._hasWidth = $rootElement.width() === width;\r\n            $rootElement.removeClass(importantMarginClass);\r\n            if ($groupElement.length) {\r\n                $groupElement.appendTo($rootElement)\r\n            }\r\n        }\r\n    },\r\n    publicMethods: function() {\r\n        return [\"resize\", \"updateDimensions\"]\r\n    },\r\n    resize: function() {\r\n        return !this.component._requireResize && this.updateDimensions()\r\n    },\r\n    updateDimensions: function(checkSize) {\r\n        var that = this;\r\n        that._initPostRenderHandlers();\r\n        if (!that._checkSize(checkSize)) {\r\n            return\r\n        }\r\n        var prevResult = that._resizeDeferred;\r\n        var result = that._resizeDeferred = new _deferred.Deferred;\r\n        (0, _deferred.when)(prevResult).always(function() {\r\n            (0, _common.deferRender)(function() {\r\n                if (that._dataController.isLoaded()) {\r\n                    that._synchronizeColumns()\r\n                }\r\n                that._resetGroupElementHeight();\r\n                (0, _common.deferUpdate)(function() {\r\n                    (0, _common.deferRender)(function() {\r\n                        (0, _common.deferUpdate)(function() {\r\n                            that._updateDimensionsCore()\r\n                        })\r\n                    })\r\n                })\r\n            }).done(result.resolve).fail(result.reject)\r\n        });\r\n        return result.promise()\r\n    },\r\n    _resetGroupElementHeight: function() {\r\n        var groupElement = this.component.$element().children().get(0);\r\n        var scrollable = this._rowsView.getScrollable();\r\n        if (groupElement && groupElement.style.height && (!scrollable || !scrollable.scrollTop())) {\r\n            groupElement.style.height = \"\"\r\n        }\r\n    },\r\n    _checkSize: function(checkSize) {\r\n        var $rootElement = this.component.$element();\r\n        if (checkSize && (this._lastWidth === $rootElement.width() && this._lastHeight === $rootElement.height() || !$rootElement.is(\":visible\"))) {\r\n            return false\r\n        }\r\n        return true\r\n    },\r\n    _setScrollerSpacingCore: function(hasHeight) {\r\n        var that = this;\r\n        var vScrollbarWidth = hasHeight ? that._rowsView.getScrollbarWidth() : 0;\r\n        var hScrollbarWidth = that._rowsView.getScrollbarWidth(true);\r\n        (0, _common.deferRender)(function() {\r\n            that._columnHeadersView && that._columnHeadersView.setScrollerSpacing(vScrollbarWidth);\r\n            that._footerView && that._footerView.setScrollerSpacing(vScrollbarWidth);\r\n            that._rowsView.setScrollerSpacing(vScrollbarWidth, hScrollbarWidth)\r\n        })\r\n    },\r\n    _setScrollerSpacing: function(hasHeight) {\r\n        var _this2 = this;\r\n        if (true === this.option(\"scrolling.useNative\")) {\r\n            (0, _common.deferRender)(function() {\r\n                (0, _common.deferUpdate)(function() {\r\n                    _this2._setScrollerSpacingCore(hasHeight)\r\n                })\r\n            })\r\n        } else {\r\n            this._setScrollerSpacingCore(hasHeight)\r\n        }\r\n    },\r\n    _updateDimensionsCore: function() {\r\n        var that = this;\r\n        var dataController = that._dataController;\r\n        var rowsView = that._rowsView;\r\n        var $rootElement = that.component.$element();\r\n        var groupElement = $rootElement.children().get(0);\r\n        var rootElementHeight = $rootElement && ($rootElement.get(0).clientHeight || $rootElement.height());\r\n        var maxHeight = parseInt($rootElement.css(\"maxHeight\"));\r\n        var maxHeightHappened = maxHeight && rootElementHeight >= maxHeight;\r\n        var height = that.option(\"height\") || $rootElement.get(0).style.height;\r\n        var editorFactory = that.getController(\"editorFactory\");\r\n        var isMaxHeightApplied = maxHeightHappened && groupElement.scrollHeight === groupElement.offsetHeight;\r\n        var $testDiv;\r\n        that.updateSize($rootElement);\r\n        var hasHeight = that._hasHeight || maxHeightHappened;\r\n        if (height && that._hasHeight ^ \"auto\" !== height) {\r\n            $testDiv = (0, _renderer.default)(\"<div>\").height(height).appendTo($rootElement);\r\n            that._hasHeight = !!$testDiv.height();\r\n            $testDiv.remove()\r\n        }(0, _common.deferRender)(function() {\r\n            rowsView.height(null, hasHeight);\r\n            if (maxHeightHappened && !isMaxHeightApplied) {\r\n                (0, _renderer.default)(groupElement).css(\"height\", maxHeight)\r\n            }\r\n            if (!dataController.isLoaded()) {\r\n                rowsView.setLoading(dataController.isLoading());\r\n                return\r\n            }(0, _common.deferUpdate)(function() {\r\n                that._updateLastSizes($rootElement);\r\n                that._setScrollerSpacing(hasHeight);\r\n                (0, _iterator.each)(VIEW_NAMES, function(index, viewName) {\r\n                    var view = that.getView(viewName);\r\n                    if (view) {\r\n                        view.resize()\r\n                    }\r\n                });\r\n                editorFactory && editorFactory.resize()\r\n            })\r\n        })\r\n    },\r\n    _updateLastSizes: function($rootElement) {\r\n        this._lastWidth = $rootElement.width();\r\n        this._lastHeight = $rootElement.height()\r\n    },\r\n    optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"width\":\r\n            case \"height\":\r\n                this.component._renderDimensions();\r\n                this.resize();\r\n            case \"legacyRendering\":\r\n            case \"renderAsync\":\r\n                args.handled = true;\r\n                return;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    init: function() {\r\n        var that = this;\r\n        that._dataController = that.getController(\"data\");\r\n        that._columnsController = that.getController(\"columns\");\r\n        that._columnHeadersView = that.getView(\"columnHeadersView\");\r\n        that._footerView = that.getView(\"footerView\");\r\n        that._rowsView = that.getView(\"rowsView\")\r\n    }\r\n});\r\nvar SynchronizeScrollingController = _uiGrid_core.default.ViewController.inherit({\r\n    _scrollChangedHandler: function(views, pos, viewName) {\r\n        for (var j = 0; j < views.length; j++) {\r\n            if (views[j] && views[j].name !== viewName) {\r\n                views[j].scrollTo({\r\n                    left: pos.left,\r\n                    top: pos.top\r\n                })\r\n            }\r\n        }\r\n    },\r\n    init: function() {\r\n        var views = [this.getView(\"columnHeadersView\"), this.getView(\"footerView\"), this.getView(\"rowsView\")];\r\n        for (var i = 0; i < views.length; i++) {\r\n            var view = views[i];\r\n            if (view) {\r\n                view.scrollChanged.add(this._scrollChangedHandler.bind(this, views))\r\n            }\r\n        }\r\n    }\r\n});\r\nvar GridView = _uiGrid_core.default.View.inherit({\r\n    _endUpdateCore: function() {\r\n        if (this.component._requireResize) {\r\n            this.component._requireResize = false;\r\n            this._resizingController.resize()\r\n        }\r\n    },\r\n    _getWidgetAriaLabel: function() {\r\n        return \"dxDataGrid-ariaDataGrid\"\r\n    },\r\n    init: function() {\r\n        var that = this;\r\n        that._resizingController = that.getController(\"resizing\");\r\n        that._dataController = that.getController(\"data\")\r\n    },\r\n    getView: function(name) {\r\n        return this.component._views[name]\r\n    },\r\n    element: function() {\r\n        return this._groupElement\r\n    },\r\n    optionChanged: function(args) {\r\n        var that = this;\r\n        if ((0, _type.isDefined)(that._groupElement) && \"showBorders\" === args.name) {\r\n            that._groupElement.toggleClass(that.addWidgetPrefix(BORDERS_CLASS), !!args.value);\r\n            args.handled = true\r\n        } else {\r\n            that.callBase(args)\r\n        }\r\n    },\r\n    _renderViews: function($groupElement) {\r\n        var that = this;\r\n        (0, _iterator.each)(VIEW_NAMES, function(index, viewName) {\r\n            var view = that.getView(viewName);\r\n            if (view) {\r\n                view.render($groupElement)\r\n            }\r\n        })\r\n    },\r\n    _getTableRoleName: function() {\r\n        return \"grid\"\r\n    },\r\n    render: function($rootElement) {\r\n        var that = this;\r\n        var isFirstRender = !that._groupElement;\r\n        var $groupElement = that._groupElement || (0, _renderer.default)(\"<div>\").addClass(that.getWidgetContainerClass());\r\n        $groupElement.addClass(GRIDBASE_CONTAINER_CLASS);\r\n        $groupElement.toggleClass(that.addWidgetPrefix(BORDERS_CLASS), !!that.option(\"showBorders\"));\r\n        that.setAria(\"role\", \"presentation\", $rootElement);\r\n        that.component.setAria({\r\n            role: this._getTableRoleName(),\r\n            label: _message.default.format(that._getWidgetAriaLabel())\r\n        }, $groupElement);\r\n        that._rootElement = $rootElement || that._rootElement;\r\n        if (isFirstRender) {\r\n            that._groupElement = $groupElement;\r\n            (0, _window.hasWindow)() && that.getController(\"resizing\").updateSize($rootElement);\r\n            $groupElement.appendTo($rootElement)\r\n        }\r\n        that._renderViews($groupElement)\r\n    },\r\n    update: function() {\r\n        var that = this;\r\n        var $rootElement = that._rootElement;\r\n        var $groupElement = that._groupElement;\r\n        var resizingController = that.getController(\"resizing\");\r\n        if ($rootElement && $groupElement) {\r\n            resizingController.resize();\r\n            if (that._dataController.isLoaded()) {\r\n                that._resizingController.fireContentReadyAction()\r\n            }\r\n        }\r\n    }\r\n});\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            showBorders: false,\r\n            renderAsync: false,\r\n            legacyRendering: false\r\n        }\r\n    },\r\n    controllers: {\r\n        resizing: ResizingController,\r\n        synchronizeScrolling: SynchronizeScrollingController\r\n    },\r\n    views: {\r\n        gridView: GridView\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.header_panel.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.HeaderPanel = void 0;\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.header_panel\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar HeaderPanel = _uiGrid_core.default.views.headerPanel;\r\nexports.HeaderPanel = HeaderPanel;\r\n_uiData_grid.default.registerModule(\"headerPanel\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.header_panel.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _toolbar = _interopRequireDefault(require(\"../toolbar\"));\r\nvar _uiGrid_core = require(\"./ui.grid_core.columns_view\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _visibility_change = require(\"../../events/visibility_change\");\r\nrequire(\"../drop_down_menu\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar HEADER_PANEL_CLASS = \"header-panel\";\r\nvar TOOLBAR_BUTTON_CLASS = \"toolbar-button\";\r\nvar HeaderPanel = _uiGrid_core.ColumnsView.inherit({\r\n    _getToolbarItems: function() {\r\n        return []\r\n    },\r\n    _getButtonContainer: function() {\r\n        return (0, _renderer.default)(\"<div>\").addClass(this.addWidgetPrefix(TOOLBAR_BUTTON_CLASS))\r\n    },\r\n    _getToolbarButtonClass: function(specificClass) {\r\n        var secondClass = specificClass ? \" \" + specificClass : \"\";\r\n        return this.addWidgetPrefix(TOOLBAR_BUTTON_CLASS) + secondClass\r\n    },\r\n    _getToolbarOptions: function() {\r\n        var options = {\r\n            toolbarOptions: {\r\n                items: this._getToolbarItems(),\r\n                onItemRendered: function(e) {\r\n                    var itemRenderedCallback = e.itemData.onItemRendered;\r\n                    if (itemRenderedCallback) {\r\n                        itemRenderedCallback(e)\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        this.executeAction(\"onToolbarPreparing\", options);\r\n        if (options.toolbarOptions && !(0, _type.isDefined)(options.toolbarOptions.visible)) {\r\n            var toolbarItems = options.toolbarOptions.items;\r\n            options.toolbarOptions.visible = !!(toolbarItems && toolbarItems.length)\r\n        }\r\n        return options.toolbarOptions\r\n    },\r\n    _renderCore: function() {\r\n        if (!this._toolbar) {\r\n            this.element().addClass(this.addWidgetPrefix(HEADER_PANEL_CLASS));\r\n            this._toolbar = this._createComponent((0, _renderer.default)(\"<div>\").appendTo(this.element()), _toolbar.default, this._toolbarOptions)\r\n        } else {\r\n            this._toolbar.option(this._toolbarOptions)\r\n        }\r\n    },\r\n    _columnOptionChanged: _common.noop,\r\n    _handleDataChanged: function() {\r\n        if (this._requireReady) {\r\n            this.render()\r\n        }\r\n    },\r\n    init: function() {\r\n        this.callBase();\r\n        this.createAction(\"onToolbarPreparing\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    render: function() {\r\n        this._toolbarOptions = this._getToolbarOptions();\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    setToolbarItemDisabled: function(name, optionValue) {\r\n        var toolbarInstance = this._toolbar;\r\n        if (toolbarInstance) {\r\n            var items = toolbarInstance.option(\"items\") || [];\r\n            var itemIndex = items.indexOf(items.filter(function(item) {\r\n                return item.name === name\r\n            })[0]);\r\n            if (itemIndex >= 0) {\r\n                var itemOptionPrefix = \"items[\" + itemIndex + \"]\";\r\n                if (toolbarInstance.option(itemOptionPrefix + \".options\")) {\r\n                    toolbarInstance.option(itemOptionPrefix + \".options.disabled\", optionValue)\r\n                } else {\r\n                    toolbarInstance.option(itemOptionPrefix + \".disabled\", optionValue)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    updateToolbarDimensions: function() {\r\n        if (this._toolbar) {\r\n            (0, _visibility_change.triggerResizeEvent)(this.getHeaderPanel())\r\n        }\r\n    },\r\n    getHeaderPanel: function() {\r\n        return this.element()\r\n    },\r\n    getHeight: function() {\r\n        return this.getElementHeight()\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"onToolbarPreparing\" === args.name) {\r\n            this._invalidate();\r\n            args.handled = true\r\n        }\r\n        this.callBase(args)\r\n    },\r\n    isVisible: function() {\r\n        return this._toolbarOptions && this._toolbarOptions.visible\r\n    },\r\n    allowDragging: _common.noop\r\n});\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {}\r\n    },\r\n    views: {\r\n        headerPanel: HeaderPanel\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            resizing: {\r\n                _updateDimensionsCore: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    this.getView(\"headerPanel\").updateToolbarDimensions()\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.state_storing.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.state_storing\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"stateStoring\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.state_storing.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _uiGrid_core = require(\"./ui.grid_core.state_storing_core\");\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar getDataState = function(that) {\r\n    var pagerView = that.getView(\"pagerView\");\r\n    var dataController = that.getController(\"data\");\r\n    var state = {\r\n        allowedPageSizes: pagerView ? pagerView.getPageSizes() : void 0,\r\n        filterPanel: {\r\n            filterEnabled: that.option(\"filterPanel.filterEnabled\")\r\n        },\r\n        filterValue: that.option(\"filterValue\"),\r\n        focusedRowKey: that.option(\"focusedRowEnabled\") ? that.option(\"focusedRowKey\") : void 0\r\n    };\r\n    return (0, _extend.extend)(state, dataController.getUserState())\r\n};\r\nvar processLoadState = function(that) {\r\n    var columnsController = that.getController(\"columns\");\r\n    var selectionController = that.getController(\"selection\");\r\n    var exportController = that.getController(\"export\");\r\n    var dataController = that.getController(\"data\");\r\n    if (columnsController) {\r\n        columnsController.columnsChanged.add(function() {\r\n            that.updateState({\r\n                columns: columnsController.getUserState()\r\n            })\r\n        })\r\n    }\r\n    if (selectionController) {\r\n        selectionController.selectionChanged.add(function(e) {\r\n            that.updateState({\r\n                selectedRowKeys: e.selectedRowKeys,\r\n                selectionFilter: e.selectionFilter\r\n            })\r\n        })\r\n    }\r\n    if (dataController) {\r\n        that._initialPageSize = that.option(\"paging.pageSize\");\r\n        that._initialFilterValue = that.option(\"filterValue\");\r\n        dataController.changed.add(function() {\r\n            var state = getDataState(that);\r\n            that.updateState(state)\r\n        })\r\n    }\r\n    if (exportController) {\r\n        exportController.selectionOnlyChanged.add(function() {\r\n            that.updateState({\r\n                exportSelectionOnly: exportController.selectionOnly()\r\n            })\r\n        })\r\n    }\r\n};\r\nvar DEFAULT_FILTER_VALUE = null;\r\nvar getFilterValue = function(that, state) {\r\n    var filterSyncController = that.getController(\"filterSync\");\r\n    var columnsController = that.getController(\"columns\");\r\n    var hasFilterState = state.columns || void 0 !== state.filterValue;\r\n    if (filterSyncController) {\r\n        if (hasFilterState) {\r\n            return state.filterValue || filterSyncController.getFilterValueFromColumns(state.columns)\r\n        } else {\r\n            return that._initialFilterValue || filterSyncController.getFilterValueFromColumns(columnsController.getColumns())\r\n        }\r\n    }\r\n    return DEFAULT_FILTER_VALUE\r\n};\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            stateStoring: {\r\n                enabled: false,\r\n                storageKey: null,\r\n                type: \"localStorage\",\r\n                customLoad: null,\r\n                customSave: null,\r\n                savingTimeout: 2e3\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        stateStoring: _uiGrid_core.StateStoringController\r\n    },\r\n    extenders: {\r\n        views: {\r\n            rowsView: {\r\n                init: function() {\r\n                    var that = this;\r\n                    var dataController = that.getController(\"data\");\r\n                    that.callBase();\r\n                    dataController.stateLoaded.add(function() {\r\n                        if (dataController.isLoaded() && !dataController.getDataSource()) {\r\n                            that.setLoading(false);\r\n                            that.renderNoDataText();\r\n                            var columnHeadersView = that.component.getView(\"columnHeadersView\");\r\n                            columnHeadersView && columnHeadersView.render();\r\n                            that.component._fireContentReadyAction()\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        controllers: {\r\n            stateStoring: {\r\n                init: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    processLoadState(this)\r\n                },\r\n                isLoading: function() {\r\n                    return this.callBase() || this.getController(\"data\").isStateLoading()\r\n                },\r\n                state: function(_state) {\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    if (void 0 !== _state) {\r\n                        this.applyState((0, _extend.extend)({}, _state))\r\n                    }\r\n                    return result\r\n                },\r\n                updateState: function(state) {\r\n                    if (this.isEnabled()) {\r\n                        var oldState = this.state();\r\n                        var newState = (0, _extend.extend)({}, oldState, state);\r\n                        var oldStateHash = (0, _common.getKeyHash)(oldState);\r\n                        var newStateHash = (0, _common.getKeyHash)(newState);\r\n                        if (!(0, _common.equalByValue)(oldStateHash, newStateHash)) {\r\n                            (0, _extend.extend)(this._state, state);\r\n                            this.save()\r\n                        }\r\n                    } else {\r\n                        (0, _extend.extend)(this._state, state)\r\n                    }\r\n                },\r\n                applyState: function(state) {\r\n                    var that = this;\r\n                    var allowedPageSizes = state.allowedPageSizes;\r\n                    var searchText = state.searchText;\r\n                    var selectedRowKeys = state.selectedRowKeys;\r\n                    var selectionFilter = state.selectionFilter;\r\n                    var exportController = that.getController(\"export\");\r\n                    var columnsController = that.getController(\"columns\");\r\n                    var dataController = that.getController(\"data\");\r\n                    var scrollingMode = that.option(\"scrolling.mode\");\r\n                    var isVirtualScrollingMode = \"virtual\" === scrollingMode || \"infinite\" === scrollingMode;\r\n                    var showPageSizeSelector = true === that.option(\"pager.visible\") && that.option(\"pager.showPageSizeSelector\");\r\n                    that.component.beginUpdate();\r\n                    if (columnsController) {\r\n                        columnsController.setUserState(state.columns)\r\n                    }\r\n                    if (exportController) {\r\n                        exportController.selectionOnly(state.exportSelectionOnly)\r\n                    }\r\n                    if (selectedRowKeys) {\r\n                        that.option(\"selectedRowKeys\", selectedRowKeys)\r\n                    }\r\n                    that.option(\"selectionFilter\", selectionFilter);\r\n                    if (allowedPageSizes && \"auto\" === that.option(\"pager.allowedPageSizes\")) {\r\n                        that.option(\"pager\").allowedPageSizes = allowedPageSizes\r\n                    }\r\n                    if (that.option(\"focusedRowEnabled\")) {\r\n                        that.option(\"focusedRowKey\", state.focusedRowKey)\r\n                    }\r\n                    that.component.endUpdate();\r\n                    searchText && that.option(\"searchPanel.text\", searchText);\r\n                    that.option(\"filterValue\", getFilterValue(that, state));\r\n                    that.option(\"filterPanel.filterEnabled\", state.filterPanel ? state.filterPanel.filterEnabled : true);\r\n                    that.option(\"paging.pageSize\", (!isVirtualScrollingMode || showPageSizeSelector) && (0, _type.isDefined)(state.pageSize) ? state.pageSize : that._initialPageSize);\r\n                    that.option(\"paging.pageIndex\", state.pageIndex || 0);\r\n                    dataController && dataController.reset()\r\n                }\r\n            },\r\n            columns: {\r\n                getVisibleColumns: function() {\r\n                    var visibleColumns = this.callBase.apply(this, arguments);\r\n                    var stateStoringController = this.getController(\"stateStoring\");\r\n                    return stateStoringController.isEnabled() && !stateStoringController.isLoaded() ? [] : visibleColumns\r\n                }\r\n            },\r\n            data: {\r\n                callbackNames: function() {\r\n                    return this.callBase().concat([\"stateLoaded\"])\r\n                },\r\n                _refreshDataSource: function() {\r\n                    var _this = this;\r\n                    var callBase = this.callBase;\r\n                    var stateStoringController = this.getController(\"stateStoring\");\r\n                    if (stateStoringController.isEnabled() && !stateStoringController.isLoaded()) {\r\n                        clearTimeout(this._restoreStateTimeoutID);\r\n                        var deferred = new _deferred.Deferred;\r\n                        this._restoreStateTimeoutID = setTimeout(function() {\r\n                            stateStoringController.load().always(function() {\r\n                                _this._restoreStateTimeoutID = null\r\n                            }).done(function() {\r\n                                callBase.call(_this);\r\n                                _this.stateLoaded.fire();\r\n                                deferred.resolve()\r\n                            }).fail(function(error) {\r\n                                _this.stateLoaded.fire();\r\n                                _this._handleLoadError(error || \"Unknown error\");\r\n                                deferred.reject()\r\n                            })\r\n                        });\r\n                        return deferred.promise()\r\n                    } else {\r\n                        if (!this.isStateLoading()) {\r\n                            callBase.call(this)\r\n                        }\r\n                    }\r\n                },\r\n                isLoading: function() {\r\n                    var that = this;\r\n                    var stateStoringController = that.getController(\"stateStoring\");\r\n                    return this.callBase() || stateStoringController.isLoading()\r\n                },\r\n                isStateLoading: function() {\r\n                    return (0, _type.isDefined)(this._restoreStateTimeoutID)\r\n                },\r\n                isLoaded: function() {\r\n                    return this.callBase() && !this.isStateLoading()\r\n                },\r\n                dispose: function() {\r\n                    clearTimeout(this._restoreStateTimeoutID);\r\n                    this.callBase()\r\n                }\r\n            },\r\n            selection: {\r\n                _fireSelectionChanged: function(options) {\r\n                    var stateStoringController = this.getController(\"stateStoring\");\r\n                    var isDeferredSelection = this.option(\"selection.deferred\");\r\n                    if (stateStoringController.isLoading() && isDeferredSelection) {\r\n                        return\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.state_storing_core.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.StateStoringController = void 0;\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _ui = _interopRequireDefault(require(\"../widget/ui.errors\"));\r\nvar _browser = _interopRequireDefault(require(\"../../core/utils/browser\"));\r\nvar _storage = require(\"../../core/utils/storage\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar DATE_REGEX = /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/;\r\nvar parseDates = function parseDates(state) {\r\n    if (!state) {\r\n        return\r\n    }(0, _iterator.each)(state, function(key, value) {\r\n        if ((0, _type.isPlainObject)(value) || Array.isArray(value)) {\r\n            parseDates(value)\r\n        } else {\r\n            if (\"string\" === typeof value) {\r\n                var date = DATE_REGEX.exec(value);\r\n                if (date) {\r\n                    state[key] = new Date(Date.UTC(+date[1], +date[2] - 1, +date[3], +date[4], +date[5], +date[6]))\r\n                }\r\n            }\r\n        }\r\n    })\r\n};\r\nvar StateStoringController = _uiGrid_core.default.ViewController.inherit(function() {\r\n    var getStorage = function(options) {\r\n        var storage = \"sessionStorage\" === options.type ? (0, _storage.sessionStorage)() : (0, _window.getWindow)().localStorage;\r\n        if (!storage) {\r\n            if (\"file:\" === (0, _window.getWindow)().location.protocol && _browser.default.msie) {\r\n                throw new Error(\"E1038\")\r\n            } else {\r\n                throw new Error(\"E1007\")\r\n            }\r\n        }\r\n        return storage\r\n    };\r\n    var getUniqueStorageKey = function(options) {\r\n        return (0, _type.isDefined)(options.storageKey) ? options.storageKey : \"storage\"\r\n    };\r\n    return {\r\n        _loadState: function() {\r\n            var options = this.option(\"stateStoring\");\r\n            if (\"custom\" === options.type) {\r\n                return options.customLoad && options.customLoad()\r\n            }\r\n            try {\r\n                return JSON.parse(getStorage(options).getItem(getUniqueStorageKey(options)))\r\n            } catch (e) {\r\n                _ui.default.log(e.message)\r\n            }\r\n        },\r\n        _saveState: function(state) {\r\n            var options = this.option(\"stateStoring\");\r\n            if (\"custom\" === options.type) {\r\n                options.customSave && options.customSave(state);\r\n                return\r\n            }\r\n            try {\r\n                getStorage(options).setItem(getUniqueStorageKey(options), JSON.stringify(state))\r\n            } catch (e) {\r\n                _ui.default.log(e.message)\r\n            }\r\n        },\r\n        publicMethods: function() {\r\n            return [\"state\"]\r\n        },\r\n        isEnabled: function() {\r\n            return this.option(\"stateStoring.enabled\")\r\n        },\r\n        init: function() {\r\n            var that = this;\r\n            that._state = {};\r\n            that._isLoaded = false;\r\n            that._isLoading = false;\r\n            that._windowUnloadHandler = function() {\r\n                if (void 0 !== that._savingTimeoutID) {\r\n                    that._saveState(that.state())\r\n                }\r\n            };\r\n            _events_engine.default.on((0, _window.getWindow)(), \"unload\", that._windowUnloadHandler);\r\n            return that\r\n        },\r\n        isLoaded: function() {\r\n            return this._isLoaded\r\n        },\r\n        isLoading: function() {\r\n            return this._isLoading\r\n        },\r\n        load: function() {\r\n            var _this = this;\r\n            this._isLoading = true;\r\n            var loadResult = (0, _deferred.fromPromise)(this._loadState());\r\n            loadResult.always(function() {\r\n                _this._isLoaded = true;\r\n                _this._isLoading = false\r\n            }).done(function(state) {\r\n                _this.state(state)\r\n            });\r\n            return loadResult\r\n        },\r\n        state: function(_state) {\r\n            var that = this;\r\n            if (!arguments.length) {\r\n                return (0, _extend.extend)(true, {}, that._state)\r\n            } else {\r\n                that._state = (0, _extend.extend)({}, _state);\r\n                parseDates(that._state)\r\n            }\r\n        },\r\n        save: function() {\r\n            var that = this;\r\n            clearTimeout(that._savingTimeoutID);\r\n            that._savingTimeoutID = setTimeout(function() {\r\n                that._saveState(that.state());\r\n                that._savingTimeoutID = void 0\r\n            }, that.option(\"stateStoring.savingTimeout\"))\r\n        },\r\n        optionChanged: function(args) {\r\n            var that = this;\r\n            switch (args.name) {\r\n                case \"stateStoring\":\r\n                    if (that.isEnabled() && !that.isLoading()) {\r\n                        that.load()\r\n                    }\r\n                    args.handled = true;\r\n                    break;\r\n                default:\r\n                    that.callBase(args)\r\n            }\r\n        },\r\n        dispose: function() {\r\n            clearTimeout(this._savingTimeoutID);\r\n            _events_engine.default.off((0, _window.getWindow)(), \"unload\", this._windowUnloadHandler)\r\n        }\r\n    }\r\n}());\r\nexports.StateStoringController = StateStoringController;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.selection.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.selection\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"selection\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.selection.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _uiData_grid = _interopRequireDefault(require(\"../data_grid/ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _support = require(\"../../core/utils/support\");\r\nvar _click = require(\"../../events/click\");\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _index = require(\"../../events/utils/index\");\r\nvar _hold = _interopRequireDefault(require(\"../../events/hold\"));\r\nvar _selection = _interopRequireDefault(require(\"../selection/selection\"));\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar EDITOR_CELL_CLASS = \"dx-editor-cell\";\r\nvar ROW_CLASS = \"dx-row\";\r\nvar ROW_SELECTION_CLASS = \"dx-selection\";\r\nvar SELECT_CHECKBOX_CLASS = \"dx-select-checkbox\";\r\nvar CHECKBOXES_HIDDEN_CLASS = \"dx-select-checkboxes-hidden\";\r\nvar COMMAND_SELECT_CLASS = \"dx-command-select\";\r\nvar SELECTION_DISABLED_CLASS = \"dx-selection-disabled\";\r\nvar DATA_ROW_CLASS = \"dx-data-row\";\r\nvar SHOW_CHECKBOXES_MODE = \"selection.showCheckBoxesMode\";\r\nvar SELECTION_MODE = \"selection.mode\";\r\nvar processLongTap = function(that, dxEvent) {\r\n    var selectionController = that.getController(\"selection\");\r\n    var rowsView = that.getView(\"rowsView\");\r\n    var $row = (0, _renderer.default)(dxEvent.target).closest(\".\" + DATA_ROW_CLASS);\r\n    var rowIndex = rowsView.getRowIndex($row);\r\n    if (rowIndex < 0) {\r\n        return\r\n    }\r\n    if (\"onLongTap\" === that.option(SHOW_CHECKBOXES_MODE)) {\r\n        if (selectionController.isSelectionWithCheckboxes()) {\r\n            selectionController.stopSelectionWithCheckboxes()\r\n        } else {\r\n            selectionController.startSelectionWithCheckboxes()\r\n        }\r\n    } else {\r\n        if (\"onClick\" === that.option(SHOW_CHECKBOXES_MODE)) {\r\n            selectionController.startSelectionWithCheckboxes()\r\n        }\r\n        if (\"always\" !== that.option(SHOW_CHECKBOXES_MODE)) {\r\n            selectionController.changeItemSelection(rowIndex, {\r\n                control: true\r\n            })\r\n        }\r\n    }\r\n};\r\nvar SelectionController = _uiData_grid.default.Controller.inherit(function() {\r\n    var isSeveralRowsSelected = function(that, selectionFilter) {\r\n        var keyIndex = 0;\r\n        var store = that._dataController.store();\r\n        var key = store && store.key();\r\n        var isComplexKey = Array.isArray(key);\r\n        if (!selectionFilter.length) {\r\n            return false\r\n        }\r\n        if (isComplexKey && Array.isArray(selectionFilter[0]) && \"and\" === selectionFilter[1]) {\r\n            for (var i = 0; i < selectionFilter.length; i++) {\r\n                if (Array.isArray(selectionFilter[i])) {\r\n                    if (selectionFilter[i][0] !== key[keyIndex] || \"=\" !== selectionFilter[i][1]) {\r\n                        return true\r\n                    }\r\n                    keyIndex++\r\n                }\r\n            }\r\n            return false\r\n        }\r\n        return key !== selectionFilter[0]\r\n    };\r\n    var selectionCellTemplate = function(container, options) {\r\n        var component = options.component;\r\n        var rowsView = component.getView(\"rowsView\");\r\n        if (component.option(\"renderAsync\") && !component.option(\"selection.deferred\")) {\r\n            options.value = component.isRowSelected(options.row.key)\r\n        }\r\n        rowsView.renderSelectCheckBoxContainer((0, _renderer.default)(container), options)\r\n    };\r\n    var selectionHeaderTemplate = function(container, options) {\r\n        var column = options.column;\r\n        var $cellElement = (0, _renderer.default)(container);\r\n        var columnHeadersView = options.component.getView(\"columnHeadersView\");\r\n        $cellElement.addClass(EDITOR_CELL_CLASS);\r\n        columnHeadersView._renderSelectAllCheckBox($cellElement, column);\r\n        columnHeadersView._attachSelectAllCheckBoxClickEvent($cellElement)\r\n    };\r\n    return {\r\n        init: function() {\r\n            this._dataController = this.getController(\"data\");\r\n            this._selectionMode = this.option(SELECTION_MODE);\r\n            this._isSelectionWithCheckboxes = false;\r\n            this._selection = this._createSelection();\r\n            this._updateSelectColumn();\r\n            this.createAction(\"onSelectionChanged\", {\r\n                excludeValidators: [\"disabled\", \"readOnly\"]\r\n            })\r\n        },\r\n        _getSelectionConfig: function() {\r\n            var that = this;\r\n            var dataController = that._dataController;\r\n            var selectionOptions = that.option(\"selection\") || {};\r\n            return {\r\n                selectedKeys: that.option(\"selectedRowKeys\"),\r\n                mode: that._selectionMode,\r\n                deferred: selectionOptions.deferred,\r\n                maxFilterLengthInRequest: selectionOptions.maxFilterLengthInRequest,\r\n                selectionFilter: that.option(\"selectionFilter\"),\r\n                key: function() {\r\n                    return dataController && dataController.key()\r\n                },\r\n                keyOf: function(item) {\r\n                    return dataController && dataController.keyOf(item)\r\n                },\r\n                dataFields: function() {\r\n                    return dataController.dataSource() && dataController.dataSource().select()\r\n                },\r\n                load: function(options) {\r\n                    return dataController.dataSource() && dataController.dataSource().load(options) || (new _deferred.Deferred).resolve([])\r\n                },\r\n                plainItems: function() {\r\n                    return dataController.items(true)\r\n                },\r\n                isItemSelected: function(item) {\r\n                    return item.selected\r\n                },\r\n                isSelectableItem: function(item) {\r\n                    return item && \"data\" === item.rowType && !item.isNewRow\r\n                },\r\n                getItemData: function(item) {\r\n                    return item && (item.oldData || item.data || item)\r\n                },\r\n                filter: function() {\r\n                    return dataController.getCombinedFilter()\r\n                },\r\n                totalCount: function() {\r\n                    return dataController.totalCount()\r\n                },\r\n                onSelectionChanged: that._updateSelectedItems.bind(this)\r\n            }\r\n        },\r\n        _updateSelectColumn: function() {\r\n            var columnsController = this.getController(\"columns\");\r\n            var isSelectColumnVisible = this.isSelectColumnVisible();\r\n            columnsController.addCommandColumn({\r\n                type: \"selection\",\r\n                command: \"select\",\r\n                visible: isSelectColumnVisible,\r\n                visibleIndex: -1,\r\n                dataType: \"boolean\",\r\n                alignment: \"center\",\r\n                cssClass: COMMAND_SELECT_CLASS,\r\n                width: \"auto\",\r\n                cellTemplate: selectionCellTemplate,\r\n                headerCellTemplate: selectionHeaderTemplate\r\n            });\r\n            columnsController.columnOption(\"command:select\", \"visible\", isSelectColumnVisible)\r\n        },\r\n        _createSelection: function() {\r\n            var options = this._getSelectionConfig();\r\n            return new _selection.default(options)\r\n        },\r\n        _fireSelectionChanged: function(options) {\r\n            if (options) {\r\n                this.executeAction(\"onSelectionChanged\", options)\r\n            }\r\n            var argument = this.option(\"selection.deferred\") ? {\r\n                selectionFilter: this.option(\"selectionFilter\")\r\n            } : {\r\n                selectedRowKeys: this.option(\"selectedRowKeys\")\r\n            };\r\n            this.selectionChanged.fire(argument)\r\n        },\r\n        _updateCheckboxesState: function(options) {\r\n            var isDeferredMode = options.isDeferredMode;\r\n            var selectionFilter = options.selectionFilter;\r\n            var selectedItemKeys = options.selectedItemKeys;\r\n            var removedItemKeys = options.removedItemKeys;\r\n            if (\"onClick\" === this.option(SHOW_CHECKBOXES_MODE)) {\r\n                if (isDeferredMode ? selectionFilter && isSeveralRowsSelected(this, selectionFilter) : selectedItemKeys.length > 1) {\r\n                    this.startSelectionWithCheckboxes()\r\n                } else {\r\n                    if (isDeferredMode ? selectionFilter && !selectionFilter.length : 0 === selectedItemKeys.length && removedItemKeys.length) {\r\n                        this.stopSelectionWithCheckboxes()\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        _updateSelectedItems: function(args) {\r\n            var that = this;\r\n            var selectionChangedOptions;\r\n            var isDeferredMode = that.option(\"selection.deferred\");\r\n            var selectionFilter = that._selection.selectionFilter();\r\n            var dataController = that._dataController;\r\n            var items = dataController.items();\r\n            if (!items) {\r\n                return\r\n            }\r\n            var isSelectionWithCheckboxes = that.isSelectionWithCheckboxes();\r\n            var changedItemIndexes = that.getChangedItemIndexes(items);\r\n            that._updateCheckboxesState({\r\n                selectedItemKeys: args.selectedItemKeys,\r\n                removedItemKeys: args.removedItemKeys,\r\n                selectionFilter: selectionFilter,\r\n                isDeferredMode: isDeferredMode\r\n            });\r\n            if (changedItemIndexes.length || isSelectionWithCheckboxes !== that.isSelectionWithCheckboxes()) {\r\n                dataController.updateItems({\r\n                    changeType: \"updateSelection\",\r\n                    itemIndexes: changedItemIndexes\r\n                })\r\n            }\r\n            if (isDeferredMode) {\r\n                that.option(\"selectionFilter\", selectionFilter);\r\n                selectionChangedOptions = {}\r\n            } else {\r\n                if (args.addedItemKeys.length || args.removedItemKeys.length) {\r\n                    that._selectedItemsInternalChange = true;\r\n                    that.option(\"selectedRowKeys\", args.selectedItemKeys.slice(0));\r\n                    that._selectedItemsInternalChange = false;\r\n                    selectionChangedOptions = {\r\n                        selectedRowsData: args.selectedItems.slice(0),\r\n                        selectedRowKeys: args.selectedItemKeys.slice(0),\r\n                        currentSelectedRowKeys: args.addedItemKeys.slice(0),\r\n                        currentDeselectedRowKeys: args.removedItemKeys.slice(0)\r\n                    }\r\n                }\r\n            }\r\n            that._fireSelectionChanged(selectionChangedOptions)\r\n        },\r\n        getChangedItemIndexes: function(items) {\r\n            var that = this;\r\n            var itemIndexes = [];\r\n            var isDeferredSelection = this.option(\"selection.deferred\");\r\n            for (var i = 0, length = items.length; i < length; i++) {\r\n                var row = items[i];\r\n                var isItemSelected = that.isRowSelected(isDeferredSelection ? row.data : row.key);\r\n                if (that._selection.isDataItem(row) && row.isSelected !== isItemSelected) {\r\n                    itemIndexes.push(i)\r\n                }\r\n            }\r\n            return itemIndexes\r\n        },\r\n        callbackNames: function() {\r\n            return [\"selectionChanged\"]\r\n        },\r\n        optionChanged: function(args) {\r\n            var that = this;\r\n            that.callBase(args);\r\n            switch (args.name) {\r\n                case \"selection\":\r\n                    var oldSelectionMode = that._selectionMode;\r\n                    that.init();\r\n                    var selectionMode = that._selectionMode;\r\n                    var selectedRowKeys = that.option(\"selectedRowKeys\");\r\n                    if (oldSelectionMode !== selectionMode) {\r\n                        if (\"single\" === selectionMode) {\r\n                            if (selectedRowKeys.length > 1) {\r\n                                selectedRowKeys = [selectedRowKeys[0]]\r\n                            }\r\n                        } else {\r\n                            if (\"multiple\" !== selectionMode) {\r\n                                selectedRowKeys = []\r\n                            }\r\n                        }\r\n                    }\r\n                    that.selectRows(selectedRowKeys).always(function() {\r\n                        that._fireSelectionChanged()\r\n                    });\r\n                    that.getController(\"columns\").updateColumns();\r\n                    args.handled = true;\r\n                    break;\r\n                case \"selectionFilter\":\r\n                    this._selection.selectionFilter(args.value);\r\n                    args.handled = true;\r\n                    break;\r\n                case \"selectedRowKeys\":\r\n                    var value = args.value || [];\r\n                    if (Array.isArray(value) && !that._selectedItemsInternalChange && (that.component.getDataSource() || !value.length)) {\r\n                        that.selectRows(value)\r\n                    }\r\n                    args.handled = true\r\n            }\r\n        },\r\n        publicMethods: function() {\r\n            return [\"selectRows\", \"deselectRows\", \"selectRowsByIndexes\", \"getSelectedRowKeys\", \"getSelectedRowsData\", \"clearSelection\", \"selectAll\", \"deselectAll\", \"startSelectionWithCheckboxes\", \"stopSelectionWithCheckboxes\", \"isRowSelected\"]\r\n        },\r\n        isRowSelected: function(arg) {\r\n            return this._selection.isItemSelected(arg)\r\n        },\r\n        isSelectColumnVisible: function() {\r\n            return \"multiple\" === this.option(SELECTION_MODE) && (\"always\" === this.option(SHOW_CHECKBOXES_MODE) || \"onClick\" === this.option(SHOW_CHECKBOXES_MODE) || this._isSelectionWithCheckboxes)\r\n        },\r\n        _isOnePageSelectAll: function() {\r\n            return \"page\" === this.option(\"selection.selectAllMode\")\r\n        },\r\n        isSelectAll: function() {\r\n            return this._selection.getSelectAllState(this._isOnePageSelectAll())\r\n        },\r\n        selectAll: function() {\r\n            if (\"onClick\" === this.option(SHOW_CHECKBOXES_MODE)) {\r\n                this.startSelectionWithCheckboxes()\r\n            }\r\n            return this._selection.selectAll(this._isOnePageSelectAll())\r\n        },\r\n        deselectAll: function() {\r\n            return this._selection.deselectAll(this._isOnePageSelectAll())\r\n        },\r\n        clearSelection: function() {\r\n            return this.selectedItemKeys([])\r\n        },\r\n        refresh: function() {\r\n            var selectedRowKeys = this.option(\"selectedRowKeys\") || [];\r\n            if (!this.option(\"selection.deferred\") && selectedRowKeys.length) {\r\n                return this.selectedItemKeys(selectedRowKeys)\r\n            }\r\n            return (new _deferred.Deferred).resolve().promise()\r\n        },\r\n        selectedItemKeys: function(value, preserve, isDeselect, isSelectAll) {\r\n            return this._selection.selectedItemKeys(value, preserve, isDeselect, isSelectAll)\r\n        },\r\n        getSelectedRowKeys: function() {\r\n            return this._selection.getSelectedItemKeys()\r\n        },\r\n        selectRows: function(keys, preserve) {\r\n            return this.selectedItemKeys(keys, preserve)\r\n        },\r\n        deselectRows: function(keys) {\r\n            return this.selectedItemKeys(keys, true, true)\r\n        },\r\n        selectRowsByIndexes: function(indexes) {\r\n            var items = this._dataController.items();\r\n            var keys = [];\r\n            if (!Array.isArray(indexes)) {\r\n                indexes = Array.prototype.slice.call(arguments, 0)\r\n            }(0, _iterator.each)(indexes, function() {\r\n                var item = items[this];\r\n                if (item && \"data\" === item.rowType) {\r\n                    keys.push(item.key)\r\n                }\r\n            });\r\n            return this.selectRows(keys)\r\n        },\r\n        getSelectedRowsData: function() {\r\n            return this._selection.getSelectedItems()\r\n        },\r\n        changeItemSelection: function(itemIndex, keys) {\r\n            keys = keys || {};\r\n            if (this.isSelectionWithCheckboxes()) {\r\n                keys.control = true\r\n            }\r\n            return this._selection.changeItemSelection(this._dataController.getRowIndexDelta() + itemIndex, keys)\r\n        },\r\n        focusedItemIndex: function(itemIndex) {\r\n            var that = this;\r\n            if ((0, _type.isDefined)(itemIndex)) {\r\n                that._selection._focusedItemIndex = itemIndex\r\n            } else {\r\n                return that._selection._focusedItemIndex\r\n            }\r\n        },\r\n        isSelectionWithCheckboxes: function() {\r\n            return \"multiple\" === this.option(SELECTION_MODE) && (\"always\" === this.option(SHOW_CHECKBOXES_MODE) || this._isSelectionWithCheckboxes)\r\n        },\r\n        startSelectionWithCheckboxes: function() {\r\n            var that = this;\r\n            if (\"multiple\" === that.option(SELECTION_MODE) && !that.isSelectionWithCheckboxes()) {\r\n                that._isSelectionWithCheckboxes = true;\r\n                that._updateSelectColumn();\r\n                return true\r\n            }\r\n            return false\r\n        },\r\n        stopSelectionWithCheckboxes: function() {\r\n            var that = this;\r\n            if (that._isSelectionWithCheckboxes) {\r\n                that._isSelectionWithCheckboxes = false;\r\n                that._updateSelectColumn();\r\n                return true\r\n            }\r\n            return false\r\n        }\r\n    }\r\n}());\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            selection: {\r\n                mode: \"none\",\r\n                showCheckBoxesMode: \"onClick\",\r\n                allowSelectAll: true,\r\n                selectAllMode: \"allPages\",\r\n                maxFilterLengthInRequest: 1500,\r\n                deferred: false\r\n            },\r\n            selectionFilter: [],\r\n            selectedRowKeys: []\r\n        }\r\n    },\r\n    controllers: {\r\n        selection: SelectionController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                init: function() {\r\n                    var selectionController = this.getController(\"selection\");\r\n                    var isDeferredMode = this.option(\"selection.deferred\");\r\n                    this.callBase.apply(this, arguments);\r\n                    if (isDeferredMode) {\r\n                        selectionController._updateCheckboxesState({\r\n                            isDeferredMode: true,\r\n                            selectionFilter: this.option(\"selectionFilter\")\r\n                        })\r\n                    }\r\n                },\r\n                _loadDataSource: function() {\r\n                    var that = this;\r\n                    return that.callBase().done(function() {\r\n                        that.getController(\"selection\").refresh()\r\n                    })\r\n                },\r\n                _processDataItem: function(item, options) {\r\n                    var that = this;\r\n                    var selectionController = that.getController(\"selection\");\r\n                    var hasSelectColumn = selectionController.isSelectColumnVisible();\r\n                    var isDeferredSelection = options.isDeferredSelection = void 0 === options.isDeferredSelection ? this.option(\"selection.deferred\") : options.isDeferredSelection;\r\n                    var dataItem = this.callBase.apply(this, arguments);\r\n                    dataItem.isSelected = selectionController.isRowSelected(isDeferredSelection ? dataItem.data : dataItem.key);\r\n                    if (hasSelectColumn && dataItem.values) {\r\n                        for (var i = 0; i < options.visibleColumns.length; i++) {\r\n                            if (\"select\" === options.visibleColumns[i].command) {\r\n                                dataItem.values[i] = dataItem.isSelected;\r\n                                break\r\n                            }\r\n                        }\r\n                    }\r\n                    return dataItem\r\n                },\r\n                refresh: function(options) {\r\n                    var that = this;\r\n                    var d = new _deferred.Deferred;\r\n                    this.callBase.apply(this, arguments).done(function() {\r\n                        if (!options || options.selection) {\r\n                            that.getController(\"selection\").refresh().done(d.resolve).fail(d.reject)\r\n                        } else {\r\n                            d.resolve()\r\n                        }\r\n                    }).fail(d.reject);\r\n                    return d.promise()\r\n                },\r\n                _handleDataChanged: function(e) {\r\n                    this.callBase.apply(this, arguments);\r\n                    if ((!e || \"refresh\" === e.changeType) && !this._repaintChangesOnly) {\r\n                        this.getController(\"selection\").focusedItemIndex(-1)\r\n                    }\r\n                },\r\n                _applyChange: function(change) {\r\n                    var _this = this;\r\n                    if (change && \"updateSelection\" === change.changeType) {\r\n                        change.items.forEach(function(item, index) {\r\n                            var currentItem = _this._items[index];\r\n                            if (currentItem) {\r\n                                currentItem.isSelected = item.isSelected;\r\n                                currentItem.values = item.values\r\n                            }\r\n                        });\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _endUpdateCore: function() {\r\n                    var changes = this._changes;\r\n                    var isUpdateSelection = changes.length > 1 && changes.every(function(change) {\r\n                        return \"updateSelection\" === change.changeType\r\n                    });\r\n                    if (isUpdateSelection) {\r\n                        var itemIndexes = changes.map(function(change) {\r\n                            return change.itemIndexes || []\r\n                        }).reduce(function(a, b) {\r\n                            return a.concat(b)\r\n                        });\r\n                        this._changes = [{\r\n                            changeType: \"updateSelection\",\r\n                            itemIndexes: itemIndexes\r\n                        }]\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                push: function(changes) {\r\n                    this.callBase.apply(this, arguments);\r\n                    var removedKeys = changes.filter(function(change) {\r\n                        return \"remove\" === change.type\r\n                    }).map(function(change) {\r\n                        return change.key\r\n                    });\r\n                    removedKeys.length && this.getController(\"selection\").deselectRows(removedKeys)\r\n                }\r\n            },\r\n            contextMenu: {\r\n                _contextMenuPrepared: function(options) {\r\n                    var dxEvent = options.event;\r\n                    if (dxEvent.originalEvent && \"dxhold\" !== dxEvent.originalEvent.type || options.items && options.items.length > 0) {\r\n                        return\r\n                    }\r\n                    processLongTap(this, dxEvent)\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            columnHeadersView: {\r\n                init: function() {\r\n                    var that = this;\r\n                    that.callBase();\r\n                    that.getController(\"selection\").selectionChanged.add(that._updateSelectAllValue.bind(that))\r\n                },\r\n                _updateSelectAllValue: function() {\r\n                    var that = this;\r\n                    var $element = that.element();\r\n                    var $editor = $element && $element.find(\".\" + SELECT_CHECKBOX_CLASS);\r\n                    if ($element && $editor.length && \"multiple\" === that.option(\"selection.mode\")) {\r\n                        $editor.dxCheckBox(\"instance\").option({\r\n                            visible: !that.getController(\"data\").isEmpty(),\r\n                            value: that.getController(\"selection\").isSelectAll()\r\n                        })\r\n                    }\r\n                },\r\n                _handleDataChanged: function(e) {\r\n                    this.callBase(e);\r\n                    if (!e || \"refresh\" === e.changeType) {\r\n                        this._updateSelectAllValue()\r\n                    }\r\n                },\r\n                _renderSelectAllCheckBox: function($container, column) {\r\n                    var that = this;\r\n                    var selectionController = that.getController(\"selection\");\r\n                    var isEmptyData = that.getController(\"data\").isEmpty();\r\n                    var groupElement = (0, _renderer.default)(\"<div>\").appendTo($container).addClass(SELECT_CHECKBOX_CLASS);\r\n                    that.setAria(\"label\", _message.default.format(\"dxDataGrid-ariaSelectAll\"), $container);\r\n                    that.getController(\"editorFactory\").createEditor(groupElement, (0, _extend.extend)({}, column, {\r\n                        parentType: \"headerRow\",\r\n                        dataType: \"boolean\",\r\n                        value: selectionController.isSelectAll(),\r\n                        editorOptions: {\r\n                            visible: !isEmptyData && (that.option(\"selection.allowSelectAll\") || false !== selectionController.isSelectAll())\r\n                        },\r\n                        tabIndex: that.option(\"useLegacyKeyboardNavigation\") ? -1 : that.option(\"tabIndex\") || 0,\r\n                        setValue: function(value, e) {\r\n                            var allowSelectAll = that.option(\"selection.allowSelectAll\");\r\n                            e.component.option(\"visible\", allowSelectAll || false !== e.component.option(\"value\"));\r\n                            if (!e.event || selectionController.isSelectAll() === value) {\r\n                                return\r\n                            }\r\n                            if (e.value && !allowSelectAll) {\r\n                                e.component.option(\"value\", false)\r\n                            } else {\r\n                                e.value ? selectionController.selectAll() : selectionController.deselectAll()\r\n                            }\r\n                            e.event.preventDefault()\r\n                        }\r\n                    }));\r\n                    return groupElement\r\n                },\r\n                _attachSelectAllCheckBoxClickEvent: function($element) {\r\n                    _events_engine.default.on($element, _click.name, this.createAction(function(e) {\r\n                        var event = e.event;\r\n                        if (!(0, _renderer.default)(event.target).closest(\".\" + SELECT_CHECKBOX_CLASS).length) {\r\n                            _events_engine.default.trigger((0, _renderer.default)(event.currentTarget).children(\".\" + SELECT_CHECKBOX_CLASS), _click.name)\r\n                        }\r\n                        event.preventDefault()\r\n                    }))\r\n                }\r\n            },\r\n            rowsView: {\r\n                renderSelectCheckBoxContainer: function($container, options) {\r\n                    if (\"data\" === options.rowType && !options.row.isNewRow) {\r\n                        $container.addClass(EDITOR_CELL_CLASS);\r\n                        this._attachCheckBoxClickEvent($container);\r\n                        this.setAria(\"label\", _message.default.format(\"dxDataGrid-ariaSelectRow\"), $container);\r\n                        this._renderSelectCheckBox($container, options)\r\n                    } else {\r\n                        _uiGrid_core.default.setEmptyText($container)\r\n                    }\r\n                },\r\n                _renderSelectCheckBox: function(container, options) {\r\n                    var groupElement = (0, _renderer.default)(\"<div>\").addClass(SELECT_CHECKBOX_CLASS).appendTo(container);\r\n                    this.getController(\"editorFactory\").createEditor(groupElement, (0, _extend.extend)({}, options.column, {\r\n                        parentType: \"dataRow\",\r\n                        dataType: \"boolean\",\r\n                        lookup: null,\r\n                        value: options.value,\r\n                        setValue: function(value, e) {\r\n                            var _e$event;\r\n                            if (\"keydown\" === (null === e || void 0 === e ? void 0 : null === (_e$event = e.event) || void 0 === _e$event ? void 0 : _e$event.type)) {\r\n                                _events_engine.default.trigger(e.element, _click.name, e)\r\n                            }\r\n                        },\r\n                        row: options.row\r\n                    }));\r\n                    return groupElement\r\n                },\r\n                _attachCheckBoxClickEvent: function($element) {\r\n                    _events_engine.default.on($element, _click.name, this.createAction(function(e) {\r\n                        var selectionController = this.getController(\"selection\");\r\n                        var event = e.event;\r\n                        var rowIndex = this.getRowIndex((0, _renderer.default)(event.currentTarget).closest(\".\" + ROW_CLASS));\r\n                        if (rowIndex >= 0) {\r\n                            selectionController.startSelectionWithCheckboxes();\r\n                            selectionController.changeItemSelection(rowIndex, {\r\n                                shift: event.shiftKey\r\n                            });\r\n                            if ((0, _renderer.default)(event.target).closest(\".\" + SELECT_CHECKBOX_CLASS).length) {\r\n                                this.getController(\"data\").updateItems({\r\n                                    changeType: \"updateSelection\",\r\n                                    itemIndexes: [rowIndex]\r\n                                })\r\n                            }\r\n                        }\r\n                    }))\r\n                },\r\n                _update: function(change) {\r\n                    var that = this;\r\n                    var tableElements = that.getTableElements();\r\n                    if (\"updateSelection\" === change.changeType) {\r\n                        if (tableElements.length > 0) {\r\n                            (0, _iterator.each)(tableElements, function(_, tableElement) {\r\n                                (0, _iterator.each)(change.itemIndexes || [], function(_, index) {\r\n                                    var $row;\r\n                                    if (change.items[index]) {\r\n                                        $row = that._getRowElements((0, _renderer.default)(tableElement)).eq(index);\r\n                                        if ($row.length) {\r\n                                            var isSelected = change.items[index].isSelected;\r\n                                            $row.toggleClass(ROW_SELECTION_CLASS, void 0 === isSelected ? false : isSelected).find(\".\" + SELECT_CHECKBOX_CLASS).dxCheckBox(\"option\", \"value\", isSelected);\r\n                                            that.setAria(\"selected\", isSelected, $row)\r\n                                        }\r\n                                    }\r\n                                })\r\n                            });\r\n                            that._updateCheckboxesClass()\r\n                        }\r\n                    } else {\r\n                        that.callBase(change)\r\n                    }\r\n                },\r\n                _createTable: function() {\r\n                    var that = this;\r\n                    var selectionMode = that.option(\"selection.mode\");\r\n                    var $table = that.callBase.apply(that, arguments);\r\n                    if (\"none\" !== selectionMode) {\r\n                        if (\"onLongTap\" === that.option(SHOW_CHECKBOXES_MODE) || !_support.touch) {\r\n                            _events_engine.default.on($table, (0, _index.addNamespace)(_hold.default.name, \"dxDataGridRowsView\"), \".\" + DATA_ROW_CLASS, that.createAction(function(e) {\r\n                                processLongTap(that.component, e.event);\r\n                                e.event.stopPropagation()\r\n                            }))\r\n                        }\r\n                        _events_engine.default.on($table, \"mousedown selectstart\", that.createAction(function(e) {\r\n                            var event = e.event;\r\n                            if (event.shiftKey) {\r\n                                event.preventDefault()\r\n                            }\r\n                        }))\r\n                    }\r\n                    return $table\r\n                },\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase(row);\r\n                    if (row) {\r\n                        var isSelected = !!row.isSelected;\r\n                        if (isSelected) {\r\n                            $row.addClass(ROW_SELECTION_CLASS)\r\n                        }\r\n                        this.setAria(\"selected\", isSelected, $row)\r\n                    }\r\n                    return $row\r\n                },\r\n                _rowClick: function(e) {\r\n                    var that = this;\r\n                    var dxEvent = e.event;\r\n                    var isSelectionDisabled = (0, _renderer.default)(dxEvent.target).closest(\".\" + SELECTION_DISABLED_CLASS).length;\r\n                    if (!that.isClickableElement((0, _renderer.default)(dxEvent.target))) {\r\n                        if (!isSelectionDisabled && (\"multiple\" !== that.option(SELECTION_MODE) || \"always\" !== that.option(SHOW_CHECKBOXES_MODE))) {\r\n                            if (that.getController(\"selection\").changeItemSelection(e.rowIndex, {\r\n                                    control: (0, _index.isCommandKeyPressed)(dxEvent),\r\n                                    shift: dxEvent.shiftKey\r\n                                })) {\r\n                                dxEvent.preventDefault();\r\n                                e.handled = true\r\n                            }\r\n                        }\r\n                        that.callBase(e)\r\n                    }\r\n                },\r\n                isClickableElement: function($target) {\r\n                    var isCommandSelect = $target.closest(\".\" + COMMAND_SELECT_CLASS).length;\r\n                    return !!isCommandSelect\r\n                },\r\n                _renderCore: function(change) {\r\n                    this.callBase(change);\r\n                    this._updateCheckboxesClass()\r\n                },\r\n                _updateCheckboxesClass: function() {\r\n                    var tableElements = this.getTableElements();\r\n                    var selectionController = this.getController(\"selection\");\r\n                    var isCheckBoxesHidden = selectionController.isSelectColumnVisible() && !selectionController.isSelectionWithCheckboxes();\r\n                    (0, _iterator.each)(tableElements, function(_, tableElement) {\r\n                        (0, _renderer.default)(tableElement).toggleClass(CHECKBOXES_HIDDEN_CLASS, isCheckBoxesHidden)\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.column_chooser.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.ColumnChooserView = exports.ColumnChooserController = void 0;\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.column_chooser\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar ColumnChooserController = _uiGrid_core.default.controllers.columnChooser;\r\nexports.ColumnChooserController = ColumnChooserController;\r\nvar ColumnChooserView = _uiGrid_core.default.views.columnChooserView;\r\nexports.ColumnChooserView = ColumnChooserView;\r\n_uiData_grid.default.registerModule(\"columnChooser\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.column_chooser.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _uiGrid_core2 = require(\"./ui.grid_core.columns_view\");\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _themes = require(\"../themes\");\r\nvar _button = _interopRequireDefault(require(\"../button\"));\r\nvar _tree_view = _interopRequireDefault(require(\"../tree_view\"));\r\nvar _devices = _interopRequireDefault(require(\"../../core/devices\"));\r\nvar _popup = _interopRequireDefault(require(\"../popup\"));\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar COLUMN_CHOOSER_CLASS = \"column-chooser\";\r\nvar COLUMN_CHOOSER_BUTTON_CLASS = \"column-chooser-button\";\r\nvar NOTOUCH_ACTION_CLASS = \"notouch-action\";\r\nvar COLUMN_CHOOSER_LIST_CLASS = \"column-chooser-list\";\r\nvar COLUMN_CHOOSER_PLAIN_CLASS = \"column-chooser-plain\";\r\nvar COLUMN_CHOOSER_DRAG_CLASS = \"column-chooser-mode-drag\";\r\nvar COLUMN_CHOOSER_SELECT_CLASS = \"column-chooser-mode-select\";\r\nvar COLUMN_CHOOSER_ICON_NAME = \"column-chooser\";\r\nvar COLUMN_CHOOSER_ITEM_CLASS = \"dx-column-chooser-item\";\r\nvar TREEVIEW_NODE_SELECTOR = \".dx-treeview-node\";\r\nvar CHECKBOX_SELECTOR = \".dx-checkbox\";\r\nvar CLICK_TIMEOUT = 300;\r\nvar processItems = function(that, chooserColumns) {\r\n    var items = [];\r\n    var isSelectMode = \"select\" === that.option(\"columnChooser.mode\");\r\n    if (chooserColumns.length) {\r\n        (0, _iterator.each)(chooserColumns, function(index, column) {\r\n            var item = {\r\n                text: column.caption,\r\n                cssClass: column.cssClass,\r\n                allowHiding: column.allowHiding,\r\n                expanded: true,\r\n                id: column.index,\r\n                disabled: false,\r\n                disableCheckBox: false === column.allowHiding,\r\n                parentId: (0, _type.isDefined)(column.ownerBand) ? column.ownerBand : null\r\n            };\r\n            if (isSelectMode) {\r\n                item.selected = column.visible\r\n            }\r\n            items.push(item)\r\n        })\r\n    }\r\n    return items\r\n};\r\nvar ColumnChooserController = _uiGrid_core.default.ViewController.inherit({\r\n    renderShowColumnChooserButton: function($element) {\r\n        var that = this;\r\n        var columnChooserButtonClass = that.addWidgetPrefix(COLUMN_CHOOSER_BUTTON_CLASS);\r\n        var columnChooserEnabled = that.option(\"columnChooser.enabled\");\r\n        var $showColumnChooserButton = $element.find(\".\" + columnChooserButtonClass);\r\n        var $columnChooserButton;\r\n        if (columnChooserEnabled) {\r\n            if (!$showColumnChooserButton.length) {\r\n                $columnChooserButton = (0, _renderer.default)(\"<div>\").addClass(columnChooserButtonClass).appendTo($element);\r\n                that._createComponent($columnChooserButton, _button.default, {\r\n                    icon: COLUMN_CHOOSER_ICON_NAME,\r\n                    onClick: function() {\r\n                        that.getView(\"columnChooserView\").showColumnChooser()\r\n                    },\r\n                    hint: that.option(\"columnChooser.title\"),\r\n                    integrationOptions: {}\r\n                })\r\n            } else {\r\n                $showColumnChooserButton.show()\r\n            }\r\n        } else {\r\n            $showColumnChooserButton.hide()\r\n        }\r\n    },\r\n    getPosition: function() {\r\n        var rowsView = this.getView(\"rowsView\");\r\n        return {\r\n            my: \"right bottom\",\r\n            at: \"right bottom\",\r\n            of: rowsView && rowsView.element(),\r\n            collision: \"fit\",\r\n            offset: \"-2 -2\",\r\n            boundaryOffset: \"2 2\"\r\n        }\r\n    }\r\n});\r\nvar ColumnChooserView = _uiGrid_core2.ColumnsView.inherit({\r\n    _resizeCore: _common.noop,\r\n    _isWinDevice: function() {\r\n        return !!_devices.default.real().win\r\n    },\r\n    _updateList: function(change) {\r\n        var items;\r\n        var $popupContent = this._popupContainer.$content();\r\n        var isSelectMode = \"select\" === this.option(\"columnChooser.mode\");\r\n        var columnChooserList = this._columnChooserList;\r\n        var chooserColumns = this._columnsController.getChooserColumns(isSelectMode);\r\n        if (isSelectMode && columnChooserList && change && \"selection\" === change.changeType) {\r\n            items = processItems(this, chooserColumns);\r\n            for (var i = 0; i < items.length; i++) {\r\n                var selected = items[i].selected;\r\n                var id = items[i].id;\r\n                if (id === change.columnIndex) {\r\n                    if (selected) {\r\n                        columnChooserList.selectItem(id, selected)\r\n                    } else {\r\n                        columnChooserList.unselectItem(id, selected)\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            if (!isSelectMode || !columnChooserList || \"full\" === change) {\r\n                this._popupContainer._wrapper().toggleClass(this.addWidgetPrefix(COLUMN_CHOOSER_DRAG_CLASS), !isSelectMode).toggleClass(this.addWidgetPrefix(COLUMN_CHOOSER_SELECT_CLASS), isSelectMode);\r\n                items = processItems(this, chooserColumns);\r\n                this._renderTreeView($popupContent, items)\r\n            }\r\n        }\r\n    },\r\n    _initializePopupContainer: function() {\r\n        var that = this;\r\n        var $element = that.element().addClass(that.addWidgetPrefix(COLUMN_CHOOSER_CLASS));\r\n        var columnChooserOptions = that.option(\"columnChooser\");\r\n        var themeName = (0, _themes.current)();\r\n        var isGenericTheme = (0, _themes.isGeneric)(themeName);\r\n        var isMaterial = (0, _themes.isMaterial)(themeName);\r\n        var dxPopupOptions = {\r\n            visible: false,\r\n            shading: false,\r\n            showCloseButton: false,\r\n            dragEnabled: true,\r\n            resizeEnabled: true,\r\n            toolbarItems: [{\r\n                text: columnChooserOptions.title,\r\n                toolbar: \"top\",\r\n                location: isGenericTheme || isMaterial ? \"before\" : \"center\"\r\n            }],\r\n            position: that.getController(\"columnChooser\").getPosition(),\r\n            width: columnChooserOptions.width,\r\n            height: columnChooserOptions.height,\r\n            rtlEnabled: that.option(\"rtlEnabled\"),\r\n            onHidden: function() {\r\n                if (that._isWinDevice()) {\r\n                    (0, _renderer.default)(\"body\").removeClass(that.addWidgetPrefix(NOTOUCH_ACTION_CLASS))\r\n                }\r\n            },\r\n            container: columnChooserOptions.container\r\n        };\r\n        if (isGenericTheme || isMaterial) {\r\n            (0, _extend.extend)(dxPopupOptions, {\r\n                showCloseButton: true\r\n            })\r\n        } else {\r\n            dxPopupOptions.toolbarItems[dxPopupOptions.toolbarItems.length] = {\r\n                shortcut: \"cancel\"\r\n            }\r\n        }\r\n        if (!(0, _type.isDefined)(this._popupContainer)) {\r\n            that._popupContainer = that._createComponent($element, _popup.default, dxPopupOptions);\r\n            that._popupContainer.on(\"optionChanged\", function(args) {\r\n                if (\"visible\" === args.name) {\r\n                    that.renderCompleted.fire()\r\n                }\r\n            })\r\n        } else {\r\n            this._popupContainer.option(dxPopupOptions)\r\n        }\r\n    },\r\n    _renderCore: function(change) {\r\n        if (this._popupContainer) {\r\n            this._updateList(change)\r\n        }\r\n    },\r\n    _renderTreeView: function($container, items) {\r\n        var that = this;\r\n        var columnChooser = this.option(\"columnChooser\");\r\n        var isSelectMode = \"select\" === columnChooser.mode;\r\n        var treeViewConfig = {\r\n            items: items,\r\n            dataStructure: \"plain\",\r\n            activeStateEnabled: true,\r\n            focusStateEnabled: true,\r\n            hoverStateEnabled: true,\r\n            itemTemplate: \"item\",\r\n            showCheckBoxesMode: \"none\",\r\n            rootValue: null,\r\n            searchEnabled: columnChooser.allowSearch,\r\n            searchTimeout: columnChooser.searchTimeout,\r\n            onItemRendered: function(e) {\r\n                if (e.itemData.disableCheckBox) {\r\n                    var $treeViewNode = (0, _renderer.default)(e.itemElement).closest(TREEVIEW_NODE_SELECTOR);\r\n                    var $checkBox;\r\n                    if ($treeViewNode.length) {\r\n                        $checkBox = $treeViewNode.find(CHECKBOX_SELECTOR);\r\n                        if ($checkBox.length) {\r\n                            var checkBoxInstance = $checkBox.data(\"dxCheckBox\");\r\n                            checkBoxInstance && checkBoxInstance.option(\"disabled\", true)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        var scrollableInstance = $container.find(\".dx-scrollable\").data(\"dxScrollable\");\r\n        var scrollTop = scrollableInstance && scrollableInstance.scrollTop();\r\n        if (isSelectMode && !this._columnsController.isBandColumnsUsed()) {\r\n            $container.addClass(this.addWidgetPrefix(COLUMN_CHOOSER_PLAIN_CLASS))\r\n        }\r\n        treeViewConfig.onContentReady = function(e) {\r\n            (0, _common.deferUpdate)(function() {\r\n                if (scrollTop) {\r\n                    var scrollable = (0, _renderer.default)(e.element).find(\".dx-scrollable\").data(\"dxScrollable\");\r\n                    scrollable && scrollable.scrollTo({\r\n                        y: scrollTop\r\n                    })\r\n                }\r\n                that.renderCompleted.fire()\r\n            })\r\n        };\r\n        if (this._isWinDevice()) {\r\n            treeViewConfig.useNativeScrolling = false\r\n        }(0, _extend.extend)(treeViewConfig, isSelectMode ? this._prepareSelectModeConfig() : this._prepareDragModeConfig());\r\n        if (this._columnChooserList) {\r\n            if (!treeViewConfig.searchEnabled) {\r\n                treeViewConfig.searchValue = \"\"\r\n            }\r\n            this._columnChooserList.option(treeViewConfig)\r\n        } else {\r\n            this._columnChooserList = this._createComponent($container, _tree_view.default, treeViewConfig);\r\n            $container.addClass(this.addWidgetPrefix(COLUMN_CHOOSER_LIST_CLASS))\r\n        }\r\n    },\r\n    _prepareDragModeConfig: function() {\r\n        var columnChooserOptions = this.option(\"columnChooser\");\r\n        return {\r\n            noDataText: columnChooserOptions.emptyPanelText,\r\n            activeStateEnabled: false,\r\n            focusStateEnabled: false,\r\n            hoverStateEnabled: false,\r\n            itemTemplate: function(data, index, item) {\r\n                (0, _renderer.default)(item).text(data.text).parent().addClass(data.cssClass).addClass(COLUMN_CHOOSER_ITEM_CLASS)\r\n            }\r\n        }\r\n    },\r\n    _prepareSelectModeConfig: function() {\r\n        var that = this;\r\n        var selectionChangedHandler = function(e) {\r\n            var visibleColumns = that._columnsController.getVisibleColumns().filter(function(item) {\r\n                return !item.command\r\n            });\r\n            var isLastColumnUnselected = 1 === visibleColumns.length && !e.itemData.selected;\r\n            if (isLastColumnUnselected) {\r\n                e.component.selectItem(e.itemElement)\r\n            } else {\r\n                setTimeout(function() {\r\n                    that._columnsController.columnOption(e.itemData.id, \"visible\", e.itemData.selected)\r\n                }, CLICK_TIMEOUT)\r\n            }\r\n        };\r\n        return {\r\n            selectNodesRecursive: false,\r\n            showCheckBoxesMode: \"normal\",\r\n            onItemSelectionChanged: selectionChangedHandler\r\n        }\r\n    },\r\n    _columnOptionChanged: function(e) {\r\n        var changeTypes = e.changeTypes;\r\n        var optionNames = e.optionNames;\r\n        var isSelectMode = \"select\" === this.option(\"columnChooser.mode\");\r\n        this.callBase(e);\r\n        if (isSelectMode) {\r\n            var needPartialRender = optionNames.visible && 1 === optionNames.length && void 0 !== e.columnIndex;\r\n            var needFullRender = optionNames.showInColumnChooser || optionNames.caption || optionNames.visible || changeTypes.columns && optionNames.all;\r\n            if (needPartialRender) {\r\n                this.render(null, {\r\n                    changeType: \"selection\",\r\n                    columnIndex: e.columnIndex\r\n                })\r\n            } else {\r\n                if (needFullRender) {\r\n                    this.render(null, \"full\")\r\n                }\r\n            }\r\n        }\r\n    },\r\n    optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"columnChooser\":\r\n                this._initializePopupContainer();\r\n                this.render(null, \"full\");\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    getColumnElements: function() {\r\n        var result = [];\r\n        var $node;\r\n        var isSelectMode = \"select\" === this.option(\"columnChooser.mode\");\r\n        var chooserColumns = this._columnsController.getChooserColumns(isSelectMode);\r\n        var $content = this._popupContainer && this._popupContainer.$content();\r\n        var $nodes = $content && $content.find(\".dx-treeview-node\");\r\n        if ($nodes) {\r\n            chooserColumns.forEach(function(column) {\r\n                $node = $nodes.filter(\"[data-item-id = '\" + column.index + \"']\");\r\n                var item = $node.length ? $node.children(\".\" + COLUMN_CHOOSER_ITEM_CLASS).get(0) : null;\r\n                result.push(item)\r\n            })\r\n        }\r\n        return (0, _renderer.default)(result)\r\n    },\r\n    getName: function() {\r\n        return \"columnChooser\"\r\n    },\r\n    getColumns: function() {\r\n        return this._columnsController.getChooserColumns()\r\n    },\r\n    allowDragging: function(column, sourceLocation) {\r\n        var columnVisible = column && column.allowHiding && (\"columnChooser\" !== sourceLocation || !column.visible && this._columnsController.isParentColumnVisible(column.index));\r\n        return this.isColumnChooserVisible() && columnVisible\r\n    },\r\n    getBoundingRect: function() {\r\n        var that = this;\r\n        var container = that._popupContainer && that._popupContainer._container();\r\n        if (container && container.is(\":visible\")) {\r\n            var offset = container.offset();\r\n            return {\r\n                left: offset.left,\r\n                top: offset.top,\r\n                right: offset.left + container.outerWidth(),\r\n                bottom: offset.top + container.outerHeight()\r\n            }\r\n        }\r\n        return null\r\n    },\r\n    showColumnChooser: function() {\r\n        if (!this._popupContainer) {\r\n            this._initializePopupContainer();\r\n            this.render()\r\n        }\r\n        this._popupContainer.show();\r\n        if (this._isWinDevice()) {\r\n            (0, _renderer.default)(\"body\").addClass(this.addWidgetPrefix(NOTOUCH_ACTION_CLASS))\r\n        }\r\n    },\r\n    hideColumnChooser: function() {\r\n        if (this._popupContainer) {\r\n            this._popupContainer.hide()\r\n        }\r\n    },\r\n    isColumnChooserVisible: function() {\r\n        var popupContainer = this._popupContainer;\r\n        return popupContainer && popupContainer.option(\"visible\")\r\n    },\r\n    publicMethods: function() {\r\n        return [\"showColumnChooser\", \"hideColumnChooser\"]\r\n    }\r\n});\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            columnChooser: {\r\n                enabled: false,\r\n                allowSearch: false,\r\n                searchTimeout: 500,\r\n                mode: \"dragAndDrop\",\r\n                width: 250,\r\n                height: 260,\r\n                title: _message.default.format(\"dxDataGrid-columnChooserTitle\"),\r\n                emptyPanelText: _message.default.format(\"dxDataGrid-columnChooserEmptyText\"),\r\n                container: void 0\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        columnChooser: ColumnChooserController\r\n    },\r\n    views: {\r\n        columnChooserView: ColumnChooserView\r\n    },\r\n    extenders: {\r\n        views: {\r\n            headerPanel: {\r\n                _getToolbarItems: function() {\r\n                    var items = this.callBase();\r\n                    return this._appendColumnChooserItem(items)\r\n                },\r\n                _appendColumnChooserItem: function(items) {\r\n                    var that = this;\r\n                    var columnChooserEnabled = that.option(\"columnChooser.enabled\");\r\n                    if (columnChooserEnabled) {\r\n                        var onClickHandler = function() {\r\n                            that.component.getView(\"columnChooserView\").showColumnChooser()\r\n                        };\r\n                        var onInitialized = function(e) {\r\n                            (0, _renderer.default)(e.element).addClass(that._getToolbarButtonClass(that.addWidgetPrefix(COLUMN_CHOOSER_BUTTON_CLASS)))\r\n                        };\r\n                        var hintText = that.option(\"columnChooser.title\");\r\n                        var toolbarItem = {\r\n                            widget: \"dxButton\",\r\n                            options: {\r\n                                icon: COLUMN_CHOOSER_ICON_NAME,\r\n                                onClick: onClickHandler,\r\n                                hint: hintText,\r\n                                text: hintText,\r\n                                onInitialized: onInitialized\r\n                            },\r\n                            showText: \"inMenu\",\r\n                            location: \"after\",\r\n                            name: \"columnChooserButton\",\r\n                            locateInMenu: \"auto\",\r\n                            sortIndex: 40\r\n                        };\r\n                        items.push(toolbarItem)\r\n                    }\r\n                    return items\r\n                },\r\n                optionChanged: function(args) {\r\n                    switch (args.name) {\r\n                        case \"columnChooser\":\r\n                            this._invalidate();\r\n                            args.handled = true;\r\n                            break;\r\n                        default:\r\n                            this.callBase(args)\r\n                    }\r\n                },\r\n                isVisible: function() {\r\n                    var that = this;\r\n                    var columnChooserEnabled = that.option(\"columnChooser.enabled\");\r\n                    return that.callBase() || columnChooserEnabled\r\n                }\r\n            }\r\n        },\r\n        controllers: {\r\n            columns: {\r\n                allowMoveColumn: function(fromVisibleIndex, toVisibleIndex, sourceLocation, targetLocation) {\r\n                    var columnChooserMode = this.option(\"columnChooser.mode\");\r\n                    var isMoveColumnDisallowed = \"select\" === columnChooserMode && \"columnChooser\" === targetLocation;\r\n                    return isMoveColumnDisallowed ? false : this.callBase(fromVisibleIndex, toVisibleIndex, sourceLocation, targetLocation)\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/tree_view/ui.tree_view.search.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _component_registrator = _interopRequireDefault(require(\"../../core/component_registrator\"));\r\nvar _ui = _interopRequireDefault(require(\"../widget/ui.search_box_mixin\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _uiTree_view = _interopRequireDefault(require(\"./ui.tree_view.base\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar WIDGET_CLASS = \"dx-treeview\";\r\nvar NODE_CONTAINER_CLASS = \"\".concat(WIDGET_CLASS, \"-node-container\");\r\nvar TreeViewSearch = _uiTree_view.default.inherit(_ui.default).inherit({\r\n    _addWidgetPrefix: function(className) {\r\n        return \"\".concat(WIDGET_CLASS, \"-\").concat(className)\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"searchValue\":\r\n                if (this._showCheckboxes() && this._isRecursiveSelection()) {\r\n                    this._removeSelection()\r\n                }\r\n                this._initDataAdapter();\r\n                this._updateSearch();\r\n                this._repaintContainer();\r\n                break;\r\n            case \"searchExpr\":\r\n                this._initDataAdapter();\r\n                this.repaint();\r\n                break;\r\n            case \"searchMode\":\r\n                this.option(\"expandNodesRecursive\") ? this._updateDataAdapter() : this._initDataAdapter();\r\n                this.repaint();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _updateDataAdapter: function() {\r\n        this._setOptionWithoutOptionChange(\"expandNodesRecursive\", false);\r\n        this._initDataAdapter();\r\n        this._setOptionWithoutOptionChange(\"expandNodesRecursive\", true)\r\n    },\r\n    _getDataAdapterOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            searchValue: this.option(\"searchValue\"),\r\n            searchMode: this.option(\"searchMode\") || \"contains\",\r\n            searchExpr: this.option(\"searchExpr\")\r\n        })\r\n    },\r\n    _updateSearch: function() {\r\n        if (this._searchEditor) {\r\n            var editorOptions = this._getSearchEditorOptions();\r\n            this._searchEditor.option(editorOptions)\r\n        }\r\n    },\r\n    _repaintContainer: function() {\r\n        var $container = this.$element().find(\".\".concat(NODE_CONTAINER_CLASS)).first();\r\n        var rootNodes;\r\n        if ($container.length) {\r\n            $container.empty();\r\n            rootNodes = this._dataAdapter.getRootNodes();\r\n            this._renderEmptyMessage(rootNodes);\r\n            this._renderItems($container, rootNodes);\r\n            this._fireContentReadyAction()\r\n        }\r\n    },\r\n    _itemContainer: function(isSearchMode) {\r\n        if (this._scrollableContainer && isSearchMode) {\r\n            return (0, _renderer.default)(this._scrollableContainer.content())\r\n        }\r\n        return this.callBase()\r\n    },\r\n    _addWidgetClass: function() {\r\n        this.$element().addClass(this._widgetClass())\r\n    },\r\n    _clean: function() {\r\n        this.callBase();\r\n        this._removeSearchBox()\r\n    }\r\n});\r\n(0, _component_registrator.default)(\"dxTreeView\", TreeViewSearch);\r\nvar _default = TreeViewSearch;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/tree_view/ui.tree_view.base.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _dom_adapter = _interopRequireDefault(require(\"../../core/dom_adapter\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _click = require(\"../../events/click\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _element = require(\"../../core/element\");\r\nvar _check_box = _interopRequireDefault(require(\"../check_box\"));\r\nvar _ui = _interopRequireDefault(require(\"../hierarchical_collection/ui.hierarchical_collection_widget\"));\r\nvar _index = require(\"../../events/utils/index\");\r\nvar _pointer = _interopRequireDefault(require(\"../../events/pointer\"));\r\nvar _double_click = require(\"../../events/double_click\");\r\nvar _fx = _interopRequireDefault(require(\"../../animation/fx\"));\r\nvar _ui2 = _interopRequireDefault(require(\"../scroll_view/ui.scrollable\"));\r\nvar _load_indicator = _interopRequireDefault(require(\"../load_indicator\"));\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _ui3 = _interopRequireDefault(require(\"../widget/ui.errors\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar WIDGET_CLASS = \"dx-treeview\";\r\nvar NODE_CLASS = \"\".concat(WIDGET_CLASS, \"-node\");\r\nvar NODE_CONTAINER_CLASS = \"\".concat(NODE_CLASS, \"-container\");\r\nvar NODE_LOAD_INDICATOR_CLASS = \"\".concat(NODE_CLASS, \"-loadindicator\");\r\nvar OPENED_NODE_CONTAINER_CLASS = \"\".concat(NODE_CLASS, \"-container-opened\");\r\nvar IS_LEAF = \"\".concat(NODE_CLASS, \"-is-leaf\");\r\nvar ITEM_CLASS = \"\".concat(WIDGET_CLASS, \"-item\");\r\nvar ITEM_WITH_CHECKBOX_CLASS = \"\".concat(ITEM_CLASS, \"-with-checkbox\");\r\nvar ITEM_WITHOUT_CHECKBOX_CLASS = \"\".concat(ITEM_CLASS, \"-without-checkbox\");\r\nvar ITEM_DATA_KEY = \"\".concat(ITEM_CLASS, \"-data\");\r\nvar TOGGLE_ITEM_VISIBILITY_CLASS = \"\".concat(WIDGET_CLASS, \"-toggle-item-visibility\");\r\nvar LOAD_INDICATOR_CLASS = \"\".concat(WIDGET_CLASS, \"-loadindicator\");\r\nvar LOAD_INDICATOR_WRAPPER_CLASS = \"\".concat(WIDGET_CLASS, \"-loadindicator-wrapper\");\r\nvar TOGGLE_ITEM_VISIBILITY_OPENED_CLASS = \"\".concat(WIDGET_CLASS, \"-toggle-item-visibility-opened\");\r\nvar SELECT_ALL_ITEM_CLASS = \"\".concat(WIDGET_CLASS, \"-select-all-item\");\r\nvar INVISIBLE_STATE_CLASS = \"dx-state-invisible\";\r\nvar DISABLED_STATE_CLASS = \"dx-state-disabled\";\r\nvar SELECTED_ITEM_CLASS = \"dx-state-selected\";\r\nvar EXPAND_EVENT_NAMESPACE = \"dxTreeView_expand\";\r\nvar DATA_ITEM_ID = \"data-item-id\";\r\nvar TreeViewBase = _ui.default.inherit({\r\n    _supportedKeys: function(e) {\r\n        var _this = this;\r\n        var click = function(e) {\r\n            var $itemElement = (0, _renderer.default)(_this.option(\"focusedElement\"));\r\n            if (!$itemElement.length) {\r\n                return\r\n            }\r\n            e.target = $itemElement;\r\n            e.currentTarget = $itemElement;\r\n            _this._itemClickHandler(e, $itemElement.children(\".\" + ITEM_CLASS));\r\n            var expandEventName = _this._getEventNameByOption(_this.option(\"expandEvent\"));\r\n            var expandByClick = expandEventName === (0, _index.addNamespace)(_click.name, EXPAND_EVENT_NAMESPACE);\r\n            if (expandByClick) {\r\n                _this._expandEventHandler(e)\r\n            }\r\n        };\r\n        var select = function(e) {\r\n            e.preventDefault();\r\n            _this._changeCheckBoxState((0, _renderer.default)(_this.option(\"focusedElement\")))\r\n        };\r\n        var toggleExpandedNestedItems = function(state, e) {\r\n            if (!this.option(\"expandAllEnabled\")) {\r\n                return\r\n            }\r\n            e.preventDefault();\r\n            var $rootElement = (0, _renderer.default)(this.option(\"focusedElement\"));\r\n            if (!$rootElement.length) {\r\n                return\r\n            }\r\n            var rootItem = this._getItemData($rootElement.find(\".\".concat(ITEM_CLASS)));\r\n            this._toggleExpandedNestedItems([rootItem], state)\r\n        };\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            enter: this._showCheckboxes() ? select : click,\r\n            space: this._showCheckboxes() ? select : click,\r\n            asterisk: toggleExpandedNestedItems.bind(this, true),\r\n            minus: toggleExpandedNestedItems.bind(this, false)\r\n        })\r\n    },\r\n    _changeCheckBoxState: function($element) {\r\n        var checkboxInstance = this._getCheckBoxInstance($element);\r\n        var currentState = checkboxInstance.option(\"value\");\r\n        if (!checkboxInstance.option(\"disabled\")) {\r\n            this._updateItemSelection(!currentState, $element.find(\".\" + ITEM_CLASS).get(0), true, $element)\r\n        }\r\n    },\r\n    _toggleExpandedNestedItems: function(items, state) {\r\n        if (!items) {\r\n            return\r\n        }\r\n        for (var i = 0, len = items.length; i < len; i++) {\r\n            var item = items[i];\r\n            var node = this._dataAdapter.getNodeByItem(item);\r\n            this._toggleExpandedState(node, state);\r\n            this._toggleExpandedNestedItems(item.items, state)\r\n        }\r\n    },\r\n    _getNodeElement: function(node, cache) {\r\n        var key = this._encodeString(node.internalFields.key);\r\n        if (cache) {\r\n            if (!cache.$nodeByKey) {\r\n                cache.$nodeByKey = {};\r\n                this.$element().find(\".\".concat(NODE_CLASS)).each(function() {\r\n                    var $node = (0, _renderer.default)(this);\r\n                    var key = $node.attr(DATA_ITEM_ID);\r\n                    cache.$nodeByKey[key] = $node\r\n                })\r\n            }\r\n            return cache.$nodeByKey[key] || (0, _renderer.default)()\r\n        }\r\n        var element = this.$element().get(0).querySelector(\"[\".concat(DATA_ITEM_ID, '=\"').concat(key, '\"]'));\r\n        return (0, _renderer.default)(element)\r\n    },\r\n    _activeStateUnit: \".\" + ITEM_CLASS,\r\n    _widgetClass: function() {\r\n        return WIDGET_CLASS\r\n    },\r\n    _getDefaultOptions: function() {\r\n        var defaultOptions = (0, _extend.extend)(this.callBase(), {\r\n            animationEnabled: true,\r\n            dataStructure: \"tree\",\r\n            deferRendering: true,\r\n            expandAllEnabled: false,\r\n            hasItemsExpr: \"hasItems\",\r\n            selectNodesRecursive: true,\r\n            expandNodesRecursive: true,\r\n            showCheckBoxesMode: \"none\",\r\n            selectAllText: _message.default.format(\"dxList-selectAll\"),\r\n            onItemSelectionChanged: null,\r\n            onItemExpanded: null,\r\n            onItemCollapsed: null,\r\n            scrollDirection: \"vertical\",\r\n            virtualModeEnabled: false,\r\n            rootValue: 0,\r\n            focusStateEnabled: false,\r\n            selectionMode: \"multiple\",\r\n            expandEvent: \"dblclick\",\r\n            selectByClick: false,\r\n            createChildren: null,\r\n            onSelectAllValueChanged: null\r\n        });\r\n        return (0, _extend.extend)(true, defaultOptions, {\r\n            integrationOptions: {\r\n                useDeferUpdateForTemplates: false\r\n            }\r\n        })\r\n    },\r\n    _initSelectedItems: _common.noop,\r\n    _syncSelectionOptions: _common.asyncNoop,\r\n    _fireSelectionChanged: function() {\r\n        var selectionChangePromise = this._selectionChangePromise;\r\n        (0, _deferred.when)(selectionChangePromise).done(function() {\r\n            this._createActionByOption(\"onSelectionChanged\", {\r\n                excludeValidators: [\"disabled\", \"readOnly\"]\r\n            })()\r\n        }.bind(this))\r\n    },\r\n    _createSelectAllValueChangedAction: function() {\r\n        this._selectAllValueChangedAction = this._createActionByOption(\"onSelectAllValueChanged\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    _fireSelectAllValueChanged: function(value) {\r\n        this._selectAllValueChangedAction({\r\n            value: value\r\n        })\r\n    },\r\n    _checkBoxModeChange: function(value, previousValue) {\r\n        if (\"none\" === previousValue || \"none\" === value) {\r\n            this.repaint();\r\n            return\r\n        }\r\n        var selectAllExists = this._$selectAllItem && this._$selectAllItem.length;\r\n        switch (value) {\r\n            case \"selectAll\":\r\n                !selectAllExists && this._renderSelectAllItem();\r\n                break;\r\n            case \"normal\":\r\n                if (selectAllExists) {\r\n                    this._$selectAllItem.remove();\r\n                    delete this._$selectAllItem\r\n                }\r\n        }\r\n    },\r\n    _removeSelection: function() {\r\n        var that = this;\r\n        (0, _iterator.each)(this._dataAdapter.getFullData(), function(_, node) {\r\n            if (!that._hasChildren(node)) {\r\n                return\r\n            }\r\n            that._dataAdapter.toggleSelection(node.internalFields.key, false, true)\r\n        })\r\n    },\r\n    _optionChanged: function(args) {\r\n        var name = args.name,\r\n            value = args.value,\r\n            previousValue = args.previousValue;\r\n        switch (name) {\r\n            case \"selectAllText\":\r\n                if (this._$selectAllItem) {\r\n                    this._$selectAllItem.dxCheckBox(\"instance\").option(\"text\", value)\r\n                }\r\n                break;\r\n            case \"showCheckBoxesMode\":\r\n                this._checkBoxModeChange(value, previousValue);\r\n                break;\r\n            case \"scrollDirection\":\r\n                this._scrollableContainer.option(\"direction\", value);\r\n                break;\r\n            case \"items\":\r\n                delete this._$selectAllItem;\r\n                this.callBase(args);\r\n                break;\r\n            case \"dataSource\":\r\n                this.callBase(args);\r\n                this._initDataAdapter();\r\n                this._filter = {};\r\n                break;\r\n            case \"hasItemsExpr\":\r\n                this._initAccessors();\r\n                this.repaint();\r\n                break;\r\n            case \"expandEvent\":\r\n                this._initExpandEvent();\r\n                break;\r\n            case \"deferRendering\":\r\n            case \"dataStructure\":\r\n            case \"rootValue\":\r\n            case \"createChildren\":\r\n            case \"expandNodesRecursive\":\r\n            case \"onItemSelectionChanged\":\r\n            case \"onItemExpanded\":\r\n            case \"onItemCollapsed\":\r\n            case \"expandAllEnabled\":\r\n            case \"animationEnabled\":\r\n            case \"virtualModeEnabled\":\r\n            case \"selectByClick\":\r\n                break;\r\n            case \"selectionMode\":\r\n                this._initDataAdapter();\r\n                this.callBase(args);\r\n                break;\r\n            case \"onSelectAllValueChanged\":\r\n                this._createSelectAllValueChangedAction();\r\n                break;\r\n            case \"selectNodesRecursive\":\r\n                this._dataAdapter.setOption(\"recursiveSelection\", args.value);\r\n                this.repaint();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _initDataSource: function() {\r\n        if (this._useCustomChildrenLoader()) {\r\n            this._loadChildrenByCustomLoader(null).done(function(newItems) {\r\n                if (newItems && newItems.length) {\r\n                    this.option(\"items\", newItems)\r\n                }\r\n            }.bind(this))\r\n        } else {\r\n            this.callBase();\r\n            this._isVirtualMode() && this._initVirtualMode()\r\n        }\r\n    },\r\n    _initVirtualMode: function() {\r\n        var filter = this._filter;\r\n        if (!filter.custom) {\r\n            filter.custom = this._dataSource.filter()\r\n        }\r\n        if (!filter.internal) {\r\n            filter.internal = [this.option(\"parentIdExpr\"), this.option(\"rootValue\")]\r\n        }\r\n    },\r\n    _useCustomChildrenLoader: function() {\r\n        return (0, _type.isFunction)(this.option(\"createChildren\")) && this._isDataStructurePlain()\r\n    },\r\n    _loadChildrenByCustomLoader: function(parentNode) {\r\n        var invocationResult = this.option(\"createChildren\").call(this, parentNode);\r\n        if (Array.isArray(invocationResult)) {\r\n            return (new _deferred.Deferred).resolve(invocationResult).promise()\r\n        }\r\n        if (invocationResult && (0, _type.isFunction)(invocationResult.then)) {\r\n            return (0, _deferred.fromPromise)(invocationResult)\r\n        }\r\n        return (new _deferred.Deferred).resolve([]).promise()\r\n    },\r\n    _combineFilter: function() {\r\n        if (!this._filter.custom || !this._filter.custom.length) {\r\n            return this._filter.internal\r\n        }\r\n        return [this._filter.custom, this._filter.internal]\r\n    },\r\n    _dataSourceLoadErrorHandler: function() {\r\n        this._renderEmptyMessage()\r\n    },\r\n    _init: function() {\r\n        this._filter = {};\r\n        this.callBase();\r\n        this._initStoreChangeHandlers()\r\n    },\r\n    _dataSourceChangedHandler: function(newItems) {\r\n        var items = this.option(\"items\");\r\n        if (this._initialized && this._isVirtualMode() && items.length) {\r\n            return\r\n        }\r\n        this.option(\"items\", newItems)\r\n    },\r\n    _removeTreeViewLoadIndicator: function() {\r\n        if (!this._treeViewLoadIndicator) {\r\n            return\r\n        }\r\n        this._treeViewLoadIndicator.remove();\r\n        this._treeViewLoadIndicator = null\r\n    },\r\n    _createTreeViewLoadIndicator: function() {\r\n        this._treeViewLoadIndicator = (0, _renderer.default)(\"<div>\").addClass(LOAD_INDICATOR_CLASS);\r\n        this._createComponent(this._treeViewLoadIndicator, _load_indicator.default, {});\r\n        return this._treeViewLoadIndicator\r\n    },\r\n    _dataSourceLoadingChangedHandler: function(isLoading) {\r\n        var resultFilter;\r\n        if (this._isVirtualMode()) {\r\n            resultFilter = this._combineFilter();\r\n            this._dataSource.filter(resultFilter)\r\n        }\r\n        if (isLoading && !this._dataSource.isLoaded()) {\r\n            this.option(\"items\", []);\r\n            var $wrapper = (0, _renderer.default)(\"<div>\").addClass(LOAD_INDICATOR_WRAPPER_CLASS);\r\n            this._createTreeViewLoadIndicator().appendTo($wrapper);\r\n            this.itemsContainer().append($wrapper);\r\n            if (this._isVirtualMode() && this._dataSource.filter() !== resultFilter) {\r\n                this._dataSource.filter([])\r\n            }\r\n        } else {\r\n            this._removeTreeViewLoadIndicator()\r\n        }\r\n    },\r\n    _initStoreChangeHandlers: function() {\r\n        var _this2 = this;\r\n        if (\"plain\" !== this.option(\"dataStructure\")) {\r\n            return\r\n        }\r\n        this._dataSource && this._dataSource.store().on(\"inserted\", function(newItem) {\r\n            _this2.option().items = _this2.option(\"items\").concat(newItem);\r\n            _this2._dataAdapter.addItem(newItem);\r\n            if (!_this2._dataAdapter.isFiltered(newItem)) {\r\n                return\r\n            }\r\n            _this2._updateLevel(_this2._parentIdGetter(newItem))\r\n        }).on(\"removed\", function(removedKey) {\r\n            var node = _this2._dataAdapter.getNodeByKey(removedKey);\r\n            if ((0, _type.isDefined)(node)) {\r\n                _this2.option(\"items\")[_this2._dataAdapter.getIndexByKey(node.internalFields.key)] = 0;\r\n                _this2._markChildrenItemsToRemove(node);\r\n                _this2._removeItems();\r\n                _this2._dataAdapter.removeItem(removedKey);\r\n                _this2._updateLevel(_this2._parentIdGetter(node))\r\n            }\r\n        })\r\n    },\r\n    _markChildrenItemsToRemove: function(node) {\r\n        var _this3 = this;\r\n        var keys = node.internalFields.childrenKeys;\r\n        (0, _iterator.each)(keys, function(_, key) {\r\n            _this3.option(\"items\")[_this3._dataAdapter.getIndexByKey(key)] = 0;\r\n            _this3._markChildrenItemsToRemove(_this3._dataAdapter.getNodeByKey(key))\r\n        })\r\n    },\r\n    _removeItems: function() {\r\n        var _this4 = this;\r\n        var items = (0, _extend.extend)(true, [], this.option(\"items\"));\r\n        var counter = 0;\r\n        (0, _iterator.each)(items, function(index, item) {\r\n            if (!item) {\r\n                _this4.option(\"items\").splice(index - counter, 1);\r\n                counter++\r\n            }\r\n        })\r\n    },\r\n    _updateLevel: function(parentId) {\r\n        var $container = this._getContainerByParentKey(parentId);\r\n        this._renderItems($container, this._dataAdapter.getChildrenNodes(parentId))\r\n    },\r\n    _getOldContainer: function($itemElement) {\r\n        if ($itemElement.length) {\r\n            return $itemElement.children(\".\".concat(NODE_CONTAINER_CLASS))\r\n        }\r\n        if (this._scrollableContainer) {\r\n            return this._scrollableContainer.$content().children()\r\n        }\r\n        return (0, _renderer.default)()\r\n    },\r\n    _getContainerByParentKey: function(parentId) {\r\n        var node = this._dataAdapter.getNodeByKey(parentId);\r\n        var $itemElement = node ? this._getNodeElement(node) : [];\r\n        this._getOldContainer($itemElement).remove();\r\n        var $container = this._renderNodeContainer($itemElement);\r\n        if (this._isRootLevel(parentId)) {\r\n            if (!this._scrollableContainer) {\r\n                this._renderScrollableContainer()\r\n            }\r\n            this._scrollableContainer.$content().append($container)\r\n        }\r\n        return $container\r\n    },\r\n    _isRootLevel: function(parentId) {\r\n        return parentId === this.option(\"rootValue\")\r\n    },\r\n    _getAccessors: function() {\r\n        var accessors = this.callBase();\r\n        accessors.push(\"hasItems\");\r\n        return accessors\r\n    },\r\n    _getDataAdapterOptions: function() {\r\n        return {\r\n            rootValue: this.option(\"rootValue\"),\r\n            multipleSelection: !this._isSingleSelection(),\r\n            recursiveSelection: this._isRecursiveSelection(),\r\n            recursiveExpansion: this.option(\"expandNodesRecursive\"),\r\n            selectionRequired: this.option(\"selectionRequired\"),\r\n            dataType: this.option(\"dataStructure\"),\r\n            sort: this._dataSource && this._dataSource.sort()\r\n        }\r\n    },\r\n    _initMarkup: function() {\r\n        this._renderScrollableContainer();\r\n        this._renderEmptyMessage(this._dataAdapter.getRootNodes());\r\n        this.callBase();\r\n        this.setAria(\"role\", \"tree\")\r\n    },\r\n    _renderContentImpl: function() {\r\n        var $nodeContainer = this._renderNodeContainer();\r\n        this._scrollableContainer.$content().append($nodeContainer);\r\n        if (!this.option(\"items\") || !this.option(\"items\").length) {\r\n            return\r\n        }\r\n        this._renderItems($nodeContainer, this._dataAdapter.getRootNodes());\r\n        this._initExpandEvent();\r\n        if (this._selectAllEnabled()) {\r\n            this._createSelectAllValueChangedAction();\r\n            this._renderSelectAllItem($nodeContainer)\r\n        }\r\n    },\r\n    _isVirtualMode: function() {\r\n        return this.option(\"virtualModeEnabled\") && this._isDataStructurePlain() && !!this.option(\"dataSource\")\r\n    },\r\n    _isDataStructurePlain: function() {\r\n        return \"plain\" === this.option(\"dataStructure\")\r\n    },\r\n    _fireContentReadyAction: function() {\r\n        var dataSource = this.getDataSource();\r\n        var skipContentReadyAction = dataSource && !dataSource.isLoaded();\r\n        if (this._scrollableContainer && (0, _window.hasWindow)()) {\r\n            this._scrollableContainer.update()\r\n        }\r\n        if (!skipContentReadyAction) {\r\n            this.callBase()\r\n        }\r\n        if (this._scrollableContainer && (0, _window.hasWindow)()) {\r\n            this._scrollableContainer.update()\r\n        }\r\n    },\r\n    _renderScrollableContainer: function() {\r\n        this._scrollableContainer = this._createComponent((0, _renderer.default)(\"<div>\").appendTo(this.$element()), _ui2.default, {\r\n            direction: this.option(\"scrollDirection\"),\r\n            useKeyboard: false\r\n        })\r\n    },\r\n    _renderNodeContainer: function($parent) {\r\n        var $container = (0, _renderer.default)(\"<ul>\").addClass(NODE_CONTAINER_CLASS);\r\n        this.setAria(\"role\", \"group\", $container);\r\n        if ($parent && $parent.length) {\r\n            var itemData = this._getItemData($parent.children(\".\" + ITEM_CLASS));\r\n            if (this._expandedGetter(itemData)) {\r\n                $container.addClass(OPENED_NODE_CONTAINER_CLASS)\r\n            }\r\n            $container.appendTo($parent)\r\n        }\r\n        return $container\r\n    },\r\n    _createDOMElement: function($nodeContainer, node) {\r\n        var $node = (0, _renderer.default)(\"<li>\").addClass(NODE_CLASS).attr(DATA_ITEM_ID, this._encodeString(node.internalFields.key)).prependTo($nodeContainer);\r\n        this.setAria({\r\n            role: \"treeitem\",\r\n            label: this._displayGetter(node.internalFields.item) || \"\",\r\n            expanded: node.internalFields.expanded || false,\r\n            level: this._getLevel($nodeContainer)\r\n        }, $node);\r\n        return $node\r\n    },\r\n    _getLevel: function($nodeContainer) {\r\n        var parent = $nodeContainer.parent();\r\n        return parent.hasClass(\"dx-scrollable-content\") ? 1 : parseInt(parent.attr(\"aria-level\")) + 1\r\n    },\r\n    _showCheckboxes: function() {\r\n        return \"none\" !== this.option(\"showCheckBoxesMode\")\r\n    },\r\n    _selectAllEnabled: function() {\r\n        return \"selectAll\" === this.option(\"showCheckBoxesMode\") && !this._isSingleSelection()\r\n    },\r\n    _renderItems: function($nodeContainer, nodes) {\r\n        var length = nodes.length - 1;\r\n        for (var i = length; i >= 0; i--) {\r\n            this._renderItem(i, nodes[i], $nodeContainer)\r\n        }\r\n        this._renderedItemsCount += nodes.length\r\n    },\r\n    _renderItem: function(nodeIndex, node, $nodeContainer) {\r\n        var $node = this._createDOMElement($nodeContainer, node);\r\n        var nodeData = node.internalFields;\r\n        var showCheckBox = this._showCheckboxes();\r\n        $node.addClass(showCheckBox ? ITEM_WITH_CHECKBOX_CLASS : ITEM_WITHOUT_CHECKBOX_CLASS);\r\n        $node.toggleClass(INVISIBLE_STATE_CLASS, false === nodeData.item.visible);\r\n        showCheckBox && this._renderCheckBox($node, node);\r\n        this.setAria(\"selected\", nodeData.selected, $node);\r\n        this._toggleSelectedClass($node, nodeData.selected);\r\n        this.callBase(this._renderedItemsCount + nodeIndex, nodeData.item, $node);\r\n        if (false !== nodeData.item.visible) {\r\n            this._renderChildren($node, node)\r\n        }\r\n    },\r\n    _setAriaSelected: function() {},\r\n    _renderChildren: function($node, node) {\r\n        var _this5 = this;\r\n        if (!this._hasChildren(node)) {\r\n            this._addLeafClass($node);\r\n            return\r\n        }\r\n        this._renderToggleItemVisibilityIcon($node, node);\r\n        if (this.option(\"deferRendering\") && !node.internalFields.expanded) {\r\n            return\r\n        }\r\n        this._loadSublevel(node).done(function(childNodes) {\r\n            _this5._renderSublevel($node, _this5._getActualNode(node), childNodes)\r\n        })\r\n    },\r\n    _getActualNode: function(cachedNode) {\r\n        return this._dataAdapter.getNodeByKey(cachedNode.internalFields.key)\r\n    },\r\n    _hasChildren: function(node) {\r\n        if (this._isVirtualMode() || this._useCustomChildrenLoader()) {\r\n            return false !== this._hasItemsGetter(node.internalFields.item)\r\n        }\r\n        return this.callBase(node)\r\n    },\r\n    _loadSublevel: function(node) {\r\n        var _this6 = this;\r\n        var deferred = new _deferred.Deferred;\r\n        var childrenNodes = this._getChildNodes(node);\r\n        if (childrenNodes.length) {\r\n            deferred.resolve(childrenNodes)\r\n        } else {\r\n            this._loadNestedItems(node).done(function(items) {\r\n                deferred.resolve(_this6._dataAdapter.getNodesByItems(items))\r\n            })\r\n        }\r\n        return deferred.promise()\r\n    },\r\n    _renderSublevel: function($node, node, childNodes) {\r\n        var $nestedNodeContainer = this._renderNodeContainer($node, node);\r\n        var childNodesByChildrenKeys = childNodes.filter(function(childNode) {\r\n            return node.internalFields.childrenKeys.indexOf(childNode.internalFields.key) !== -1\r\n        });\r\n        this._renderItems($nestedNodeContainer, childNodesByChildrenKeys);\r\n        if (childNodesByChildrenKeys.length && !node.internalFields.selected) {\r\n            var firstChild = childNodesByChildrenKeys[0];\r\n            this._updateParentsState(firstChild, this._getNodeElement(firstChild))\r\n        }\r\n        this._normalizeIconState($node, childNodesByChildrenKeys.length);\r\n        if (node.internalFields.expanded) {\r\n            $nestedNodeContainer.addClass(OPENED_NODE_CONTAINER_CLASS)\r\n        }\r\n    },\r\n    _executeItemRenderAction: function(itemIndex, itemData, itemElement) {\r\n        var node = this._getNode(itemElement);\r\n        this._getItemRenderAction()({\r\n            itemElement: itemElement,\r\n            itemIndex: itemIndex,\r\n            itemData: itemData,\r\n            node: this._dataAdapter.getPublicNode(node)\r\n        })\r\n    },\r\n    _addLeafClass: function($node) {\r\n        $node.addClass(IS_LEAF)\r\n    },\r\n    _expandEventHandler: function(e) {\r\n        var $nodeElement = (0, _renderer.default)(e.currentTarget.parentNode);\r\n        if (!$nodeElement.hasClass(IS_LEAF)) {\r\n            this._toggleExpandedState(e.currentTarget, void 0, e)\r\n        }\r\n    },\r\n    _initExpandEvent: function() {\r\n        var expandedEventName = this._getEventNameByOption(this.option(\"expandEvent\"));\r\n        var $itemsContainer = this._itemContainer();\r\n        var itemSelector = this._itemSelector();\r\n        _events_engine.default.off($itemsContainer, \".\" + EXPAND_EVENT_NAMESPACE, itemSelector);\r\n        _events_engine.default.on($itemsContainer, expandedEventName, itemSelector, this._expandEventHandler.bind(this))\r\n    },\r\n    _getEventNameByOption: function(name) {\r\n        var event = \"click\" === name ? _click.name : _double_click.name;\r\n        return (0, _index.addNamespace)(event, EXPAND_EVENT_NAMESPACE)\r\n    },\r\n    _getNode: function(identifier) {\r\n        if (!(0, _type.isDefined)(identifier)) {\r\n            return null\r\n        }\r\n        if (identifier.internalFields) {\r\n            return identifier\r\n        }\r\n        if ((0, _type.isPrimitive)(identifier)) {\r\n            return this._dataAdapter.getNodeByKey(identifier)\r\n        }\r\n        var itemElement = (0, _renderer.default)(identifier).get(0);\r\n        if (!itemElement) {\r\n            return null\r\n        }\r\n        if (_dom_adapter.default.isElementNode(itemElement)) {\r\n            return this._getNodeByElement(itemElement)\r\n        }\r\n        return this._dataAdapter.getNodeByItem(itemElement)\r\n    },\r\n    _getNodeByElement: function(itemElement) {\r\n        var $node = (0, _renderer.default)(itemElement).closest(\".\" + NODE_CLASS);\r\n        var key = this._decodeString($node.attr(DATA_ITEM_ID));\r\n        return this._dataAdapter.getNodeByKey(key)\r\n    },\r\n    _toggleExpandedState: function(itemElement, state, e) {\r\n        var node = this._getNode(itemElement);\r\n        if (!node) {\r\n            return (new _deferred.Deferred).reject().promise()\r\n        }\r\n        if (node.internalFields.disabled) {\r\n            return (new _deferred.Deferred).reject().promise()\r\n        }\r\n        var currentState = node.internalFields.expanded;\r\n        if (currentState === state) {\r\n            return (new _deferred.Deferred).resolve().promise()\r\n        }\r\n        if (this._hasChildren(node)) {\r\n            var $node = this._getNodeElement(node);\r\n            if ($node.find(\".\".concat(NODE_LOAD_INDICATOR_CLASS, \":not(.\").concat(INVISIBLE_STATE_CLASS, \")\")).length) {\r\n                return (new _deferred.Deferred).reject().promise()\r\n            }\r\n            this._createLoadIndicator($node)\r\n        }\r\n        if (!(0, _type.isDefined)(state)) {\r\n            state = !currentState\r\n        }\r\n        this._dataAdapter.toggleExpansion(node.internalFields.key, state);\r\n        return this._updateExpandedItemsUI(node, state, e)\r\n    },\r\n    _createLoadIndicator: function($node) {\r\n        var $icon = $node.children(\".\" + TOGGLE_ITEM_VISIBILITY_CLASS);\r\n        var $nodeContainer = $node.children(\".\".concat(NODE_CONTAINER_CLASS));\r\n        if ($icon.hasClass(TOGGLE_ITEM_VISIBILITY_OPENED_CLASS) || $nodeContainer.not(\":empty\").length) {\r\n            return\r\n        }\r\n        this._createComponent((0, _renderer.default)(\"<div>\").addClass(NODE_LOAD_INDICATOR_CLASS), _load_indicator.default, {}).$element().appendTo($node);\r\n        $icon.hide()\r\n    },\r\n    _renderToggleItemVisibilityIcon: function($node, node) {\r\n        var $icon = (0, _renderer.default)(\"<div>\").addClass(TOGGLE_ITEM_VISIBILITY_CLASS).appendTo($node);\r\n        if (node.internalFields.expanded) {\r\n            $icon.addClass(TOGGLE_ITEM_VISIBILITY_OPENED_CLASS);\r\n            $node.parent().addClass(OPENED_NODE_CONTAINER_CLASS)\r\n        }\r\n        if (node.internalFields.disabled) {\r\n            $icon.addClass(DISABLED_STATE_CLASS)\r\n        }\r\n        this._renderToggleItemVisibilityIconClick($icon, node)\r\n    },\r\n    _renderToggleItemVisibilityIconClick: function($icon, node) {\r\n        var _this7 = this;\r\n        var eventName = (0, _index.addNamespace)(_click.name, this.NAME);\r\n        _events_engine.default.off($icon, eventName);\r\n        _events_engine.default.on($icon, eventName, function(e) {\r\n            _this7._toggleExpandedState(node.internalFields.key, void 0, e)\r\n        })\r\n    },\r\n    _updateExpandedItemsUI: function(node, state, e) {\r\n        var $node = this._getNodeElement(node);\r\n        var isHiddenNode = !$node.length || state && $node.is(\":hidden\");\r\n        if (this.option(\"expandNodesRecursive\") && isHiddenNode) {\r\n            var parentNode = this._getNode(node.internalFields.parentKey);\r\n            if (parentNode) {\r\n                this._updateExpandedItemsUI(parentNode, state, e)\r\n            }\r\n        }\r\n        var $icon = $node.children(\".\" + TOGGLE_ITEM_VISIBILITY_CLASS);\r\n        var $nodeContainer = $node.children(\".\".concat(NODE_CONTAINER_CLASS));\r\n        $icon.toggleClass(TOGGLE_ITEM_VISIBILITY_OPENED_CLASS, state);\r\n        var nodeContainerExists = $nodeContainer.length > 0;\r\n        var completionCallback = new _deferred.Deferred;\r\n        if (!state || nodeContainerExists && !$nodeContainer.is(\":empty\")) {\r\n            this._animateNodeContainer(node, state, e, completionCallback);\r\n            return completionCallback.promise()\r\n        }\r\n        if (0 === node.internalFields.childrenKeys.length && (this._isVirtualMode() || this._useCustomChildrenLoader())) {\r\n            this._loadNestedItemsWithUpdate(node, state, e, completionCallback);\r\n            return completionCallback.promise()\r\n        }\r\n        this._renderSublevel($node, node, this._getChildNodes(node));\r\n        this._fireContentReadyAction();\r\n        this._animateNodeContainer(node, state, e, completionCallback);\r\n        return completionCallback.promise()\r\n    },\r\n    _loadNestedItemsWithUpdate: function(node, state, e, completionCallback) {\r\n        var _this8 = this;\r\n        var $node = this._getNodeElement(node);\r\n        this._loadNestedItems(node).done(function(items) {\r\n            var actualNodeData = _this8._getActualNode(node);\r\n            _this8._renderSublevel($node, actualNodeData, _this8._dataAdapter.getNodesByItems(items));\r\n            if (!items || !items.length) {\r\n                return\r\n            }\r\n            _this8._fireContentReadyAction();\r\n            _this8._animateNodeContainer(actualNodeData, state, e, completionCallback)\r\n        })\r\n    },\r\n    _loadNestedItems: function(node) {\r\n        var _this9 = this;\r\n        if (this._useCustomChildrenLoader()) {\r\n            var publicNode = this._dataAdapter.getPublicNode(node);\r\n            return this._loadChildrenByCustomLoader(publicNode).done(function(newItems) {\r\n                if (!_this9._areNodesExists(newItems)) {\r\n                    _this9._appendItems(newItems)\r\n                }\r\n            })\r\n        }\r\n        if (!this._isVirtualMode()) {\r\n            return (new _deferred.Deferred).resolve([]).promise()\r\n        }\r\n        this._filter.internal = [this.option(\"parentIdExpr\"), node.internalFields.key];\r\n        this._dataSource.filter(this._combineFilter());\r\n        return this._dataSource.load().done(function(newItems) {\r\n            if (!_this9._areNodesExists(newItems)) {\r\n                _this9._appendItems(newItems)\r\n            }\r\n        })\r\n    },\r\n    _areNodesExists: function(newItems, items) {\r\n        var keyOfRootItem = this.keyOf(newItems[0]);\r\n        var fullData = this._dataAdapter.getFullData();\r\n        return !!this._dataAdapter.getNodeByKey(keyOfRootItem, fullData)\r\n    },\r\n    _appendItems: function(newItems) {\r\n        this.option().items = this.option(\"items\").concat(newItems);\r\n        this._initDataAdapter()\r\n    },\r\n    _animateNodeContainer: function(node, state, e, completionCallback) {\r\n        var $node = this._getNodeElement(node);\r\n        var $nodeContainer = $node.children(\".\".concat(NODE_CONTAINER_CLASS));\r\n        if (node && completionCallback && 0 === $nodeContainer.length) {\r\n            completionCallback.resolve()\r\n        }\r\n        $nodeContainer.addClass(OPENED_NODE_CONTAINER_CLASS);\r\n        var nodeHeight = $nodeContainer.height();\r\n        _fx.default.stop($nodeContainer, true);\r\n        _fx.default.animate($nodeContainer, {\r\n            type: \"custom\",\r\n            duration: this.option(\"animationEnabled\") ? 400 : 0,\r\n            from: {\r\n                maxHeight: state ? 0 : nodeHeight\r\n            },\r\n            to: {\r\n                maxHeight: state ? nodeHeight : 0\r\n            },\r\n            complete: function() {\r\n                $nodeContainer.css(\"maxHeight\", \"none\");\r\n                $nodeContainer.toggleClass(OPENED_NODE_CONTAINER_CLASS, state);\r\n                this.setAria(\"expanded\", state, $node);\r\n                this._scrollableContainer.update();\r\n                this._fireExpandedStateUpdatedEvent(state, node, e);\r\n                if (completionCallback) {\r\n                    completionCallback.resolve()\r\n                }\r\n            }.bind(this)\r\n        })\r\n    },\r\n    _fireExpandedStateUpdatedEvent: function(isExpanded, node, e) {\r\n        if (!this._hasChildren(node)) {\r\n            return\r\n        }\r\n        var optionName = isExpanded ? \"onItemExpanded\" : \"onItemCollapsed\";\r\n        if ((0, _type.isDefined)(e)) {\r\n            this._itemDXEventHandler(e, optionName, {\r\n                node: this._dataAdapter.getPublicNode(node)\r\n            })\r\n        } else {\r\n            var target = this._getNodeElement(node);\r\n            this._itemEventHandler(target, optionName, {\r\n                event: e,\r\n                node: this._dataAdapter.getPublicNode(node)\r\n            })\r\n        }\r\n    },\r\n    _normalizeIconState: function($node, hasNewItems) {\r\n        var $loadIndicator = $node.find(\".\".concat(NODE_LOAD_INDICATOR_CLASS));\r\n        $loadIndicator.length && _load_indicator.default.getInstance($loadIndicator).option(\"visible\", false);\r\n        if (hasNewItems) {\r\n            var $icon = $node.find(\".\" + TOGGLE_ITEM_VISIBILITY_CLASS);\r\n            $icon.show();\r\n            return\r\n        }\r\n        $node.find(\".\" + TOGGLE_ITEM_VISIBILITY_CLASS).removeClass(TOGGLE_ITEM_VISIBILITY_CLASS);\r\n        $node.addClass(IS_LEAF)\r\n    },\r\n    _emptyMessageContainer: function() {\r\n        return this._scrollableContainer ? this._scrollableContainer.content() : this.callBase()\r\n    },\r\n    _renderContent: function() {\r\n        var items = this.option(\"items\");\r\n        if (items && items.length) {\r\n            this._contentAlreadyRendered = true\r\n        }\r\n        this.callBase()\r\n    },\r\n    _renderSelectAllItem: function($container) {\r\n        $container = $container || this.$element().find(\".\".concat(NODE_CONTAINER_CLASS)).first();\r\n        this._$selectAllItem = (0, _renderer.default)(\"<div>\").addClass(SELECT_ALL_ITEM_CLASS);\r\n        var value = this._dataAdapter.isAllSelected();\r\n        this._createComponent(this._$selectAllItem, _check_box.default, {\r\n            value: value,\r\n            text: this.option(\"selectAllText\"),\r\n            onValueChanged: function(args) {\r\n                this._toggleSelectAll(args);\r\n                this._fireSelectAllValueChanged(args.value)\r\n            }.bind(this)\r\n        });\r\n        this._toggleSelectedClass(this._$selectAllItem, value);\r\n        $container.before(this._$selectAllItem)\r\n    },\r\n    _toggleSelectAll: function(args) {\r\n        this._dataAdapter.toggleSelectAll(args.value);\r\n        this._updateItemsUI();\r\n        this._fireSelectionChanged()\r\n    },\r\n    _renderCheckBox: function($node, node) {\r\n        var $checkbox = (0, _renderer.default)(\"<div>\").appendTo($node);\r\n        this._createComponent($checkbox, _check_box.default, {\r\n            value: node.internalFields.selected,\r\n            onValueChanged: this._changeCheckboxValue.bind(this),\r\n            focusStateEnabled: false,\r\n            disabled: this._disabledGetter(node)\r\n        })\r\n    },\r\n    _toggleSelectedClass: function($node, value) {\r\n        $node.toggleClass(SELECTED_ITEM_CLASS, !!value)\r\n    },\r\n    _toggleNodeDisabledState: function(node, state) {\r\n        var $node = this._getNodeElement(node);\r\n        var $item = $node.find(\".\" + ITEM_CLASS).eq(0);\r\n        this._dataAdapter.toggleNodeDisabledState(node.internalFields.key, state);\r\n        $item.toggleClass(DISABLED_STATE_CLASS, !!state);\r\n        if (this._showCheckboxes()) {\r\n            var checkbox = this._getCheckBoxInstance($node);\r\n            checkbox.option(\"disabled\", !!state)\r\n        }\r\n    },\r\n    _itemOptionChanged: function(item, property, value) {\r\n        var node = this._dataAdapter.getNodeByItem(item);\r\n        if (property === this.option(\"disabledExpr\")) {\r\n            this._toggleNodeDisabledState(node, value)\r\n        }\r\n    },\r\n    _changeCheckboxValue: function(e) {\r\n        var $node = (0, _renderer.default)(e.element).parent(\".\" + NODE_CLASS);\r\n        var $item = $node.children(\".\" + ITEM_CLASS);\r\n        var item = this._getItemData($item);\r\n        var node = this._getNodeByElement($item);\r\n        var value = e.value;\r\n        if (node && node.internalFields.selected === value) {\r\n            return\r\n        }\r\n        this._updateItemSelection(value, item, e.event)\r\n    },\r\n    _isSingleSelection: function() {\r\n        return \"single\" === this.option(\"selectionMode\")\r\n    },\r\n    _isRecursiveSelection: function() {\r\n        return this.option(\"selectNodesRecursive\") && \"single\" !== this.option(\"selectionMode\")\r\n    },\r\n    _isLastSelectedBranch: function(publicNode, selectedNodesKeys, deep) {\r\n        var keyIndex = selectedNodesKeys.indexOf(publicNode.key);\r\n        if (keyIndex >= 0) {\r\n            selectedNodesKeys.splice(keyIndex, 1)\r\n        }\r\n        if (deep) {\r\n            (0, _iterator.each)(publicNode.children, function(_, childNode) {\r\n                this._isLastSelectedBranch(childNode, selectedNodesKeys, true)\r\n            }.bind(this))\r\n        }\r\n        if (publicNode.parent) {\r\n            this._isLastSelectedBranch(publicNode.parent, selectedNodesKeys)\r\n        }\r\n        return 0 === selectedNodesKeys.length\r\n    },\r\n    _isLastRequired: function(node) {\r\n        var selectionRequired = this.option(\"selectionRequired\");\r\n        var isSingleMode = this._isSingleSelection();\r\n        var selectedNodesKeys = this.getSelectedNodeKeys();\r\n        if (!selectionRequired) {\r\n            return\r\n        }\r\n        if (isSingleMode) {\r\n            return 1 === selectedNodesKeys.length\r\n        } else {\r\n            return this._isLastSelectedBranch(node.internalFields.publicNode, selectedNodesKeys.slice(), true)\r\n        }\r\n    },\r\n    _updateItemSelection: function(value, itemElement, dxEvent) {\r\n        var _this10 = this;\r\n        var node = this._getNode(itemElement);\r\n        if (!node) {\r\n            return false\r\n        }\r\n        if (node.internalFields.selected === value) {\r\n            return true\r\n        }\r\n        if (!value && this._isLastRequired(node)) {\r\n            if (this._showCheckboxes()) {\r\n                var $node = this._getNodeElement(node);\r\n                var checkbox = this._getCheckBoxInstance($node);\r\n                checkbox && checkbox.option(\"value\", true)\r\n            }\r\n            return false\r\n        }\r\n        var selectedNodesKeys = this.getSelectedNodeKeys();\r\n        if (this._isSingleSelection() && value) {\r\n            (0, _iterator.each)(selectedNodesKeys, function(index, nodeKey) {\r\n                _this10.unselectItem(nodeKey)\r\n            })\r\n        }\r\n        this._dataAdapter.toggleSelection(node.internalFields.key, value);\r\n        this._updateItemsUI();\r\n        var initiator = dxEvent || this._findItemElementByItem(node.internalFields.item);\r\n        var handler = dxEvent ? this._itemDXEventHandler : this._itemEventHandler;\r\n        handler.call(this, initiator, \"onItemSelectionChanged\", {\r\n            node: this._dataAdapter.getPublicNode(node),\r\n            itemData: node.internalFields.item\r\n        });\r\n        this._fireSelectionChanged();\r\n        return true\r\n    },\r\n    _getCheckBoxInstance: function($node) {\r\n        return $node.children(\".dx-checkbox\").dxCheckBox(\"instance\")\r\n    },\r\n    _updateItemsUI: function() {\r\n        var _this11 = this;\r\n        var cache = {};\r\n        (0, _iterator.each)(this._dataAdapter.getData(), function(_, node) {\r\n            var $node = _this11._getNodeElement(node, cache);\r\n            var nodeSelection = node.internalFields.selected;\r\n            if (!$node.length) {\r\n                return\r\n            }\r\n            _this11._toggleSelectedClass($node, nodeSelection);\r\n            _this11.setAria(\"selected\", nodeSelection, $node);\r\n            if (_this11._showCheckboxes()) {\r\n                var checkbox = _this11._getCheckBoxInstance($node);\r\n                checkbox.option(\"value\", nodeSelection)\r\n            }\r\n        });\r\n        if (this._selectAllEnabled()) {\r\n            this._$selectAllItem.dxCheckBox(\"instance\").option(\"value\", this._dataAdapter.isAllSelected())\r\n        }\r\n    },\r\n    _updateParentsState: function(node, $node) {\r\n        if (!$node) {\r\n            return\r\n        }\r\n        var parentNode = this._dataAdapter.getNodeByKey(node.internalFields.parentKey);\r\n        var $parentNode = (0, _renderer.default)($node.parents(\".\" + NODE_CLASS)[0]);\r\n        if (this._showCheckboxes()) {\r\n            var parentValue = parentNode.internalFields.selected;\r\n            this._getCheckBoxInstance($parentNode).option(\"value\", parentValue);\r\n            this._toggleSelectedClass($parentNode, parentValue)\r\n        }\r\n        if (parentNode.internalFields.parentKey !== this.option(\"rootValue\")) {\r\n            this._updateParentsState(parentNode, $parentNode)\r\n        }\r\n    },\r\n    _itemEventHandlerImpl: function(initiator, action, actionArgs) {\r\n        var $itemElement = (0, _renderer.default)(initiator).closest(\".\" + NODE_CLASS).children(\".\" + ITEM_CLASS);\r\n        return action((0, _extend.extend)(this._extendActionArgs($itemElement), actionArgs))\r\n    },\r\n    _itemContextMenuHandler: function(e) {\r\n        this._createEventHandler(\"onItemContextMenu\", e)\r\n    },\r\n    _itemHoldHandler: function(e) {\r\n        this._createEventHandler(\"onItemHold\", e)\r\n    },\r\n    _createEventHandler: function(eventName, e) {\r\n        var node = this._getNodeByElement(e.currentTarget);\r\n        this._itemDXEventHandler(e, eventName, {\r\n            node: this._dataAdapter.getPublicNode(node)\r\n        })\r\n    },\r\n    _itemClass: function() {\r\n        return ITEM_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return ITEM_DATA_KEY\r\n    },\r\n    _attachClickEvent: function() {\r\n        var clickSelector = \".\" + this._itemClass();\r\n        var pointerDownSelector = \".\" + NODE_CLASS + \", .\" + SELECT_ALL_ITEM_CLASS;\r\n        var eventName = (0, _index.addNamespace)(_click.name, this.NAME);\r\n        var pointerDownEvent = (0, _index.addNamespace)(_pointer.default.down, this.NAME);\r\n        var $itemContainer = this._itemContainer();\r\n        var that = this;\r\n        _events_engine.default.off($itemContainer, eventName, clickSelector);\r\n        _events_engine.default.off($itemContainer, pointerDownEvent, pointerDownSelector);\r\n        _events_engine.default.on($itemContainer, eventName, clickSelector, function(e) {\r\n            that._itemClickHandler(e, (0, _renderer.default)(this))\r\n        });\r\n        _events_engine.default.on($itemContainer, pointerDownEvent, pointerDownSelector, function(e) {\r\n            that._itemPointerDownHandler(e)\r\n        })\r\n    },\r\n    _itemClickHandler: function(e, $item) {\r\n        var itemData = this._getItemData($item);\r\n        var node = this._getNodeByElement($item);\r\n        this._itemDXEventHandler(e, \"onItemClick\", {\r\n            node: this._dataAdapter.getPublicNode(node)\r\n        });\r\n        if (this.option(\"selectByClick\") && !e.isDefaultPrevented()) {\r\n            this._updateItemSelection(!node.internalFields.selected, itemData, e)\r\n        }\r\n    },\r\n    _updateSelectionToFirstItem: function($items, startIndex) {\r\n        var itemIndex = startIndex;\r\n        while (itemIndex >= 0) {\r\n            var $item = (0, _renderer.default)($items[itemIndex]);\r\n            this._updateItemSelection(true, $item.find(\".\" + ITEM_CLASS).get(0));\r\n            itemIndex--\r\n        }\r\n    },\r\n    _updateSelectionToLastItem: function($items, startIndex) {\r\n        var length = $items.length;\r\n        var itemIndex = startIndex;\r\n        while (itemIndex < length) {\r\n            var $item = (0, _renderer.default)($items[itemIndex]);\r\n            this._updateItemSelection(true, $item.find(\".\" + ITEM_CLASS).get(0));\r\n            itemIndex++\r\n        }\r\n    },\r\n    _focusInHandler: function(e) {\r\n        var _this12 = this;\r\n        this._updateFocusState(e, true);\r\n        if (this.option(\"focusedElement\")) {\r\n            clearTimeout(this._setFocusedItemTimeout);\r\n            this._setFocusedItemTimeout = setTimeout(function() {\r\n                _this12._setFocusedItem((0, _renderer.default)(_this12.option(\"focusedElement\")))\r\n            });\r\n            return\r\n        }\r\n        var $activeItem = this._getActiveItem();\r\n        this.option(\"focusedElement\", (0, _element.getPublicElement)($activeItem.closest(\".\" + NODE_CLASS)))\r\n    },\r\n    _setFocusedItem: function($target) {\r\n        if (!$target || !$target.length) {\r\n            return\r\n        }\r\n        if (!$target.children().hasClass(DISABLED_STATE_CLASS)) {\r\n            this.callBase($target)\r\n        }\r\n    },\r\n    _itemPointerDownHandler: function(e) {\r\n        if (!this.option(\"focusStateEnabled\")) {\r\n            return\r\n        }\r\n        var $target = (0, _renderer.default)(e.target).closest(\".\" + NODE_CLASS + \", .\" + SELECT_ALL_ITEM_CLASS);\r\n        if (!$target.length) {\r\n            return\r\n        }\r\n        var itemElement = $target.hasClass(DISABLED_STATE_CLASS) ? null : $target;\r\n        this.option(\"focusedElement\", (0, _element.getPublicElement)(itemElement))\r\n    },\r\n    _findNonDisabledNodes: function($nodes) {\r\n        return $nodes.not(function() {\r\n            return (0, _renderer.default)(this).children(\".\" + ITEM_CLASS).hasClass(DISABLED_STATE_CLASS)\r\n        })\r\n    },\r\n    _moveFocus: function(location, e) {\r\n        var FOCUS_UP = \"up\";\r\n        var FOCUS_DOWN = \"down\";\r\n        var FOCUS_FIRST = \"first\";\r\n        var FOCUS_LAST = \"last\";\r\n        var FOCUS_LEFT = this.option(\"rtlEnabled\") ? \"right\" : \"left\";\r\n        var FOCUS_RIGHT = this.option(\"rtlEnabled\") ? \"left\" : \"right\";\r\n        this.$element().find(\".\".concat(NODE_CONTAINER_CLASS)).each(function() {\r\n            _fx.default.stop(this, true)\r\n        });\r\n        var $items = this._findNonDisabledNodes(this._nodeElements());\r\n        if (!$items || !$items.length) {\r\n            return\r\n        }\r\n        switch (location) {\r\n            case FOCUS_UP:\r\n                var $prevItem = this._prevItem($items);\r\n                this.option(\"focusedElement\", (0, _element.getPublicElement)($prevItem));\r\n                var prevItemElement = this._getNodeItemElement($prevItem);\r\n                this._scrollableContainer.scrollToElement(prevItemElement);\r\n                if (e.shiftKey && this._showCheckboxes()) {\r\n                    this._updateItemSelection(true, prevItemElement)\r\n                }\r\n                break;\r\n            case FOCUS_DOWN:\r\n                var $nextItem = this._nextItem($items);\r\n                this.option(\"focusedElement\", (0, _element.getPublicElement)($nextItem));\r\n                var nextItemElement = this._getNodeItemElement($nextItem);\r\n                this._scrollableContainer.scrollToElement(nextItemElement);\r\n                if (e.shiftKey && this._showCheckboxes()) {\r\n                    this._updateItemSelection(true, nextItemElement)\r\n                }\r\n                break;\r\n            case FOCUS_FIRST:\r\n                var $firstItem = $items.first();\r\n                if (e.shiftKey && this._showCheckboxes()) {\r\n                    this._updateSelectionToFirstItem($items, $items.index(this._prevItem($items)))\r\n                }\r\n                this.option(\"focusedElement\", (0, _element.getPublicElement)($firstItem));\r\n                this._scrollableContainer.scrollToElement(this._getNodeItemElement($firstItem));\r\n                break;\r\n            case FOCUS_LAST:\r\n                var $lastItem = $items.last();\r\n                if (e.shiftKey && this._showCheckboxes()) {\r\n                    this._updateSelectionToLastItem($items, $items.index(this._nextItem($items)))\r\n                }\r\n                this.option(\"focusedElement\", (0, _element.getPublicElement)($lastItem));\r\n                this._scrollableContainer.scrollToElement(this._getNodeItemElement($lastItem));\r\n                break;\r\n            case FOCUS_RIGHT:\r\n                this._expandFocusedContainer();\r\n                break;\r\n            case FOCUS_LEFT:\r\n                this._collapseFocusedContainer();\r\n                break;\r\n            default:\r\n                this.callBase.apply(this, arguments);\r\n                return\r\n        }\r\n    },\r\n    _getNodeItemElement: function($node) {\r\n        return $node.find(\".\" + ITEM_CLASS).get(0)\r\n    },\r\n    _nodeElements: function() {\r\n        return this.$element().find(\".\" + NODE_CLASS).not(\":hidden\")\r\n    },\r\n    _expandFocusedContainer: function() {\r\n        var $focusedNode = (0, _renderer.default)(this.option(\"focusedElement\"));\r\n        if (!$focusedNode.length || $focusedNode.hasClass(IS_LEAF)) {\r\n            return\r\n        }\r\n        var $node = $focusedNode.find(\".\".concat(NODE_CONTAINER_CLASS)).eq(0);\r\n        if ($node.hasClass(OPENED_NODE_CONTAINER_CLASS)) {\r\n            var $nextItem = this._nextItem(this._findNonDisabledNodes(this._nodeElements()));\r\n            this.option(\"focusedElement\", (0, _element.getPublicElement)($nextItem));\r\n            this._scrollableContainer.scrollToElement(this._getNodeItemElement($nextItem));\r\n            return\r\n        }\r\n        var node = this._getNodeByElement($focusedNode.children(\".\" + ITEM_CLASS));\r\n        this._toggleExpandedState(node, true)\r\n    },\r\n    _getClosestNonDisabledNode: function($node) {\r\n        do {\r\n            $node = $node.parent().closest(\".\" + NODE_CLASS)\r\n        } while ($node.children(\".dx-treeview-item.dx-state-disabled\").length);\r\n        return $node\r\n    },\r\n    _collapseFocusedContainer: function() {\r\n        var $focusedNode = (0, _renderer.default)(this.option(\"focusedElement\"));\r\n        if (!$focusedNode.length) {\r\n            return\r\n        }\r\n        var nodeElement = $focusedNode.find(\".\".concat(NODE_CONTAINER_CLASS)).eq(0);\r\n        if (!$focusedNode.hasClass(IS_LEAF) && nodeElement.hasClass(OPENED_NODE_CONTAINER_CLASS)) {\r\n            var node = this._getNodeByElement($focusedNode.children(\".\" + ITEM_CLASS));\r\n            this._toggleExpandedState(node, false)\r\n        } else {\r\n            var collapsedNode = this._getClosestNonDisabledNode($focusedNode);\r\n            collapsedNode.length && this.option(\"focusedElement\", (0, _element.getPublicElement)(collapsedNode));\r\n            this._scrollableContainer.scrollToElement(this._getNodeItemElement(collapsedNode))\r\n        }\r\n    },\r\n    _encodeString: function(value) {\r\n        return (0, _type.isString)(value) ? encodeURI(value) : value\r\n    },\r\n    _decodeString: function(value) {\r\n        return (0, _type.isString)(value) ? decodeURI(value) : value\r\n    },\r\n    updateDimensions: function() {\r\n        var _this13 = this;\r\n        var deferred = new _deferred.Deferred;\r\n        if (this._scrollableContainer) {\r\n            this._scrollableContainer.update().done(function() {\r\n                deferred.resolveWith(_this13)\r\n            })\r\n        } else {\r\n            deferred.resolveWith(this)\r\n        }\r\n        return deferred.promise()\r\n    },\r\n    selectItem: function(itemElement) {\r\n        return this._updateItemSelection(true, itemElement)\r\n    },\r\n    unselectItem: function(itemElement) {\r\n        return this._updateItemSelection(false, itemElement)\r\n    },\r\n    expandItem: function(itemElement) {\r\n        return this._toggleExpandedState(itemElement, true)\r\n    },\r\n    collapseItem: function(itemElement) {\r\n        return this._toggleExpandedState(itemElement, false)\r\n    },\r\n    getNodes: function() {\r\n        return this._dataAdapter.getTreeNodes()\r\n    },\r\n    getSelectedNodes: function() {\r\n        var _this14 = this;\r\n        return this.getSelectedNodeKeys().map(function(key) {\r\n            var node = _this14._dataAdapter.getNodeByKey(key);\r\n            return _this14._dataAdapter.getPublicNode(node)\r\n        })\r\n    },\r\n    getSelectedNodesKeys: function() {\r\n        _ui3.default.log(\"W0002\", \"dxTreeView\", \"getSelectedNodesKeys\", \"20.1\", \"Use the 'getSelectedNodeKeys' method instead\");\r\n        return this.getSelectedNodeKeys()\r\n    },\r\n    getSelectedNodeKeys: function() {\r\n        return this._dataAdapter.getSelectedNodesKeys()\r\n    },\r\n    selectAll: function() {\r\n        if (this._selectAllEnabled()) {\r\n            this._$selectAllItem.dxCheckBox(\"instance\").option(\"value\", true)\r\n        } else {\r\n            this._toggleSelectAll({\r\n                value: true\r\n            })\r\n        }\r\n    },\r\n    unselectAll: function() {\r\n        if (this._selectAllEnabled()) {\r\n            this._$selectAllItem.dxCheckBox(\"instance\").option(\"value\", false)\r\n        } else {\r\n            this._toggleSelectAll({\r\n                value: false\r\n            })\r\n        }\r\n    },\r\n    expandAll: function() {\r\n        var dataAdapter = this._dataAdapter;\r\n        (0, _iterator.each)(dataAdapter.getData(), function(_, node) {\r\n            return dataAdapter.toggleExpansion(node.internalFields.key, true)\r\n        });\r\n        this.repaint()\r\n    },\r\n    collapseAll: function() {\r\n        (0, _iterator.each)(this._dataAdapter.getExpandedNodesKeys(), function(_, key) {\r\n            this._toggleExpandedState(key, false)\r\n        }.bind(this))\r\n    },\r\n    scrollToItem: function(keyOrItemOrElement) {\r\n        var _this15 = this;\r\n        var node = this._getNode(keyOrItemOrElement);\r\n        if (!node) {\r\n            return (new _deferred.Deferred).reject().promise()\r\n        }\r\n        var nodeKeysToExpand = [];\r\n        var parentNode = node.internalFields.publicNode.parent;\r\n        while (null != parentNode) {\r\n            if (!parentNode.expanded) {\r\n                nodeKeysToExpand.push(parentNode.key)\r\n            }\r\n            parentNode = parentNode.parent\r\n        }\r\n        var scrollCallback = new _deferred.Deferred;\r\n        this._expandNodes(nodeKeysToExpand.reverse()).always(function() {\r\n            var $element = _this15._getNodeElement(node);\r\n            if ($element && $element.length) {\r\n                _this15._scrollableContainer.scrollToElementTopLeft($element);\r\n                scrollCallback.resolve()\r\n            } else {\r\n                scrollCallback.reject()\r\n            }\r\n        });\r\n        return scrollCallback.promise()\r\n    },\r\n    _expandNodes: function(keysToExpand) {\r\n        var _this16 = this;\r\n        if (!keysToExpand || 0 === keysToExpand.length) {\r\n            return (new _deferred.Deferred).resolve().promise()\r\n        }\r\n        var resultCallback = new _deferred.Deferred;\r\n        var callbacksByNodes = keysToExpand.map(function(key) {\r\n            return _this16.expandItem(key)\r\n        });\r\n        _deferred.when.apply(_renderer.default, callbacksByNodes).done(function() {\r\n            return resultCallback.resolve()\r\n        }).fail(function() {\r\n            return resultCallback.reject()\r\n        });\r\n        return resultCallback.promise()\r\n    },\r\n    _dispose: function() {\r\n        this.callBase();\r\n        clearTimeout(this._setFocusedItemTimeout)\r\n    }\r\n});\r\nvar _default = TreeViewBase;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.grouping.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.GroupingHeaderPanelExtender = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiData_gridGrouping = require(\"./ui.data_grid.grouping.expanded\");\r\nvar _uiData_gridGrouping2 = require(\"./ui.data_grid.grouping.collapsed\");\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _uiData_grid2 = _interopRequireDefault(require(\"./ui.data_grid.data_source_adapter\"));\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _devices = _interopRequireDefault(require(\"../../core/devices\"));\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _uiGrid_core = require(\"../grid_core/ui.grid_core.accessibility\");\r\nvar _accessibility = require(\"../shared/accessibility\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar DATAGRID_GROUP_PANEL_CLASS = \"dx-datagrid-group-panel\";\r\nvar DATAGRID_GROUP_PANEL_MESSAGE_CLASS = \"dx-group-panel-message\";\r\nvar DATAGRID_GROUP_PANEL_ITEM_CLASS = \"dx-group-panel-item\";\r\nvar DATAGRID_GROUP_PANEL_LABEL_CLASS = \"dx-toolbar-label\";\r\nvar DATAGRID_EXPAND_CLASS = \"dx-datagrid-expand\";\r\nvar DATAGRID_GROUP_ROW_CLASS = \"dx-group-row\";\r\nvar HEADER_FILTER_CLASS_SELECTOR = \".dx-header-filter\";\r\nvar GroupingDataSourceAdapterExtender = function() {\r\n    return {\r\n        init: function() {\r\n            this.callBase.apply(this, arguments);\r\n            this._initGroupingHelper()\r\n        },\r\n        _initGroupingHelper: function(options) {\r\n            var grouping = this._grouping;\r\n            var isAutoExpandAll = this.option(\"grouping.autoExpandAll\");\r\n            var isFocusedRowEnabled = this.option(\"focusedRowEnabled\");\r\n            var remoteOperations = options ? options.remoteOperations : this.remoteOperations();\r\n            var isODataRemoteOperations = remoteOperations.filtering && remoteOperations.sorting && remoteOperations.paging;\r\n            if (isODataRemoteOperations && !remoteOperations.grouping && (isAutoExpandAll || !isFocusedRowEnabled)) {\r\n                if (!grouping || grouping instanceof _uiData_gridGrouping2.GroupingHelper) {\r\n                    this._grouping = new _uiData_gridGrouping.GroupingHelper(this)\r\n                }\r\n            } else {\r\n                if (!grouping || grouping instanceof _uiData_gridGrouping.GroupingHelper) {\r\n                    this._grouping = new _uiData_gridGrouping2.GroupingHelper(this)\r\n                }\r\n            }\r\n        },\r\n        totalItemsCount: function() {\r\n            var that = this;\r\n            var totalCount = that.callBase();\r\n            return totalCount > 0 && that._dataSource.group() && that._dataSource.requireTotalCount() ? totalCount + that._grouping.totalCountCorrection() : totalCount\r\n        },\r\n        itemsCount: function() {\r\n            return this._dataSource.group() ? this._grouping.itemsCount() || 0 : this.callBase.apply(this, arguments)\r\n        },\r\n        allowCollapseAll: function() {\r\n            return this._grouping.allowCollapseAll()\r\n        },\r\n        isGroupItemCountable: function(item) {\r\n            return this._grouping.isGroupItemCountable(item)\r\n        },\r\n        isRowExpanded: function(key) {\r\n            var groupInfo = this._grouping.findGroupInfo(key);\r\n            return groupInfo ? groupInfo.isExpanded : !this._grouping.allowCollapseAll()\r\n        },\r\n        collapseAll: function(groupIndex) {\r\n            return this._collapseExpandAll(groupIndex, false)\r\n        },\r\n        expandAll: function(groupIndex) {\r\n            return this._collapseExpandAll(groupIndex, true)\r\n        },\r\n        _collapseExpandAll: function(groupIndex, isExpand) {\r\n            var that = this;\r\n            var dataSource = that._dataSource;\r\n            var group = dataSource.group();\r\n            var groups = _uiData_grid.default.normalizeSortingInfo(group || []);\r\n            if (groups.length) {\r\n                for (var i = 0; i < groups.length; i++) {\r\n                    if (void 0 === groupIndex || groupIndex === i) {\r\n                        groups[i].isExpanded = isExpand\r\n                    } else {\r\n                        if (group && group[i]) {\r\n                            groups[i].isExpanded = group[i].isExpanded\r\n                        }\r\n                    }\r\n                }\r\n                dataSource.group(groups);\r\n                that._grouping.foreachGroups(function(groupInfo, parents) {\r\n                    if (void 0 === groupIndex || groupIndex === parents.length - 1) {\r\n                        groupInfo.isExpanded = isExpand\r\n                    }\r\n                }, false, true);\r\n                that.resetPagesCache()\r\n            }\r\n            return true\r\n        },\r\n        refresh: function() {\r\n            this.callBase.apply(this, arguments);\r\n            return this._grouping.refresh.apply(this._grouping, arguments)\r\n        },\r\n        changeRowExpand: function(path) {\r\n            var that = this;\r\n            var dataSource = that._dataSource;\r\n            if (dataSource.group()) {\r\n                dataSource.beginLoading();\r\n                if (that._lastLoadOptions) {\r\n                    that._lastLoadOptions.groupExpand = true\r\n                }\r\n                return that._changeRowExpandCore(path).always(function() {\r\n                    dataSource.endLoading()\r\n                })\r\n            }\r\n        },\r\n        _changeRowExpandCore: function(path) {\r\n            return this._grouping.changeRowExpand(path)\r\n        },\r\n        _hasGroupLevelsExpandState: function(group, isExpanded) {\r\n            if (group && Array.isArray(group)) {\r\n                for (var i = 0; i < group.length; i++) {\r\n                    if (group[i].isExpanded === isExpanded) {\r\n                        return true\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        _customizeRemoteOperations: function(options, operationTypes) {\r\n            var remoteOperations = options.remoteOperations;\r\n            if (options.storeLoadOptions.group) {\r\n                if (remoteOperations.grouping && !options.isCustomLoading) {\r\n                    if (!remoteOperations.groupPaging || this._hasGroupLevelsExpandState(options.storeLoadOptions.group, true)) {\r\n                        remoteOperations.paging = false\r\n                    }\r\n                }\r\n                if (!remoteOperations.grouping && (!remoteOperations.sorting || !remoteOperations.filtering || options.isCustomLoading || this._hasGroupLevelsExpandState(options.storeLoadOptions.group, false))) {\r\n                    remoteOperations.paging = false\r\n                }\r\n            } else {\r\n                if (!options.isCustomLoading && remoteOperations.paging && operationTypes.grouping) {\r\n                    this.resetCache()\r\n                }\r\n            }\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        _handleDataLoading: function(options) {\r\n            this.callBase(options);\r\n            this._initGroupingHelper(options);\r\n            return this._grouping.handleDataLoading(options)\r\n        },\r\n        _handleDataLoaded: function(options) {\r\n            return this._grouping.handleDataLoaded(options, this.callBase.bind(this))\r\n        },\r\n        _handleDataLoadedCore: function(options) {\r\n            return this._grouping.handleDataLoadedCore(options, this.callBase.bind(this))\r\n        }\r\n    }\r\n}();\r\n_uiData_grid2.default.extend(GroupingDataSourceAdapterExtender);\r\nvar GroupingDataControllerExtender = function() {\r\n    return {\r\n        init: function() {\r\n            var that = this;\r\n            that.callBase();\r\n            that.createAction(\"onRowExpanding\");\r\n            that.createAction(\"onRowExpanded\");\r\n            that.createAction(\"onRowCollapsing\");\r\n            that.createAction(\"onRowCollapsed\")\r\n        },\r\n        _beforeProcessItems: function(items) {\r\n            var groupColumns = this._columnsController.getGroupColumns();\r\n            items = this.callBase(items);\r\n            if (items.length && groupColumns.length) {\r\n                items = this._processGroupItems(items, groupColumns.length)\r\n            }\r\n            return items\r\n        },\r\n        _processItem: function(item, options) {\r\n            if ((0, _type.isDefined)(item.groupIndex) && (0, _type.isString)(item.rowType) && 0 === item.rowType.indexOf(\"group\")) {\r\n                item = this._processGroupItem(item, options);\r\n                options.dataIndex = 0\r\n            } else {\r\n                item = this.callBase.apply(this, arguments)\r\n            }\r\n            return item\r\n        },\r\n        _processGroupItem: function(item) {\r\n            return item\r\n        },\r\n        _processGroupItems: function(items, groupsCount, options) {\r\n            var that = this;\r\n            var groupedColumns = that._columnsController.getGroupColumns();\r\n            var column = groupedColumns[groupedColumns.length - groupsCount];\r\n            if (!options) {\r\n                var scrollingMode = that.option(\"scrolling.mode\");\r\n                options = {\r\n                    collectContinuationItems: \"virtual\" !== scrollingMode && \"infinite\" !== scrollingMode,\r\n                    resultItems: [],\r\n                    path: [],\r\n                    values: []\r\n                }\r\n            }\r\n            var resultItems = options.resultItems;\r\n            if (options.data) {\r\n                if (options.collectContinuationItems || !options.data.isContinuation) {\r\n                    resultItems.push({\r\n                        rowType: \"group\",\r\n                        data: options.data,\r\n                        groupIndex: options.path.length - 1,\r\n                        isExpanded: !!options.data.items,\r\n                        key: options.path.slice(0),\r\n                        values: options.values.slice(0)\r\n                    })\r\n                }\r\n            }\r\n            if (items) {\r\n                if (0 === groupsCount) {\r\n                    resultItems.push.apply(resultItems, items)\r\n                } else {\r\n                    for (var i = 0; i < items.length; i++) {\r\n                        var item = items[i];\r\n                        if (item && \"items\" in item) {\r\n                            options.data = item;\r\n                            options.path.push(item.key);\r\n                            options.values.push(column && column.deserializeValue && !column.calculateDisplayValue ? column.deserializeValue(item.key) : item.key);\r\n                            that._processGroupItems(item.items, groupsCount - 1, options);\r\n                            options.data = void 0;\r\n                            options.path.pop();\r\n                            options.values.pop()\r\n                        } else {\r\n                            resultItems.push(item)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return resultItems\r\n        },\r\n        publicMethods: function() {\r\n            return this.callBase().concat([\"collapseAll\", \"expandAll\", \"isRowExpanded\", \"expandRow\", \"collapseRow\"])\r\n        },\r\n        collapseAll: function(groupIndex) {\r\n            var dataSource = this._dataSource;\r\n            if (dataSource && dataSource.collapseAll(groupIndex)) {\r\n                dataSource.pageIndex(0);\r\n                dataSource.reload()\r\n            }\r\n        },\r\n        expandAll: function(groupIndex) {\r\n            var dataSource = this._dataSource;\r\n            if (dataSource && dataSource.expandAll(groupIndex)) {\r\n                dataSource.pageIndex(0);\r\n                dataSource.reload()\r\n            }\r\n        },\r\n        changeRowExpand: function(key) {\r\n            var that = this;\r\n            var expanded = that.isRowExpanded(key);\r\n            var args = {\r\n                key: key,\r\n                expanded: expanded\r\n            };\r\n            that.executeAction(expanded ? \"onRowCollapsing\" : \"onRowExpanding\", args);\r\n            if (!args.cancel) {\r\n                return (0, _deferred.when)(that._changeRowExpandCore(key)).done(function() {\r\n                    args.expanded = !expanded;\r\n                    that.executeAction(expanded ? \"onRowCollapsed\" : \"onRowExpanded\", args)\r\n                })\r\n            }\r\n            return (new _deferred.Deferred).resolve()\r\n        },\r\n        _changeRowExpandCore: function(key) {\r\n            var that = this;\r\n            var dataSource = this._dataSource;\r\n            var d = new _deferred.Deferred;\r\n            if (!dataSource) {\r\n                d.resolve()\r\n            } else {\r\n                (0, _deferred.when)(dataSource.changeRowExpand(key)).done(function() {\r\n                    that.load().done(d.resolve).fail(d.reject)\r\n                }).fail(d.reject)\r\n            }\r\n            return d\r\n        },\r\n        isRowExpanded: function(key) {\r\n            var dataSource = this._dataSource;\r\n            return dataSource && dataSource.isRowExpanded(key)\r\n        },\r\n        expandRow: function(key) {\r\n            if (!this.isRowExpanded(key)) {\r\n                return this.changeRowExpand(key)\r\n            }\r\n            return (new _deferred.Deferred).resolve()\r\n        },\r\n        collapseRow: function(key) {\r\n            if (this.isRowExpanded(key)) {\r\n                return this.changeRowExpand(key)\r\n            }\r\n            return (new _deferred.Deferred).resolve()\r\n        },\r\n        optionChanged: function(args) {\r\n            if (\"grouping\" === args.name) {\r\n                args.name = \"dataSource\"\r\n            }\r\n            this.callBase(args)\r\n        }\r\n    }\r\n}();\r\nvar onGroupingMenuItemClick = function(column, params) {\r\n    var columnsController = this._columnsController;\r\n    switch (params.itemData.value) {\r\n        case \"group\":\r\n            var groups = columnsController._dataSource.group() || [];\r\n            columnsController.columnOption(column.dataField, \"groupIndex\", groups.length);\r\n            break;\r\n        case \"ungroup\":\r\n            columnsController.columnOption(column.dataField, \"groupIndex\", -1);\r\n            break;\r\n        case \"ungroupAll\":\r\n            this.component.clearGrouping()\r\n    }\r\n};\r\nvar GroupingHeaderPanelExtender = function() {\r\n    return {\r\n        _getToolbarItems: function() {\r\n            var items = this.callBase();\r\n            return this._appendGroupingItem(items)\r\n        },\r\n        _appendGroupingItem: function(items) {\r\n            var _this = this;\r\n            if (this._isGroupPanelVisible()) {\r\n                var isRendered = false;\r\n                var toolbarItem = {\r\n                    template: function() {\r\n                        var $groupPanel = (0, _renderer.default)(\"<div>\").addClass(DATAGRID_GROUP_PANEL_CLASS);\r\n                        _this._updateGroupPanelContent($groupPanel);\r\n                        (0, _uiGrid_core.registerKeyboardAction)(\"groupPanel\", _this, $groupPanel, void 0, _this._handleActionKeyDown.bind(_this));\r\n                        return $groupPanel\r\n                    },\r\n                    name: \"groupPanel\",\r\n                    onItemRendered: function() {\r\n                        isRendered && _this.renderCompleted.fire();\r\n                        isRendered = true\r\n                    },\r\n                    location: \"before\",\r\n                    locateInMenu: \"never\",\r\n                    sortIndex: 1\r\n                };\r\n                items.push(toolbarItem)\r\n            }\r\n            return items\r\n        },\r\n        _handleActionKeyDown: function(args) {\r\n            var event = args.event;\r\n            var $target = (0, _renderer.default)(event.target);\r\n            var groupColumnIndex = $target.closest(\".\".concat(DATAGRID_GROUP_PANEL_ITEM_CLASS)).index();\r\n            var column = this._columnsController.getGroupColumns()[groupColumnIndex];\r\n            var columnIndex = column && column.index;\r\n            if ($target.is(HEADER_FILTER_CLASS_SELECTOR)) {\r\n                this.getController(\"headerFilter\").showHeaderFilterMenu(columnIndex, true)\r\n            } else {\r\n                this._processGroupItemAction(columnIndex)\r\n            }\r\n            event.preventDefault()\r\n        },\r\n        _isGroupPanelVisible: function() {\r\n            var groupPanelOptions = this.option(\"groupPanel\");\r\n            var isVisible;\r\n            if (groupPanelOptions) {\r\n                isVisible = groupPanelOptions.visible;\r\n                if (\"auto\" === isVisible) {\r\n                    isVisible = \"desktop\" === _devices.default.current().deviceType ? true : false\r\n                }\r\n            }\r\n            return isVisible\r\n        },\r\n        _renderGroupPanelItems: function($groupPanel, groupColumns) {\r\n            var that = this;\r\n            $groupPanel.empty();\r\n            (0, _iterator.each)(groupColumns, function(index, groupColumn) {\r\n                that._createGroupPanelItem($groupPanel, groupColumn)\r\n            });\r\n            (0, _accessibility.restoreFocus)(this)\r\n        },\r\n        _createGroupPanelItem: function($rootElement, groupColumn) {\r\n            var $groupPanelItem = (0, _renderer.default)(\"<div>\").addClass(groupColumn.cssClass).addClass(DATAGRID_GROUP_PANEL_ITEM_CLASS).data(\"columnData\", groupColumn).appendTo($rootElement).text(groupColumn.caption);\r\n            (0, _accessibility.setTabIndex)(this, $groupPanelItem);\r\n            return $groupPanelItem\r\n        },\r\n        _columnOptionChanged: function(e) {\r\n            if (!this._requireReady && !_uiData_grid.default.checkChanges(e.optionNames, [\"width\", \"visibleWidth\"])) {\r\n                var $toolbarElement = this.element();\r\n                var $groupPanel = $toolbarElement && $toolbarElement.find(\".\" + DATAGRID_GROUP_PANEL_CLASS);\r\n                if ($groupPanel && $groupPanel.length) {\r\n                    this._updateGroupPanelContent($groupPanel);\r\n                    this.renderCompleted.fire()\r\n                }\r\n            }\r\n            this.callBase()\r\n        },\r\n        _updateGroupPanelContent: function($groupPanel) {\r\n            var that = this;\r\n            var groupColumns = that.getController(\"columns\").getGroupColumns();\r\n            var groupPanelOptions = that.option(\"groupPanel\");\r\n            that._renderGroupPanelItems($groupPanel, groupColumns);\r\n            if (groupPanelOptions.allowColumnDragging && !groupColumns.length) {\r\n                (0, _renderer.default)(\"<div>\").addClass(DATAGRID_GROUP_PANEL_MESSAGE_CLASS).text(groupPanelOptions.emptyPanelText).appendTo($groupPanel);\r\n                $groupPanel.closest(\".\" + DATAGRID_GROUP_PANEL_LABEL_CLASS).css(\"maxWidth\", \"none\");\r\n                that.updateToolbarDimensions()\r\n            }\r\n        },\r\n        allowDragging: function(column) {\r\n            var groupPanelOptions = this.option(\"groupPanel\");\r\n            return this._isGroupPanelVisible() && groupPanelOptions.allowColumnDragging && column && column.allowGrouping\r\n        },\r\n        getColumnElements: function() {\r\n            var $element = this.element();\r\n            return $element && $element.find(\".\" + DATAGRID_GROUP_PANEL_ITEM_CLASS)\r\n        },\r\n        getColumns: function() {\r\n            return this.getController(\"columns\").getGroupColumns()\r\n        },\r\n        getBoundingRect: function() {\r\n            var that = this;\r\n            var $element = that.element();\r\n            if ($element && $element.find(\".\" + DATAGRID_GROUP_PANEL_CLASS).length) {\r\n                var offset = $element.offset();\r\n                return {\r\n                    top: offset.top,\r\n                    bottom: offset.top + $element.height()\r\n                }\r\n            }\r\n            return null\r\n        },\r\n        getName: function() {\r\n            return \"group\"\r\n        },\r\n        getContextMenuItems: function(options) {\r\n            var that = this;\r\n            var contextMenuEnabled = that.option(\"grouping.contextMenuEnabled\");\r\n            var $groupedColumnElement = (0, _renderer.default)(options.targetElement).closest(\".\" + DATAGRID_GROUP_PANEL_ITEM_CLASS);\r\n            var items;\r\n            if ($groupedColumnElement.length) {\r\n                options.column = $groupedColumnElement.data(\"columnData\")\r\n            }\r\n            if (contextMenuEnabled && options.column) {\r\n                var column = options.column;\r\n                var isGroupingAllowed = (0, _type.isDefined)(column.allowGrouping) ? column.allowGrouping : true;\r\n                if (isGroupingAllowed) {\r\n                    var isColumnGrouped = (0, _type.isDefined)(column.groupIndex) && column.groupIndex > -1;\r\n                    var groupingTexts = that.option(\"grouping.texts\");\r\n                    var onItemClick = onGroupingMenuItemClick.bind(that, column);\r\n                    items = [{\r\n                        text: groupingTexts.ungroup,\r\n                        value: \"ungroup\",\r\n                        disabled: !isColumnGrouped,\r\n                        onItemClick: onItemClick\r\n                    }, {\r\n                        text: groupingTexts.ungroupAll,\r\n                        value: \"ungroupAll\",\r\n                        onItemClick: onItemClick\r\n                    }]\r\n                }\r\n            }\r\n            return items\r\n        },\r\n        isVisible: function() {\r\n            return this.callBase() || this._isGroupPanelVisible()\r\n        },\r\n        optionChanged: function(args) {\r\n            if (\"groupPanel\" === args.name) {\r\n                this._invalidate();\r\n                args.handled = true\r\n            } else {\r\n                this.callBase(args)\r\n            }\r\n        }\r\n    }\r\n}();\r\nexports.GroupingHeaderPanelExtender = GroupingHeaderPanelExtender;\r\nvar GroupingRowsViewExtender = function() {\r\n    return {\r\n        getContextMenuItems: function(options) {\r\n            var that = this;\r\n            var contextMenuEnabled = that.option(\"grouping.contextMenuEnabled\");\r\n            var items;\r\n            if (contextMenuEnabled && options.row && \"group\" === options.row.rowType) {\r\n                var columnsController = that._columnsController;\r\n                var column = columnsController.columnOption(\"groupIndex:\" + options.row.groupIndex);\r\n                if (column && column.allowGrouping) {\r\n                    var groupingTexts = that.option(\"grouping.texts\");\r\n                    var onItemClick = onGroupingMenuItemClick.bind(that, column);\r\n                    items = [];\r\n                    items.push({\r\n                        text: groupingTexts.ungroup,\r\n                        value: \"ungroup\",\r\n                        onItemClick: onItemClick\r\n                    }, {\r\n                        text: groupingTexts.ungroupAll,\r\n                        value: \"ungroupAll\",\r\n                        onItemClick: onItemClick\r\n                    })\r\n                }\r\n            }\r\n            return items\r\n        },\r\n        _rowClick: function(e) {\r\n            var that = this;\r\n            var expandMode = that.option(\"grouping.expandMode\");\r\n            var scrollingMode = that.option(\"scrolling.mode\");\r\n            var isGroupRowStateChanged = \"infinite\" !== scrollingMode && \"rowClick\" === expandMode && (0, _renderer.default)(e.event.target).closest(\".\" + DATAGRID_GROUP_ROW_CLASS).length;\r\n            var isExpandButtonClicked = (0, _renderer.default)(e.event.target).closest(\".\" + DATAGRID_EXPAND_CLASS).length;\r\n            if (isGroupRowStateChanged || isExpandButtonClicked) {\r\n                that._changeGroupRowState(e)\r\n            }\r\n            that.callBase(e)\r\n        },\r\n        _changeGroupRowState: function(e) {\r\n            var dataController = this.getController(\"data\");\r\n            var row = dataController.items()[e.rowIndex];\r\n            var allowCollapsing = this._columnsController.columnOption(\"groupIndex:\" + row.groupIndex, \"allowCollapsing\");\r\n            if (\"data\" === row.rowType || \"group\" === row.rowType && false !== allowCollapsing) {\r\n                dataController.changeRowExpand(row.key, true);\r\n                e.event.preventDefault();\r\n                e.handled = true\r\n            }\r\n        }\r\n    }\r\n}();\r\nvar columnHeadersViewExtender = function() {\r\n    return {\r\n        getContextMenuItems: function(options) {\r\n            var that = this;\r\n            var contextMenuEnabled = that.option(\"grouping.contextMenuEnabled\");\r\n            var items = that.callBase(options);\r\n            if (contextMenuEnabled && options.row && (\"header\" === options.row.rowType || \"detailAdaptive\" === options.row.rowType)) {\r\n                var column = options.column;\r\n                if (!column.command && (!(0, _type.isDefined)(column.allowGrouping) || column.allowGrouping)) {\r\n                    var groupingTexts = that.option(\"grouping.texts\");\r\n                    var isColumnGrouped = (0, _type.isDefined)(column.groupIndex) && column.groupIndex > -1;\r\n                    var onItemClick = onGroupingMenuItemClick.bind(that, column);\r\n                    items = items || [];\r\n                    items.push({\r\n                        text: groupingTexts.groupByThisColumn,\r\n                        value: \"group\",\r\n                        beginGroup: true,\r\n                        disabled: isColumnGrouped,\r\n                        onItemClick: onItemClick\r\n                    });\r\n                    if (column.showWhenGrouped) {\r\n                        items.push({\r\n                            text: groupingTexts.ungroup,\r\n                            value: \"ungroup\",\r\n                            disabled: !isColumnGrouped,\r\n                            onItemClick: onItemClick\r\n                        })\r\n                    }\r\n                    items.push({\r\n                        text: groupingTexts.ungroupAll,\r\n                        value: \"ungroupAll\",\r\n                        onItemClick: onItemClick\r\n                    })\r\n                }\r\n            }\r\n            return items\r\n        }\r\n    }\r\n}();\r\n_uiData_grid.default.registerModule(\"grouping\", {\r\n    defaultOptions: function() {\r\n        return {\r\n            grouping: {\r\n                autoExpandAll: true,\r\n                allowCollapsing: true,\r\n                contextMenuEnabled: false,\r\n                expandMode: \"buttonClick\",\r\n                texts: {\r\n                    groupContinuesMessage: _message.default.format(\"dxDataGrid-groupContinuesMessage\"),\r\n                    groupContinuedMessage: _message.default.format(\"dxDataGrid-groupContinuedMessage\"),\r\n                    groupByThisColumn: _message.default.format(\"dxDataGrid-groupHeaderText\"),\r\n                    ungroup: _message.default.format(\"dxDataGrid-ungroupHeaderText\"),\r\n                    ungroupAll: _message.default.format(\"dxDataGrid-ungroupAllText\")\r\n                }\r\n            },\r\n            groupPanel: {\r\n                visible: false,\r\n                emptyPanelText: _message.default.format(\"dxDataGrid-groupPanelEmptyText\"),\r\n                allowColumnDragging: true\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: GroupingDataControllerExtender,\r\n            columns: {\r\n                _getExpandColumnOptions: function() {\r\n                    var options = this.callBase.apply(this, arguments);\r\n                    options.cellTemplate = _uiData_grid.default.getExpandCellTemplate();\r\n                    return options\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            headerPanel: GroupingHeaderPanelExtender,\r\n            rowsView: GroupingRowsViewExtender,\r\n            columnHeadersView: columnHeadersViewExtender\r\n        }\r\n    }\r\n});\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.grouping.expanded.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.GroupingHelper = void 0;\r\nvar _data = require(\"../../core/utils/data\");\r\nvar _utils = _interopRequireDefault(require(\"../../data/utils\"));\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _store_helper = _interopRequireDefault(require(\"../../data/store_helper\"));\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiData_gridGrouping = require(\"./ui.data_grid.grouping.core\");\r\nvar _uiData_grid2 = require(\"./ui.data_grid.utils\");\r\nvar _query = _interopRequireDefault(require(\"../../data/query\"));\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar loadTotalCount = function(dataSource, options) {\r\n    var d = new _deferred.Deferred;\r\n    var loadOptions = (0, _extend.extend)({\r\n        skip: 0,\r\n        take: 1,\r\n        requireTotalCount: true\r\n    }, options);\r\n    dataSource.load(loadOptions).done(function(data, extra) {\r\n        d.resolve(extra && extra.totalCount)\r\n    }).fail(d.reject.bind(d));\r\n    return d\r\n};\r\nvar GroupingHelper = _uiData_gridGrouping.GroupingHelper.inherit(function() {\r\n    var foreachCollapsedGroups = function(that, callback, updateOffsets) {\r\n        return that.foreachGroups(function(groupInfo) {\r\n            if (!groupInfo.isExpanded) {\r\n                return callback(groupInfo)\r\n            }\r\n        }, false, false, updateOffsets, true)\r\n    };\r\n    var correctSkipLoadOption = function(that, skip) {\r\n        var skipCorrection = 0;\r\n        var resultSkip = skip || 0;\r\n        if (skip) {\r\n            foreachCollapsedGroups(that, function(groupInfo) {\r\n                if (groupInfo.offset - skipCorrection >= skip) {\r\n                    return false\r\n                }\r\n                skipCorrection += groupInfo.count - 1\r\n            });\r\n            resultSkip += skipCorrection\r\n        }\r\n        return resultSkip\r\n    };\r\n    var processGroupItems = function processGroupItems(that, items, path, offset, skipFirstItem, take) {\r\n        var removeLastItemsCount = 0;\r\n        var needRemoveFirstItem = false;\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            if (void 0 !== item.items) {\r\n                path.push(item.key);\r\n                var groupInfo = that.findGroupInfo(path);\r\n                if (groupInfo && !groupInfo.isExpanded) {\r\n                    item.collapsedItems = item.items;\r\n                    item.items = null;\r\n                    offset += groupInfo.count;\r\n                    take--;\r\n                    if (take < 0) {\r\n                        removeLastItemsCount++\r\n                    }\r\n                    if (skipFirstItem) {\r\n                        needRemoveFirstItem = true\r\n                    }\r\n                } else {\r\n                    if (item.items) {\r\n                        var offsetInfo = processGroupItems(that, item.items, path, offset, skipFirstItem, take);\r\n                        if (skipFirstItem) {\r\n                            if (offsetInfo.offset - offset > 1) {\r\n                                item.isContinuation = true\r\n                            } else {\r\n                                needRemoveFirstItem = true\r\n                            }\r\n                        }\r\n                        offset = offsetInfo.offset;\r\n                        take = offsetInfo.take;\r\n                        if (take < 0) {\r\n                            if (item.items.length) {\r\n                                item.isContinuationOnNextPage = true\r\n                            } else {\r\n                                removeLastItemsCount++\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                path.pop()\r\n            } else {\r\n                if (skipFirstItem) {\r\n                    needRemoveFirstItem = true\r\n                }\r\n                offset++;\r\n                take--;\r\n                if (take < 0) {\r\n                    removeLastItemsCount++\r\n                }\r\n            }\r\n            skipFirstItem = false\r\n        }\r\n        if (needRemoveFirstItem) {\r\n            items.splice(0, 1)\r\n        }\r\n        if (removeLastItemsCount) {\r\n            items.splice(-removeLastItemsCount, removeLastItemsCount)\r\n        }\r\n        return {\r\n            offset: offset,\r\n            take: take\r\n        }\r\n    };\r\n    var pathEquals = function(path1, path2) {\r\n        if (path1.length !== path2.length) {\r\n            return false\r\n        }\r\n        for (var i = 0; i < path1.length; i++) {\r\n            if (!_utils.default.keysEqual(null, path1[i], path2[i])) {\r\n                return false\r\n            }\r\n        }\r\n        return true\r\n    };\r\n    var updateGroupOffsets = function updateGroupOffsets(that, items, path, offset, additionalGroupInfo) {\r\n        if (!items) {\r\n            return\r\n        }\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            if (\"key\" in item && void 0 !== item.items) {\r\n                path.push(item.key);\r\n                if (additionalGroupInfo && pathEquals(additionalGroupInfo.path, path) && !item.isContinuation) {\r\n                    additionalGroupInfo.offset = offset\r\n                }\r\n                var groupInfo = that.findGroupInfo(path);\r\n                if (groupInfo && !item.isContinuation) {\r\n                    groupInfo.offset = offset\r\n                }\r\n                if (groupInfo && !groupInfo.isExpanded) {\r\n                    offset += groupInfo.count\r\n                } else {\r\n                    offset = updateGroupOffsets(that, item.items, path, offset, additionalGroupInfo)\r\n                }\r\n                path.pop()\r\n            } else {\r\n                offset++\r\n            }\r\n        }\r\n        return offset\r\n    };\r\n    var removeGroupLoadOption = function(storeLoadOptions, loadOptions) {\r\n        if (loadOptions.group) {\r\n            var groups = _uiData_grid.default.normalizeSortingInfo(loadOptions.group);\r\n            var sorts = _uiData_grid.default.normalizeSortingInfo(storeLoadOptions.sort);\r\n            storeLoadOptions.sort = _store_helper.default.arrangeSortingInfo(groups, sorts);\r\n            delete loadOptions.group\r\n        }\r\n    };\r\n    var createNotGroupFilter = function(path, storeLoadOptions, group) {\r\n        var groups = _uiData_grid.default.normalizeSortingInfo(group || storeLoadOptions.group);\r\n        var filter = [];\r\n        for (var i = 0; i < path.length; i++) {\r\n            var filterElement = [];\r\n            for (var j = 0; j <= i; j++) {\r\n                filterElement.push([groups[j].selector, i === j ? \"<>\" : \"=\", path[j]])\r\n            }\r\n            filter.push(_uiData_grid.default.combineFilters(filterElement))\r\n        }\r\n        filter = _uiData_grid.default.combineFilters(filter, \"or\");\r\n        return _uiData_grid.default.combineFilters([filter, storeLoadOptions.filter])\r\n    };\r\n    var getGroupCount = function getGroupCount(item, groupCount) {\r\n        var count = item.count || item.items.length;\r\n        if (!item.count && groupCount > 1) {\r\n            count = 0;\r\n            for (var i = 0; i < item.items.length; i++) {\r\n                count += getGroupCount(item.items[i], groupCount - 1)\r\n            }\r\n        }\r\n        return count\r\n    };\r\n    return {\r\n        handleDataLoading: function(options) {\r\n            var that = this;\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var collapsedGroups = [];\r\n            var collapsedItemsCount = 0;\r\n            var skipFirstItem = false;\r\n            var take;\r\n            var group = options.loadOptions.group;\r\n            var skipCorrection = 0;\r\n            removeGroupLoadOption(storeLoadOptions, options.loadOptions);\r\n            options.group = options.group || group;\r\n            if (options.isCustomLoading) {\r\n                return\r\n            }\r\n            var loadOptions = (0, _extend.extend)({}, storeLoadOptions);\r\n            loadOptions.skip = correctSkipLoadOption(that, storeLoadOptions.skip);\r\n            if (loadOptions.skip && loadOptions.take && group) {\r\n                loadOptions.skip--;\r\n                loadOptions.take++;\r\n                skipFirstItem = true\r\n            }\r\n            if (loadOptions.take && group) {\r\n                take = loadOptions.take;\r\n                loadOptions.take++\r\n            }\r\n            foreachCollapsedGroups(that, function(groupInfo) {\r\n                if (groupInfo.offset >= loadOptions.skip + loadOptions.take + skipCorrection) {\r\n                    return false\r\n                } else {\r\n                    if (groupInfo.offset >= loadOptions.skip + skipCorrection && groupInfo.count) {\r\n                        skipCorrection += groupInfo.count - 1;\r\n                        collapsedGroups.push(groupInfo);\r\n                        collapsedItemsCount += groupInfo.count\r\n                    }\r\n                }\r\n            });\r\n            (0, _iterator.each)(collapsedGroups, function() {\r\n                loadOptions.filter = createNotGroupFilter(this.path, loadOptions, group)\r\n            });\r\n            options.storeLoadOptions = loadOptions;\r\n            options.collapsedGroups = collapsedGroups;\r\n            options.collapsedItemsCount = collapsedItemsCount;\r\n            options.skip = loadOptions.skip || 0;\r\n            options.skipFirstItem = skipFirstItem;\r\n            options.take = take\r\n        },\r\n        handleDataLoaded: function(options, callBase) {\r\n            var that = this;\r\n            var data = options.data;\r\n            var collapsedGroups = options.collapsedGroups;\r\n            var groups = _uiData_grid.default.normalizeSortingInfo(options.group);\r\n            var groupCount = groups.length;\r\n\r\n            function appendCollapsedPath(data, path, groups, collapsedGroup, offset) {\r\n                if (!data || !path.length || !groups.length) {\r\n                    return\r\n                }\r\n                var keyValue;\r\n                var i;\r\n                var pathValue = (0, _data.toComparable)(path[0], true);\r\n                for (i = 0; i < data.length; i++) {\r\n                    keyValue = (0, _data.toComparable)(data[i].key, true);\r\n                    if (offset >= collapsedGroup.offset || pathValue === keyValue) {\r\n                        break\r\n                    } else {\r\n                        offset += getGroupCount(data[i], groups.length)\r\n                    }\r\n                }\r\n                if (!data.length || pathValue !== keyValue) {\r\n                    data.splice(i, 0, {\r\n                        key: path[0],\r\n                        items: [],\r\n                        count: 1 === path.length ? collapsedGroup.count : void 0\r\n                    })\r\n                }\r\n                appendCollapsedPath(data[i].items, path.slice(1), groups.slice(1), collapsedGroup, offset)\r\n            }\r\n            if (options.collapsedItemsCount && options.extra && options.extra.totalCount >= 0) {\r\n                options.extra.totalCount += options.collapsedItemsCount\r\n            }\r\n            callBase(options);\r\n            if (groupCount) {\r\n                var query = (0, _query.default)(data);\r\n                _store_helper.default.multiLevelGroup(query, groups).enumerate().done(function(groupedData) {\r\n                    data = groupedData\r\n                });\r\n                if (collapsedGroups) {\r\n                    for (var pathIndex = 0; pathIndex < collapsedGroups.length; pathIndex++) {\r\n                        appendCollapsedPath(data, collapsedGroups[pathIndex].path, groups, collapsedGroups[pathIndex], options.skip)\r\n                    }\r\n                }\r\n                if (!options.isCustomLoading) {\r\n                    processGroupItems(that, data, [], options.skip, options.skipFirstItem, options.take)\r\n                }\r\n                options.data = data\r\n            }\r\n        },\r\n        isGroupItemCountable: function(item) {\r\n            return null === item.items\r\n        },\r\n        updateTotalItemsCount: function() {\r\n            var itemsCountCorrection = 0;\r\n            foreachCollapsedGroups(this, function(groupInfo) {\r\n                if (groupInfo.count) {\r\n                    itemsCountCorrection -= groupInfo.count - 1\r\n                }\r\n            });\r\n            this.callBase(itemsCountCorrection)\r\n        },\r\n        changeRowExpand: function(path) {\r\n            var that = this;\r\n            var dataSource = that._dataSource;\r\n            var beginPageIndex = dataSource.beginPageIndex ? dataSource.beginPageIndex() : dataSource.pageIndex();\r\n            var dataSourceItems = dataSource.items();\r\n            var offset = correctSkipLoadOption(that, beginPageIndex * dataSource.pageSize());\r\n            var groupInfo = that.findGroupInfo(path);\r\n            var groupCountQuery;\r\n            if (groupInfo && !groupInfo.isExpanded) {\r\n                groupCountQuery = (new _deferred.Deferred).resolve(groupInfo.count)\r\n            } else {\r\n                groupCountQuery = loadTotalCount(dataSource, {\r\n                    filter: (0, _uiData_grid2.createGroupFilter)(path, {\r\n                        filter: dataSource.filter(),\r\n                        group: dataSource.group()\r\n                    })\r\n                })\r\n            }\r\n            return (0, _deferred.when)(groupCountQuery).done(function(count) {\r\n                count = parseInt(count.length ? count[0] : count);\r\n                if (groupInfo) {\r\n                    updateGroupOffsets(that, dataSourceItems, [], offset);\r\n                    groupInfo.isExpanded = !groupInfo.isExpanded;\r\n                    groupInfo.count = count\r\n                } else {\r\n                    groupInfo = {\r\n                        offset: -1,\r\n                        count: count,\r\n                        path: path,\r\n                        isExpanded: false\r\n                    };\r\n                    updateGroupOffsets(that, dataSourceItems, [], offset, groupInfo);\r\n                    if (groupInfo.offset >= 0) {\r\n                        that.addGroupInfo(groupInfo)\r\n                    }\r\n                }\r\n                that.updateTotalItemsCount()\r\n            }).fail(function() {\r\n                dataSource._eventsStrategy.fireEvent(\"loadError\", arguments)\r\n            })\r\n        },\r\n        allowCollapseAll: function() {\r\n            return false\r\n        },\r\n        refresh: function(options, operationTypes) {\r\n            var that = this;\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var dataSource = that._dataSource;\r\n            this.callBase.apply(this, arguments);\r\n            if (operationTypes.reload) {\r\n                return foreachCollapsedGroups(that, function(groupInfo) {\r\n                    var groupCountQuery = loadTotalCount(dataSource, {\r\n                        filter: (0, _uiData_grid2.createGroupFilter)(groupInfo.path, storeLoadOptions)\r\n                    });\r\n                    var groupOffsetQuery = loadTotalCount(dataSource, {\r\n                        filter: (0, _uiData_gridGrouping.createOffsetFilter)(groupInfo.path, storeLoadOptions)\r\n                    });\r\n                    return (0, _deferred.when)(groupOffsetQuery, groupCountQuery).done(function(offset, count) {\r\n                        offset = parseInt(offset.length ? offset[0] : offset);\r\n                        count = parseInt(count.length ? count[0] : count);\r\n                        groupInfo.offset = offset;\r\n                        if (groupInfo.count !== count) {\r\n                            groupInfo.count = count;\r\n                            that.updateTotalItemsCount()\r\n                        }\r\n                    })\r\n                }, true)\r\n            }\r\n        }\r\n    }\r\n}());\r\nexports.GroupingHelper = GroupingHelper;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.grouping.collapsed.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.GroupingHelper = void 0;\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiData_gridGrouping = require(\"./ui.data_grid.grouping.core\");\r\nvar _uiData_grid2 = require(\"./ui.data_grid.utils\");\r\nvar _ui = _interopRequireDefault(require(\"../widget/ui.errors\"));\r\nvar _errors = _interopRequireDefault(require(\"../../data/errors\"));\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction getContinuationGroupCount(groupOffset, pageSize, groupSize, groupIndex) {\r\n    groupIndex = groupIndex || 0;\r\n    if (pageSize > 1 && groupSize > 0) {\r\n        var pageOffset = groupOffset - Math.floor(groupOffset / pageSize) * pageSize || pageSize;\r\n        pageOffset += groupSize - groupIndex - 2;\r\n        if (pageOffset < 0) {\r\n            pageOffset += pageSize\r\n        }\r\n        return Math.floor(pageOffset / (pageSize - groupIndex - 1))\r\n    }\r\n    return 0\r\n}\r\nvar GroupingHelper = _uiData_gridGrouping.GroupingHelper.inherit(function() {\r\n    var foreachExpandedGroups = function(that, callback, updateGroups) {\r\n        return that.foreachGroups(function(groupInfo, parents) {\r\n            if (groupInfo.isExpanded) {\r\n                return callback(groupInfo, parents)\r\n            }\r\n        }, true, false, updateGroups, updateGroups)\r\n    };\r\n    var processGroupItems = function processGroupItems(that, items, groupsCount, expandedInfo, path, isCustomLoading, isLastGroupExpanded) {\r\n        var isExpanded;\r\n        expandedInfo.items = expandedInfo.items || [];\r\n        expandedInfo.paths = expandedInfo.paths || [];\r\n        expandedInfo.count = expandedInfo.count || 0;\r\n        expandedInfo.lastCount = expandedInfo.lastCount || 0;\r\n        if (!groupsCount) {\r\n            return\r\n        }\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            if (void 0 !== item.items) {\r\n                path.push(item.key);\r\n                if (isCustomLoading) {\r\n                    isExpanded = true\r\n                } else {\r\n                    var groupInfo = that.findGroupInfo(path);\r\n                    isExpanded = groupInfo && groupInfo.isExpanded\r\n                }\r\n                if (!isExpanded) {\r\n                    item.collapsedItems = item.items;\r\n                    item.items = null\r\n                } else {\r\n                    if (item.items) {\r\n                        processGroupItems(that, item.items, groupsCount - 1, expandedInfo, path, isCustomLoading, isLastGroupExpanded)\r\n                    } else {\r\n                        if (1 === groupsCount && item.count && (!isCustomLoading || isLastGroupExpanded)) {\r\n                            expandedInfo.items.push(item);\r\n                            expandedInfo.paths.push(path.slice(0));\r\n                            expandedInfo.count += expandedInfo.lastCount;\r\n                            expandedInfo.lastCount = item.count\r\n                        }\r\n                    }\r\n                }\r\n                path.pop()\r\n            }\r\n        }\r\n    };\r\n    var updateGroupInfoItem = function(that, item, isLastGroupLevel, path, offset) {\r\n        var groupInfo = that.findGroupInfo(path);\r\n        var count;\r\n        if (!groupInfo) {\r\n            if (isLastGroupLevel) {\r\n                count = item.count > 0 ? item.count : item.items.length\r\n            }\r\n            that.addGroupInfo({\r\n                isExpanded: that._isGroupExpanded(path.length - 1),\r\n                path: path.slice(0),\r\n                offset: offset,\r\n                count: count || 0\r\n            })\r\n        } else {\r\n            if (isLastGroupLevel) {\r\n                groupInfo.count = item.count > 0 ? item.count : item.items && item.items.length || 0\r\n            } else {\r\n                item.count = groupInfo.count || item.count\r\n            }\r\n            groupInfo.offset = offset\r\n        }\r\n    };\r\n    var updateGroupInfos = function updateGroupInfos(that, options, items, loadedGroupCount, groupIndex, path, parentIndex) {\r\n        var groupCount = options.group ? options.group.length : 0;\r\n        var isLastGroupLevel = groupCount === loadedGroupCount;\r\n        var remotePaging = options.remoteOperations.paging;\r\n        var offset = 0;\r\n        var totalCount = 0;\r\n        var count;\r\n        groupIndex = groupIndex || 0;\r\n        path = path || [];\r\n        if (remotePaging && !parentIndex) {\r\n            offset = 0 === groupIndex ? options.skip || 0 : options.skips[groupIndex - 1] || 0\r\n        }\r\n        if (groupIndex >= loadedGroupCount) {\r\n            return items.length\r\n        }\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            if (item) {\r\n                path.push(item.key);\r\n                if (!item.count && !item.items || void 0 === item.items) {\r\n                    return -1\r\n                }\r\n                updateGroupInfoItem(that, item, isLastGroupLevel, path, offset + i);\r\n                count = item.items ? updateGroupInfos(that, options, item.items, loadedGroupCount, groupIndex + 1, path, i) : item.count || -1;\r\n                if (count < 0) {\r\n                    return -1\r\n                }\r\n                totalCount += count;\r\n                path.pop()\r\n            }\r\n        }\r\n        return totalCount\r\n    };\r\n    var isGroupExpanded = function(groups, groupIndex) {\r\n        return groups && groups.length && groups[groupIndex] && !!groups[groupIndex].isExpanded\r\n    };\r\n    var getTotalOffset = function(groupInfos, pageSize, offset) {\r\n        var groupSize;\r\n        var totalOffset = offset;\r\n        for (var groupIndex = 0; groupIndex < groupInfos.length; groupIndex++) {\r\n            groupSize = groupInfos[groupIndex].offset + 1;\r\n            if (groupIndex > 0) {\r\n                groupSize += groupInfos[groupIndex - 1].childrenTotalCount;\r\n                if (pageSize) {\r\n                    groupSize += getContinuationGroupCount(totalOffset, pageSize, groupSize, groupIndex - 1) * groupIndex\r\n                }\r\n            }\r\n            totalOffset += groupSize\r\n        }\r\n        return totalOffset\r\n    };\r\n\r\n    function applyContinuationToGroupItem(options, expandedInfo, groupLevel, expandedItemIndex) {\r\n        var item = expandedInfo.items[expandedItemIndex];\r\n        var skip = options.skips && options.skips[groupLevel];\r\n        var take = options.takes && options.takes[groupLevel];\r\n        var isLastExpandedItem = expandedItemIndex === expandedInfo.items.length - 1;\r\n        var isFirstExpandedItem = 0 === expandedItemIndex;\r\n        var lastExpandedItemSkip = isFirstExpandedItem && skip || 0;\r\n        var isItemsTruncatedByTake = item.count > take + lastExpandedItemSkip;\r\n        if (isFirstExpandedItem && void 0 !== skip) {\r\n            item.isContinuation = true\r\n        }\r\n        if (isLastExpandedItem && void 0 !== take && isItemsTruncatedByTake) {\r\n            item.isContinuationOnNextPage = true\r\n        }\r\n    }\r\n\r\n    function fillSkipTakeInExpandedInfo(options, expandedInfo, currentGroupCount) {\r\n        var currentGroupIndex = currentGroupCount - 1;\r\n        var groupCount = options.group ? options.group.length : 0;\r\n        expandedInfo.skip = options.skips && options.skips[currentGroupIndex];\r\n        if (options.takes && void 0 !== options.takes[currentGroupIndex]) {\r\n            if (groupCount === currentGroupCount) {\r\n                expandedInfo.take = expandedInfo.count ? expandedInfo.count - (expandedInfo.skip || 0) : 0\r\n            } else {\r\n                expandedInfo.take = 0\r\n            }\r\n            expandedInfo.take += options.takes[currentGroupIndex]\r\n        }\r\n    }\r\n\r\n    function isDataDeferred(data) {\r\n        return !Array.isArray(data)\r\n    }\r\n\r\n    function makeDataDeferred(options) {\r\n        if (!isDataDeferred(options.data)) {\r\n            options.data = new _deferred.Deferred\r\n        }\r\n    }\r\n\r\n    function loadGroupItems(that, options, loadedGroupCount, expandedInfo, groupLevel, data) {\r\n        if (!options.isCustomLoading) {\r\n            expandedInfo = {};\r\n            processGroupItems(that, data, loadedGroupCount, expandedInfo, []);\r\n            fillSkipTakeInExpandedInfo(options, expandedInfo, loadedGroupCount)\r\n        }\r\n        var groupCount = options.group ? options.group.length : 0;\r\n        if (expandedInfo.paths.length && groupCount - loadedGroupCount > 0) {\r\n            makeDataDeferred(options);\r\n            loadExpandedGroups(that, options, expandedInfo, loadedGroupCount, groupLevel, data)\r\n        } else {\r\n            if (expandedInfo.paths.length && options.storeLoadOptions.group) {\r\n                makeDataDeferred(options);\r\n                loadLastLevelGroupItems(that, options, expandedInfo, data)\r\n            } else {\r\n                if (isDataDeferred(options.data)) {\r\n                    options.data.resolve(data)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    function loadExpandedGroups(that, options, expandedInfo, loadedGroupCount, groupLevel, data) {\r\n        var groups = options.group || [];\r\n        var currentGroup = groups[groupLevel + 1];\r\n        var deferreds = [];\r\n        (0, _iterator.each)(expandedInfo.paths, function(expandedItemIndex) {\r\n            var loadOptions = {\r\n                requireTotalCount: false,\r\n                requireGroupCount: true,\r\n                group: [currentGroup],\r\n                groupSummary: options.storeLoadOptions.groupSummary,\r\n                filter: (0, _uiData_grid2.createGroupFilter)(expandedInfo.paths[expandedItemIndex], {\r\n                    filter: options.storeLoadOptions.filter,\r\n                    group: groups\r\n                }),\r\n                select: options.storeLoadOptions.select\r\n            };\r\n            if (0 === expandedItemIndex) {\r\n                loadOptions.skip = expandedInfo.skip || 0\r\n            }\r\n            if (expandedItemIndex === expandedInfo.paths.length - 1) {\r\n                loadOptions.take = expandedInfo.take\r\n            }\r\n            var loadResult = 0 === loadOptions.take ? [] : that._dataSource.loadFromStore(loadOptions);\r\n            (0, _deferred.when)(loadResult).done(function(data) {\r\n                var item = expandedInfo.items[expandedItemIndex];\r\n                applyContinuationToGroupItem(options, expandedInfo, groupLevel, expandedItemIndex);\r\n                item.items = data\r\n            });\r\n            deferreds.push(loadResult)\r\n        });\r\n        _deferred.when.apply(null, deferreds).done(function() {\r\n            updateGroupInfos(that, options, data, loadedGroupCount + 1);\r\n            loadGroupItems(that, options, loadedGroupCount + 1, expandedInfo, groupLevel + 1, data)\r\n        })\r\n    }\r\n\r\n    function loadLastLevelGroupItems(that, options, expandedInfo, data) {\r\n        var expandedFilters = [];\r\n        var groups = options.group || [];\r\n        (0, _iterator.each)(expandedInfo.paths, function(_, expandedPath) {\r\n            expandedFilters.push((0, _uiData_grid2.createGroupFilter)(expandedPath, {\r\n                group: options.isCustomLoading ? options.storeLoadOptions.group : groups\r\n            }))\r\n        });\r\n        var filter = options.storeLoadOptions.filter;\r\n        if (!options.storeLoadOptions.isLoadingAll) {\r\n            filter = _uiData_grid.default.combineFilters([filter, _uiData_grid.default.combineFilters(expandedFilters, \"or\")])\r\n        }\r\n        var loadOptions = (0, _extend.extend)({}, options.storeLoadOptions, {\r\n            requireTotalCount: false,\r\n            requireGroupCount: false,\r\n            group: null,\r\n            sort: groups.concat(_uiData_grid.default.normalizeSortingInfo(options.storeLoadOptions.sort || [])),\r\n            filter: filter\r\n        });\r\n        var isPagingLocal = that._dataSource.isLastLevelGroupItemsPagingLocal();\r\n        if (!isPagingLocal) {\r\n            loadOptions.skip = expandedInfo.skip;\r\n            loadOptions.take = expandedInfo.take\r\n        }(0, _deferred.when)(0 === expandedInfo.take ? [] : that._dataSource.loadFromStore(loadOptions)).done(function(items, extra) {\r\n            if (isPagingLocal) {\r\n                items = that._dataSource.sortLastLevelGroupItems(items, groups, expandedInfo.paths);\r\n                items = expandedInfo.skip ? items.slice(expandedInfo.skip) : items;\r\n                items = expandedInfo.take ? items.slice(0, expandedInfo.take) : items\r\n            }(0, _iterator.each)(expandedInfo.items, function(index, item) {\r\n                var itemCount = item.count - (0 === index && expandedInfo.skip || 0);\r\n                var expandedItems = items.splice(0, itemCount);\r\n                applyContinuationToGroupItem(options, expandedInfo, groups.length - 1, index);\r\n                item.items = expandedItems\r\n            });\r\n            options.data.resolve(data)\r\n        }).fail(options.data.reject)\r\n    }\r\n    var loadGroupTotalCount = function(dataSource, options) {\r\n        var d = new _deferred.Deferred;\r\n        var isGrouping = !!(options.group && options.group.length);\r\n        var loadOptions = (0, _extend.extend)({\r\n            skip: 0,\r\n            take: 1,\r\n            requireGroupCount: isGrouping,\r\n            requireTotalCount: !isGrouping\r\n        }, options, {\r\n            group: isGrouping ? options.group : null\r\n        });\r\n        dataSource.load(loadOptions).done(function(data, extra) {\r\n            var count = extra && (isGrouping ? extra.groupCount : extra.totalCount);\r\n            if (!isFinite(count)) {\r\n                d.reject(_errors.default.errors.Error(isGrouping ? \"E4022\" : \"E4021\"));\r\n                return\r\n            }\r\n            d.resolve(count)\r\n        }).fail(d.reject.bind(d));\r\n        return d\r\n    };\r\n    return {\r\n        updateTotalItemsCount: function(options) {\r\n            var totalItemsCount = 0;\r\n            var totalCount = options.extra && options.extra.totalCount || 0;\r\n            var groupCount = options.extra && options.extra.groupCount || 0;\r\n            var pageSize = this._dataSource.pageSize();\r\n            var isVirtualPaging = this._isVirtualPaging();\r\n            foreachExpandedGroups(this, function(groupInfo) {\r\n                groupInfo.childrenTotalCount = 0\r\n            });\r\n            foreachExpandedGroups(this, function(groupInfo, parents) {\r\n                var totalOffset = getTotalOffset(parents, isVirtualPaging ? 0 : pageSize, totalItemsCount);\r\n                var count = groupInfo.count + groupInfo.childrenTotalCount;\r\n                if (!isVirtualPaging) {\r\n                    count += getContinuationGroupCount(totalOffset, pageSize, count, parents.length - 1)\r\n                }\r\n                if (parents[parents.length - 2]) {\r\n                    parents[parents.length - 2].childrenTotalCount += count\r\n                } else {\r\n                    totalItemsCount += count\r\n                }\r\n            });\r\n            this.callBase(totalItemsCount - totalCount + groupCount)\r\n        },\r\n        _isGroupExpanded: function(groupIndex) {\r\n            var groups = this._dataSource.group();\r\n            return isGroupExpanded(groups, groupIndex)\r\n        },\r\n        _updatePagingOptions: function(options, callback) {\r\n            var that = this;\r\n            var isVirtualPaging = that._isVirtualPaging();\r\n            var pageSize = that._dataSource.pageSize();\r\n            var skips = [];\r\n            var takes = [];\r\n            var skipChildrenTotalCount = 0;\r\n            var childrenTotalCount = 0;\r\n            if (options.take) {\r\n                foreachExpandedGroups(this, function(groupInfo) {\r\n                    groupInfo.childrenTotalCount = 0;\r\n                    groupInfo.skipChildrenTotalCount = 0\r\n                });\r\n                foreachExpandedGroups(that, function(groupInfo, parents) {\r\n                    var take;\r\n                    var takeCorrection = 0;\r\n                    var parentTakeCorrection = 0;\r\n                    var totalOffset = getTotalOffset(parents, isVirtualPaging ? 0 : pageSize, childrenTotalCount);\r\n                    var continuationGroupCount = 0;\r\n                    var skipContinuationGroupCount = 0;\r\n                    var groupInfoCount = groupInfo.count + groupInfo.childrenTotalCount;\r\n                    var childrenGroupInfoCount = groupInfoCount;\r\n                    callback && callback(groupInfo, totalOffset);\r\n                    var skip = options.skip - totalOffset;\r\n                    if (totalOffset <= options.skip + options.take && groupInfoCount) {\r\n                        take = options.take;\r\n                        if (!isVirtualPaging) {\r\n                            continuationGroupCount = getContinuationGroupCount(totalOffset, pageSize, groupInfoCount, parents.length - 1);\r\n                            groupInfoCount += continuationGroupCount * parents.length;\r\n                            childrenGroupInfoCount += continuationGroupCount;\r\n                            if (pageSize && skip >= 0) {\r\n                                takeCorrection = parents.length;\r\n                                parentTakeCorrection = parents.length - 1;\r\n                                skipContinuationGroupCount = Math.floor(skip / pageSize)\r\n                            }\r\n                        }\r\n                        if (skip >= 0) {\r\n                            if (totalOffset + groupInfoCount > options.skip) {\r\n                                skips.unshift(skip - skipContinuationGroupCount * takeCorrection - groupInfo.skipChildrenTotalCount)\r\n                            }\r\n                            if (totalOffset + groupInfoCount >= options.skip + take) {\r\n                                takes.unshift(take - takeCorrection - groupInfo.childrenTotalCount + groupInfo.skipChildrenTotalCount)\r\n                            }\r\n                        } else {\r\n                            if (totalOffset + groupInfoCount >= options.skip + take) {\r\n                                takes.unshift(take + skip - groupInfo.childrenTotalCount)\r\n                            }\r\n                        }\r\n                    }\r\n                    if (totalOffset <= options.skip) {\r\n                        if (parents[parents.length - 2]) {\r\n                            parents[parents.length - 2].skipChildrenTotalCount += Math.min(childrenGroupInfoCount, skip + 1 - skipContinuationGroupCount * parentTakeCorrection)\r\n                        } else {\r\n                            skipChildrenTotalCount += Math.min(childrenGroupInfoCount, skip + 1)\r\n                        }\r\n                    }\r\n                    if (totalOffset <= options.skip + take) {\r\n                        groupInfoCount = Math.min(childrenGroupInfoCount, skip + take - (skipContinuationGroupCount + 1) * parentTakeCorrection);\r\n                        if (parents[parents.length - 2]) {\r\n                            parents[parents.length - 2].childrenTotalCount += groupInfoCount\r\n                        } else {\r\n                            childrenTotalCount += groupInfoCount\r\n                        }\r\n                    }\r\n                });\r\n                options.skip -= skipChildrenTotalCount;\r\n                options.take -= childrenTotalCount - skipChildrenTotalCount\r\n            }\r\n            options.skips = skips;\r\n            options.takes = takes\r\n        },\r\n        changeRowExpand: function(path) {\r\n            var that = this;\r\n            var groupInfo = that.findGroupInfo(path);\r\n            var dataSource = that._dataSource;\r\n            var remoteGroupPaging = dataSource.remoteOperations().groupPaging;\r\n            var groups = _uiData_grid.default.normalizeSortingInfo(dataSource.group());\r\n            if (groupInfo) {\r\n                groupInfo.isExpanded = !groupInfo.isExpanded;\r\n                if (remoteGroupPaging && groupInfo.isExpanded && path.length < groups.length) {\r\n                    return loadGroupTotalCount(dataSource, {\r\n                        filter: (0, _uiData_grid2.createGroupFilter)(path, {\r\n                            filter: dataSource.lastLoadOptions().filter,\r\n                            group: dataSource.group()\r\n                        }),\r\n                        group: [groups[path.length]],\r\n                        select: dataSource.select()\r\n                    }).done(function(groupCount) {\r\n                        groupInfo.count = groupCount\r\n                    })\r\n                }\r\n                return (new _deferred.Deferred).resolve()\r\n            }\r\n            return (new _deferred.Deferred).reject()\r\n        },\r\n        handleDataLoading: function(options) {\r\n            var that = this;\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var groups = _uiData_grid.default.normalizeSortingInfo(storeLoadOptions.group || options.loadOptions.group);\r\n            if (options.isCustomLoading || !groups.length) {\r\n                return\r\n            }\r\n            if (options.remoteOperations.grouping) {\r\n                var remotePaging = that._dataSource.remoteOperations().paging;\r\n                storeLoadOptions.group = _uiData_grid.default.normalizeSortingInfo(storeLoadOptions.group);\r\n                storeLoadOptions.group.forEach(function(group, index) {\r\n                    var isLastGroup = index === storeLoadOptions.group.length - 1;\r\n                    group.isExpanded = !remotePaging || !isLastGroup\r\n                })\r\n            }\r\n            options.group = options.group || groups;\r\n            if (options.remoteOperations.paging) {\r\n                options.skip = storeLoadOptions.skip;\r\n                options.take = storeLoadOptions.take;\r\n                storeLoadOptions.requireGroupCount = true;\r\n                storeLoadOptions.group = groups.slice(0, 1);\r\n                that._updatePagingOptions(options);\r\n                storeLoadOptions.skip = options.skip;\r\n                storeLoadOptions.take = options.take\r\n            }\r\n        },\r\n        handleDataLoadedCore: function(options, callBase) {\r\n            var that = this;\r\n            var loadedGroupCount = _uiData_grid.default.normalizeSortingInfo(options.storeLoadOptions.group || options.loadOptions.group).length;\r\n            var groupCount = options.group ? options.group.length : 0;\r\n            var totalCount;\r\n            var expandedInfo = {};\r\n            if (options.isCustomLoading) {\r\n                callBase(options);\r\n                processGroupItems(that, options.data, loadedGroupCount, expandedInfo, [], options.isCustomLoading, options.storeLoadOptions.isLoadingAll)\r\n            } else {\r\n                if (!options.remoteOperations.paging) {\r\n                    that.foreachGroups(function(groupInfo) {\r\n                        groupInfo.count = 0\r\n                    })\r\n                }\r\n                totalCount = updateGroupInfos(that, options, options.data, loadedGroupCount);\r\n                if (totalCount < 0) {\r\n                    options.data = (new _deferred.Deferred).reject(_ui.default.Error(\"E1037\"));\r\n                    return\r\n                }\r\n                if (!options.remoteOperations.paging) {\r\n                    if (loadedGroupCount && options.extra && options.loadOptions.requireTotalCount) {\r\n                        options.extra.totalCount = totalCount;\r\n                        options.extra.groupCount = options.data.length\r\n                    }\r\n                }\r\n                if (groupCount && options.storeLoadOptions.requireGroupCount && !isFinite(options.extra.groupCount)) {\r\n                    options.data = (new _deferred.Deferred).reject(_errors.default.errors.Error(\"E4022\"));\r\n                    return\r\n                }\r\n                that.updateTotalItemsCount(options);\r\n                if (!options.remoteOperations.paging) {\r\n                    that._updatePagingOptions(options)\r\n                }\r\n                callBase(options);\r\n                if (!options.remoteOperations.paging) {\r\n                    that._processPaging(options, loadedGroupCount)\r\n                }\r\n            }\r\n            loadGroupItems(that, options, loadedGroupCount, expandedInfo, 0, options.data)\r\n        },\r\n        _processSkips: function(items, skips, groupCount) {\r\n            if (!groupCount) {\r\n                return\r\n            }\r\n            var firstItem = items[0];\r\n            var skip = skips[0];\r\n            var children = firstItem && firstItem.items;\r\n            if (void 0 !== skip) {\r\n                firstItem.isContinuation = true;\r\n                if (children) {\r\n                    firstItem.items = children.slice(skip);\r\n                    this._processSkips(firstItem.items, skips.slice(1), groupCount - 1)\r\n                }\r\n            }\r\n        },\r\n        _processTakes: function(items, skips, takes, groupCount, parents) {\r\n            if (!groupCount || !items) {\r\n                return\r\n            }\r\n            parents = parents || [];\r\n            var lastItem = items[items.length - 1];\r\n            var children = lastItem && lastItem.items;\r\n            var take = takes[0];\r\n            var skip = skips[0];\r\n            if (lastItem) {\r\n                var maxTakeCount = lastItem.count - (lastItem.isContinuation && skip || 0) || children.length;\r\n                if (void 0 !== take && maxTakeCount > take) {\r\n                    lastItem.isContinuationOnNextPage = true;\r\n                    parents.forEach(function(parent) {\r\n                        parent.isContinuationOnNextPage = true\r\n                    });\r\n                    if (children) {\r\n                        children = children.slice(0, take);\r\n                        lastItem.items = children\r\n                    }\r\n                }\r\n                parents.push(lastItem);\r\n                this._processTakes(children, skips.slice(1), takes.slice(1), groupCount - 1, parents)\r\n            }\r\n        },\r\n        _processPaging: function(options, groupCount) {\r\n            this._processSkips(options.data, options.skips, groupCount);\r\n            this._processTakes(options.data, options.skips, options.takes, groupCount)\r\n        },\r\n        isLastLevelGroupItemsPagingLocal: function() {\r\n            return false\r\n        },\r\n        sortLastLevelGroupItems: function(items) {\r\n            return items\r\n        },\r\n        refresh: function(options, operationTypes) {\r\n            var that = this;\r\n            var dataSource = that._dataSource;\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var group = options.group || options.storeLoadOptions.group;\r\n            var oldGroups = _uiData_grid.default.normalizeSortingInfo(that._group);\r\n            var isExpanded;\r\n            var groupIndex;\r\n\r\n            function handleGroup(groupInfo, parents) {\r\n                if (parents.length === groupIndex + 1) {\r\n                    groupInfo.isExpanded = isExpanded\r\n                }\r\n            }\r\n            for (groupIndex = 0; groupIndex < oldGroups.length; groupIndex++) {\r\n                isExpanded = isGroupExpanded(group, groupIndex);\r\n                if (isGroupExpanded(that._group, groupIndex) !== isExpanded) {\r\n                    that.foreachGroups(handleGroup)\r\n                }\r\n            }\r\n            that.callBase.apply(this, arguments);\r\n            if (group && options.remoteOperations.paging && operationTypes.reload) {\r\n                return foreachExpandedGroups(that, function(groupInfo) {\r\n                    var groupCountQuery = loadGroupTotalCount(dataSource, {\r\n                        filter: (0, _uiData_grid2.createGroupFilter)(groupInfo.path, {\r\n                            filter: storeLoadOptions.filter,\r\n                            group: group\r\n                        }),\r\n                        group: group.slice(groupInfo.path.length),\r\n                        select: storeLoadOptions.select\r\n                    });\r\n                    var groupOffsetQuery = loadGroupTotalCount(dataSource, {\r\n                        filter: (0, _uiData_gridGrouping.createOffsetFilter)(groupInfo.path, {\r\n                            filter: storeLoadOptions.filter,\r\n                            group: group\r\n                        }),\r\n                        group: group.slice(groupInfo.path.length - 1, groupInfo.path.length),\r\n                        select: storeLoadOptions.select\r\n                    });\r\n                    return (0, _deferred.when)(groupOffsetQuery, groupCountQuery).done(function(offset, count) {\r\n                        offset = parseInt(offset.length ? offset[0] : offset);\r\n                        count = parseInt(count.length ? count[0] : count);\r\n                        groupInfo.offset = offset;\r\n                        if (groupInfo.count !== count) {\r\n                            groupInfo.count = count;\r\n                            that.updateTotalItemsCount(options)\r\n                        }\r\n                    })\r\n                }, true)\r\n            }\r\n        }\r\n    }\r\n}());\r\nexports.GroupingHelper = GroupingHelper;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.master_detail.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.master_detail\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"masterDetail\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.master_detail.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar MASTER_DETAIL_CELL_CLASS = \"dx-master-detail-cell\";\r\nvar MASTER_DETAIL_ROW_CLASS = \"dx-master-detail-row\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar ROW_LINES_CLASS = \"dx-row-lines\";\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            masterDetail: {\r\n                enabled: false,\r\n                autoExpandAll: false,\r\n                template: null\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            columns: {\r\n                _getExpandColumnsCore: function() {\r\n                    var expandColumns = this.callBase();\r\n                    if (this.option(\"masterDetail.enabled\")) {\r\n                        expandColumns.push({\r\n                            type: \"detailExpand\",\r\n                            cellTemplate: _uiGrid_core.default.getExpandCellTemplate()\r\n                        })\r\n                    }\r\n                    return expandColumns\r\n                }\r\n            },\r\n            data: function() {\r\n                var initMasterDetail = function(that) {\r\n                    that._expandedItems = [];\r\n                    that._isExpandAll = that.option(\"masterDetail.autoExpandAll\")\r\n                };\r\n                return {\r\n                    init: function() {\r\n                        var that = this;\r\n                        initMasterDetail(that);\r\n                        that.callBase()\r\n                    },\r\n                    expandAll: function(groupIndex) {\r\n                        var that = this;\r\n                        if (groupIndex < 0) {\r\n                            that._isExpandAll = true;\r\n                            that._expandedItems = [];\r\n                            that.updateItems()\r\n                        } else {\r\n                            that.callBase.apply(that, arguments)\r\n                        }\r\n                    },\r\n                    collapseAll: function(groupIndex) {\r\n                        var that = this;\r\n                        if (groupIndex < 0) {\r\n                            that._isExpandAll = false;\r\n                            that._expandedItems = [];\r\n                            that.updateItems()\r\n                        } else {\r\n                            that.callBase.apply(that, arguments)\r\n                        }\r\n                    },\r\n                    isRowExpanded: function(key) {\r\n                        var that = this;\r\n                        var expandIndex = _uiGrid_core.default.getIndexByKey(key, that._expandedItems);\r\n                        if (Array.isArray(key)) {\r\n                            return that.callBase.apply(that, arguments)\r\n                        } else {\r\n                            return !!(that._isExpandAll ^ (expandIndex >= 0 && that._expandedItems[expandIndex].visible))\r\n                        }\r\n                    },\r\n                    _getRowIndicesForExpand: function(key) {\r\n                        var rowIndex = this.getRowIndexByKey(key);\r\n                        return [rowIndex, rowIndex + 1]\r\n                    },\r\n                    _changeRowExpandCore: function(key) {\r\n                        var that = this;\r\n                        var result;\r\n                        if (Array.isArray(key)) {\r\n                            result = that.callBase.apply(that, arguments)\r\n                        } else {\r\n                            var expandIndex = _uiGrid_core.default.getIndexByKey(key, that._expandedItems);\r\n                            if (expandIndex >= 0) {\r\n                                var visible = that._expandedItems[expandIndex].visible;\r\n                                that._expandedItems[expandIndex].visible = !visible\r\n                            } else {\r\n                                that._expandedItems.push({\r\n                                    key: key,\r\n                                    visible: true\r\n                                })\r\n                            }\r\n                            that.updateItems({\r\n                                changeType: \"update\",\r\n                                rowIndices: that._getRowIndicesForExpand(key)\r\n                            });\r\n                            result = (new _deferred.Deferred).resolve()\r\n                        }\r\n                        return result\r\n                    },\r\n                    _processDataItem: function(data, options) {\r\n                        var that = this;\r\n                        var dataItem = that.callBase.apply(that, arguments);\r\n                        dataItem.isExpanded = that.isRowExpanded(dataItem.key);\r\n                        if (void 0 === options.detailColumnIndex) {\r\n                            options.detailColumnIndex = -1;\r\n                            (0, _iterator.each)(options.visibleColumns, function(index, column) {\r\n                                if (\"expand\" === column.command && !(0, _type.isDefined)(column.groupIndex)) {\r\n                                    options.detailColumnIndex = index;\r\n                                    return false\r\n                                }\r\n                            })\r\n                        }\r\n                        if (options.detailColumnIndex >= 0) {\r\n                            dataItem.values[options.detailColumnIndex] = dataItem.isExpanded\r\n                        }\r\n                        return dataItem\r\n                    },\r\n                    _processItems: function(items, change) {\r\n                        var that = this;\r\n                        var changeType = change.changeType;\r\n                        var result = [];\r\n                        items = that.callBase.apply(that, arguments);\r\n                        if (\"loadingAll\" === changeType) {\r\n                            return items\r\n                        }\r\n                        if (\"refresh\" === changeType) {\r\n                            that._expandedItems = (0, _common.grep)(that._expandedItems, function(item) {\r\n                                return item.visible\r\n                            })\r\n                        }(0, _iterator.each)(items, function(index, item) {\r\n                            result.push(item);\r\n                            var expandIndex = _uiGrid_core.default.getIndexByKey(item.key, that._expandedItems);\r\n                            if (\"data\" === item.rowType && (item.isExpanded || expandIndex >= 0) && !item.isNewRow) {\r\n                                result.push({\r\n                                    visible: item.isExpanded,\r\n                                    rowType: \"detail\",\r\n                                    key: item.key,\r\n                                    data: item.data,\r\n                                    values: []\r\n                                })\r\n                            }\r\n                        });\r\n                        return result\r\n                    },\r\n                    optionChanged: function(args) {\r\n                        var that = this;\r\n                        var isEnabledChanged;\r\n                        var isAutoExpandAllChanged;\r\n                        if (\"masterDetail\" === args.name) {\r\n                            args.name = \"dataSource\";\r\n                            switch (args.fullName) {\r\n                                case \"masterDetail\":\r\n                                    var value = args.value || {};\r\n                                    var previousValue = args.previousValue || {};\r\n                                    isEnabledChanged = value.enabled !== previousValue.enabled;\r\n                                    isAutoExpandAllChanged = value.autoExpandAll !== previousValue.autoExpandAll;\r\n                                    break;\r\n                                case \"masterDetail.enabled\":\r\n                                    isEnabledChanged = true;\r\n                                    break;\r\n                                case \"masterDetail.autoExpandAll\":\r\n                                    isAutoExpandAllChanged = true\r\n                            }\r\n                            if (isEnabledChanged || isAutoExpandAllChanged) {\r\n                                initMasterDetail(that)\r\n                            }\r\n                        }\r\n                        that.callBase(args)\r\n                    }\r\n                }\r\n            }(),\r\n            resizing: {\r\n                fireContentReadyAction: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    this._updateParentDataGrids(this.component.$element())\r\n                },\r\n                _updateParentDataGrids: function($element) {\r\n                    var _this = this;\r\n                    var $masterDetailRow = $element.closest(\".\" + MASTER_DETAIL_ROW_CLASS);\r\n                    if ($masterDetailRow.length) {\r\n                        (0, _deferred.when)(this._updateMasterDataGrid($masterDetailRow, $element)).done(function() {\r\n                            _this._updateParentDataGrids($masterDetailRow.parent())\r\n                        })\r\n                    }\r\n                },\r\n                _updateMasterDataGrid: function($masterDetailRow, $detailElement) {\r\n                    var masterRowOptions = (0, _renderer.default)($masterDetailRow).data(\"options\");\r\n                    var masterDataGrid = (0, _renderer.default)($masterDetailRow).closest(\".\" + this.getWidgetContainerClass()).parent().data(\"dxDataGrid\");\r\n                    if (masterRowOptions && masterDataGrid) {\r\n                        if (masterDataGrid.getView(\"rowsView\").isFixedColumns()) {\r\n                            this._updateFixedMasterDetailGrids(masterDataGrid, masterRowOptions.rowIndex, $detailElement)\r\n                        } else {\r\n                            var scrollable = masterDataGrid.getScrollable();\r\n                            return scrollable && scrollable.update()\r\n                        }\r\n                    }\r\n                },\r\n                _updateFixedMasterDetailGrids: function(masterDataGrid, masterRowIndex, $detailElement) {\r\n                    var _this2 = this;\r\n                    var $rows = (0, _renderer.default)(masterDataGrid.getRowElement(masterRowIndex));\r\n                    if ($rows && 2 === $rows.length && $rows.eq(0).height() !== $rows.eq(1).height()) {\r\n                        var detailElementWidth = $detailElement.width();\r\n                        return masterDataGrid.updateDimensions().done(function() {\r\n                            var isDetailHorizontalScrollCanBeShown = _this2.option(\"columnAutoWidth\") && true === masterDataGrid.option(\"scrolling.useNative\");\r\n                            var isDetailGridWidthChanged = isDetailHorizontalScrollCanBeShown && detailElementWidth !== $detailElement.width();\r\n                            if (isDetailHorizontalScrollCanBeShown && isDetailGridWidthChanged) {\r\n                                _this2.updateDimensions()\r\n                            }\r\n                        })\r\n                    }\r\n                },\r\n                _toggleBestFitMode: function(isBestFit) {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (this.option(\"masterDetail.template\")) {\r\n                        var $rowsTable = this._rowsView._getTableElement();\r\n                        if ($rowsTable) {\r\n                            $rowsTable.find(\".dx-master-detail-cell\").toggleClass(\"dx-hidden\", isBestFit)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: function() {\r\n                return {\r\n                    _getCellTemplate: function(options) {\r\n                        var that = this;\r\n                        var column = options.column;\r\n                        var editingController = that.getController(\"editing\");\r\n                        var isEditRow = editingController && editingController.isEditRow(options.rowIndex);\r\n                        var template;\r\n                        if (\"detail\" === column.command && !isEditRow) {\r\n                            template = that.option(\"masterDetail.template\") || {\r\n                                allowRenderToDetachedContainer: false,\r\n                                render: that._getDefaultTemplate(column)\r\n                            }\r\n                        } else {\r\n                            template = that.callBase.apply(that, arguments)\r\n                        }\r\n                        return template\r\n                    },\r\n                    _isDetailRow: function(row) {\r\n                        return row && row.rowType && 0 === row.rowType.indexOf(\"detail\")\r\n                    },\r\n                    _createRow: function(row) {\r\n                        var $row = this.callBase(row);\r\n                        if (row && this._isDetailRow(row)) {\r\n                            this.option(\"showRowLines\") && $row.addClass(ROW_LINES_CLASS);\r\n                            $row.addClass(MASTER_DETAIL_ROW_CLASS);\r\n                            if ((0, _type.isDefined)(row.visible)) {\r\n                                $row.toggle(row.visible)\r\n                            }\r\n                        }\r\n                        return $row\r\n                    },\r\n                    _renderCells: function($row, options) {\r\n                        var row = options.row;\r\n                        var $detailCell;\r\n                        var visibleColumns = this._columnsController.getVisibleColumns();\r\n                        if (row.rowType && this._isDetailRow(row)) {\r\n                            if (this._needRenderCell(0, options.columnIndices)) {\r\n                                $detailCell = this._renderCell($row, {\r\n                                    value: null,\r\n                                    row: row,\r\n                                    rowIndex: row.rowIndex,\r\n                                    column: {\r\n                                        command: \"detail\"\r\n                                    },\r\n                                    columnIndex: 0\r\n                                });\r\n                                $detailCell.addClass(CELL_FOCUS_DISABLED_CLASS).addClass(MASTER_DETAIL_CELL_CLASS).attr(\"colSpan\", visibleColumns.length)\r\n                            }\r\n                        } else {\r\n                            this.callBase.apply(this, arguments)\r\n                        }\r\n                    }\r\n                }\r\n            }()\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.editing.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nrequire(\"./ui.data_grid.editor_factory\");\r\nvar _uiData_grid2 = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.editing\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid2.default.registerModule(\"editing\", (0, _extend.extend)(true, {}, _uiGrid_core.default, {\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                _changeRowExpandCore: function(key) {\r\n                    var editingController = this._editingController;\r\n                    if (Array.isArray(key)) {\r\n                        editingController && editingController.refresh()\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                }\r\n            }\r\n        }\r\n    }\r\n}));\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.editor_factory.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.editor_factory\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"editorFactory\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.editor_factory.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _dom_adapter = _interopRequireDefault(require(\"../../core/dom_adapter\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _click = require(\"../../events/click\");\r\nvar _pointer = _interopRequireDefault(require(\"../../events/pointer\"));\r\nvar _position = _interopRequireDefault(require(\"../../animation/position\"));\r\nvar _index = require(\"../../events/utils/index\");\r\nvar _browser = _interopRequireDefault(require(\"../../core/utils/browser\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _position2 = require(\"../../core/utils/position\");\r\nvar _ui = _interopRequireDefault(require(\"../shared/ui.editor_factory_mixin\"));\r\nvar _uiGrid_core2 = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar EDITOR_INLINE_BLOCK = \"dx-editor-inline-block\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar FOCUS_OVERLAY_CLASS = \"focus-overlay\";\r\nvar CONTENT_CLASS = \"content\";\r\nvar FOCUSED_ELEMENT_CLASS = \"dx-focused\";\r\nvar ROW_CLASS = \"dx-row\";\r\nvar MODULE_NAMESPACE = \"dxDataGridEditorFactory\";\r\nvar UPDATE_FOCUS_EVENTS = (0, _index.addNamespace)([_pointer.default.down, \"focusin\", _click.name].join(\" \"), MODULE_NAMESPACE);\r\nvar DX_HIDDEN = \"dx-hidden\";\r\nvar EditorFactory = _uiGrid_core.default.ViewController.inherit({\r\n    _getFocusedElement: function($dataGridElement) {\r\n        var rowSelector = this.option(\"focusedRowEnabled\") ? \"tr[tabindex]:focus\" : \"tr[tabindex]:not(.dx-data-row):focus\";\r\n        var focusedElementSelector = \"td[tabindex]:focus, \".concat(rowSelector, \", input:focus, textarea:focus, .dx-lookup-field:focus, .dx-checkbox:focus, .dx-switch:focus, .dx-dropdownbutton:focus\");\r\n        return $dataGridElement.find(focusedElementSelector)\r\n    },\r\n    _getFocusCellSelector: function() {\r\n        return \".dx-row > td\"\r\n    },\r\n    _updateFocusCore: function() {\r\n        var $focus = this._$focusedElement;\r\n        var $dataGridElement = this.component && this.component.$element();\r\n        var $focusCell;\r\n        var hideBorders;\r\n        if ($dataGridElement) {\r\n            $focus = this._getFocusedElement($dataGridElement);\r\n            if ($focus.length) {\r\n                if (!$focus.hasClass(CELL_FOCUS_DISABLED_CLASS) && !$focus.hasClass(ROW_CLASS)) {\r\n                    $focusCell = $focus.closest(this._getFocusCellSelector() + \", .\" + CELL_FOCUS_DISABLED_CLASS);\r\n                    hideBorders = $focusCell.get(0) !== $focus.get(0) && $focusCell.hasClass(EDITOR_INLINE_BLOCK);\r\n                    $focus = $focusCell\r\n                }\r\n                if ($focus.length && !$focus.hasClass(CELL_FOCUS_DISABLED_CLASS)) {\r\n                    this.focus($focus, hideBorders);\r\n                    return\r\n                }\r\n            }\r\n        }\r\n        this.loseFocus()\r\n    },\r\n    _updateFocus: function(e) {\r\n        var that = this;\r\n        var isFocusOverlay = e && e.event && (0, _renderer.default)(e.event.target).hasClass(that.addWidgetPrefix(FOCUS_OVERLAY_CLASS));\r\n        that._isFocusOverlay = that._isFocusOverlay || isFocusOverlay;\r\n        clearTimeout(that._updateFocusTimeoutID);\r\n        that._updateFocusTimeoutID = setTimeout(function() {\r\n            delete that._updateFocusTimeoutID;\r\n            if (!that._isFocusOverlay) {\r\n                that._updateFocusCore()\r\n            }\r\n            that._isFocusOverlay = false\r\n        })\r\n    },\r\n    _updateFocusOverlaySize: function($element, position) {\r\n        $element.hide();\r\n        var location = _position.default.calculate($element, (0, _extend.extend)({\r\n            collision: \"fit\"\r\n        }, position));\r\n        if (location.h.oversize > 0) {\r\n            $element.outerWidth($element.outerWidth() - location.h.oversize)\r\n        }\r\n        if (location.v.oversize > 0) {\r\n            $element.outerHeight($element.outerHeight() - location.v.oversize)\r\n        }\r\n        $element.show()\r\n    },\r\n    callbackNames: function() {\r\n        return [\"focused\"]\r\n    },\r\n    focus: function($element, hideBorder) {\r\n        var that = this;\r\n        if (void 0 === $element) {\r\n            return that._$focusedElement\r\n        } else {\r\n            if ($element) {\r\n                if (!$element.is(that._$focusedElement)) {\r\n                    that._$focusedElement && that._$focusedElement.removeClass(FOCUSED_ELEMENT_CLASS)\r\n                }\r\n                that._$focusedElement = $element;\r\n                clearTimeout(that._focusTimeoutID);\r\n                that._focusTimeoutID = setTimeout(function() {\r\n                    delete that._focusTimeoutID;\r\n                    that.renderFocusOverlay($element, hideBorder);\r\n                    $element.addClass(FOCUSED_ELEMENT_CLASS);\r\n                    that.focused.fire($element)\r\n                })\r\n            }\r\n        }\r\n    },\r\n    refocus: function() {\r\n        var $focus = this.focus();\r\n        this.focus($focus)\r\n    },\r\n    renderFocusOverlay: function($element, hideBorder) {\r\n        var that = this;\r\n        if (!_uiGrid_core2.default.isElementInCurrentGrid(this, $element)) {\r\n            return\r\n        }\r\n        if (!that._$focusOverlay) {\r\n            that._$focusOverlay = (0, _renderer.default)(\"<div>\").addClass(that.addWidgetPrefix(FOCUS_OVERLAY_CLASS))\r\n        }\r\n        if (hideBorder) {\r\n            that._$focusOverlay.addClass(DX_HIDDEN)\r\n        } else {\r\n            if ($element.length) {\r\n                var align = _browser.default.msie ? \"left bottom\" : _browser.default.mozilla ? \"right bottom\" : \"left top\";\r\n                var $content = $element.closest(\".\" + that.addWidgetPrefix(CONTENT_CLASS));\r\n                var elemCoord = (0, _position2.getBoundingRect)($element.get(0));\r\n                that._$focusOverlay.removeClass(DX_HIDDEN).appendTo($content).outerWidth(elemCoord.right - elemCoord.left + 1).outerHeight(elemCoord.bottom - elemCoord.top + 1);\r\n                var focusOverlayPosition = {\r\n                    precise: true,\r\n                    my: align,\r\n                    at: align,\r\n                    of: $element,\r\n                    boundary: $content.length && $content\r\n                };\r\n                that._updateFocusOverlaySize(that._$focusOverlay, focusOverlayPosition);\r\n                _position.default.setup(that._$focusOverlay, focusOverlayPosition);\r\n                that._$focusOverlay.css(\"visibility\", \"visible\")\r\n            }\r\n        }\r\n    },\r\n    resize: function() {\r\n        var $focusedElement = this._$focusedElement;\r\n        if ($focusedElement) {\r\n            this.focus($focusedElement)\r\n        }\r\n    },\r\n    loseFocus: function() {\r\n        this._$focusedElement && this._$focusedElement.removeClass(FOCUSED_ELEMENT_CLASS);\r\n        this._$focusedElement = null;\r\n        this._$focusOverlay && this._$focusOverlay.addClass(DX_HIDDEN)\r\n    },\r\n    init: function() {\r\n        this.createAction(\"onEditorPreparing\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"],\r\n            category: \"rendering\"\r\n        });\r\n        this.createAction(\"onEditorPrepared\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"],\r\n            category: \"rendering\"\r\n        });\r\n        this._updateFocusHandler = this._updateFocusHandler || this.createAction(this._updateFocus.bind(this));\r\n        _events_engine.default.on(_dom_adapter.default.getDocument(), UPDATE_FOCUS_EVENTS, this._updateFocusHandler);\r\n        this._attachContainerEventHandlers()\r\n    },\r\n    _attachContainerEventHandlers: function() {\r\n        var that = this;\r\n        var $container = that.component && that.component.$element();\r\n        if ($container) {\r\n            _events_engine.default.on($container, (0, _index.addNamespace)(\"keydown\", MODULE_NAMESPACE), function(e) {\r\n                if (\"tab\" === (0, _index.normalizeKeyName)(e)) {\r\n                    that._updateFocusHandler(e)\r\n                }\r\n            })\r\n        }\r\n    },\r\n    dispose: function() {\r\n        clearTimeout(this._focusTimeoutID);\r\n        clearTimeout(this._updateFocusTimeoutID);\r\n        _events_engine.default.off(_dom_adapter.default.getDocument(), UPDATE_FOCUS_EVENTS, this._updateFocusHandler)\r\n    }\r\n}).include(_ui.default);\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {}\r\n    },\r\n    controllers: {\r\n        editorFactory: EditorFactory\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.editing.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _dom_adapter = _interopRequireDefault(require(\"../../core/dom_adapter\"));\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _guid = _interopRequireDefault(require(\"../../core/guid\"));\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _click = require(\"../../events/click\");\r\nvar _double_click = require(\"../../events/double_click\");\r\nvar _pointer = _interopRequireDefault(require(\"../../events/pointer\"));\r\nvar _uiGrid_core2 = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\nvar _array_utils = require(\"../../data/array_utils\");\r\nvar _index = require(\"../../events/utils/index\");\r\nvar _dialog = require(\"../dialog\");\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _button = _interopRequireDefault(require(\"../button\"));\r\nvar _popup = _interopRequireDefault(require(\"../popup\"));\r\nvar _devices = _interopRequireDefault(require(\"../../core/devices\"));\r\nvar _form = _interopRequireDefault(require(\"../form\"));\r\nvar _hold = _interopRequireDefault(require(\"../../events/hold\"));\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar iconUtils = _interopRequireWildcard(require(\"../../core/utils/icon\"));\r\nvar _ui = _interopRequireDefault(require(\"../scroll_view/ui.scrollable\"));\r\n\r\nfunction _getRequireWildcardCache() {\r\n    if (\"function\" !== typeof WeakMap) {\r\n        return null\r\n    }\r\n    var cache = new WeakMap;\r\n    _getRequireWildcardCache = function() {\r\n        return cache\r\n    };\r\n    return cache\r\n}\r\n\r\nfunction _interopRequireWildcard(obj) {\r\n    if (obj && obj.__esModule) {\r\n        return obj\r\n    }\r\n    if (null === obj || \"object\" !== _typeof(obj) && \"function\" !== typeof obj) {\r\n        return {\r\n            \"default\": obj\r\n        }\r\n    }\r\n    var cache = _getRequireWildcardCache();\r\n    if (cache && cache.has(obj)) {\r\n        return cache.get(obj)\r\n    }\r\n    var newObj = {};\r\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\r\n    for (var key in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\r\n            if (desc && (desc.get || desc.set)) {\r\n                Object.defineProperty(newObj, key, desc)\r\n            } else {\r\n                newObj[key] = obj[key]\r\n            }\r\n        }\r\n    }\r\n    newObj.default = obj;\r\n    if (cache) {\r\n        cache.set(obj, newObj)\r\n    }\r\n    return newObj\r\n}\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction ownKeys(object, enumerableOnly) {\r\n    var keys = Object.keys(object);\r\n    if (Object.getOwnPropertySymbols) {\r\n        var symbols = Object.getOwnPropertySymbols(object);\r\n        if (enumerableOnly) {\r\n            symbols = symbols.filter(function(sym) {\r\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\r\n            })\r\n        }\r\n        keys.push.apply(keys, symbols)\r\n    }\r\n    return keys\r\n}\r\n\r\nfunction _objectSpread(target) {\r\n    for (var i = 1; i < arguments.length; i++) {\r\n        var source = null != arguments[i] ? arguments[i] : {};\r\n        if (i % 2) {\r\n            ownKeys(Object(source), true).forEach(function(key) {\r\n                _defineProperty(target, key, source[key])\r\n            })\r\n        } else {\r\n            if (Object.getOwnPropertyDescriptors) {\r\n                Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\r\n            } else {\r\n                ownKeys(Object(source)).forEach(function(key) {\r\n                    Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\r\n                })\r\n            }\r\n        }\r\n    }\r\n    return target\r\n}\r\n\r\nfunction _defineProperty(obj, key, value) {\r\n    if (key in obj) {\r\n        Object.defineProperty(obj, key, {\r\n            value: value,\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true\r\n        })\r\n    } else {\r\n        obj[key] = value\r\n    }\r\n    return obj\r\n}\r\n\r\nfunction _toConsumableArray(arr) {\r\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread()\r\n}\r\n\r\nfunction _nonIterableSpread() {\r\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")\r\n}\r\n\r\nfunction _unsupportedIterableToArray(o, minLen) {\r\n    if (!o) {\r\n        return\r\n    }\r\n    if (\"string\" === typeof o) {\r\n        return _arrayLikeToArray(o, minLen)\r\n    }\r\n    var n = Object.prototype.toString.call(o).slice(8, -1);\r\n    if (\"Object\" === n && o.constructor) {\r\n        n = o.constructor.name\r\n    }\r\n    if (\"Map\" === n || \"Set\" === n) {\r\n        return Array.from(o)\r\n    }\r\n    if (\"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) {\r\n        return _arrayLikeToArray(o, minLen)\r\n    }\r\n}\r\n\r\nfunction _iterableToArray(iter) {\r\n    if (\"undefined\" !== typeof Symbol && Symbol.iterator in Object(iter)) {\r\n        return Array.from(iter)\r\n    }\r\n}\r\n\r\nfunction _arrayWithoutHoles(arr) {\r\n    if (Array.isArray(arr)) {\r\n        return _arrayLikeToArray(arr)\r\n    }\r\n}\r\n\r\nfunction _arrayLikeToArray(arr, len) {\r\n    if (null == len || len > arr.length) {\r\n        len = arr.length\r\n    }\r\n    for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n        arr2[i] = arr[i]\r\n    }\r\n    return arr2\r\n}\r\nvar EDIT_FORM_CLASS = \"edit-form\";\r\nvar EDIT_FORM_ITEM_CLASS = \"edit-form-item\";\r\nvar FOCUS_OVERLAY_CLASS = \"focus-overlay\";\r\nvar READONLY_CLASS = \"readonly\";\r\nvar EDIT_POPUP_CLASS = \"edit-popup\";\r\nvar FORM_BUTTONS_CONTAINER_CLASS = \"form-buttons-container\";\r\nvar ADD_ROW_BUTTON_CLASS = \"addrow-button\";\r\nvar DROPDOWN_EDITOR_OVERLAY_CLASS = \"dx-dropdowneditor-overlay\";\r\nvar LINK_CLASS = \"dx-link\";\r\nvar EDITOR_CELL_CLASS = \"dx-editor-cell\";\r\nvar ROW_SELECTED = \"dx-selection\";\r\nvar EDIT_ROW = \"dx-edit-row\";\r\nvar EDIT_BUTTON_CLASS = \"dx-edit-button\";\r\nvar COMMAND_EDIT_CLASS = \"dx-command-edit\";\r\nvar COMMAND_EDIT_WITH_ICONS_CLASS = COMMAND_EDIT_CLASS + \"-with-icons\";\r\nvar SCROLLABLE_CONTAINER_CLASS = \"dx-scrollable-container\";\r\nvar BUTTON_CLASS = \"dx-button\";\r\nvar INSERT_INDEX = \"__DX_INSERT_INDEX__\";\r\nvar ROW_CLASS = \"dx-row\";\r\nvar ROW_REMOVED = \"dx-row-removed\";\r\nvar ROW_INSERTED = \"dx-row-inserted\";\r\nvar ROW_MODIFIED = \"dx-row-modified\";\r\nvar CELL_MODIFIED = \"dx-cell-modified\";\r\nvar EDITING_NAMESPACE = \"dxDataGridEditing\";\r\nvar DATA_ROW_CLASS = \"dx-data-row\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar EDITORS_INPUT_SELECTOR = \"input:not([type='hidden'])\";\r\nvar FOCUSABLE_ELEMENT_SELECTOR = \"[tabindex], \" + EDITORS_INPUT_SELECTOR;\r\nvar EDIT_MODE_BATCH = \"batch\";\r\nvar EDIT_MODE_ROW = \"row\";\r\nvar EDIT_MODE_CELL = \"cell\";\r\nvar EDIT_MODE_FORM = \"form\";\r\nvar EDIT_MODE_POPUP = \"popup\";\r\nvar DATA_EDIT_DATA_INSERT_TYPE = \"insert\";\r\nvar DATA_EDIT_DATA_UPDATE_TYPE = \"update\";\r\nvar DATA_EDIT_DATA_REMOVE_TYPE = \"remove\";\r\nvar DEFAULT_START_EDIT_ACTION = \"click\";\r\nvar EDIT_MODES = [EDIT_MODE_BATCH, EDIT_MODE_ROW, EDIT_MODE_CELL, EDIT_MODE_FORM, EDIT_MODE_POPUP];\r\nvar ROW_BASED_MODES = [EDIT_MODE_ROW, EDIT_MODE_FORM, EDIT_MODE_POPUP];\r\nvar CELL_BASED_MODES = [EDIT_MODE_BATCH, EDIT_MODE_CELL];\r\nvar FORM_BASED_MODES = [EDIT_MODE_FORM, EDIT_MODE_POPUP];\r\nvar MODES_WITH_DELAYED_FOCUS = [EDIT_MODE_ROW, EDIT_MODE_FORM];\r\nvar TARGET_COMPONENT_NAME = \"targetComponent\";\r\nvar EDIT_LINK_CLASS = {\r\n    save: \"dx-link-save\",\r\n    cancel: \"dx-link-cancel\",\r\n    edit: \"dx-link-edit\",\r\n    undelete: \"dx-link-undelete\",\r\n    \"delete\": \"dx-link-delete\",\r\n    add: \"dx-link-add\"\r\n};\r\nvar EDIT_ICON_CLASS = {\r\n    save: \"save\",\r\n    cancel: \"revert\",\r\n    edit: \"edit\",\r\n    undelete: \"revert\",\r\n    \"delete\": \"trash\",\r\n    add: \"add\"\r\n};\r\nvar METHOD_NAMES = {\r\n    edit: \"editRow\",\r\n    \"delete\": \"deleteRow\",\r\n    undelete: \"undeleteRow\",\r\n    save: \"saveEditData\",\r\n    cancel: \"cancelEditData\",\r\n    add: \"addRowByRowIndex\"\r\n};\r\nvar ACTION_OPTION_NAMES = {\r\n    add: \"allowAdding\",\r\n    edit: \"allowUpdating\",\r\n    \"delete\": \"allowDeleting\"\r\n};\r\nvar BUTTON_NAMES = [\"edit\", \"save\", \"cancel\", \"delete\", \"undelete\"];\r\nvar EDITING_POPUP_OPTION_NAME = \"editing.popup\";\r\nvar EDITING_CHANGES_OPTION_NAME = \"editing.changes\";\r\nvar EDITING_EDITROWKEY_OPTION_NAME = \"editing.editRowKey\";\r\nvar EDITING_EDITCOLUMNNAME_OPTION_NAME = \"editing.editColumnName\";\r\nvar createFailureHandler = function(deferred) {\r\n    return function(arg) {\r\n        var error = arg instanceof Error ? arg : new Error(arg && String(arg) || \"Unknown error\");\r\n        deferred.reject(error)\r\n    }\r\n};\r\nvar _getEditMode = function(that) {\r\n    var editMode = that.option(\"editing.mode\");\r\n    if (EDIT_MODES.indexOf(editMode) !== -1) {\r\n        return editMode\r\n    }\r\n    return EDIT_MODE_ROW\r\n};\r\nvar _isRowEditMode = function(that) {\r\n    var editMode = _getEditMode(that);\r\n    return ROW_BASED_MODES.indexOf(editMode) !== -1\r\n};\r\nvar isEditingCell = function(isEditRow, cellOptions) {\r\n    return cellOptions.isEditing || isEditRow && cellOptions.column.allowEditing\r\n};\r\nvar isEditingOrShowEditorAlwaysDataCell = function(isEditRow, cellOptions) {\r\n    var isCommandCell = !!cellOptions.column.command;\r\n    var isEditing = isEditingCell(isEditRow, cellOptions);\r\n    var isEditorCell = !isCommandCell && (isEditing || cellOptions.column.showEditorAlways);\r\n    return \"data\" === cellOptions.rowType && isEditorCell\r\n};\r\nvar EditingController = _uiGrid_core.default.ViewController.inherit(function() {\r\n    var getDefaultEditorTemplate = function(that) {\r\n        return function(container, options) {\r\n            var $editor = (0, _renderer.default)(\"<div>\").appendTo(container);\r\n            that.getController(\"editorFactory\").createEditor($editor, (0, _extend.extend)({}, options.column, {\r\n                value: options.value,\r\n                setValue: options.setValue,\r\n                row: options.row,\r\n                parentType: \"dataRow\",\r\n                width: null,\r\n                readOnly: !options.setValue,\r\n                isOnForm: options.isOnForm,\r\n                id: options.id\r\n            }))\r\n        }\r\n    };\r\n    var getEditingTexts = function(options) {\r\n        var editingTexts = options.component.option(\"editing.texts\") || {};\r\n        return {\r\n            save: editingTexts.saveRowChanges,\r\n            cancel: editingTexts.cancelRowChanges,\r\n            edit: editingTexts.editRow,\r\n            undelete: editingTexts.undeleteRow,\r\n            \"delete\": editingTexts.deleteRow,\r\n            add: editingTexts.addRowToNode\r\n        }\r\n    };\r\n    var getButtonIndex = function(buttons, name) {\r\n        var result = -1;\r\n        buttons.some(function(button, index) {\r\n            if (getButtonName(button) === name) {\r\n                result = index;\r\n                return true\r\n            }\r\n        });\r\n        return result\r\n    };\r\n\r\n    function getButtonName(button) {\r\n        return (0, _type.isObject)(button) ? button.name : button\r\n    }\r\n    var getEditorType = function(item) {\r\n        var column = item.column;\r\n        return item.isCustomEditorType ? item.editorType : column.formItem && column.formItem.editorType\r\n    };\r\n    var forEachFormItems = function forEachFormItems(items, callBack) {\r\n        items.forEach(function(item) {\r\n            if (item.items || item.tabs) {\r\n                forEachFormItems(item.items || item.tabs, callBack)\r\n            } else {\r\n                callBack(item)\r\n            }\r\n        })\r\n    };\r\n    return {\r\n        init: function() {\r\n            var that = this;\r\n            that._columnsController = that.getController(\"columns\");\r\n            that._dataController = that.getController(\"data\");\r\n            that._rowsView = that.getView(\"rowsView\");\r\n            that._editForm = null;\r\n            that._updateEditFormDeferred = null;\r\n            that._lastOperation = null;\r\n            if (that._deferreds) {\r\n                that._deferreds.forEach(function(d) {\r\n                    return d.reject(\"cancel\")\r\n                })\r\n            }\r\n            that._deferreds = [];\r\n            if (!that._dataChangedHandler) {\r\n                that._dataChangedHandler = that._handleDataChanged.bind(that);\r\n                that._dataController.changed.add(that._dataChangedHandler)\r\n            }\r\n            if (!that._saveEditorHandler) {\r\n                that.createAction(\"onInitNewRow\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                that.createAction(\"onRowInserting\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                that.createAction(\"onRowInserted\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                that.createAction(\"onEditingStart\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                that.createAction(\"onRowUpdating\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                that.createAction(\"onRowUpdated\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                that.createAction(\"onRowRemoving\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                that.createAction(\"onRowRemoved\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                that.createAction(\"onSaved\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                that.createAction(\"onSaving\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                that.createAction(\"onEditCanceling\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                that.createAction(\"onEditCanceled\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                var $pointerDownTarget;\r\n                var isResizing;\r\n                that._pointerUpEditorHandler = function() {\r\n                    var _that$getController;\r\n                    isResizing = null === (_that$getController = that.getController(\"columnsResizer\")) || void 0 === _that$getController ? void 0 : _that$getController.isResizing()\r\n                };\r\n                that._pointerDownEditorHandler = function(e) {\r\n                    return $pointerDownTarget = (0, _renderer.default)(e.target)\r\n                };\r\n                that._saveEditorHandler = that.createAction(function(e) {\r\n                    var event = e.event;\r\n                    var $target = (0, _renderer.default)(event.target);\r\n                    var targetComponent = event[TARGET_COMPONENT_NAME];\r\n                    if ($pointerDownTarget && $pointerDownTarget.is(\"input\") && !$pointerDownTarget.is($target)) {\r\n                        return\r\n                    }\r\n\r\n                    function checkEditorPopup($element) {\r\n                        return $element && !!$element.closest(\".\".concat(DROPDOWN_EDITOR_OVERLAY_CLASS)).length\r\n                    }\r\n                    if (!_isRowEditMode(that) && !that._editCellInProgress) {\r\n                        var isEditorPopup = checkEditorPopup($target) || checkEditorPopup(null === targetComponent || void 0 === targetComponent ? void 0 : targetComponent.$element());\r\n                        var isDomElement = !!$target.closest((0, _window.getWindow)().document).length;\r\n                        var isAnotherComponent = targetComponent && !targetComponent._disposed && targetComponent !== that.component;\r\n                        var isAddRowButton = !!$target.closest(\".\".concat(that.addWidgetPrefix(ADD_ROW_BUTTON_CLASS))).length;\r\n                        var isFocusOverlay = $target.hasClass(that.addWidgetPrefix(FOCUS_OVERLAY_CLASS));\r\n                        var isCellEditMode = _getEditMode(that) === EDIT_MODE_CELL;\r\n                        if (!isResizing && !isEditorPopup && !isFocusOverlay && !(isAddRowButton && isCellEditMode && that.isEditing()) && (isDomElement || isAnotherComponent)) {\r\n                            that._closeEditItem.bind(that)($target)\r\n                        }\r\n                    }\r\n                });\r\n                _events_engine.default.on(_dom_adapter.default.getDocument(), _pointer.default.up, that._pointerUpEditorHandler);\r\n                _events_engine.default.on(_dom_adapter.default.getDocument(), _pointer.default.down, that._pointerDownEditorHandler);\r\n                _events_engine.default.on(_dom_adapter.default.getDocument(), _click.name, that._saveEditorHandler)\r\n            }\r\n            that._updateEditColumn();\r\n            that._updateEditButtons();\r\n            if (!this._internalState) {\r\n                this._internalState = []\r\n            }\r\n            this.component._optionsByReference[EDITING_EDITROWKEY_OPTION_NAME] = true;\r\n            this.component._optionsByReference[EDITING_CHANGES_OPTION_NAME] = true\r\n        },\r\n        getChanges: function() {\r\n            return this.option(EDITING_CHANGES_OPTION_NAME)\r\n        },\r\n        resetChanges: function() {\r\n            var changes = this.getChanges();\r\n            var needReset = null === changes || void 0 === changes ? void 0 : changes.length;\r\n            if (needReset) {\r\n                this._silentOption(EDITING_CHANGES_OPTION_NAME, [])\r\n            }\r\n        },\r\n        _getInternalData: function(key) {\r\n            return this._internalState.filter(function(item) {\r\n                return item.key === key\r\n            })[0]\r\n        },\r\n        _addInternalData: function(params) {\r\n            var internalData = this._getInternalData(params.key);\r\n            if (internalData) {\r\n                return (0, _extend.extend)(internalData, params)\r\n            }\r\n            this._internalState.push(params);\r\n            return params\r\n        },\r\n        _getOldData: function(key) {\r\n            var _this$_getInternalDat;\r\n            return null === (_this$_getInternalDat = this._getInternalData(key)) || void 0 === _this$_getInternalDat ? void 0 : _this$_getInternalDat.oldData\r\n        },\r\n        getUpdatedData: function(data) {\r\n            var key = this._dataController.keyOf(data);\r\n            var changes = this.getChanges();\r\n            var editIndex = _uiGrid_core2.default.getIndexByKey(key, changes);\r\n            if (changes[editIndex]) {\r\n                return (0, _array_utils.createObjectWithChanges)(data, changes[editIndex].data)\r\n            }\r\n            return data\r\n        },\r\n        getInsertedData: function() {\r\n            return this.getChanges().filter(function(change) {\r\n                return change.data && change.type === DATA_EDIT_DATA_INSERT_TYPE\r\n            }).map(function(change) {\r\n                return change.data\r\n            })\r\n        },\r\n        getRemovedData: function() {\r\n            var _this = this;\r\n            return this.getChanges().filter(function(change) {\r\n                return _this._getOldData(change.key) && change.type === DATA_EDIT_DATA_REMOVE_TYPE\r\n            }).map(function(change) {\r\n                return _this._getOldData(change.key)\r\n            })\r\n        },\r\n        _fireDataErrorOccurred: function(arg) {\r\n            if (\"cancel\" === arg) {\r\n                return\r\n            }\r\n            var $popupContent = this.getPopupContent();\r\n            this._dataController.dataErrorOccurred.fire(arg, $popupContent)\r\n        },\r\n        _needToCloseEditableCell: function($targetElement) {\r\n            var $element = this.component.$element();\r\n            var result = this.isEditing();\r\n            var isCurrentComponentElement = !$element || !!$targetElement.closest($element).length;\r\n            if (isCurrentComponentElement) {\r\n                var isDataRow = $targetElement.closest(\".\" + DATA_ROW_CLASS).length;\r\n                if (isDataRow) {\r\n                    var rowsView = this.getView(\"rowsView\");\r\n                    var $targetCell = $targetElement.closest(\".\" + ROW_CLASS + \"> td\");\r\n                    var rowIndex = rowsView.getRowIndex($targetCell.parent());\r\n                    var columnIndex = rowsView.getCellElements(rowIndex).index($targetCell);\r\n                    var visibleColumns = this._columnsController.getVisibleColumns();\r\n                    var allowEditing = visibleColumns[columnIndex] && visibleColumns[columnIndex].allowEditing;\r\n                    result = result && !allowEditing && !this.isEditCell(rowIndex, columnIndex)\r\n                }\r\n            }\r\n            return result\r\n        },\r\n        _closeEditItem: function($targetElement) {\r\n            if (this._needToCloseEditableCell($targetElement)) {\r\n                this.closeEditCell()\r\n            }\r\n        },\r\n        _handleDataChanged: function(args) {\r\n            var editForm = this._editForm;\r\n            if (\"refresh\" === args.changeType && _getEditMode(this) === EDIT_MODE_POPUP && editForm && editForm.option(\"visible\")) {\r\n                this._repaintEditPopup()\r\n            }\r\n        },\r\n        _isDefaultButtonVisible: function(button, options) {\r\n            var result = true;\r\n            var isRowMode = _isRowEditMode(this);\r\n            var isBatchMode = _getEditMode(this) === EDIT_MODE_BATCH;\r\n            var isEditRow = options.row && options.row.rowIndex === this._getVisibleEditRowIndex() && isRowMode;\r\n            switch (button.name) {\r\n                case \"edit\":\r\n                    result = !isEditRow && this.allowUpdating(options) && isRowMode;\r\n                    break;\r\n                case \"save\":\r\n                case \"cancel\":\r\n                    result = isEditRow;\r\n                    break;\r\n                case \"delete\":\r\n                    result = !isEditRow && this.allowDeleting(options) && (!isBatchMode || !options.row.removed);\r\n                    break;\r\n                case \"undelete\":\r\n                    result = isBatchMode && this.allowDeleting(options) && options.row.removed\r\n            }\r\n            return result\r\n        },\r\n        _isButtonVisible: function(button, options) {\r\n            var visible = button.visible;\r\n            if (!(0, _type.isDefined)(visible)) {\r\n                return this._isDefaultButtonVisible(button, options)\r\n            }\r\n            return (0, _type.isFunction)(visible) ? visible.call(button, {\r\n                component: options.component,\r\n                row: options.row,\r\n                column: options.column\r\n            }) : visible\r\n        },\r\n        _getButtonConfig: function(button, options) {\r\n            var _this2 = this;\r\n            var config = (0, _type.isObject)(button) ? button : {};\r\n            var buttonName = getButtonName(button);\r\n            var editingTexts = getEditingTexts(options);\r\n            var methodName = METHOD_NAMES[buttonName];\r\n            var editingOptions = this.option(\"editing\");\r\n            var actionName = ACTION_OPTION_NAMES[buttonName];\r\n            var allowAction = actionName ? editingOptions[actionName] : true;\r\n            return (0, _extend.extend)({\r\n                name: buttonName,\r\n                text: editingTexts[buttonName],\r\n                cssClass: EDIT_LINK_CLASS[buttonName],\r\n                onClick: function(e) {\r\n                    var event = e.event;\r\n                    event.stopPropagation();\r\n                    event.preventDefault();\r\n                    setTimeout(function() {\r\n                        options.row && allowAction && _this2[methodName] && _this2[methodName](options.row.rowIndex)\r\n                    })\r\n                }\r\n            }, config)\r\n        },\r\n        _getEditingButtons: function(options) {\r\n            var _this3 = this;\r\n            var buttonIndex;\r\n            var haveCustomButtons = !!options.column.buttons;\r\n            var buttons = (options.column.buttons || []).slice();\r\n            if (haveCustomButtons) {\r\n                buttonIndex = getButtonIndex(buttons, \"edit\");\r\n                if (buttonIndex >= 0) {\r\n                    if (getButtonIndex(buttons, \"save\") < 0) {\r\n                        buttons.splice(buttonIndex + 1, 0, \"save\")\r\n                    }\r\n                    if (getButtonIndex(buttons, \"cancel\") < 0) {\r\n                        buttons.splice(getButtonIndex(buttons, \"save\") + 1, 0, \"cancel\")\r\n                    }\r\n                }\r\n                buttonIndex = getButtonIndex(buttons, \"delete\");\r\n                if (buttonIndex >= 0 && getButtonIndex(buttons, \"undelete\") < 0) {\r\n                    buttons.splice(buttonIndex + 1, 0, \"undelete\")\r\n                }\r\n            } else {\r\n                buttons = BUTTON_NAMES.slice()\r\n            }\r\n            return buttons.map(function(button) {\r\n                return _this3._getButtonConfig(button, options)\r\n            })\r\n        },\r\n        _renderEditingButtons: function($container, buttons, options) {\r\n            var _this4 = this;\r\n            buttons.forEach(function(button) {\r\n                if (_this4._isButtonVisible(button, options)) {\r\n                    _this4._createButton($container, button, options)\r\n                }\r\n            })\r\n        },\r\n        _getEditCommandCellTemplate: function() {\r\n            var _this5 = this;\r\n            return function(container, options) {\r\n                var $container = (0, _renderer.default)(container);\r\n                if (\"data\" === options.rowType) {\r\n                    var buttons = _this5._getEditingButtons(options);\r\n                    _this5._renderEditingButtons($container, buttons, options);\r\n                    options.watch && options.watch(function() {\r\n                        return buttons.map(function(button) {\r\n                            return _this5._isButtonVisible(button, options)\r\n                        })\r\n                    }, function() {\r\n                        $container.empty();\r\n                        _this5._renderEditingButtons($container, buttons, options)\r\n                    })\r\n                } else {\r\n                    _uiGrid_core2.default.setEmptyText($container)\r\n                }\r\n            }\r\n        },\r\n        isRowEditMode: function() {\r\n            return _isRowEditMode(this)\r\n        },\r\n        isFormEditMode: function() {\r\n            var editMode = _getEditMode(this);\r\n            return FORM_BASED_MODES.indexOf(editMode) !== -1\r\n        },\r\n        isCellOrBatchEditMode: function() {\r\n            var editMode = this.getEditMode();\r\n            return CELL_BASED_MODES.indexOf(editMode) !== -1\r\n        },\r\n        getEditMode: function() {\r\n            return _getEditMode(this)\r\n        },\r\n        getFirstEditableColumnIndex: function() {\r\n            var columnsController = this.getController(\"columns\");\r\n            var firstFormItem = this._firstFormItem;\r\n            var columnIndex;\r\n            if (_getEditMode(this) === EDIT_MODE_FORM && firstFormItem) {\r\n                var editRowKey = this.option(EDITING_EDITROWKEY_OPTION_NAME);\r\n                var editRowIndex = this._dataController.getRowIndexByKey(editRowKey);\r\n                var $editFormElements = this._rowsView.getCellElements(editRowIndex);\r\n                columnIndex = this._rowsView._getEditFormEditorVisibleIndex($editFormElements, firstFormItem.column)\r\n            } else {\r\n                var visibleColumns = columnsController.getVisibleColumns();\r\n                (0, _iterator.each)(visibleColumns, function(index, column) {\r\n                    if (column.allowEditing) {\r\n                        columnIndex = index;\r\n                        return false\r\n                    }\r\n                })\r\n            }\r\n            return columnIndex\r\n        },\r\n        getFirstEditableCellInRow: function(rowIndex) {\r\n            var rowsView = this.getView(\"rowsView\");\r\n            return rowsView && rowsView._getCellElement(rowIndex ? rowIndex : 0, this.getFirstEditableColumnIndex())\r\n        },\r\n        getFocusedCellInRow: function(rowIndex) {\r\n            return this.getFirstEditableCellInRow(rowIndex)\r\n        },\r\n        getIndexByKey: function(key, items) {\r\n            return _uiGrid_core2.default.getIndexByKey(key, items)\r\n        },\r\n        hasChanges: function(rowIndex) {\r\n            var changes = this.getChanges();\r\n            var result = false;\r\n            for (var i = 0; i < (null === changes || void 0 === changes ? void 0 : changes.length); i++) {\r\n                if (changes[i].type && (!(0, _type.isDefined)(rowIndex) || this._dataController.getRowIndexByKey(changes[i].key) === rowIndex)) {\r\n                    result = true;\r\n                    break\r\n                }\r\n            }\r\n            return result\r\n        },\r\n        dispose: function() {\r\n            this.callBase();\r\n            clearTimeout(this._inputFocusTimeoutID);\r\n            _events_engine.default.off(_dom_adapter.default.getDocument(), _pointer.default.up, this._pointerUpEditorHandler);\r\n            _events_engine.default.off(_dom_adapter.default.getDocument(), _pointer.default.down, this._pointerDownEditorHandler);\r\n            _events_engine.default.off(_dom_adapter.default.getDocument(), _click.name, this._saveEditorHandler)\r\n        },\r\n        optionChanged: function(args) {\r\n            if (\"editing\" === args.name) {\r\n                var fullName = args.fullName;\r\n                var editPopup = this._editPopup;\r\n                if (fullName && 0 === fullName.indexOf(EDITING_POPUP_OPTION_NAME)) {\r\n                    if (editPopup) {\r\n                        var popupOptionName = fullName.slice(EDITING_POPUP_OPTION_NAME.length + 1);\r\n                        if (popupOptionName) {\r\n                            editPopup.option(popupOptionName, args.value)\r\n                        } else {\r\n                            editPopup.option(args.value)\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (editPopup && editPopup.option(\"visible\") && 0 === fullName.indexOf(\"editing.form\")) {\r\n                        this._repaintEditPopup()\r\n                    } else {\r\n                        if (fullName === EDITING_EDITROWKEY_OPTION_NAME) {\r\n                            this._handleEditRowKeyChange(args)\r\n                        } else {\r\n                            if (fullName === EDITING_EDITCOLUMNNAME_OPTION_NAME) {\r\n                                this._handleEditColumnNameChange(args)\r\n                            } else {\r\n                                if (fullName === EDITING_CHANGES_OPTION_NAME) {\r\n                                    this._handleChangesChange(args)\r\n                                } else {\r\n                                    this.init();\r\n                                    this.resetChanges();\r\n                                    this._resetEditColumnName();\r\n                                    this._resetEditRowKey()\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                args.handled = true\r\n            } else {\r\n                this.callBase(args)\r\n            }\r\n        },\r\n        _handleEditRowKeyChange: function(args) {\r\n            var rowIndex = this._dataController.getRowIndexByKey(args.value);\r\n            var oldRowIndexCorrection = this._getEditRowIndexCorrection();\r\n            var oldRowIndex = this._dataController.getRowIndexByKey(args.previousValue) + oldRowIndexCorrection;\r\n            var columnIndex = this._getVisibleEditColumnIndex();\r\n            if (!this.isCellOrBatchEditMode()) {\r\n                if ((0, _type.isDefined)(args.value)) {\r\n                    if (args.value !== args.previousValue) {\r\n                        this._editRowFromOptionChanged(rowIndex, oldRowIndex)\r\n                    }\r\n                } else {\r\n                    this.cancelEditData()\r\n                }\r\n            } else {\r\n                if ((0, _type.isDefined)(args.value) && args.value !== args.previousValue) {\r\n                    this._editCellFromOptionChanged(columnIndex, columnIndex, oldRowIndex)\r\n                }\r\n            }\r\n        },\r\n        _handleEditColumnNameChange: function(args) {\r\n            var oldRowIndex = this._getVisibleEditRowIndex(args.previousValue);\r\n            if (this.isCellOrBatchEditMode() && oldRowIndex !== -1 && (0, _type.isDefined)(args.value) && args.value !== args.previousValue) {\r\n                var columnIndex = this._columnsController.getVisibleColumnIndex(args.value);\r\n                var oldColumnIndex = this._columnsController.getVisibleColumnIndex(args.previousValue);\r\n                this._editCellFromOptionChanged(columnIndex, oldColumnIndex, oldRowIndex)\r\n            }\r\n        },\r\n        _handleChangesChange: function(args) {\r\n            var dataController = this._dataController;\r\n            if (!args.value.length && !args.previousValue.length) {\r\n                return\r\n            }\r\n            dataController.updateItems({\r\n                repaintChangesOnly: true\r\n            })\r\n        },\r\n        _editCellFromOptionChanged: function(columnIndex, oldColumnIndex, oldRowIndex) {\r\n            var _this6 = this;\r\n            var columns = this._columnsController.getVisibleColumns();\r\n            if (columnIndex > -1) {\r\n                (0, _common.deferRender)(function() {\r\n                    _this6._repaintEditCell(columns[columnIndex], columns[oldColumnIndex], oldRowIndex)\r\n                })\r\n            }\r\n        },\r\n        publicMethods: function() {\r\n            return [\"addRow\", \"deleteRow\", \"undeleteRow\", \"editRow\", \"editCell\", \"closeEditCell\", \"saveEditData\", \"cancelEditData\", \"hasEditData\"]\r\n        },\r\n        refresh: function(isPageChanged) {\r\n            var editMode = _getEditMode(this);\r\n            var needResetIndexes = editMode === EDIT_MODE_BATCH || isPageChanged && \"virtual\" !== this.option(\"scrolling.mode\");\r\n            if (!(0, _type.isDefined)(this._pageIndex)) {\r\n                return\r\n            }\r\n            if (!this.isCellOrBatchEditMode()) {\r\n                this.resetChanges();\r\n                this.init();\r\n                if ((0, _type.isDefined)(this.option(EDITING_EDITROWKEY_OPTION_NAME))) {\r\n                    this._resetEditRowKey()\r\n                }\r\n            } else {\r\n                if (needResetIndexes) {\r\n                    this._resetEditColumnName();\r\n                    this._resetEditRowKey()\r\n                }\r\n            }\r\n        },\r\n        isEditing: function() {\r\n            var isEditRowKeyDefined = (0, _type.isDefined)(this.option(EDITING_EDITROWKEY_OPTION_NAME));\r\n            var isEditColumnNameDefined = (0, _type.isDefined)(this.option(EDITING_EDITCOLUMNNAME_OPTION_NAME));\r\n            if (this.isCellOrBatchEditMode()) {\r\n                return isEditRowKeyDefined && isEditColumnNameDefined\r\n            }\r\n            return isEditRowKeyDefined\r\n        },\r\n        isEditRow: function(rowIndex) {\r\n            var editMode = _getEditMode(this);\r\n            return this._getVisibleEditRowIndex() === rowIndex && ROW_BASED_MODES.indexOf(editMode) !== -1\r\n        },\r\n        _setEditRowKey: function(value, silent) {\r\n            if (silent) {\r\n                this._silentOption(EDITING_EDITROWKEY_OPTION_NAME, value)\r\n            } else {\r\n                this.option(EDITING_EDITROWKEY_OPTION_NAME, value)\r\n            }\r\n        },\r\n        _setEditRowKeyByIndex: function(rowIndex, silent) {\r\n            var key = this._dataController.getKeyByRowIndex(rowIndex);\r\n            if (void 0 === key) {\r\n                this._dataController.fireError(\"E1043\");\r\n                return\r\n            }\r\n            this._setEditRowKey(key, silent)\r\n        },\r\n        getEditRowIndex: function() {\r\n            return this._getVisibleEditRowIndex()\r\n        },\r\n        getEditFormRowIndex: function() {\r\n            var editMode = _getEditMode(this);\r\n            return editMode === EDIT_MODE_FORM || editMode === EDIT_MODE_POPUP ? this._getVisibleEditRowIndex() : -1\r\n        },\r\n        isEditCell: function(visibleRowIndex, columnIndex) {\r\n            return this._getVisibleEditRowIndex() === visibleRowIndex && this._getVisibleEditColumnIndex() === columnIndex\r\n        },\r\n        getPopupContent: function() {\r\n            var editMode = _getEditMode(this);\r\n            var popupVisible = this._editPopup && this._editPopup.option(\"visible\");\r\n            if (editMode === EDIT_MODE_POPUP && popupVisible) {\r\n                return this._$popupContent\r\n            }\r\n        },\r\n        getEditForm: function() {\r\n            return this._editForm\r\n        },\r\n        _needInsertItem: function(change, changeType) {\r\n            var that = this;\r\n            var dataSource = that._dataController.dataSource();\r\n            var scrollingMode = that.option(\"scrolling.mode\");\r\n            var pageIndex = dataSource.pageIndex();\r\n            var beginPageIndex = dataSource.beginPageIndex ? dataSource.beginPageIndex() : pageIndex;\r\n            var endPageIndex = dataSource.endPageIndex ? dataSource.endPageIndex() : pageIndex;\r\n            if (\"standard\" !== scrollingMode) {\r\n                switch (changeType) {\r\n                    case \"append\":\r\n                        return change.key.pageIndex === endPageIndex;\r\n                    case \"prepend\":\r\n                        return change.key.pageIndex === beginPageIndex;\r\n                    case \"refresh\":\r\n                        change.key.rowIndex = 0;\r\n                        change.key.dataRowIndex = 0;\r\n                        change.key.pageIndex = 0;\r\n                        break;\r\n                    default:\r\n                        return change.key.pageIndex >= beginPageIndex && change.key.pageIndex <= endPageIndex\r\n                }\r\n            }\r\n            return change.key.pageIndex === pageIndex\r\n        },\r\n        _generateNewItem: function(key) {\r\n            var item = {\r\n                key: key\r\n            };\r\n            if (key && key[INSERT_INDEX]) {\r\n                item[INSERT_INDEX] = key[INSERT_INDEX]\r\n            }\r\n            return item\r\n        },\r\n        _getLoadedRowIndexByInsertKey: function(items, change, key) {\r\n            var dataController = this._dataController;\r\n            var loadedRowIndexOffset = dataController.getRowIndexOffset(true);\r\n            var loadedRowIndex = key.dataRowIndex - loadedRowIndexOffset;\r\n            if (\"append\" === change.changeType) {\r\n                loadedRowIndex -= dataController.items(true).length;\r\n                if (change.removeCount) {\r\n                    loadedRowIndex += change.removeCount\r\n                }\r\n            }\r\n            for (var i = 0; i < loadedRowIndex; i++) {\r\n                if (items[i] && items[i][INSERT_INDEX]) {\r\n                    loadedRowIndex++\r\n                }\r\n            }\r\n            return loadedRowIndex\r\n        },\r\n        processItems: function(items, e) {\r\n            var _this7 = this;\r\n            var changeType = e.changeType;\r\n            this.update(changeType);\r\n            var changes = this.getChanges();\r\n            changes.forEach(function(change) {\r\n                var key = change.key;\r\n                if ((0, _type.isDefined)(key) && change.type === DATA_EDIT_DATA_INSERT_TYPE) {\r\n                    var loadedRowIndex = _this7._getLoadedRowIndexByInsertKey(items, e, key);\r\n                    var item = _this7._generateNewItem(key);\r\n                    if (loadedRowIndex >= 0 && _this7._needInsertItem(change, changeType, items, item)) {\r\n                        items.splice(key.dataRowIndex ? loadedRowIndex : 0, 0, item)\r\n                    }\r\n                }\r\n            });\r\n            return items\r\n        },\r\n        processDataItem: function(item, options, generateDataValues) {\r\n            var columns = options.visibleColumns;\r\n            var key = item.data[INSERT_INDEX] ? item.data.key : item.key;\r\n            var changes = this.getChanges();\r\n            var editIndex = _uiGrid_core2.default.getIndexByKey(key, changes);\r\n            item.isEditing = false;\r\n            if (editIndex >= 0) {\r\n                var editMode = _getEditMode(this);\r\n                var _changes$editIndex = changes[editIndex],\r\n                    data = _changes$editIndex.data,\r\n                    type = _changes$editIndex.type;\r\n                switch (type) {\r\n                    case DATA_EDIT_DATA_INSERT_TYPE:\r\n                        if (editMode === EDIT_MODE_POPUP) {\r\n                            item.visible = false\r\n                        }\r\n                        item.isNewRow = true;\r\n                        item.key = key;\r\n                        item.data = data;\r\n                        break;\r\n                    case DATA_EDIT_DATA_UPDATE_TYPE:\r\n                        item.modified = true;\r\n                        item.oldData = item.data;\r\n                        item.data = (0, _array_utils.createObjectWithChanges)(item.data, data);\r\n                        item.modifiedValues = generateDataValues(data, columns, true);\r\n                        break;\r\n                    case DATA_EDIT_DATA_REMOVE_TYPE:\r\n                        if (editMode === EDIT_MODE_BATCH) {\r\n                            item.data = (0, _array_utils.createObjectWithChanges)(item.data, data)\r\n                        }\r\n                        item.removed = true\r\n                }\r\n            }\r\n        },\r\n        _initNewRow: function(options) {\r\n            var _this8 = this;\r\n            this.executeAction(\"onInitNewRow\", options);\r\n            if (options.promise) {\r\n                var deferred = new _deferred.Deferred;\r\n                (0, _deferred.when)((0, _deferred.fromPromise)(options.promise)).done(deferred.resolve).fail(createFailureHandler(deferred)).fail(function(arg) {\r\n                    return _this8._fireDataErrorOccurred(arg)\r\n                });\r\n                return deferred\r\n            }\r\n        },\r\n        _getInsertKey: function(parentKey) {\r\n            var that = this;\r\n            var dataController = that._dataController;\r\n            var rows = dataController.items();\r\n            var editMode = _getEditMode(that);\r\n            var insertKey = {\r\n                parentKey: parentKey,\r\n                pageIndex: dataController.pageIndex(),\r\n                rowIndex: that._getInsertRowIndex(parentKey)\r\n            };\r\n            var row = rows[insertKey.rowIndex];\r\n            if (row && (!row.isEditing && \"detail\" === row.rowType || \"detailAdaptive\" === row.rowType)) {\r\n                insertKey.rowIndex++\r\n            }\r\n            insertKey.dataRowIndex = dataController.getRowIndexOffset() + rows.filter(function(row, index) {\r\n                return index < insertKey.rowIndex && (\"data\" === row.rowType && !row.isNewRow || \"group\" === row.rowType)\r\n            }).length;\r\n            if (editMode !== EDIT_MODE_BATCH) {\r\n                this._setEditRowKey(insertKey, true)\r\n            }\r\n            insertKey[INSERT_INDEX] = that._getInsertIndex();\r\n            return insertKey\r\n        },\r\n        _getInsertRowIndex: function(parentKey) {\r\n            var that = this;\r\n            var rowsView = that.getView(\"rowsView\");\r\n            var parentRowIndex = that._dataController.getRowIndexByKey(parentKey);\r\n            if (parentRowIndex >= 0) {\r\n                return parentRowIndex + 1\r\n            }\r\n            if (rowsView) {\r\n                return rowsView.getTopVisibleItemIndex(true)\r\n            }\r\n            return 0\r\n        },\r\n        _getInsertIndex: function() {\r\n            var maxInsertIndex = 0;\r\n            this.getChanges().forEach(function(editItem) {\r\n                if (editItem.type === DATA_EDIT_DATA_INSERT_TYPE && editItem.key[INSERT_INDEX] > maxInsertIndex) {\r\n                    maxInsertIndex = editItem.key[INSERT_INDEX]\r\n                }\r\n            });\r\n            return maxInsertIndex + 1\r\n        },\r\n        addRow: function(parentKey) {\r\n            var that = this;\r\n            var dataController = that._dataController;\r\n            var store = dataController.store();\r\n            var key = store && store.key();\r\n            var param = {\r\n                data: {}\r\n            };\r\n            var editMode = _getEditMode(that);\r\n            var oldEditRowIndex = that._getVisibleEditRowIndex();\r\n            var deferred = new _deferred.Deferred;\r\n            if (!store) {\r\n                dataController.fireError(\"E1052\", this.component.NAME);\r\n                return deferred.reject()\r\n            }\r\n            if (editMode === EDIT_MODE_CELL && that.hasChanges()) {\r\n                that.saveEditData().done(function() {\r\n                    if (!that.hasChanges()) {\r\n                        that.addRow(parentKey).done(deferred.resolve).fail(deferred.reject)\r\n                    } else {\r\n                        deferred.reject(\"cancel\")\r\n                    }\r\n                });\r\n                return deferred.promise()\r\n            }\r\n            that.refresh();\r\n            if (!that._allowRowAdding()) {\r\n                return deferred.reject(\"cancel\")\r\n            }\r\n            if (!key) {\r\n                param.data.__KEY__ = String(new _guid.default)\r\n            }(0, _deferred.when)(that._initNewRow(param, parentKey)).done(function() {\r\n                if (that._allowRowAdding()) {\r\n                    that._addRowCore(param.data, parentKey, oldEditRowIndex);\r\n                    deferred.resolve()\r\n                } else {\r\n                    deferred.reject(\"cancel\")\r\n                }\r\n            }).fail(deferred.reject);\r\n            return deferred.promise()\r\n        },\r\n        _allowRowAdding: function() {\r\n            var that = this;\r\n            var editMode = _getEditMode(that);\r\n            var insertIndex = that._getInsertIndex();\r\n            if (editMode !== EDIT_MODE_BATCH && insertIndex > 1) {\r\n                return false\r\n            }\r\n            return true\r\n        },\r\n        _addRowCore: function(data, parentKey, initialOldEditRowIndex) {\r\n            var that = this;\r\n            var oldEditRowIndex = that._getVisibleEditRowIndex();\r\n            var insertKey = that._getInsertKey(parentKey);\r\n            var editMode = _getEditMode(that);\r\n            that._addChange({\r\n                key: insertKey,\r\n                data: data,\r\n                type: DATA_EDIT_DATA_INSERT_TYPE\r\n            });\r\n            that._dataController.updateItems({\r\n                changeType: \"update\",\r\n                rowIndices: [initialOldEditRowIndex, oldEditRowIndex, insertKey.rowIndex]\r\n            });\r\n            if (editMode === EDIT_MODE_POPUP) {\r\n                that._showEditPopup(insertKey.rowIndex)\r\n            } else {\r\n                that._focusFirstEditableCellInRow(insertKey.rowIndex)\r\n            }\r\n            that._afterInsertRow({\r\n                key: insertKey,\r\n                data: data\r\n            })\r\n        },\r\n        _focusFirstEditableCellInRow: function(rowIndex) {\r\n            var that = this;\r\n            var $firstCell = that.getFirstEditableCellInRow(rowIndex);\r\n            that._editCellInProgress = true;\r\n            that._delayedInputFocus($firstCell, function() {\r\n                that._editCellInProgress = false;\r\n                var $cell = that.getFirstEditableCellInRow(rowIndex);\r\n                var eventToTrigger = \"dblClick\" === that.option(\"editing.startEditAction\") ? _double_click.name : _click.name;\r\n                $cell && _events_engine.default.trigger($cell, eventToTrigger)\r\n            })\r\n        },\r\n        _isEditingStart: function(options) {\r\n            this.executeAction(\"onEditingStart\", options);\r\n            return options.cancel\r\n        },\r\n        _beforeEditCell: function(rowIndex, columnIndex, item) {\r\n            var that = this;\r\n            if (_getEditMode(that) === EDIT_MODE_CELL && !item.isNewRow && that.hasChanges()) {\r\n                var d = new _deferred.Deferred;\r\n                that.saveEditData().always(function() {\r\n                    d.resolve(that.hasChanges())\r\n                });\r\n                return d\r\n            }\r\n        },\r\n        _beforeUpdateItems: function() {},\r\n        _getVisibleEditColumnIndex: function() {\r\n            var editColumnName = this.option(EDITING_EDITCOLUMNNAME_OPTION_NAME);\r\n            if (!(0, _type.isDefined)(editColumnName)) {\r\n                return -1\r\n            }\r\n            return this._columnsController.getVisibleColumnIndex(editColumnName)\r\n        },\r\n        _setEditColumnNameByIndex: function(index, silent) {\r\n            var _visibleColumns$index;\r\n            var visibleColumns = this._columnsController.getVisibleColumns();\r\n            this._setEditColumnName(null === (_visibleColumns$index = visibleColumns[index]) || void 0 === _visibleColumns$index ? void 0 : _visibleColumns$index.name, silent)\r\n        },\r\n        _setEditColumnName: function(name, silent) {\r\n            if (silent) {\r\n                this._silentOption(EDITING_EDITCOLUMNNAME_OPTION_NAME, name)\r\n            } else {\r\n                this.option(EDITING_EDITCOLUMNNAME_OPTION_NAME, name)\r\n            }\r\n        },\r\n        _resetEditColumnName: function() {\r\n            this._setEditColumnName(null, true)\r\n        },\r\n        _getEditColumn: function() {\r\n            var editColumnName = this.option(EDITING_EDITCOLUMNNAME_OPTION_NAME);\r\n            return this._getColumnByName(editColumnName)\r\n        },\r\n        _getColumnByName: function(name) {\r\n            var visibleColumns = this._columnsController.getVisibleColumns();\r\n            var editColumn;\r\n            (0, _type.isDefined)(name) && visibleColumns.some(function(column) {\r\n                if (column.name === name) {\r\n                    editColumn = column;\r\n                    return true\r\n                }\r\n            });\r\n            return editColumn\r\n        },\r\n        _getVisibleEditRowIndex: function(columnName) {\r\n            var dataController = this._dataController;\r\n            var editRowKey = this.option(EDITING_EDITROWKEY_OPTION_NAME);\r\n            var rowIndex = dataController.getRowIndexByKey(editRowKey);\r\n            if (rowIndex === -1) {\r\n                return rowIndex\r\n            }\r\n            return rowIndex + this._getEditRowIndexCorrection(columnName)\r\n        },\r\n        _getEditRowIndexCorrection: function(columnName) {\r\n            var editColumn = columnName ? this._getColumnByName(columnName) : this._getEditColumn();\r\n            var isColumnHidden = \"adaptiveHidden\" === (null === editColumn || void 0 === editColumn ? void 0 : editColumn.visibleWidth);\r\n            return isColumnHidden ? 1 : 0\r\n        },\r\n        _resetEditRowKey: function() {\r\n            this._setEditRowKey(null, true)\r\n        },\r\n        _resetEditIndices: function() {\r\n            this._resetEditColumnName();\r\n            this._resetEditRowKey()\r\n        },\r\n        editRow: function(rowIndex) {\r\n            var dataController = this._dataController;\r\n            var items = dataController.items();\r\n            var item = items[rowIndex];\r\n            var params = {\r\n                data: item && item.data,\r\n                cancel: false\r\n            };\r\n            var oldRowIndex = this._getVisibleEditRowIndex();\r\n            if (!item) {\r\n                return\r\n            }\r\n            if (rowIndex === oldRowIndex) {\r\n                return true\r\n            }\r\n            if (void 0 === item.key) {\r\n                this._dataController.fireError(\"E1043\");\r\n                return\r\n            }\r\n            if (!item.isNewRow) {\r\n                params.key = item.key\r\n            }\r\n            if (this._isEditingStart(params)) {\r\n                return\r\n            }\r\n            this.resetChanges();\r\n            this.init();\r\n            this._resetEditColumnName();\r\n            this._pageIndex = dataController.pageIndex();\r\n            this._addInternalData({\r\n                key: item.key,\r\n                oldData: item.data\r\n            });\r\n            this._setEditRowKey(item.key)\r\n        },\r\n        _editRowFromOptionChanged: function(rowIndex, oldRowIndex) {\r\n            var rowIndices = [oldRowIndex, rowIndex];\r\n            var editMode = _getEditMode(this);\r\n            this._beforeUpdateItems(rowIndices, rowIndex, oldRowIndex);\r\n            if (editMode === EDIT_MODE_POPUP) {\r\n                this._showEditPopup(rowIndex)\r\n            } else {\r\n                this._needFocusEditor = true;\r\n                this._dataController.updateItems({\r\n                    changeType: \"update\",\r\n                    rowIndices: rowIndices\r\n                })\r\n            }\r\n        },\r\n        _focusEditorIfNeed: function() {\r\n            var _this9 = this;\r\n            var editMode = _getEditMode(this);\r\n            if (this._needFocusEditor) {\r\n                if (MODES_WITH_DELAYED_FOCUS.indexOf(editMode) !== -1) {\r\n                    var $editingCell = this.getFocusedCellInRow(this._getVisibleEditRowIndex());\r\n                    this._delayedInputFocus($editingCell, function() {\r\n                        $editingCell && _this9.component.focus($editingCell)\r\n                    })\r\n                } else {\r\n                    if (CELL_BASED_MODES.indexOf(editMode) !== -1) {\r\n                        var _this$_rowsView;\r\n                        var editColumnIndex = this._getVisibleEditColumnIndex();\r\n                        var $cell = null === (_this$_rowsView = this._rowsView) || void 0 === _this$_rowsView ? void 0 : _this$_rowsView._getCellElement(this._getVisibleEditRowIndex(), editColumnIndex);\r\n                        if ($cell && !$cell.find(\":focus\").length) {\r\n                            this._focusEditingCell(function() {\r\n                                _this9._editCellInProgress = false\r\n                            }, $cell, true)\r\n                        } else {\r\n                            this._editCellInProgress = false\r\n                        }\r\n                    }\r\n                }\r\n                this._needFocusEditor = false\r\n            }\r\n        },\r\n        _showEditPopup: function(rowIndex, repaintForm) {\r\n            var that = this;\r\n            var isMobileDevice = \"desktop\" !== _devices.default.current().deviceType;\r\n            var popupOptions = (0, _extend.extend)({\r\n                showTitle: false,\r\n                fullScreen: isMobileDevice,\r\n                toolbarItems: [{\r\n                    toolbar: \"bottom\",\r\n                    location: \"after\",\r\n                    widget: \"dxButton\",\r\n                    options: that._getSaveButtonConfig()\r\n                }, {\r\n                    toolbar: \"bottom\",\r\n                    location: \"after\",\r\n                    widget: \"dxButton\",\r\n                    options: that._getCancelButtonConfig()\r\n                }],\r\n                contentTemplate: that._getPopupEditFormTemplate(rowIndex)\r\n            }, that.option(EDITING_POPUP_OPTION_NAME));\r\n            if (!that._editPopup) {\r\n                var $popupContainer = (0, _renderer.default)(\"<div>\").appendTo(that.component.$element()).addClass(that.addWidgetPrefix(EDIT_POPUP_CLASS));\r\n                that._editPopup = that._createComponent($popupContainer, _popup.default, {});\r\n                that._editPopup.on(\"hiding\", that._getEditPopupHiddenHandler());\r\n                that._editPopup.on(\"shown\", function(e) {\r\n                    _events_engine.default.trigger(e.component.$content().find(FOCUSABLE_ELEMENT_SELECTOR).not(\".\" + SCROLLABLE_CONTAINER_CLASS).first(), \"focus\");\r\n                    if (repaintForm) {\r\n                        that._editForm && that._editForm.repaint()\r\n                    }\r\n                })\r\n            }\r\n            that._editPopup.option(popupOptions);\r\n            that._editPopup.show()\r\n        },\r\n        _repaintEditPopup: function() {\r\n            var rowIndex = this._getVisibleEditRowIndex();\r\n            if (this._editPopup && this._editPopup.option(\"visible\") && rowIndex >= 0) {\r\n                var defaultAnimation = this._editPopup.option(\"animation\");\r\n                this._editPopup.option(\"animation\", null);\r\n                this._showEditPopup(rowIndex, true);\r\n                this._editPopup.option(\"animation\", defaultAnimation)\r\n            }\r\n        },\r\n        _getEditPopupHiddenHandler: function() {\r\n            var that = this;\r\n            return function(e) {\r\n                if (that.isEditing()) {\r\n                    that.cancelEditData()\r\n                }\r\n            }\r\n        },\r\n        _getPopupEditFormTemplate: function(rowIndex) {\r\n            var that = this;\r\n            var row = that.component.getVisibleRows()[rowIndex];\r\n            var templateOptions = {\r\n                row: row,\r\n                rowType: row.rowType,\r\n                key: row.key\r\n            };\r\n            return function(container) {\r\n                var formTemplate = that.getEditFormTemplate();\r\n                var scrollable = that._createComponent((0, _renderer.default)(\"<div>\").appendTo(container), _ui.default);\r\n                that._$popupContent = scrollable.$content();\r\n                formTemplate(that._$popupContent, templateOptions, true)\r\n            }\r\n        },\r\n        _getSaveButtonConfig: function() {\r\n            return {\r\n                text: this.option(\"editing.texts.saveRowChanges\"),\r\n                onClick: this.saveEditData.bind(this)\r\n            }\r\n        },\r\n        _getCancelButtonConfig: function() {\r\n            return {\r\n                text: this.option(\"editing.texts.cancelRowChanges\"),\r\n                onClick: this.cancelEditData.bind(this)\r\n            }\r\n        },\r\n        _removeInternalData: function(key) {\r\n            var internalData = this._getInternalData(key);\r\n            var index = this._internalState.indexOf(internalData);\r\n            if (index > -1) {\r\n                this._internalState.splice(index, 1)\r\n            }\r\n        },\r\n        _removeChange: function(index) {\r\n            if (index >= 0) {\r\n                var changes = _toConsumableArray(this.getChanges());\r\n                this._removeInternalData(changes[index].key);\r\n                changes.splice(index, 1);\r\n                this._silentOption(EDITING_CHANGES_OPTION_NAME, changes)\r\n            }\r\n        },\r\n        executeOperation: function(deferred, func) {\r\n            var _this10 = this;\r\n            this._lastOperation && this._lastOperation.reject();\r\n            this._lastOperation = deferred;\r\n            this.waitForDeferredOperations().done(function() {\r\n                if (\"rejected\" === deferred.state()) {\r\n                    return\r\n                }\r\n                func();\r\n                _this10._lastOperation = null\r\n            }).fail(function() {\r\n                deferred.reject();\r\n                _this10._lastOperation = null\r\n            })\r\n        },\r\n        waitForDeferredOperations: function() {\r\n            return _deferred.when.apply(void 0, _toConsumableArray(this._deferreds))\r\n        },\r\n        editCell: function(rowIndex, columnIndex) {\r\n            return this._editCell({\r\n                rowIndex: rowIndex,\r\n                columnIndex: columnIndex\r\n            })\r\n        },\r\n        _editCell: function(options) {\r\n            var _this11 = this;\r\n            var d = new _deferred.Deferred;\r\n            var coreResult;\r\n            this.executeOperation(d, function() {\r\n                coreResult = _this11._editCellCore(options);\r\n                (0, _deferred.when)(coreResult).done(d.resolve).fail(d.reject)\r\n            });\r\n            return void 0 !== coreResult ? coreResult : d.promise()\r\n        },\r\n        _getNormalizedEditCellOptions: function(_ref) {\r\n            var oldColumnIndex = _ref.oldColumnIndex,\r\n                oldRowIndex = _ref.oldRowIndex,\r\n                columnIndex = _ref.columnIndex,\r\n                rowIndex = _ref.rowIndex;\r\n            var columnsController = this._columnsController;\r\n            var visibleColumns = columnsController.getVisibleColumns();\r\n            var items = this._dataController.items();\r\n            var item = items[rowIndex];\r\n            var oldColumn;\r\n            if ((0, _type.isDefined)(oldColumnIndex)) {\r\n                oldColumn = visibleColumns[oldColumnIndex]\r\n            } else {\r\n                oldColumn = this._getEditColumn()\r\n            }\r\n            if (!(0, _type.isDefined)(oldRowIndex)) {\r\n                oldRowIndex = this._getVisibleEditRowIndex()\r\n            }\r\n            if ((0, _type.isString)(columnIndex)) {\r\n                columnIndex = columnsController.columnOption(columnIndex, \"index\");\r\n                columnIndex = columnsController.getVisibleIndex(columnIndex)\r\n            }\r\n            var column = visibleColumns[columnIndex];\r\n            return {\r\n                oldColumn: oldColumn,\r\n                columnIndex: columnIndex,\r\n                oldRowIndex: oldRowIndex,\r\n                rowIndex: rowIndex,\r\n                column: column,\r\n                item: item\r\n            }\r\n        },\r\n        _editCellCore: function(options) {\r\n            var _this12 = this;\r\n            var dataController = this._dataController;\r\n            var isEditByOptionChanged = (0, _type.isDefined)(options.oldColumnIndex) || (0, _type.isDefined)(options.oldRowIndex);\r\n            var _this$_getNormalizedE = this._getNormalizedEditCellOptions(options),\r\n                columnIndex = _this$_getNormalizedE.columnIndex,\r\n                rowIndex = _this$_getNormalizedE.rowIndex,\r\n                column = _this$_getNormalizedE.column,\r\n                item = _this$_getNormalizedE.item;\r\n            var params = {\r\n                data: null === item || void 0 === item ? void 0 : item.data,\r\n                cancel: false,\r\n                column: column\r\n            };\r\n            if (void 0 === item.key) {\r\n                this._dataController.fireError(\"E1043\");\r\n                return\r\n            }\r\n            if (column && item && (\"data\" === item.rowType || \"detailAdaptive\" === item.rowType) && !item.removed && !_isRowEditMode(this)) {\r\n                if (!isEditByOptionChanged && this.isEditCell(rowIndex, columnIndex)) {\r\n                    return true\r\n                }\r\n                var editRowIndex = rowIndex + dataController.getRowIndexOffset();\r\n                return (0, _deferred.when)(this._beforeEditCell(rowIndex, columnIndex, item)).done(function(cancel) {\r\n                    if (cancel) {\r\n                        return\r\n                    }\r\n                    if (!_this12._prepareEditCell(params, item, columnIndex, editRowIndex)) {\r\n                        _this12._processCanceledEditingCell()\r\n                    }\r\n                })\r\n            }\r\n            return false\r\n        },\r\n        _processCanceledEditingCell: function() {},\r\n        _prepareEditCell: function(params, item, editColumnIndex, editRowIndex) {\r\n            if (!item.isNewRow) {\r\n                params.key = item.key\r\n            }\r\n            if (this._isEditingStart(params)) {\r\n                return false\r\n            }\r\n            this._pageIndex = this._dataController.pageIndex();\r\n            this._setEditRowKey(item.key);\r\n            this._setEditColumnNameByIndex(editColumnIndex);\r\n            if (!params.column.showEditorAlways) {\r\n                this._addInternalData({\r\n                    key: item.key,\r\n                    oldData: item.data\r\n                })\r\n            }\r\n            return true\r\n        },\r\n        _repaintEditCell: function(column, oldColumn, oldEditRowIndex) {\r\n            var that = this;\r\n            this._needFocusEditor = true;\r\n            if (!column || !column.showEditorAlways || oldColumn && !oldColumn.showEditorAlways) {\r\n                that._editCellInProgress = true;\r\n                that.getController(\"editorFactory\").loseFocus();\r\n                that._dataController.updateItems({\r\n                    changeType: \"update\",\r\n                    rowIndices: [oldEditRowIndex, that._getVisibleEditRowIndex()]\r\n                })\r\n            } else {\r\n                that._dataController.updateItems({\r\n                    changeType: \"update\",\r\n                    rowIndices: []\r\n                })\r\n            }\r\n        },\r\n        _delayedInputFocus: function($cell, beforeFocusCallback, callBeforeFocusCallbackAlways) {\r\n            var that = this;\r\n\r\n            function inputFocus() {\r\n                if (beforeFocusCallback) {\r\n                    beforeFocusCallback()\r\n                }\r\n                if ($cell) {\r\n                    var $focusableElement = $cell.find(FOCUSABLE_ELEMENT_SELECTOR).first();\r\n                    _uiGrid_core2.default.focusAndSelectElement(that, $focusableElement)\r\n                }\r\n                that._beforeFocusCallback = null\r\n            }\r\n            if (_devices.default.real().ios || _devices.default.real().android) {\r\n                inputFocus()\r\n            } else {\r\n                if (that._beforeFocusCallback) {\r\n                    that._beforeFocusCallback()\r\n                }\r\n                clearTimeout(that._inputFocusTimeoutID);\r\n                if (callBeforeFocusCallbackAlways) {\r\n                    that._beforeFocusCallback = beforeFocusCallback\r\n                }\r\n                that._inputFocusTimeoutID = setTimeout(inputFocus)\r\n            }\r\n        },\r\n        _focusEditingCell: function(beforeFocusCallback, $editCell, callBeforeFocusCallbackAlways) {\r\n            var that = this;\r\n            var rowsView = that.getView(\"rowsView\");\r\n            var editColumnIndex = this._getVisibleEditColumnIndex();\r\n            $editCell = $editCell || rowsView && rowsView._getCellElement(that._getVisibleEditRowIndex(), editColumnIndex);\r\n            that._delayedInputFocus($editCell, beforeFocusCallback, callBeforeFocusCallbackAlways)\r\n        },\r\n        deleteRow: function(rowIndex) {\r\n            var _this13 = this;\r\n            if (\"cell\" === this.option(\"editing.mode\") && this.isEditing()) {\r\n                var isNewRow = this._dataController.items()[rowIndex].isNewRow;\r\n                this.closeEditCell(null, isNewRow).always(function() {\r\n                    _this13._checkAndDeleteRow(rowIndex)\r\n                })\r\n            } else {\r\n                this._checkAndDeleteRow(rowIndex)\r\n            }\r\n        },\r\n        _checkAndDeleteRow: function(rowIndex) {\r\n            var that = this;\r\n            var editingOptions = that.option(\"editing\");\r\n            var editingTexts = editingOptions && editingOptions.texts;\r\n            var isBatchMode = editingOptions && editingOptions.mode === EDIT_MODE_BATCH;\r\n            var confirmDelete = editingOptions && editingOptions.confirmDelete;\r\n            var confirmDeleteMessage = editingTexts && editingTexts.confirmDeleteMessage;\r\n            var item = that._dataController.items()[rowIndex];\r\n            var allowDeleting = isBatchMode || !that.isEditing() || item.isNewRow;\r\n            if (item && allowDeleting) {\r\n                if (isBatchMode || !confirmDelete || !confirmDeleteMessage) {\r\n                    that._deleteRowCore(rowIndex)\r\n                } else {\r\n                    var confirmDeleteTitle = editingTexts && editingTexts.confirmDeleteTitle;\r\n                    var showDialogTitle = (0, _type.isDefined)(confirmDeleteTitle) && confirmDeleteTitle.length > 0;\r\n                    (0, _dialog.confirm)(confirmDeleteMessage, confirmDeleteTitle, showDialogTitle).done(function(confirmResult) {\r\n                        if (confirmResult) {\r\n                            that._deleteRowCore(rowIndex)\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        _deleteRowCore: function(rowIndex) {\r\n            var dataController = this._dataController;\r\n            var item = dataController.items()[rowIndex];\r\n            var key = item && item.key;\r\n            var oldEditRowIndex = this._getVisibleEditRowIndex();\r\n            var isBatchMode = this.option(\"editing.mode\") === EDIT_MODE_BATCH;\r\n            this.refresh();\r\n            var changes = this.getChanges();\r\n            var editIndex = _uiGrid_core2.default.getIndexByKey(key, changes);\r\n            if (editIndex >= 0) {\r\n                if (changes[editIndex].type === DATA_EDIT_DATA_INSERT_TYPE) {\r\n                    this._removeChange(editIndex)\r\n                } else {\r\n                    this._addChange({\r\n                        key: key,\r\n                        type: DATA_EDIT_DATA_REMOVE_TYPE\r\n                    })\r\n                }\r\n            } else {\r\n                this._addChange({\r\n                    key: key,\r\n                    oldData: item.data,\r\n                    type: DATA_EDIT_DATA_REMOVE_TYPE\r\n                })\r\n            }\r\n            if (isBatchMode) {\r\n                dataController.updateItems({\r\n                    changeType: \"update\",\r\n                    rowIndices: [oldEditRowIndex, rowIndex]\r\n                })\r\n            } else {\r\n                this.saveEditData()\r\n            }\r\n        },\r\n        undeleteRow: function(rowIndex) {\r\n            var that = this;\r\n            var dataController = that._dataController;\r\n            var item = dataController.items()[rowIndex];\r\n            var oldEditRowIndex = that._getVisibleEditRowIndex();\r\n            var key = item && item.key;\r\n            var changes = this.getChanges();\r\n            if (item) {\r\n                var editIndex = _uiGrid_core2.default.getIndexByKey(key, changes);\r\n                if (editIndex >= 0) {\r\n                    var data = changes[editIndex].data;\r\n                    if ((0, _type.isEmptyObject)(data)) {\r\n                        that._removeChange(editIndex)\r\n                    } else {\r\n                        that._addChange({\r\n                            key: key,\r\n                            type: DATA_EDIT_DATA_UPDATE_TYPE\r\n                        })\r\n                    }\r\n                    dataController.updateItems({\r\n                        changeType: \"update\",\r\n                        rowIndices: [oldEditRowIndex, rowIndex]\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        _fireOnSaving: function() {\r\n            var _this14 = this;\r\n            var onSavingParams = {\r\n                cancel: false,\r\n                promise: null,\r\n                changes: _toConsumableArray(this.getChanges())\r\n            };\r\n            this.executeAction(\"onSaving\", onSavingParams);\r\n            var d = new _deferred.Deferred;\r\n            (0, _deferred.when)((0, _deferred.fromPromise)(onSavingParams.promise)).done(function() {\r\n                d.resolve(onSavingParams)\r\n            }).fail(function(arg) {\r\n                createFailureHandler(d);\r\n                _this14._fireDataErrorOccurred(arg);\r\n                d.resolve({\r\n                    cancel: true\r\n                })\r\n            });\r\n            return d\r\n        },\r\n        _executeEditingAction: function(actionName, params, func) {\r\n            if (this.component._disposed) {\r\n                return null\r\n            }\r\n            var deferred = new _deferred.Deferred;\r\n            this.executeAction(actionName, params);\r\n            (0, _deferred.when)((0, _deferred.fromPromise)(params.cancel)).done(function(cancel) {\r\n                if (cancel) {\r\n                    setTimeout(function() {\r\n                        deferred.resolve(\"cancel\")\r\n                    })\r\n                } else {\r\n                    func(params).done(deferred.resolve).fail(createFailureHandler(deferred))\r\n                }\r\n            }).fail(createFailureHandler(deferred));\r\n            return deferred\r\n        },\r\n        _processChanges: function(deferreds, results, dataChanges, changes) {\r\n            var _this15 = this;\r\n            var store = this._dataController.store();\r\n            (0, _iterator.each)(changes, function(index, change) {\r\n                var oldData = _this15._getOldData(change.key);\r\n                var data = change.data,\r\n                    type = change.type;\r\n                var changeCopy = _objectSpread({}, change);\r\n                var deferred;\r\n                var params;\r\n                if (_this15._beforeSaveEditData(change, index)) {\r\n                    return\r\n                }\r\n                switch (type) {\r\n                    case DATA_EDIT_DATA_REMOVE_TYPE:\r\n                        params = {\r\n                            data: oldData,\r\n                            key: change.key,\r\n                            cancel: false\r\n                        };\r\n                        deferred = _this15._executeEditingAction(\"onRowRemoving\", params, function() {\r\n                            return store.remove(change.key).done(function(key) {\r\n                                dataChanges.push({\r\n                                    type: \"remove\",\r\n                                    key: key\r\n                                })\r\n                            })\r\n                        });\r\n                        break;\r\n                    case DATA_EDIT_DATA_INSERT_TYPE:\r\n                        params = {\r\n                            data: data,\r\n                            cancel: false\r\n                        };\r\n                        deferred = _this15._executeEditingAction(\"onRowInserting\", params, function() {\r\n                            return store.insert(params.data).done(function(data, key) {\r\n                                if ((0, _type.isDefined)(key)) {\r\n                                    changeCopy.key = key\r\n                                }\r\n                                if (data && (0, _type.isObject)(data) && data !== params.data) {\r\n                                    changeCopy.data = data\r\n                                }\r\n                                dataChanges.push({\r\n                                    type: \"insert\",\r\n                                    data: data,\r\n                                    index: 0\r\n                                })\r\n                            })\r\n                        });\r\n                        break;\r\n                    case DATA_EDIT_DATA_UPDATE_TYPE:\r\n                        params = {\r\n                            newData: data,\r\n                            oldData: oldData,\r\n                            key: change.key,\r\n                            cancel: false\r\n                        };\r\n                        deferred = _this15._executeEditingAction(\"onRowUpdating\", params, function() {\r\n                            return store.update(change.key, params.newData).done(function(data, key) {\r\n                                if (data && (0, _type.isObject)(data) && data !== params.newData) {\r\n                                    changeCopy.data = data\r\n                                }\r\n                                dataChanges.push({\r\n                                    type: \"update\",\r\n                                    key: key,\r\n                                    data: data\r\n                                })\r\n                            })\r\n                        })\r\n                }\r\n                changes[index] = changeCopy;\r\n                if (deferred) {\r\n                    var doneDeferred = new _deferred.Deferred;\r\n                    deferred.always(function(data) {\r\n                        results.push({\r\n                            key: change.key,\r\n                            result: data\r\n                        })\r\n                    }).always(doneDeferred.resolve);\r\n                    deferreds.push(doneDeferred.promise())\r\n                }\r\n            })\r\n        },\r\n        _processSaveEditDataResult: function(results) {\r\n            var that = this;\r\n            var hasSavedData = false;\r\n            var editMode = _getEditMode(that);\r\n            var changes = _toConsumableArray(this.getChanges());\r\n            var changesLength = changes.length;\r\n            for (var i = 0; i < results.length; i++) {\r\n                var arg = results[i].result;\r\n                var cancel = \"cancel\" === arg;\r\n                var editIndex = _uiGrid_core2.default.getIndexByKey(results[i].key, changes);\r\n                var change = changes[editIndex];\r\n                var isError = arg && arg instanceof Error;\r\n                if (isError) {\r\n                    if (change) {\r\n                        this._addInternalData({\r\n                            key: change.key,\r\n                            error: arg\r\n                        })\r\n                    }\r\n                    that._fireDataErrorOccurred(arg);\r\n                    if (editMode !== EDIT_MODE_BATCH) {\r\n                        if ((null === change || void 0 === change ? void 0 : change.type) === DATA_EDIT_DATA_REMOVE_TYPE) {\r\n                            if (editIndex >= 0) {\r\n                                changes.splice(editIndex, 1)\r\n                            }\r\n                        }\r\n                        break\r\n                    }\r\n                } else {\r\n                    if (!cancel || !change || editMode !== EDIT_MODE_BATCH && change.type === DATA_EDIT_DATA_REMOVE_TYPE) {\r\n                        if (editIndex >= 0) {\r\n                            changes.splice(editIndex, 1)\r\n                        }\r\n                        hasSavedData = !cancel\r\n                    }\r\n                }\r\n            }\r\n            if (changes.length < changesLength) {\r\n                this._silentOption(EDITING_CHANGES_OPTION_NAME, changes)\r\n            }\r\n            return hasSavedData\r\n        },\r\n        _fireSaveEditDataEvents: function(changes) {\r\n            var that = this;\r\n            (0, _iterator.each)(changes, function(_, _ref2) {\r\n                var data = _ref2.data,\r\n                    key = _ref2.key,\r\n                    type = _ref2.type;\r\n                var internalData = that._addInternalData({\r\n                    key: key\r\n                });\r\n                var params = {\r\n                    key: key,\r\n                    data: data\r\n                };\r\n                if (internalData.error) {\r\n                    params.error = internalData.error\r\n                }\r\n                switch (type) {\r\n                    case DATA_EDIT_DATA_REMOVE_TYPE:\r\n                        that.executeAction(\"onRowRemoved\", (0, _extend.extend)({}, params, {\r\n                            data: internalData.oldData\r\n                        }));\r\n                        break;\r\n                    case DATA_EDIT_DATA_INSERT_TYPE:\r\n                        that.executeAction(\"onRowInserted\", params);\r\n                        break;\r\n                    case DATA_EDIT_DATA_UPDATE_TYPE:\r\n                        that.executeAction(\"onRowUpdated\", params)\r\n                }\r\n            });\r\n            this.executeAction(\"onSaved\", {\r\n                changes: changes\r\n            })\r\n        },\r\n        saveEditData: function() {\r\n            var _this16 = this;\r\n            var deferred = new _deferred.Deferred;\r\n            this.waitForDeferredOperations().done(function() {\r\n                if (_this16.isSaving()) {\r\n                    _this16._resolveAfterSave(deferred);\r\n                    return\r\n                }(0, _deferred.when)(_this16._beforeSaveEditData()).done(function(cancel) {\r\n                    if (cancel) {\r\n                        _this16._resolveAfterSave(deferred, {\r\n                            cancel: cancel\r\n                        });\r\n                        return\r\n                    }\r\n                    _this16._saving = true;\r\n                    _this16._saveEditDataInner().done(deferred.resolve).fail(deferred.reject).always(function() {\r\n                        _this16._saving = false\r\n                    })\r\n                }).fail(deferred.reject)\r\n            }).fail(deferred.reject);\r\n            return deferred.promise()\r\n        },\r\n        _resolveAfterSave: function(deferred) {\r\n            var _ref3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\r\n                cancel = _ref3.cancel,\r\n                error = _ref3.error;\r\n            (0, _deferred.when)(this._afterSaveEditData(cancel)).done(function() {\r\n                deferred.resolve(error)\r\n            }).fail(deferred.reject)\r\n        },\r\n        _saveEditDataInner: function() {\r\n            var _this17 = this;\r\n            var results = [];\r\n            var deferreds = [];\r\n            var dataChanges = [];\r\n            var dataController = this._dataController;\r\n            var dataSource = dataController.dataSource();\r\n            var result = new _deferred.Deferred;\r\n            (0, _deferred.when)(this._fireOnSaving()).done(function(_ref4) {\r\n                var cancel = _ref4.cancel,\r\n                    changes = _ref4.changes;\r\n                if (cancel) {\r\n                    return result.resolve().promise()\r\n                }\r\n                _this17._processChanges(deferreds, results, dataChanges, changes);\r\n                if (deferreds.length) {\r\n                    null === dataSource || void 0 === dataSource ? void 0 : dataSource.beginLoading();\r\n                    _deferred.when.apply(void 0, deferreds).done(function() {\r\n                        if (_this17._processSaveEditDataResult(results)) {\r\n                            _this17._endSaving(dataChanges, changes, result)\r\n                        } else {\r\n                            null === dataSource || void 0 === dataSource ? void 0 : dataSource.endLoading();\r\n                            result.resolve()\r\n                        }\r\n                    }).fail(function(error) {\r\n                        null === dataSource || void 0 === dataSource ? void 0 : dataSource.endLoading();\r\n                        result.resolve(error)\r\n                    });\r\n                    return result.always(function() {\r\n                        _this17._focusEditingCell()\r\n                    }).promise()\r\n                }\r\n                _this17._cancelSaving(result)\r\n            }).fail(result.reject);\r\n            return result.promise()\r\n        },\r\n        _resetModifiedClassCells: function(changes) {\r\n            var _this18 = this;\r\n            var editMode = _getEditMode(this);\r\n            if (editMode === EDIT_MODE_BATCH) {\r\n                var columnsCount = this._columnsController.getVisibleColumns().length;\r\n                changes.forEach(function(_ref5) {\r\n                    var key = _ref5.key;\r\n                    var rowIndex = _this18._dataController.getRowIndexByKey(key);\r\n                    if (rowIndex !== -1) {\r\n                        for (var columnIndex = 0; columnIndex < columnsCount; columnIndex++) {\r\n                            _this18._rowsView._getCellElement(rowIndex, columnIndex).removeClass(CELL_MODIFIED)\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        _endSaving: function(dataChanges, changes, deferred) {\r\n            var _changes$;\r\n            var editMode = _getEditMode(this);\r\n            var dataSource = this._dataController.dataSource();\r\n            if (editMode !== EDIT_MODE_CELL) {\r\n                this._resetModifiedClassCells(changes);\r\n                this._resetEditIndices()\r\n            } else {\r\n                if (\"update\" !== (null === (_changes$ = changes[0]) || void 0 === _changes$ ? void 0 : _changes$.type)) {\r\n                    this._resetEditIndices()\r\n                }\r\n            }\r\n            if (editMode === EDIT_MODE_POPUP && this._editPopup) {\r\n                this._editPopup.hide()\r\n            }\r\n            null === dataSource || void 0 === dataSource ? void 0 : dataSource.endLoading();\r\n            this._refreshDataAfterSave(dataChanges, changes, deferred)\r\n        },\r\n        _cancelSaving: function(result) {\r\n            var editMode = _getEditMode(this);\r\n            var dataController = this._dataController;\r\n            if (_isRowEditMode(this)) {\r\n                if (!this.hasChanges()) {\r\n                    this._cancelEditDataCore()\r\n                }\r\n            } else {\r\n                if (this.isCellOrBatchEditMode()) {\r\n                    if (editMode !== EDIT_MODE_CELL) {\r\n                        this._resetEditIndices()\r\n                    }\r\n                    dataController.updateItems()\r\n                } else {\r\n                    this._focusEditingCell()\r\n                }\r\n            }\r\n            this.executeAction(\"onSaved\", {\r\n                changes: []\r\n            });\r\n            this._resolveAfterSave(result)\r\n        },\r\n        _refreshDataAfterSave: function(dataChanges, changes, deferred) {\r\n            var _this19 = this;\r\n            var dataController = this._dataController;\r\n            var refreshMode = this.option(\"editing.refreshMode\");\r\n            var isFullRefresh = \"reshape\" !== refreshMode && \"repaint\" !== refreshMode;\r\n            if (!isFullRefresh) {\r\n                dataController.push(dataChanges)\r\n            }(0, _deferred.when)(dataController.refresh({\r\n                selection: isFullRefresh,\r\n                reload: isFullRefresh,\r\n                load: \"reshape\" === refreshMode,\r\n                changesOnly: this.option(\"repaintChangesOnly\")\r\n            })).always(function() {\r\n                _this19._fireSaveEditDataEvents(changes)\r\n            }).done(function() {\r\n                _this19._resolveAfterSave(deferred)\r\n            }).fail(function(error) {\r\n                _this19._resolveAfterSave(deferred, {\r\n                    error: error\r\n                })\r\n            })\r\n        },\r\n        isSaving: function() {\r\n            return this._saving\r\n        },\r\n        _updateEditColumn: function() {\r\n            var that = this;\r\n            var isEditColumnVisible = that._isEditColumnVisible();\r\n            var useIcons = that.option(\"editing.useIcons\");\r\n            var cssClass = COMMAND_EDIT_CLASS + (useIcons ? \" \" + COMMAND_EDIT_WITH_ICONS_CLASS : \"\");\r\n            that._columnsController.addCommandColumn({\r\n                type: \"buttons\",\r\n                command: \"edit\",\r\n                visible: isEditColumnVisible,\r\n                cssClass: cssClass,\r\n                width: \"auto\",\r\n                alignment: \"center\",\r\n                cellTemplate: that._getEditCommandCellTemplate(),\r\n                fixedPosition: \"right\"\r\n            });\r\n            that._columnsController.columnOption(\"command:edit\", {\r\n                visible: isEditColumnVisible,\r\n                cssClass: cssClass\r\n            })\r\n        },\r\n        _isEditColumnVisible: function() {\r\n            var that = this;\r\n            var editingOptions = that.option(\"editing\");\r\n            if (editingOptions) {\r\n                var editMode = _getEditMode(that);\r\n                var isVisibleWithCurrentEditMode = false;\r\n                switch (editMode) {\r\n                    case EDIT_MODE_ROW:\r\n                        isVisibleWithCurrentEditMode = editingOptions.allowUpdating || editingOptions.allowAdding;\r\n                        break;\r\n                    case EDIT_MODE_FORM:\r\n                    case EDIT_MODE_POPUP:\r\n                        isVisibleWithCurrentEditMode = editingOptions.allowUpdating\r\n                }\r\n                return editingOptions.allowDeleting || isVisibleWithCurrentEditMode\r\n            }\r\n        },\r\n        _updateEditButtons: function() {\r\n            var that = this;\r\n            var headerPanel = that.getView(\"headerPanel\");\r\n            var hasChanges = that.hasChanges();\r\n            if (headerPanel) {\r\n                headerPanel.setToolbarItemDisabled(\"saveButton\", !hasChanges);\r\n                headerPanel.setToolbarItemDisabled(\"revertButton\", !hasChanges)\r\n            }\r\n        },\r\n        _applyModified: function($element) {\r\n            $element && $element.addClass(CELL_MODIFIED)\r\n        },\r\n        _beforeCloseEditCellInBatchMode: function() {},\r\n        cancelEditData: function() {\r\n            var changes = this.getChanges();\r\n            var params = {\r\n                cancel: false,\r\n                changes: changes\r\n            };\r\n            this.executeAction(\"onEditCanceling\", params);\r\n            if (!params.cancel) {\r\n                this._cancelEditDataCore();\r\n                this.executeAction(\"onEditCanceled\", {\r\n                    changes: changes\r\n                })\r\n            }\r\n        },\r\n        _cancelEditDataCore: function() {\r\n            var editMode = _getEditMode(this);\r\n            var rowIndex = this._getVisibleEditRowIndex();\r\n            var dataController = this._dataController;\r\n            this._beforeCancelEditData();\r\n            this.init();\r\n            this.resetChanges();\r\n            this._resetEditColumnName();\r\n            this._resetEditRowKey();\r\n            if (ROW_BASED_MODES.indexOf(editMode) !== -1 && rowIndex >= 0) {\r\n                dataController.updateItems({\r\n                    changeType: \"update\",\r\n                    rowIndices: [rowIndex, rowIndex + 1]\r\n                })\r\n            } else {\r\n                dataController.updateItems({\r\n                    repaintChangesOnly: this.option(\"repaintChangesOnly\")\r\n                })\r\n            }\r\n            if (editMode === EDIT_MODE_POPUP) {\r\n                this._hideEditPopup()\r\n            }\r\n        },\r\n        _hideEditPopup: function() {\r\n            this._editPopup && this._editPopup.option(\"visible\", false)\r\n        },\r\n        hasEditData: function() {\r\n            return this.hasChanges()\r\n        },\r\n        closeEditCell: function(isError, withoutSaveEditData) {\r\n            var _this20 = this;\r\n            var that = this;\r\n            var result = (0, _deferred.when)();\r\n            var oldEditRowIndex = that._getVisibleEditRowIndex();\r\n            if (!_isRowEditMode(that)) {\r\n                result = (0, _deferred.Deferred)();\r\n                this.executeOperation(result, function() {\r\n                    _this20._closeEditCellCore(isError, oldEditRowIndex, withoutSaveEditData);\r\n                    result.resolve()\r\n                })\r\n            }\r\n            return result.promise()\r\n        },\r\n        _closeEditCellCore: function(isError, oldEditRowIndex, withoutSaveEditData) {\r\n            var that = this;\r\n            var editMode = _getEditMode(that);\r\n            var dataController = that._dataController;\r\n            if (editMode === EDIT_MODE_CELL && that.hasChanges()) {\r\n                if (!withoutSaveEditData) {\r\n                    that.saveEditData().done(function(error) {\r\n                        if (!that.hasChanges()) {\r\n                            that.closeEditCell(!!error)\r\n                        }\r\n                    })\r\n                }\r\n            } else {\r\n                if (oldEditRowIndex >= 0) {\r\n                    var rowIndices = [oldEditRowIndex];\r\n                    this._resetEditRowKey();\r\n                    that._resetEditColumnName();\r\n                    that._beforeCloseEditCellInBatchMode(rowIndices);\r\n                    if (!isError) {\r\n                        dataController.updateItems({\r\n                            changeType: \"update\",\r\n                            rowIndices: rowIndices\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        update: function(changeType) {\r\n            var that = this;\r\n            var dataController = that._dataController;\r\n            if (dataController && that._pageIndex !== dataController.pageIndex()) {\r\n                if (\"refresh\" === changeType) {\r\n                    that.refresh(true)\r\n                }\r\n                that._pageIndex = dataController.pageIndex()\r\n            }\r\n            that._updateEditButtons()\r\n        },\r\n        _getRowIndicesForCascadeUpdating: function(row, skipCurrentRow) {\r\n            return skipCurrentRow ? [] : [row.rowIndex]\r\n        },\r\n        addDeferred: function(deferred) {\r\n            var _this21 = this;\r\n            if (this._deferreds.indexOf(deferred) < 0) {\r\n                this._deferreds.push(deferred);\r\n                deferred.always(function() {\r\n                    var index = _this21._deferreds.indexOf(deferred);\r\n                    if (index >= 0) {\r\n                        _this21._deferreds.splice(index, 1)\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        _prepareChange: function(options, value, text) {\r\n            var _options$row;\r\n            var that = this;\r\n            var newData = {};\r\n            var oldData = null === (_options$row = options.row) || void 0 === _options$row ? void 0 : _options$row.data;\r\n            var rowKey = options.key;\r\n            var $cellElement = (0, _renderer.default)(options.cellElement);\r\n            var editMode = _getEditMode(that);\r\n            var deferred = new _deferred.Deferred;\r\n            if (void 0 !== rowKey) {\r\n                if (editMode === EDIT_MODE_BATCH) {\r\n                    that._applyModified($cellElement, options)\r\n                }\r\n                options.value = value;\r\n                var setCellValueResult = (0, _deferred.fromPromise)(options.column.setCellValue(newData, value, (0, _extend.extend)(true, {}, oldData), text));\r\n                setCellValueResult.done(function() {\r\n                    deferred.resolve({\r\n                        data: newData,\r\n                        key: rowKey,\r\n                        oldData: oldData,\r\n                        type: DATA_EDIT_DATA_UPDATE_TYPE\r\n                    })\r\n                }).fail(createFailureHandler(deferred)).fail(function(arg) {\r\n                    return that._fireDataErrorOccurred(arg)\r\n                });\r\n                if ((0, _type.isDefined)(text) && options.column.displayValueMap) {\r\n                    options.column.displayValueMap[value] = text\r\n                }\r\n                that._updateRowValues(options);\r\n                that.addDeferred(deferred)\r\n            }\r\n            return deferred\r\n        },\r\n        _updateRowValues: function(options) {\r\n            if (options.values) {\r\n                var dataController = this._dataController;\r\n                var rowIndex = dataController.getRowIndexByKey(options.key);\r\n                var row = dataController.getVisibleRows()[rowIndex];\r\n                if (row) {\r\n                    options.values = row.values\r\n                }\r\n                options.values[options.columnIndex] = options.value\r\n            }\r\n        },\r\n        updateFieldValue: function(options, value, text, forceUpdateRow) {\r\n            var _this22 = this;\r\n            var rowKey = options.key;\r\n            var deferred = new _deferred.Deferred;\r\n            if (void 0 === rowKey) {\r\n                this._dataController.fireError(\"E1043\")\r\n            }\r\n            if (options.column.setCellValue) {\r\n                this._prepareChange(options, value, text).done(function(params) {\r\n                    (0, _deferred.when)(_this22._applyChange(options, params, forceUpdateRow)).always(function() {\r\n                        deferred.resolve()\r\n                    })\r\n                })\r\n            } else {\r\n                deferred.resolve()\r\n            }\r\n            return deferred.promise()\r\n        },\r\n        _focusPreviousEditingCellIfNeed: function(options) {\r\n            var that = this;\r\n            if (that.hasEditData() && !that.isEditCell(options.rowIndex, options.columnIndex)) {\r\n                that._focusEditingCell();\r\n                that._updateEditRow(options.row, true);\r\n                return true\r\n            }\r\n        },\r\n        _needUpdateRow: function(column) {\r\n            var visibleColumns = this._columnsController.getVisibleColumns();\r\n            if (!column) {\r\n                column = this._getEditColumn()\r\n            }\r\n            var isCustomSetCellValue = column && column.setCellValue !== column.defaultSetCellValue;\r\n            var isCustomCalculateCellValue = visibleColumns.some(function(visibleColumn) {\r\n                return visibleColumn.calculateCellValue !== visibleColumn.defaultCalculateCellValue\r\n            });\r\n            return isCustomSetCellValue || isCustomCalculateCellValue\r\n        },\r\n        _applyChange: function(options, params, forceUpdateRow) {\r\n            var that = this;\r\n            var editMode = _getEditMode(that);\r\n            var isCustomSetCellValue = options.column.setCellValue !== options.column.defaultSetCellValue;\r\n            var showEditorAlways = options.column.showEditorAlways;\r\n            var isUpdateInCellMode = editMode === EDIT_MODE_CELL && options.row && !options.row.isNewRow;\r\n            var focusPreviousEditingCell = showEditorAlways && !forceUpdateRow && isUpdateInCellMode && that.hasEditData() && !that.isEditCell(options.rowIndex, options.columnIndex);\r\n            if (focusPreviousEditingCell) {\r\n                that._focusEditingCell();\r\n                that._updateEditRow(options.row, true, isCustomSetCellValue);\r\n                return\r\n            }\r\n            that._addChange(params, options.row);\r\n            that._updateEditButtons();\r\n            if (showEditorAlways && !forceUpdateRow) {\r\n                if (isUpdateInCellMode) {\r\n                    that._setEditRowKey(options.row.key, true);\r\n                    that._setEditColumnNameByIndex(options.columnIndex, true);\r\n                    return that.saveEditData()\r\n                } else {\r\n                    if (editMode === EDIT_MODE_BATCH) {\r\n                        forceUpdateRow = that._needUpdateRow(options.column)\r\n                    }\r\n                }\r\n            }\r\n            var row = options.row;\r\n            if (row) {\r\n                if (forceUpdateRow || isCustomSetCellValue) {\r\n                    that._updateEditRow(row, forceUpdateRow, isCustomSetCellValue)\r\n                } else {\r\n                    if (row.update) {\r\n                        row.update()\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        _updateEditRowCore: function(row, skipCurrentRow, isCustomSetCellValue) {\r\n            var that = this;\r\n            var editForm = that._editForm;\r\n            var editMode = _getEditMode(that);\r\n            if (editMode === EDIT_MODE_POPUP) {\r\n                if (that.option(\"repaintChangesOnly\")) {\r\n                    row.update && row.update(row)\r\n                } else {\r\n                    if (editForm) {\r\n                        that._updateEditFormDeferred = (new _deferred.Deferred).done(function() {\r\n                            return editForm.repaint()\r\n                        });\r\n                        if (!that._updateLockCount) {\r\n                            that._updateEditFormDeferred.resolve()\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                that._dataController.updateItems({\r\n                    changeType: \"update\",\r\n                    rowIndices: that._getRowIndicesForCascadeUpdating(row, skipCurrentRow)\r\n                })\r\n            }\r\n        },\r\n        _endUpdateCore: function() {\r\n            this._updateEditFormDeferred && this._updateEditFormDeferred.resolve()\r\n        },\r\n        _updateEditRow: function(row, forceUpdateRow, isCustomSetCellValue) {\r\n            var that = this;\r\n            if (forceUpdateRow || !_isRowEditMode(that)) {\r\n                that._updateEditRowCore(row, !forceUpdateRow, isCustomSetCellValue);\r\n                if (!forceUpdateRow) {\r\n                    that._focusEditingCell()\r\n                }\r\n            } else {\r\n                var deferred = new _deferred.Deferred;\r\n                that.addDeferred(deferred);\r\n                setTimeout(function() {\r\n                    var $focusedElement = (0, _renderer.default)(_dom_adapter.default.getActiveElement());\r\n                    var columnIndex = that._rowsView.getCellIndex($focusedElement, row.rowIndex);\r\n                    var focusedElement = $focusedElement.get(0);\r\n                    var selectionRange = _uiGrid_core2.default.getSelectionRange(focusedElement);\r\n                    that._updateEditRowCore(row, false, isCustomSetCellValue);\r\n                    if (columnIndex >= 0) {\r\n                        var $focusedItem = that._rowsView._getCellElement(row.rowIndex, columnIndex);\r\n                        that._delayedInputFocus($focusedItem, function() {\r\n                            setTimeout(function() {\r\n                                focusedElement = _dom_adapter.default.getActiveElement();\r\n                                if (selectionRange.selectionStart >= 0) {\r\n                                    _uiGrid_core2.default.setSelectionRange(focusedElement, selectionRange)\r\n                                }\r\n                            })\r\n                        })\r\n                    }\r\n                    deferred.resolve()\r\n                })\r\n            }\r\n        },\r\n        _addChange: function(options, row) {\r\n            var changes = _toConsumableArray(this.getChanges());\r\n            var index = _uiGrid_core2.default.getIndexByKey(options.key, changes);\r\n            if (index < 0) {\r\n                index = changes.length;\r\n                this._addInternalData({\r\n                    key: options.key,\r\n                    oldData: options.oldData\r\n                });\r\n                delete options.oldData;\r\n                changes.push(options)\r\n            }\r\n            var change = _objectSpread({}, changes[index]);\r\n            if (change) {\r\n                if (options.data) {\r\n                    change.data = (0, _array_utils.createObjectWithChanges)(change.data, options.data)\r\n                }\r\n                if ((!change.type || !options.data) && options.type) {\r\n                    change.type = options.type\r\n                }\r\n                if (row) {\r\n                    row.oldData = this._getOldData(row.key);\r\n                    row.data = (0, _array_utils.createObjectWithChanges)(row.data, options.data)\r\n                }\r\n            }\r\n            changes[index] = change;\r\n            this._silentOption(EDITING_CHANGES_OPTION_NAME, changes);\r\n            return index\r\n        },\r\n        _getFormEditItemTemplate: function(cellOptions, column) {\r\n            return column.editCellTemplate || getDefaultEditorTemplate(this)\r\n        },\r\n        renderFormEditTemplate: function(detailCellOptions, item, form, container, isReadOnly) {\r\n            var that = this;\r\n            var $container = (0,\r\n                _renderer.default)(container);\r\n            var column = item.column;\r\n            var editorType = getEditorType(item);\r\n            var rowData = null === detailCellOptions || void 0 === detailCellOptions ? void 0 : detailCellOptions.row.data;\r\n            var cellOptions = (0, _extend.extend)({}, detailCellOptions, {\r\n                data: rowData,\r\n                cellElement: null,\r\n                isOnForm: true,\r\n                item: item,\r\n                column: (0, _extend.extend)({}, column, {\r\n                    editorType: editorType,\r\n                    editorOptions: item.editorOptions\r\n                }),\r\n                id: form.getItemID(item.name || item.dataField),\r\n                columnIndex: column.index,\r\n                setValue: !isReadOnly && column.allowEditing && function(value) {\r\n                    that.updateFieldValue(cellOptions, value)\r\n                }\r\n            });\r\n            cellOptions.value = column.calculateCellValue(rowData);\r\n            var template = that._getFormEditItemTemplate.bind(that)(cellOptions, column);\r\n            that._rowsView.renderTemplate($container, template, cellOptions, !!$container.closest((0, _window.getWindow)().document).length).done(function() {\r\n                that._rowsView._updateCell($container, cellOptions)\r\n            });\r\n            return cellOptions\r\n        },\r\n        getFormEditorTemplate: function(cellOptions, item) {\r\n            var that = this;\r\n            var column = this.component.columnOption(item.dataField);\r\n            return function(options, container) {\r\n                var $container = (0, _renderer.default)(container);\r\n                cellOptions.row.watch && cellOptions.row.watch(function() {\r\n                    return column.selector(cellOptions.row.data)\r\n                }, function() {\r\n                    var _validator;\r\n                    var $editorElement = $container.find(\".dx-widget\").first();\r\n                    var validator = $editorElement.data(\"dxValidator\");\r\n                    var validatorOptions = null === (_validator = validator) || void 0 === _validator ? void 0 : _validator.option();\r\n                    $container.contents().remove();\r\n                    cellOptions = that.renderFormEditTemplate.bind(that)(cellOptions, item, options.component, $container);\r\n                    $editorElement = $container.find(\".dx-widget\").first();\r\n                    validator = $editorElement.data(\"dxValidator\");\r\n                    if (validatorOptions && !validator) {\r\n                        $editorElement.dxValidator({\r\n                            validationRules: validatorOptions.validationRules,\r\n                            validationGroup: validatorOptions.validationGroup,\r\n                            dataGetter: validatorOptions.dataGetter\r\n                        })\r\n                    }\r\n                });\r\n                cellOptions = that.renderFormEditTemplate.bind(that)(cellOptions, item, options.component, $container)\r\n            }\r\n        },\r\n        getEditFormOptions: function(detailOptions) {\r\n            var userCustomizeItem = this.option(\"editing.form.customizeItem\");\r\n            var editFormItemClass = this.addWidgetPrefix(EDIT_FORM_ITEM_CLASS);\r\n            var items = this.option(\"editing.form.items\");\r\n            var isCustomEditorType = {};\r\n            var that = this;\r\n            if (!items) {\r\n                var columns = this.getController(\"columns\").getColumns();\r\n                items = [];\r\n                (0, _iterator.each)(columns, function(_, column) {\r\n                    if (!column.isBand && !column.type) {\r\n                        items.push({\r\n                            column: column,\r\n                            name: column.name,\r\n                            dataField: column.dataField\r\n                        })\r\n                    }\r\n                })\r\n            } else {\r\n                forEachFormItems(items, function(item) {\r\n                    var itemId = (null === item || void 0 === item ? void 0 : item.name) || (null === item || void 0 === item ? void 0 : item.dataField);\r\n                    if (itemId) {\r\n                        isCustomEditorType[itemId] = !!item.editorType\r\n                    }\r\n                })\r\n            }\r\n            return {\r\n                items: items,\r\n                formID: \"dx-\" + new _guid.default,\r\n                customizeItem: function(item) {\r\n                    var column;\r\n                    var itemId = item.name || item.dataField;\r\n                    if (item.column || itemId) {\r\n                        column = item.column || that._columnsController.columnOption(item.name ? \"name:\" + item.name : \"dataField:\" + item.dataField)\r\n                    }\r\n                    if (column) {\r\n                        item.label = item.label || {};\r\n                        item.label.text = item.label.text || column.caption;\r\n                        item.template = item.template || that.getFormEditorTemplate(detailOptions, item);\r\n                        item.column = column;\r\n                        item.isCustomEditorType = isCustomEditorType[itemId];\r\n                        if (column.formItem) {\r\n                            (0, _extend.extend)(item, column.formItem)\r\n                        }\r\n                        if (void 0 === item.isRequired && column.validationRules) {\r\n                            item.isRequired = column.validationRules.some(function(rule) {\r\n                                return \"required\" === rule.type\r\n                            });\r\n                            item.validationRules = []\r\n                        }\r\n                        var itemVisible = (0, _type.isDefined)(item.visible) ? item.visible : true;\r\n                        if (!that._firstFormItem && itemVisible) {\r\n                            that._firstFormItem = item\r\n                        }\r\n                    }\r\n                    userCustomizeItem && userCustomizeItem.call(this, item);\r\n                    item.cssClass = (0, _type.isString)(item.cssClass) ? item.cssClass + \" \" + editFormItemClass : editFormItemClass\r\n                }\r\n            }\r\n        },\r\n        getEditFormTemplate: function() {\r\n            var that = this;\r\n            return function($container, detailOptions, renderFormOnly) {\r\n                var editFormOptions = that.option(\"editing.form\");\r\n                var baseEditFormOptions = that.getEditFormOptions(detailOptions);\r\n                that._firstFormItem = void 0;\r\n                that._editForm = that._createComponent((0, _renderer.default)(\"<div>\").appendTo($container), _form.default, (0, _extend.extend)({}, editFormOptions, baseEditFormOptions));\r\n                if (!renderFormOnly) {\r\n                    var $buttonsContainer = (0, _renderer.default)(\"<div>\").addClass(that.addWidgetPrefix(FORM_BUTTONS_CONTAINER_CLASS)).appendTo($container);\r\n                    that._createComponent((0, _renderer.default)(\"<div>\").appendTo($buttonsContainer), _button.default, that._getSaveButtonConfig());\r\n                    that._createComponent((0, _renderer.default)(\"<div>\").appendTo($buttonsContainer), _button.default, that._getCancelButtonConfig())\r\n                }\r\n                that._editForm.on(\"contentReady\", function() {\r\n                    that._editPopup && that._editPopup.repaint()\r\n                })\r\n            }\r\n        },\r\n        getColumnTemplate: function(options) {\r\n            var that = this;\r\n            var column = options.column;\r\n            var rowIndex = options.row && options.row.rowIndex;\r\n            var template;\r\n            var isRowMode = _isRowEditMode(that);\r\n            var isRowEditing = that.isEditRow(rowIndex);\r\n            var isCellEditing = that.isEditCell(rowIndex, options.columnIndex);\r\n            var editingStartOptions;\r\n            if ((column.showEditorAlways || column.setCellValue && (isRowEditing && column.allowEditing || isCellEditing)) && (\"data\" === options.rowType || \"detailAdaptive\" === options.rowType) && !column.command) {\r\n                var allowUpdating = that.allowUpdating(options);\r\n                if (((allowUpdating || isRowEditing) && column.allowEditing || isCellEditing) && (isRowMode && isRowEditing || !isRowMode)) {\r\n                    if (column.showEditorAlways && !isRowMode) {\r\n                        editingStartOptions = {\r\n                            cancel: false,\r\n                            key: options.row.isNewRow ? void 0 : options.row.key,\r\n                            data: options.row.data,\r\n                            column: column\r\n                        };\r\n                        that._isEditingStart(editingStartOptions)\r\n                    }\r\n                    if (!editingStartOptions || !editingStartOptions.cancel) {\r\n                        options.setValue = function(value, text) {\r\n                            that.updateFieldValue(options, value, text)\r\n                        }\r\n                    }\r\n                }\r\n                template = column.editCellTemplate || getDefaultEditorTemplate(that)\r\n            } else {\r\n                if (\"detail\" === column.command && \"detail\" === options.rowType && isRowEditing) {\r\n                    template = that.getEditFormTemplate(options)\r\n                }\r\n            }\r\n            return template\r\n        },\r\n        _createButton: function($container, button, options) {\r\n            var that = this;\r\n            var icon = EDIT_ICON_CLASS[button.name];\r\n            var useIcons = that.option(\"editing.useIcons\");\r\n            var $button = (0, _renderer.default)(\"<a>\").attr(\"href\", \"#\").addClass(LINK_CLASS).addClass(button.cssClass);\r\n            if (button.template) {\r\n                that._rowsView.renderTemplate($container, button.template, options, true)\r\n            } else {\r\n                if (useIcons && icon || button.icon) {\r\n                    icon = button.icon || icon;\r\n                    var iconType = iconUtils.getImageSourceType(icon);\r\n                    if (\"image\" === iconType || \"svg\" === iconType) {\r\n                        $button = iconUtils.getImageContainer(icon).addClass(button.cssClass)\r\n                    } else {\r\n                        $button.addClass(\"dx-icon\" + (\"dxIcon\" === iconType ? \"-\" : \" \") + icon).attr(\"title\", button.text)\r\n                    }\r\n                    $button.addClass(\"dx-link-icon\");\r\n                    $container.addClass(COMMAND_EDIT_WITH_ICONS_CLASS);\r\n                    var localizationName = this.getButtonLocalizationNames()[button.name];\r\n                    localizationName && $button.attr(\"aria-label\", _message.default.format(localizationName))\r\n                } else {\r\n                    $button.text(button.text)\r\n                }\r\n                if ((0, _type.isDefined)(button.hint)) {\r\n                    $button.attr(\"title\", button.hint)\r\n                }\r\n                _events_engine.default.on($button, (0, _index.addNamespace)(\"click\", EDITING_NAMESPACE), that.createAction(function(e) {\r\n                    button.onClick.call(button, (0, _extend.extend)({}, e, {\r\n                        row: options.row,\r\n                        column: options.column\r\n                    }));\r\n                    e.event.preventDefault();\r\n                    e.event.stopPropagation()\r\n                }));\r\n                $container.append($button, \"&nbsp;\")\r\n            }\r\n        },\r\n        getButtonLocalizationNames: function() {\r\n            return {\r\n                edit: \"dxDataGrid-editingEditRow\",\r\n                save: \"dxDataGrid-editingSaveRowChanges\",\r\n                \"delete\": \"dxDataGrid-editingDeleteRow\",\r\n                undelete: \"dxDataGrid-editingUndeleteRow\",\r\n                cancel: \"dxDataGrid-editingCancelRowChanges\"\r\n            }\r\n        },\r\n        prepareEditButtons: function(headerPanel) {\r\n            var that = this;\r\n            var editingOptions = that.option(\"editing\") || {};\r\n            var editingTexts = that.option(\"editing.texts\") || {};\r\n            var titleButtonTextByClassNames = {\r\n                revert: editingTexts.cancelAllChanges,\r\n                save: editingTexts.saveAllChanges,\r\n                addRow: editingTexts.addRow\r\n            };\r\n            var classNameButtonByNames = {\r\n                revert: \"cancel\",\r\n                save: \"save\",\r\n                addRow: \"addrow\"\r\n            };\r\n            var buttonItems = [];\r\n            var prepareButtonItem = function(name, methodName, sortIndex) {\r\n                var className = classNameButtonByNames[name];\r\n                var onInitialized = function(e) {\r\n                    (0, _renderer.default)(e.element).addClass(headerPanel._getToolbarButtonClass(EDIT_BUTTON_CLASS + \" \" + that.addWidgetPrefix(className) + \"-button\"))\r\n                };\r\n                var hintText = titleButtonTextByClassNames[name];\r\n                var isButtonDisabled = (\"save\" === className || \"cancel\" === className) && !that.hasChanges();\r\n                return {\r\n                    widget: \"dxButton\",\r\n                    options: {\r\n                        onInitialized: onInitialized,\r\n                        icon: \"edit-button-\" + className,\r\n                        disabled: isButtonDisabled,\r\n                        onClick: function() {\r\n                            setTimeout(function() {\r\n                                that[methodName]()\r\n                            })\r\n                        },\r\n                        text: hintText,\r\n                        hint: hintText\r\n                    },\r\n                    showText: \"inMenu\",\r\n                    name: name + \"Button\",\r\n                    location: \"after\",\r\n                    locateInMenu: \"auto\",\r\n                    sortIndex: sortIndex\r\n                }\r\n            };\r\n            if (editingOptions.allowAdding) {\r\n                buttonItems.push(prepareButtonItem(\"addRow\", \"addRow\", 20))\r\n            }\r\n            if ((editingOptions.allowUpdating || editingOptions.allowAdding || editingOptions.allowDeleting) && _getEditMode(that) === EDIT_MODE_BATCH) {\r\n                buttonItems.push(prepareButtonItem(\"save\", \"saveEditData\", 21));\r\n                buttonItems.push(prepareButtonItem(\"revert\", \"cancelEditData\", 22))\r\n            }\r\n            return buttonItems\r\n        },\r\n        highlightDataCell: function($cell, parameters) {\r\n            var cellModified = this.isCellModified(parameters);\r\n            cellModified && parameters.column.setCellValue && $cell.addClass(CELL_MODIFIED)\r\n        },\r\n        _afterInsertRow: function() {},\r\n        _beforeSaveEditData: function(change) {\r\n            if (change && !(0, _type.isDefined)(change.key) && (0, _type.isDefined)(change.type)) {\r\n                return true\r\n            }\r\n        },\r\n        _afterSaveEditData: function() {},\r\n        _beforeCancelEditData: function() {},\r\n        _allowEditAction: function(actionName, options) {\r\n            var allowEditAction = this.option(\"editing.\" + actionName);\r\n            if ((0, _type.isFunction)(allowEditAction)) {\r\n                allowEditAction = allowEditAction({\r\n                    component: this.component,\r\n                    row: options.row\r\n                })\r\n            }\r\n            return allowEditAction\r\n        },\r\n        allowUpdating: function(options, eventName) {\r\n            var startEditAction = this.option(\"editing.startEditAction\") || DEFAULT_START_EDIT_ACTION;\r\n            var needCallback = arguments.length > 1 ? startEditAction === eventName || \"down\" === eventName : true;\r\n            return needCallback && this._allowEditAction(\"allowUpdating\", options)\r\n        },\r\n        allowDeleting: function(options) {\r\n            return this._allowEditAction(\"allowDeleting\", options)\r\n        },\r\n        isCellModified: function(parameters) {\r\n            var columnIndex = parameters.columnIndex;\r\n            var modifiedValues = parameters.row && (parameters.row.isNewRow ? parameters.row.values : parameters.row.modifiedValues);\r\n            return !!modifiedValues && void 0 !== modifiedValues[columnIndex]\r\n        }\r\n    }\r\n}());\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            editing: {\r\n                mode: \"row\",\r\n                refreshMode: \"full\",\r\n                allowAdding: false,\r\n                allowUpdating: false,\r\n                allowDeleting: false,\r\n                useIcons: false,\r\n                selectTextOnEditStart: false,\r\n                confirmDelete: true,\r\n                texts: {\r\n                    editRow: _message.default.format(\"dxDataGrid-editingEditRow\"),\r\n                    saveAllChanges: _message.default.format(\"dxDataGrid-editingSaveAllChanges\"),\r\n                    saveRowChanges: _message.default.format(\"dxDataGrid-editingSaveRowChanges\"),\r\n                    cancelAllChanges: _message.default.format(\"dxDataGrid-editingCancelAllChanges\"),\r\n                    cancelRowChanges: _message.default.format(\"dxDataGrid-editingCancelRowChanges\"),\r\n                    addRow: _message.default.format(\"dxDataGrid-editingAddRow\"),\r\n                    deleteRow: _message.default.format(\"dxDataGrid-editingDeleteRow\"),\r\n                    undeleteRow: _message.default.format(\"dxDataGrid-editingUndeleteRow\"),\r\n                    confirmDeleteMessage: _message.default.format(\"dxDataGrid-editingConfirmDeleteMessage\"),\r\n                    confirmDeleteTitle: \"\"\r\n                },\r\n                form: {\r\n                    colCount: 2\r\n                },\r\n                popup: {},\r\n                startEditAction: \"click\",\r\n                editRowKey: null,\r\n                editColumnName: null,\r\n                changes: []\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        editing: EditingController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                init: function() {\r\n                    this._editingController = this.getController(\"editing\");\r\n                    this.callBase()\r\n                },\r\n                reload: function(full, repaintChangesOnly) {\r\n                    !repaintChangesOnly && this._editingController.refresh();\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                repaintRows: function() {\r\n                    if (this.getController(\"editing\").isSaving()) {\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _updateEditRow: function(items) {\r\n                    var editingController = this._editingController;\r\n                    var editRowKey = this.option(EDITING_EDITROWKEY_OPTION_NAME);\r\n                    var editRowIndex = _uiGrid_core2.default.getIndexByKey(editRowKey, items);\r\n                    var editItem = items[editRowIndex];\r\n                    if (editItem) {\r\n                        editItem.isEditing = true;\r\n                        if (editingController.getEditMode() === EDIT_MODE_FORM) {\r\n                            editItem.rowType = \"detail\"\r\n                        }\r\n                    }\r\n                },\r\n                _updateItemsCore: function(change) {\r\n                    this.callBase(change);\r\n                    this._updateEditRow(this.items())\r\n                },\r\n                _applyChangeUpdate: function(change) {\r\n                    this._updateEditRow(change.items);\r\n                    this.callBase(change)\r\n                },\r\n                _applyChangesOnly: function(change) {\r\n                    this._updateEditRow(change.items);\r\n                    this.callBase(change)\r\n                },\r\n                _processItems: function(items, change) {\r\n                    items = this._editingController.processItems(items, change);\r\n                    return this.callBase(items, change)\r\n                },\r\n                _processDataItem: function(dataItem, options) {\r\n                    this._editingController.processDataItem(dataItem, options, this.generateDataValues);\r\n                    return this.callBase(dataItem, options)\r\n                },\r\n                _processItem: function(item, options) {\r\n                    item = this.callBase(item, options);\r\n                    if (item.isNewRow) {\r\n                        options.dataIndex--;\r\n                        delete item.dataIndex\r\n                    }\r\n                    return item\r\n                },\r\n                _getChangedColumnIndices: function(oldItem, newItem, rowIndex, isLiveUpdate) {\r\n                    var editingController = this.getController(\"editing\");\r\n                    var isRowEditMode = editingController.isRowEditMode();\r\n                    if (oldItem.isNewRow !== newItem.isNewRow || oldItem.removed !== newItem.removed || isRowEditMode && oldItem.isEditing !== newItem.isEditing) {\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _isCellChanged: function(oldRow, newRow, visibleRowIndex, columnIndex, isLiveUpdate) {\r\n                    var editingController = this.getController(\"editing\");\r\n                    var cell = oldRow.cells && oldRow.cells[columnIndex];\r\n                    var isEditing = editingController && editingController.isEditCell(visibleRowIndex, columnIndex);\r\n                    if (isLiveUpdate && isEditing) {\r\n                        return false\r\n                    }\r\n                    if (cell && cell.column && !cell.column.showEditorAlways && cell.isEditing !== isEditing) {\r\n                        return true\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: {\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._editingController = this.getController(\"editing\")\r\n                },\r\n                getCellElements: function(rowIndex) {\r\n                    var $cellElements = this.callBase(rowIndex);\r\n                    var editingController = this._editingController;\r\n                    var editForm = editingController.getEditForm();\r\n                    var editFormRowIndex = editingController.getEditFormRowIndex();\r\n                    if (editFormRowIndex === rowIndex && $cellElements && editForm) {\r\n                        return editForm.$element().find(\".\" + this.addWidgetPrefix(EDIT_FORM_ITEM_CLASS) + \", .\" + BUTTON_CLASS)\r\n                    }\r\n                    return $cellElements\r\n                },\r\n                getCellIndex: function($cell, rowIndex) {\r\n                    if (!$cell.is(\"td\") && rowIndex >= 0) {\r\n                        var $cellElements = this.getCellElements(rowIndex);\r\n                        var cellIndex = -1;\r\n                        (0, _iterator.each)($cellElements, function(index, cellElement) {\r\n                            if ((0, _renderer.default)(cellElement).find($cell).length) {\r\n                                cellIndex = index\r\n                            }\r\n                        });\r\n                        return cellIndex\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _getVisibleColumnIndex: function($cells, rowIndex, columnIdentifier) {\r\n                    var editFormRowIndex = this._editingController.getEditFormRowIndex();\r\n                    if (editFormRowIndex === rowIndex && (0, _type.isString)(columnIdentifier)) {\r\n                        var column = this._columnsController.columnOption(columnIdentifier);\r\n                        return this._getEditFormEditorVisibleIndex($cells, column)\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _getEditFormEditorVisibleIndex: function($cells, column) {\r\n                    var visibleIndex = -1;\r\n                    (0, _iterator.each)($cells, function(index, cellElement) {\r\n                        var item = (0, _renderer.default)(cellElement).find(\".dx-field-item-content\").data(\"dx-form-item\");\r\n                        if (item && item.column && column && item.column.index === column.index) {\r\n                            visibleIndex = index;\r\n                            return false\r\n                        }\r\n                    });\r\n                    return visibleIndex\r\n                },\r\n                publicMethods: function() {\r\n                    return this.callBase().concat([\"cellValue\"])\r\n                },\r\n                _getCellTemplate: function(options) {\r\n                    var that = this;\r\n                    var template = that._editingController.getColumnTemplate(options);\r\n                    return template || that.callBase(options)\r\n                },\r\n                _isNativeClick: function() {\r\n                    return (_devices.default.real().ios || _devices.default.real().android) && this.option(\"editing.allowUpdating\")\r\n                },\r\n                _createTable: function() {\r\n                    var that = this;\r\n                    var $table = that.callBase.apply(that, arguments);\r\n                    if (!_isRowEditMode(that) && that.option(\"editing.allowUpdating\")) {\r\n                        _events_engine.default.on($table, (0, _index.addNamespace)(_hold.default.name, \"dxDataGridRowsView\"), \"td:not(.\" + EDITOR_CELL_CLASS + \")\", that.createAction(function() {\r\n                            var editingController = that._editingController;\r\n                            if (editingController.isEditing()) {\r\n                                editingController.closeEditCell()\r\n                            }\r\n                        }))\r\n                    }\r\n                    return $table\r\n                },\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase(row);\r\n                    if (row) {\r\n                        var editingController = this._editingController;\r\n                        var isEditRow = editingController.isEditRow(row.rowIndex);\r\n                        var isRowRemoved = !!row.removed;\r\n                        var isRowInserted = !!row.isNewRow;\r\n                        var isRowModified = !!row.modified;\r\n                        if (_getEditMode(this) === EDIT_MODE_BATCH) {\r\n                            isRowRemoved && $row.addClass(ROW_REMOVED)\r\n                        } else {\r\n                            isEditRow && $row.addClass(EDIT_ROW)\r\n                        }\r\n                        isRowInserted && $row.addClass(ROW_INSERTED);\r\n                        isRowModified && $row.addClass(ROW_MODIFIED);\r\n                        if (isEditRow || isRowInserted || isRowRemoved) {\r\n                            $row.removeClass(ROW_SELECTED)\r\n                        }\r\n                        if (isEditRow && \"detail\" === row.rowType) {\r\n                            $row.addClass(this.addWidgetPrefix(EDIT_FORM_CLASS))\r\n                        }\r\n                    }\r\n                    return $row\r\n                },\r\n                _getColumnIndexByElement: function($element) {\r\n                    var $tableElement = $element.closest(\"table\");\r\n                    var $tableElements = this.getTableElements();\r\n                    while ($tableElement.length && !$tableElements.filter($tableElement).length) {\r\n                        $element = $tableElement.closest(\"td\");\r\n                        $tableElement = $element.closest(\"table\")\r\n                    }\r\n                    return this._getColumnIndexByElementCore($element)\r\n                },\r\n                _getColumnIndexByElementCore: function($element) {\r\n                    var $targetElement = $element.closest(\".\" + ROW_CLASS + \"> td:not(.dx-master-detail-cell)\");\r\n                    return this.getCellIndex($targetElement)\r\n                },\r\n                _editCellByClick: function(e, eventName) {\r\n                    var that = this;\r\n                    var editingController = that._editingController;\r\n                    var $targetElement = (0, _renderer.default)(e.event.target);\r\n                    var columnIndex = that._getColumnIndexByElement($targetElement);\r\n                    var row = that._dataController.items()[e.rowIndex];\r\n                    var allowUpdating = editingController.allowUpdating({\r\n                        row: row\r\n                    }, eventName) || row && row.isNewRow;\r\n                    var column = that._columnsController.getVisibleColumns()[columnIndex];\r\n                    var allowEditing = allowUpdating && column && (column.allowEditing || editingController.isEditCell(e.rowIndex, columnIndex));\r\n                    var startEditAction = that.option(\"editing.startEditAction\") || \"click\";\r\n                    if (\"down\" === eventName) {\r\n                        return column && column.showEditorAlways && allowEditing && editingController.editCell(e.rowIndex, columnIndex)\r\n                    }\r\n                    if (\"click\" === eventName && \"dblClick\" === startEditAction && !editingController.isEditCell(e.rowIndex, columnIndex)) {\r\n                        editingController.closeEditCell()\r\n                    }\r\n                    if (allowEditing && eventName === startEditAction) {\r\n                        return editingController.editCell(e.rowIndex, columnIndex) || editingController.isEditRow(e.rowIndex)\r\n                    }\r\n                },\r\n                _rowPointerDown: function(e) {\r\n                    var _this23 = this;\r\n                    this._pointerDownTimeout = setTimeout(function() {\r\n                        _this23._editCellByClick(e, \"down\")\r\n                    })\r\n                },\r\n                _rowClick: function(e) {\r\n                    var isEditForm = (0, _renderer.default)(e.rowElement).hasClass(this.addWidgetPrefix(EDIT_FORM_CLASS));\r\n                    e.event[TARGET_COMPONENT_NAME] = this.component;\r\n                    if (!this._editCellByClick(e, \"click\") && !isEditForm) {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                _rowDblClick: function(e) {\r\n                    if (!this._editCellByClick(e, \"dblClick\")) {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                _cellPrepared: function($cell, parameters) {\r\n                    var editingController = this._editingController;\r\n                    var isCommandCell = !!parameters.column.command;\r\n                    var isEditableCell = parameters.setValue;\r\n                    var isEditRow = editingController.isEditRow(parameters.rowIndex);\r\n                    var isEditing = isEditingCell(isEditRow, parameters);\r\n                    if (isEditingOrShowEditorAlwaysDataCell(isEditRow, parameters)) {\r\n                        var alignment = parameters.column.alignment;\r\n                        $cell.toggleClass(this.addWidgetPrefix(READONLY_CLASS), !isEditableCell).toggleClass(CELL_FOCUS_DISABLED_CLASS, !isEditableCell);\r\n                        if (alignment) {\r\n                            $cell.find(EDITORS_INPUT_SELECTOR).first().css(\"textAlign\", alignment)\r\n                        }\r\n                    }\r\n                    if (isEditing) {\r\n                        this._editCellPrepared($cell)\r\n                    }\r\n                    if (parameters.column && !isCommandCell) {\r\n                        editingController.highlightDataCell($cell, parameters)\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _editCellPrepared: function($cell) {},\r\n                _formItemPrepared: function() {},\r\n                _isFormItem: function(parameters) {\r\n                    var isDetailRow = \"detail\" === parameters.rowType || \"detailAdaptive\" === parameters.rowType;\r\n                    var isPopupEditing = \"data\" === parameters.rowType && \"popup\" === _getEditMode(this);\r\n                    return (isDetailRow || isPopupEditing) && parameters.item\r\n                },\r\n                _updateCell: function($cell, parameters) {\r\n                    if (this._isFormItem(parameters)) {\r\n                        this._formItemPrepared(parameters, $cell)\r\n                    } else {\r\n                        this.callBase($cell, parameters)\r\n                    }\r\n                },\r\n                _update: function(change) {\r\n                    this.callBase(change);\r\n                    if (\"updateSelection\" === change.changeType) {\r\n                        this.getTableElements().children(\"tbody\").children(\".\" + EDIT_ROW).removeClass(ROW_SELECTED)\r\n                    }\r\n                },\r\n                _getCellOptions: function(options) {\r\n                    var cellOptions = this.callBase(options);\r\n                    cellOptions.isEditing = this._editingController.isEditCell(cellOptions.rowIndex, cellOptions.columnIndex);\r\n                    return cellOptions\r\n                },\r\n                _createCell: function(options) {\r\n                    var $cell = this.callBase(options);\r\n                    var isEditRow = this._editingController.isEditRow(options.rowIndex);\r\n                    isEditingOrShowEditorAlwaysDataCell(isEditRow, options) && $cell.addClass(EDITOR_CELL_CLASS);\r\n                    return $cell\r\n                },\r\n                _renderCellContent: function($cell, options) {\r\n                    if (\"data\" === options.rowType && _getEditMode(this) === EDIT_MODE_POPUP && false === options.row.visible) {\r\n                        return\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                cellValue: function(rowIndex, columnIdentifier, value, text) {\r\n                    var cellOptions = this.getCellOptions(rowIndex, columnIdentifier);\r\n                    if (cellOptions) {\r\n                        if (void 0 === value) {\r\n                            return cellOptions.value\r\n                        } else {\r\n                            this._editingController.updateFieldValue(cellOptions, value, text, true)\r\n                        }\r\n                    }\r\n                },\r\n                dispose: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    clearTimeout(this._pointerDownTimeout)\r\n                },\r\n                _renderCore: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    this._editingController._focusEditorIfNeed()\r\n                }\r\n            },\r\n            headerPanel: {\r\n                _getToolbarItems: function() {\r\n                    var items = this.callBase();\r\n                    var editButtonItems = this.getController(\"editing\").prepareEditButtons(this);\r\n                    return editButtonItems.concat(items)\r\n                },\r\n                optionChanged: function(args) {\r\n                    var fullName = args.fullName;\r\n                    switch (args.name) {\r\n                        case \"editing\":\r\n                            var excludedOptions = [EDITING_POPUP_OPTION_NAME, EDITING_CHANGES_OPTION_NAME, EDITING_EDITCOLUMNNAME_OPTION_NAME, EDITING_EDITROWKEY_OPTION_NAME];\r\n                            var shouldInvalidate = fullName && !excludedOptions.some(function(optionName) {\r\n                                return optionName === fullName\r\n                            });\r\n                            shouldInvalidate && this._invalidate();\r\n                            this.callBase(args);\r\n                            break;\r\n                        default:\r\n                            this.callBase(args)\r\n                    }\r\n                },\r\n                isVisible: function() {\r\n                    var that = this;\r\n                    var editingOptions = that.getController(\"editing\").option(\"editing\");\r\n                    return that.callBase() || editingOptions && (editingOptions.allowAdding || (editingOptions.allowUpdating || editingOptions.allowDeleting) && editingOptions.mode === EDIT_MODE_BATCH)\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/dialog.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.confirm = exports.alert = exports.custom = exports.title = exports.FakeDialogComponent = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../core/renderer\"));\r\nvar _component = _interopRequireDefault(require(\"../core/component\"));\r\nvar _action = _interopRequireDefault(require(\"../core/action\"));\r\nvar _devices = _interopRequireDefault(require(\"../core/devices\"));\r\nvar _config = _interopRequireDefault(require(\"../core/config\"));\r\nvar _dom = require(\"../core/utils/dom\");\r\nvar _deferred = require(\"../core/utils/deferred\");\r\nvar _type = require(\"../core/utils/type\");\r\nvar _iterator = require(\"../core/utils/iterator\");\r\nvar _extend = require(\"../core/utils/extend\");\r\nvar _window = require(\"../core/utils/window\");\r\nvar _events_engine = _interopRequireDefault(require(\"../events/core/events_engine\"));\r\nvar _view_port = require(\"../core/utils/view_port\");\r\nvar _message = _interopRequireDefault(require(\"../localization/message\"));\r\nvar _ui = _interopRequireDefault(require(\"./widget/ui.errors\"));\r\nvar _popup = _interopRequireDefault(require(\"./popup\"));\r\nvar _common = require(\"../core/utils/common\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar window = (0, _window.getWindow)();\r\nvar DEFAULT_BUTTON = {\r\n    text: \"OK\",\r\n    onClick: function() {\r\n        return true\r\n    }\r\n};\r\nvar DX_DIALOG_CLASSNAME = \"dx-dialog\";\r\nvar DX_DIALOG_WRAPPER_CLASSNAME = \"\".concat(DX_DIALOG_CLASSNAME, \"-wrapper\");\r\nvar DX_DIALOG_ROOT_CLASSNAME = \"\".concat(DX_DIALOG_CLASSNAME, \"-root\");\r\nvar DX_DIALOG_CONTENT_CLASSNAME = \"\".concat(DX_DIALOG_CLASSNAME, \"-content\");\r\nvar DX_DIALOG_MESSAGE_CLASSNAME = \"\".concat(DX_DIALOG_CLASSNAME, \"-message\");\r\nvar DX_DIALOG_BUTTONS_CLASSNAME = \"\".concat(DX_DIALOG_CLASSNAME, \"-buttons\");\r\nvar DX_DIALOG_BUTTON_CLASSNAME = \"\".concat(DX_DIALOG_CLASSNAME, \"-button\");\r\nvar DX_BUTTON_CLASSNAME = \"dx-button\";\r\nvar FakeDialogComponent = _component.default.inherit({\r\n    ctor: function(element, options) {\r\n        this.callBase(options)\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: {\r\n                platform: \"ios\"\r\n            },\r\n            options: {\r\n                width: 276\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"android\"\r\n            },\r\n            options: {\r\n                lWidth: \"60%\",\r\n                pWidth: \"80%\"\r\n            }\r\n        }])\r\n    }\r\n});\r\nexports.FakeDialogComponent = FakeDialogComponent;\r\nvar title = \"\";\r\nexports.title = title;\r\nvar custom = function(options) {\r\n    var deferred = new _deferred.Deferred;\r\n    var defaultOptions = (new FakeDialogComponent).option();\r\n    options = (0, _extend.extend)(defaultOptions, options);\r\n    var $element = (0, _renderer.default)(\"<div>\").addClass(DX_DIALOG_CLASSNAME).appendTo((0, _view_port.value)());\r\n    var isMessageDefined = \"message\" in options;\r\n    var isMessageHtmlDefined = \"messageHtml\" in options;\r\n    if (isMessageDefined) {\r\n        _ui.default.log(\"W1013\")\r\n    }\r\n    var messageHtml = String(isMessageHtmlDefined ? options.messageHtml : options.message);\r\n    var $message = (0, _renderer.default)(\"<div>\").addClass(DX_DIALOG_MESSAGE_CLASSNAME).html(messageHtml);\r\n    var popupToolbarItems = [];\r\n    (0, _iterator.each)(options.buttons || [DEFAULT_BUTTON], function() {\r\n        var action = new _action.default(this.onClick, {\r\n            context: popupInstance\r\n        });\r\n        popupToolbarItems.push({\r\n            toolbar: \"bottom\",\r\n            location: _devices.default.current().android ? \"after\" : \"center\",\r\n            widget: \"dxButton\",\r\n            options: (0, _extend.extend)({}, this, {\r\n                onClick: function() {\r\n                    var result = action.execute.apply(action, arguments);\r\n                    hide(result)\r\n                }\r\n            })\r\n        })\r\n    });\r\n    var popupInstance = new _popup.default($element, (0, _extend.extend)({\r\n        title: options.title || title,\r\n        showTitle: (0, _common.ensureDefined)(options.showTitle, true),\r\n        dragEnabled: (0, _common.ensureDefined)(options.dragEnabled, true),\r\n        height: \"auto\",\r\n        width: function() {\r\n            var isPortrait = (0, _renderer.default)(window).height() > (0, _renderer.default)(window).width();\r\n            var key = (isPortrait ? \"p\" : \"l\") + \"Width\";\r\n            var widthOption = Object.prototype.hasOwnProperty.call(options, key) ? options[key] : options.width;\r\n            return (0, _type.isFunction)(widthOption) ? widthOption() : widthOption\r\n        },\r\n        showCloseButton: options.showCloseButton || false,\r\n        ignoreChildEvents: false,\r\n        onContentReady: function(args) {\r\n            args.component.$content().addClass(DX_DIALOG_CONTENT_CLASSNAME).append($message)\r\n        },\r\n        onShowing: function(e) {\r\n            e.component.bottomToolbar().addClass(DX_DIALOG_BUTTONS_CLASSNAME).find(\".\".concat(DX_BUTTON_CLASSNAME)).addClass(DX_DIALOG_BUTTON_CLASSNAME);\r\n            (0, _dom.resetActiveElement)()\r\n        },\r\n        onShown: function(e) {\r\n            var $firstButton = e.component.bottomToolbar().find(\".\".concat(DX_BUTTON_CLASSNAME)).first();\r\n            _events_engine.default.trigger($firstButton, \"focus\")\r\n        },\r\n        onHiding: function() {\r\n            deferred.reject()\r\n        },\r\n        toolbarItems: popupToolbarItems,\r\n        animation: {\r\n            show: {\r\n                type: \"pop\",\r\n                duration: 400\r\n            },\r\n            hide: {\r\n                type: \"pop\",\r\n                duration: 400,\r\n                to: {\r\n                    opacity: 0,\r\n                    scale: 0\r\n                },\r\n                from: {\r\n                    opacity: 1,\r\n                    scale: 1\r\n                }\r\n            }\r\n        },\r\n        rtlEnabled: (0, _config.default)().rtlEnabled,\r\n        boundaryOffset: {\r\n            h: 10,\r\n            v: 0\r\n        }\r\n    }, options.popupOptions));\r\n    popupInstance._wrapper().addClass(DX_DIALOG_WRAPPER_CLASSNAME);\r\n    if (options.position) {\r\n        popupInstance.option(\"position\", options.position)\r\n    }\r\n    popupInstance._wrapper().addClass(DX_DIALOG_ROOT_CLASSNAME);\r\n\r\n    function show() {\r\n        popupInstance.show();\r\n        return deferred.promise()\r\n    }\r\n\r\n    function hide(value) {\r\n        deferred.resolve(value);\r\n        popupInstance.hide().done(function() {\r\n            popupInstance.$element().remove()\r\n        })\r\n    }\r\n    return {\r\n        show: show,\r\n        hide: hide\r\n    }\r\n};\r\nexports.custom = custom;\r\nvar alert = function(messageHtml, title, showTitle) {\r\n    var options = (0, _type.isPlainObject)(messageHtml) ? messageHtml : {\r\n        title: title,\r\n        messageHtml: messageHtml,\r\n        showTitle: showTitle,\r\n        dragEnabled: showTitle\r\n    };\r\n    return custom(options).show()\r\n};\r\nexports.alert = alert;\r\nvar confirm = function(messageHtml, title, showTitle) {\r\n    var options = (0, _type.isPlainObject)(messageHtml) ? messageHtml : {\r\n        title: title,\r\n        messageHtml: messageHtml,\r\n        showTitle: showTitle,\r\n        buttons: [{\r\n            text: _message.default.format(\"Yes\"),\r\n            onClick: function() {\r\n                return true\r\n            }\r\n        }, {\r\n            text: _message.default.format(\"No\"),\r\n            onClick: function() {\r\n                return false\r\n            }\r\n        }],\r\n        dragEnabled: showTitle\r\n    };\r\n    return custom(options).show()\r\n};\r\nexports.confirm = confirm;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.validating.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.validating\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"validating\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.validating.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _uiGrid_core2 = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\nvar _array_utils = require(\"../../data/array_utils\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _selectors = require(\"../widget/selectors\");\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _button = _interopRequireDefault(require(\"../button\"));\r\nvar _pointer = _interopRequireDefault(require(\"../../events/pointer\"));\r\nvar _validation_engine = _interopRequireDefault(require(\"../validation_engine\"));\r\nvar _validator = _interopRequireDefault(require(\"../validator\"));\r\nvar _tooltip = _interopRequireDefault(require(\"../tooltip\"));\r\nvar _overlay = _interopRequireDefault(require(\"../overlay\"));\r\nvar _ui = _interopRequireDefault(require(\"../widget/ui.errors\"));\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _load_indicator = _interopRequireDefault(require(\"../load_indicator\"));\r\nvar _string = require(\"../../core/utils/string\");\r\nvar _browser = _interopRequireDefault(require(\"../../core/utils/browser\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _toConsumableArray(arr) {\r\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread()\r\n}\r\n\r\nfunction _nonIterableSpread() {\r\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")\r\n}\r\n\r\nfunction _unsupportedIterableToArray(o, minLen) {\r\n    if (!o) {\r\n        return\r\n    }\r\n    if (\"string\" === typeof o) {\r\n        return _arrayLikeToArray(o, minLen)\r\n    }\r\n    var n = Object.prototype.toString.call(o).slice(8, -1);\r\n    if (\"Object\" === n && o.constructor) {\r\n        n = o.constructor.name\r\n    }\r\n    if (\"Map\" === n || \"Set\" === n) {\r\n        return Array.from(o)\r\n    }\r\n    if (\"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) {\r\n        return _arrayLikeToArray(o, minLen)\r\n    }\r\n}\r\n\r\nfunction _iterableToArray(iter) {\r\n    if (\"undefined\" !== typeof Symbol && Symbol.iterator in Object(iter)) {\r\n        return Array.from(iter)\r\n    }\r\n}\r\n\r\nfunction _arrayWithoutHoles(arr) {\r\n    if (Array.isArray(arr)) {\r\n        return _arrayLikeToArray(arr)\r\n    }\r\n}\r\n\r\nfunction _arrayLikeToArray(arr, len) {\r\n    if (null == len || len > arr.length) {\r\n        len = arr.length\r\n    }\r\n    for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n        arr2[i] = arr[i]\r\n    }\r\n    return arr2\r\n}\r\nvar INVALIDATE_CLASS = \"invalid\";\r\nvar REVERT_TOOLTIP_CLASS = \"revert-tooltip\";\r\nvar ROWS_VIEW_CLASS = \"rowsview\";\r\nvar INVALID_MESSAGE_CLASS = \"dx-invalid-message\";\r\nvar WIDGET_INVALID_MESSAGE_CLASS = \"invalid-message\";\r\nvar INVALID_MESSAGE_ALWAYS_CLASS = \"dx-invalid-message-always\";\r\nvar REVERT_BUTTON_CLASS = \"dx-revert-button\";\r\nvar VALIDATOR_CLASS = \"validator\";\r\nvar PENDING_INDICATOR_CLASS = \"dx-pending-indicator\";\r\nvar VALIDATION_PENDING_CLASS = \"dx-validation-pending\";\r\nvar CONTENT_CLASS = \"content\";\r\nvar INSERT_INDEX = \"__DX_INSERT_INDEX__\";\r\nvar PADDING_BETWEEN_TOOLTIPS = 2;\r\nvar EDIT_MODE_ROW = \"row\";\r\nvar EDIT_MODE_FORM = \"form\";\r\nvar EDIT_MODE_BATCH = \"batch\";\r\nvar EDIT_MODE_CELL = \"cell\";\r\nvar EDIT_MODE_POPUP = \"popup\";\r\nvar GROUP_CELL_CLASS = \"dx-group-cell\";\r\nvar FORM_BASED_MODES = [EDIT_MODE_POPUP, EDIT_MODE_FORM];\r\nvar COMMAND_TRANSPARENT = \"transparent\";\r\nvar VALIDATION_STATUS = {\r\n    valid: \"valid\",\r\n    invalid: \"invalid\",\r\n    pending: \"pending\"\r\n};\r\nvar EDIT_DATA_INSERT_TYPE = \"insert\";\r\nvar EDIT_DATA_REMOVE_TYPE = \"remove\";\r\nvar VALIDATION_CANCELLED = \"cancel\";\r\nvar validationResultIsValid = function(result) {\r\n    return (0, _type.isDefined)(result) && result !== VALIDATION_CANCELLED\r\n};\r\nvar cellValueShouldBeValidated = function(value, rowOptions) {\r\n    return void 0 !== value || void 0 === value && rowOptions && !rowOptions.isNewRow\r\n};\r\nvar ValidatingController = _uiGrid_core.default.Controller.inherit(function() {\r\n    return {\r\n        init: function() {\r\n            this._editingController = this.getController(\"editing\");\r\n            this.createAction(\"onRowValidating\");\r\n            if (!this._validationState) {\r\n                this._validationState = []\r\n            }\r\n        },\r\n        _rowIsValidated: function(change) {\r\n            var validationData = this._getValidationData(null === change || void 0 === change ? void 0 : change.key);\r\n            return !!validationData && !!validationData.validated\r\n        },\r\n        _getValidationData: function(key, create) {\r\n            var validationData = this._validationState.filter(function(data) {\r\n                return data.key === key\r\n            })[0];\r\n            if (!validationData && create) {\r\n                validationData = {\r\n                    key: key,\r\n                    isValid: true\r\n                };\r\n                this._validationState.push(validationData)\r\n            }\r\n            return validationData\r\n        },\r\n        _getBrokenRules: function(validationData, validationResults) {\r\n            var brokenRules;\r\n            if (validationResults) {\r\n                brokenRules = validationResults.brokenRules || validationResults.brokenRule && [validationResults.brokenRule]\r\n            } else {\r\n                brokenRules = validationData.brokenRules || []\r\n            }\r\n            return brokenRules\r\n        },\r\n        _rowValidating: function(validationData, validationResults) {\r\n            var deferred = new _deferred.Deferred;\r\n            var change = this._editingController.getChangeByKey(null === validationData || void 0 === validationData ? void 0 : validationData.key);\r\n            var brokenRules = this._getBrokenRules(validationData, validationResults);\r\n            var isValid = validationResults ? validationResults.isValid : validationData.isValid;\r\n            var parameters = {\r\n                brokenRules: brokenRules,\r\n                isValid: isValid,\r\n                key: change.key,\r\n                newData: change.data,\r\n                oldData: this._editingController._getOldData(change.key),\r\n                promise: null,\r\n                errorText: this.getHiddenValidatorsErrorText(brokenRules)\r\n            };\r\n            this.executeAction(\"onRowValidating\", parameters);\r\n            (0, _deferred.when)(parameters.promise).always(function() {\r\n                validationData.isValid = parameters.isValid;\r\n                validationData.errorText = parameters.errorText;\r\n                deferred.resolve(parameters)\r\n            });\r\n            return deferred.promise()\r\n        },\r\n        getHiddenValidatorsErrorText: function(brokenRules) {\r\n            var brokenRulesMessages = [];\r\n            (0, _iterator.each)(brokenRules, function(_, brokenRule) {\r\n                var column = brokenRule.column;\r\n                var isGroupExpandColumn = column && void 0 !== column.groupIndex && !column.showWhenGrouped;\r\n                var isVisibleColumn = column && column.visible;\r\n                if (!brokenRule.validator.$element().parent().length && (!isVisibleColumn || isGroupExpandColumn)) {\r\n                    brokenRulesMessages.push(brokenRule.message)\r\n                }\r\n            });\r\n            return brokenRulesMessages.join(\", \")\r\n        },\r\n        validate: function(isFull) {\r\n            var _this = this;\r\n            var isValid = true;\r\n            var editingController = this._editingController;\r\n            var deferred = new _deferred.Deferred;\r\n            var completeList = [];\r\n            var editMode = editingController.getEditMode();\r\n            isFull = isFull || editMode === EDIT_MODE_ROW;\r\n            if (this._isValidationInProgress) {\r\n                return deferred.resolve(false).promise()\r\n            }\r\n            this._isValidationInProgress = true;\r\n            if (isFull) {\r\n                editingController.addDeferred(deferred);\r\n                var changes = editingController.getChanges();\r\n                (0, _iterator.each)(changes, function(index, _ref) {\r\n                    var type = _ref.type,\r\n                        key = _ref.key;\r\n                    if (\"remove\" !== type) {\r\n                        var validationData = _this._getValidationData(key);\r\n                        var validationResult = _this.validateGroup(validationData);\r\n                        completeList.push(validationResult);\r\n                        validationResult.done(function(validationResult) {\r\n                            validationData.validated = true;\r\n                            isValid = isValid && validationResult.isValid\r\n                        })\r\n                    }\r\n                })\r\n            } else {\r\n                if (this._currentCellValidator) {\r\n                    var validationResult = this.validateGroup(this._currentCellValidator._findGroup());\r\n                    completeList.push(validationResult);\r\n                    validationResult.done(function(validationResult) {\r\n                        isValid = validationResult.isValid\r\n                    })\r\n                }\r\n            }\r\n            _deferred.when.apply(void 0, completeList).done(function() {\r\n                _this._isValidationInProgress = false;\r\n                deferred.resolve(isValid)\r\n            });\r\n            return deferred.promise()\r\n        },\r\n        validateGroup: function validateGroup(validationData) {\r\n            var _validationResult, _this2 = this;\r\n            var result = new _deferred.Deferred;\r\n            var validateGroup = validationData && _validation_engine.default.getGroupConfig(validationData);\r\n            var validationResult;\r\n            if (null !== validateGroup && void 0 !== validateGroup && validateGroup.validators.length) {\r\n                this.resetRowValidationResults(validationData);\r\n                validationResult = _validation_engine.default.validateGroup(validationData)\r\n            }(0, _deferred.when)((null === (_validationResult = validationResult) || void 0 === _validationResult ? void 0 : _validationResult.complete) || validationResult).done(function(validationResult) {\r\n                (0, _deferred.when)(_this2._rowValidating(validationData, validationResult)).done(result.resolve)\r\n            });\r\n            return result.promise()\r\n        },\r\n        isRowDataModified: function(change) {\r\n            return !(0, _type.isEmptyObject)(change.data)\r\n        },\r\n        updateValidationState: function(change) {\r\n            var editMode = this._editingController.getEditMode();\r\n            var key = change.key;\r\n            var validationData = this._getValidationData(key, true);\r\n            if (FORM_BASED_MODES.indexOf(editMode) === -1) {\r\n                if (change.type === EDIT_DATA_INSERT_TYPE && !this.isRowDataModified(change)) {\r\n                    validationData.isValid = true;\r\n                    return\r\n                }\r\n                this.setDisableApplyValidationResults(true);\r\n                var groupConfig = _validation_engine.default.getGroupConfig(validationData);\r\n                if (groupConfig) {\r\n                    var validationResult = _validation_engine.default.validateGroup(validationData);\r\n                    (0, _deferred.when)(validationResult.complete || validationResult).done(function(validationResult) {\r\n                        validationData.isValid = validationResult.isValid;\r\n                        validationData.brokenRules = validationResult.brokenRules\r\n                    })\r\n                } else {\r\n                    if (!validationData.brokenRules || !validationData.brokenRules.length) {\r\n                        validationData.isValid = true\r\n                    }\r\n                }\r\n                this.setDisableApplyValidationResults(false)\r\n            } else {\r\n                validationData.isValid = true\r\n            }\r\n        },\r\n        setValidator: function(validator) {\r\n            this._currentCellValidator = validator\r\n        },\r\n        renderCellPendingIndicator: function($container) {\r\n            var $indicator = $container.find(\".\" + PENDING_INDICATOR_CLASS);\r\n            if (!$indicator.length) {\r\n                var $indicatorContainer = $container;\r\n                $indicator = (0, _renderer.default)(\"<div>\").appendTo($indicatorContainer).addClass(PENDING_INDICATOR_CLASS);\r\n                this._createComponent($indicator, _load_indicator.default);\r\n                $container.addClass(VALIDATION_PENDING_CLASS)\r\n            }\r\n        },\r\n        disposeCellPendingIndicator: function($container) {\r\n            var $indicator = $container.find(\".\" + PENDING_INDICATOR_CLASS);\r\n            if ($indicator.length) {\r\n                var indicator = _load_indicator.default.getInstance($indicator);\r\n                if (indicator) {\r\n                    indicator.dispose();\r\n                    indicator.$element().remove()\r\n                }\r\n                $container.removeClass(VALIDATION_PENDING_CLASS)\r\n            }\r\n        },\r\n        validationStatusChanged: function(result) {\r\n            var validator = result.validator;\r\n            var validationGroup = validator.option(\"validationGroup\");\r\n            var column = validator.option(\"dataGetter\")().column;\r\n            this.updateCellValidationResult({\r\n                rowKey: validationGroup.key,\r\n                columnIndex: column.index,\r\n                validationResult: result\r\n            })\r\n        },\r\n        validatorInitialized: function(arg) {\r\n            arg.component.on(\"validating\", this.validationStatusChanged.bind(this));\r\n            arg.component.on(\"validated\", this.validationStatusChanged.bind(this))\r\n        },\r\n        validatorDisposing: function(arg) {\r\n            var validator = arg.component;\r\n            var validationGroup = validator.option(\"validationGroup\");\r\n            var column = validator.option(\"dataGetter\")().column;\r\n            var result = this.getCellValidationResult({\r\n                rowKey: null === validationGroup || void 0 === validationGroup ? void 0 : validationGroup.key,\r\n                columnIndex: column.index\r\n            });\r\n            if (validationResultIsValid(result) && result.status === VALIDATION_STATUS.pending) {\r\n                this.cancelCellValidationResult({\r\n                    change: validationGroup,\r\n                    columnIndex: column.index\r\n                })\r\n            }\r\n        },\r\n        applyValidationResult: function($container, result) {\r\n            var validator = result.validator;\r\n            var validationGroup = validator.option(\"validationGroup\");\r\n            var column = validator.option(\"dataGetter\")().column;\r\n            result.brokenRules && result.brokenRules.forEach(function(rule) {\r\n                rule.columnIndex = column.index;\r\n                rule.column = column\r\n            });\r\n            if ($container) {\r\n                var validationResult = this.getCellValidationResult({\r\n                    rowKey: validationGroup.key,\r\n                    columnIndex: column.index\r\n                });\r\n                var requestIsDisabled = validationResultIsValid(validationResult) && validationResult.disabledPendingId === result.id;\r\n                if (this._disableApplyValidationResults || requestIsDisabled) {\r\n                    return\r\n                }\r\n                if (result.status === VALIDATION_STATUS.invalid) {\r\n                    var $focus = $container.find(\":focus\");\r\n                    if (!(0, _selectors.focused)($focus)) {\r\n                        _events_engine.default.trigger($focus, \"focus\");\r\n                        _events_engine.default.trigger($focus, _pointer.default.down)\r\n                    }\r\n                }\r\n                var editor = !column.editCellTemplate && this.getController(\"editorFactory\").getEditorInstance($container);\r\n                if (result.status === VALIDATION_STATUS.pending) {\r\n                    if (editor) {\r\n                        editor.option(\"validationStatus\", VALIDATION_STATUS.pending)\r\n                    } else {\r\n                        this.renderCellPendingIndicator($container)\r\n                    }\r\n                } else {\r\n                    if (editor) {\r\n                        editor.option(\"validationStatus\", VALIDATION_STATUS.valid)\r\n                    } else {\r\n                        this.disposeCellPendingIndicator($container)\r\n                    }\r\n                }\r\n                $container.toggleClass(this.addWidgetPrefix(INVALIDATE_CLASS), result.status === VALIDATION_STATUS.invalid)\r\n            }\r\n        },\r\n        createValidator: function(parameters, $container) {\r\n            var _this3 = this;\r\n            var editingController = this._editingController;\r\n            var column = parameters.column;\r\n            var showEditorAlways = column.showEditorAlways;\r\n            if ((0, _type.isDefined)(column.command) || !column.validationRules || !Array.isArray(column.validationRules) || !column.validationRules.length) {\r\n                return\r\n            }\r\n            var editIndex = editingController.getIndexByKey(parameters.key, editingController.getChanges());\r\n            var needCreateValidator = editIndex > -1;\r\n            if (!needCreateValidator) {\r\n                if (!showEditorAlways) {\r\n                    var columnsController = this.getController(\"columns\");\r\n                    var visibleColumns = (null === columnsController || void 0 === columnsController ? void 0 : columnsController.getVisibleColumns()) || [];\r\n                    showEditorAlways = visibleColumns.some(function(column) {\r\n                        return column.showEditorAlways\r\n                    })\r\n                }\r\n                var isEditRow = (0, _common.equalByValue)(this.option(\"editing.editRowKey\"), parameters.key);\r\n                var isCellOrBatchEditingAllowed = editingController.isCellOrBatchEditMode() && editingController.allowUpdating({\r\n                    row: parameters.row\r\n                });\r\n                needCreateValidator = isEditRow || isCellOrBatchEditingAllowed && showEditorAlways;\r\n                if (isCellOrBatchEditingAllowed && showEditorAlways) {\r\n                    editingController._addInternalData({\r\n                        key: parameters.key,\r\n                        oldData: parameters.data\r\n                    })\r\n                }\r\n            }\r\n            if (needCreateValidator) {\r\n                if ($container && !$container.length) {\r\n                    _ui.default.log(\"E1050\");\r\n                    return\r\n                }\r\n                var validationData = this._getValidationData(parameters.key, true);\r\n                var getValue = function() {\r\n                    var change = editingController.getChangeByKey(null === validationData || void 0 === validationData ? void 0 : validationData.key);\r\n                    var value = column.calculateCellValue((null === change || void 0 === change ? void 0 : change.data) || {});\r\n                    return void 0 !== value ? value : parameters.value\r\n                };\r\n                var useDefaultValidator = $container && $container.hasClass(\"dx-widget\");\r\n                $container && $container.addClass(this.addWidgetPrefix(VALIDATOR_CLASS));\r\n                var validator = new _validator.default($container || (0, _renderer.default)(\"<div>\"), {\r\n                    name: column.caption,\r\n                    validationRules: (0, _extend.extend)(true, [], column.validationRules),\r\n                    validationGroup: validationData,\r\n                    adapter: useDefaultValidator ? null : {\r\n                        getValue: getValue,\r\n                        applyValidationResults: function(result) {\r\n                            _this3.applyValidationResult($container, result)\r\n                        }\r\n                    },\r\n                    dataGetter: function() {\r\n                        var key = null === validationData || void 0 === validationData ? void 0 : validationData.key;\r\n                        var change = editingController.getChangeByKey(key);\r\n                        var oldData = editingController._getOldData(key);\r\n                        return {\r\n                            data: (0, _array_utils.createObjectWithChanges)(oldData, null === change || void 0 === change ? void 0 : change.data),\r\n                            column: column\r\n                        }\r\n                    },\r\n                    onInitialized: this.validatorInitialized.bind(this),\r\n                    onDisposing: this.validatorDisposing.bind(this)\r\n                });\r\n                if (useDefaultValidator) {\r\n                    var adapter = validator.option(\"adapter\");\r\n                    if (adapter) {\r\n                        adapter.getValue = getValue;\r\n                        adapter.validationRequestsCallbacks = []\r\n                    }\r\n                }\r\n                return validator\r\n            }\r\n        },\r\n        setDisableApplyValidationResults: function(flag) {\r\n            this._disableApplyValidationResults = flag\r\n        },\r\n        getDisableApplyValidationResults: function() {\r\n            return this._disableApplyValidationResults\r\n        },\r\n        isCurrentValidatorProcessing: function(_ref2) {\r\n            var rowKey = _ref2.rowKey,\r\n                columnIndex = _ref2.columnIndex;\r\n            return this._currentCellValidator && this._currentCellValidator.option(\"validationGroup\").key === rowKey && this._currentCellValidator.option(\"dataGetter\")().column.index === columnIndex\r\n        },\r\n        validateCell: function(validator) {\r\n            var cellParams = {\r\n                rowKey: validator.option(\"validationGroup\").key,\r\n                columnIndex: validator.option(\"dataGetter\")().column.index\r\n            };\r\n            var validationResult = this.getCellValidationResult(cellParams);\r\n            var stateRestored = validationResultIsValid(validationResult);\r\n            if (!stateRestored) {\r\n                validationResult = validator.validate()\r\n            }\r\n            var deferred = new _deferred.Deferred;\r\n            var adapter = validator.option(\"adapter\");\r\n            if (stateRestored && validationResult.status === VALIDATION_STATUS.pending) {\r\n                this.updateCellValidationResult(cellParams);\r\n                adapter.applyValidationResults(validationResult)\r\n            }(0, _deferred.when)(validationResult.complete || validationResult).done(function(validationResult) {\r\n                stateRestored && adapter.applyValidationResults(validationResult);\r\n                deferred.resolve(validationResult)\r\n            });\r\n            return deferred.promise()\r\n        },\r\n        updateCellValidationResult: function(_ref3) {\r\n            var rowKey = _ref3.rowKey,\r\n                columnIndex = _ref3.columnIndex,\r\n                validationResult = _ref3.validationResult;\r\n            var validationData = this._getValidationData(rowKey);\r\n            if (!validationData) {\r\n                return\r\n            }\r\n            if (!validationData.validationResults) {\r\n                validationData.validationResults = {}\r\n            }\r\n            var result;\r\n            if (validationResult) {\r\n                result = (0, _extend.extend)({}, validationResult);\r\n                validationData.validationResults[columnIndex] = result;\r\n                if (validationResult.status === VALIDATION_STATUS.pending) {\r\n                    if (this._editingController.getEditMode() === EDIT_MODE_CELL) {\r\n                        result.deferred = new _deferred.Deferred;\r\n                        result.complete.always(function() {\r\n                            result.deferred.resolve()\r\n                        });\r\n                        this._editingController.addDeferred(result.deferred)\r\n                    }\r\n                    if (this._disableApplyValidationResults) {\r\n                        result.disabledPendingId = validationResult.id;\r\n                        return\r\n                    }\r\n                }\r\n            } else {\r\n                result = validationData.validationResults[columnIndex]\r\n            }\r\n            if (result && result.disabledPendingId) {\r\n                delete result.disabledPendingId\r\n            }\r\n        },\r\n        getCellValidationResult: function(_ref4) {\r\n            var _validationData$valid;\r\n            var rowKey = _ref4.rowKey,\r\n                columnIndex = _ref4.columnIndex;\r\n            var validationData = this._getValidationData(rowKey, true);\r\n            return null === validationData || void 0 === validationData ? void 0 : null === (_validationData$valid = validationData.validationResults) || void 0 === _validationData$valid ? void 0 : _validationData$valid[columnIndex]\r\n        },\r\n        removeCellValidationResult: function(_ref5) {\r\n            var change = _ref5.change,\r\n                columnIndex = _ref5.columnIndex;\r\n            var validationData = this._getValidationData(null === change || void 0 === change ? void 0 : change.key);\r\n            if (validationData && validationData.validationResults) {\r\n                this.cancelCellValidationResult({\r\n                    change: change,\r\n                    columnIndex: columnIndex\r\n                });\r\n                delete validationData.validationResults[columnIndex]\r\n            }\r\n        },\r\n        cancelCellValidationResult: function(_ref6) {\r\n            var change = _ref6.change,\r\n                columnIndex = _ref6.columnIndex;\r\n            var validationData = this._getValidationData(change.key);\r\n            if (change && validationData.validationResults) {\r\n                var result = validationData.validationResults[columnIndex];\r\n                if (result) {\r\n                    result.deferred && result.deferred.reject(VALIDATION_CANCELLED);\r\n                    validationData.validationResults[columnIndex] = VALIDATION_CANCELLED\r\n                }\r\n            }\r\n        },\r\n        resetRowValidationResults: function(validationData) {\r\n            if (validationData) {\r\n                validationData.validationResults && delete validationData.validationResults;\r\n                delete validationData.validated\r\n            }\r\n        },\r\n        isInvalidCell: function(_ref7) {\r\n            var rowKey = _ref7.rowKey,\r\n                columnIndex = _ref7.columnIndex;\r\n            var result = this.getCellValidationResult({\r\n                rowKey: rowKey,\r\n                columnIndex: columnIndex\r\n            });\r\n            return validationResultIsValid(result) && result.status === VALIDATION_STATUS.invalid\r\n        },\r\n        getCellValidator: function(_ref8) {\r\n            var rowKey = _ref8.rowKey,\r\n                columnIndex = _ref8.columnIndex;\r\n            var validationData = this._getValidationData(rowKey);\r\n            var groupConfig = validationData && _validation_engine.default.getGroupConfig(validationData);\r\n            var validators = groupConfig && groupConfig.validators;\r\n            return validators && validators.filter(function(v) {\r\n                var column = v.option(\"dataGetter\")().column;\r\n                return column ? column.index === columnIndex : false\r\n            })[0]\r\n        },\r\n        setCellValidationStatus: function(cellOptions) {\r\n            var validationResult = this.getCellValidationResult({\r\n                rowKey: cellOptions.key,\r\n                columnIndex: cellOptions.column.index\r\n            });\r\n            if ((0, _type.isDefined)(validationResult)) {\r\n                cellOptions.validationStatus = validationResult !== VALIDATION_CANCELLED ? validationResult.status : VALIDATION_CANCELLED\r\n            } else {\r\n                delete cellOptions.validationStatus\r\n            }\r\n        }\r\n    }\r\n}());\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            editing: {\r\n                texts: {\r\n                    validationCancelChanges: _message.default.format(\"dxDataGrid-validationCancelChanges\")\r\n                }\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        validating: ValidatingController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            editing: {\r\n                _addChange: function(options, row) {\r\n                    var index = this.callBase(options, row);\r\n                    var validatingController = this.getController(\"validating\");\r\n                    if (index >= 0 && options.type !== EDIT_DATA_REMOVE_TYPE) {\r\n                        var change = this.getChanges()[index];\r\n                        change && validatingController.updateValidationState(change)\r\n                    }\r\n                    return index\r\n                },\r\n                _handleChangesChange: function(args) {\r\n                    this.callBase.apply(this, arguments);\r\n                    var validatingController = this.getController(\"validating\");\r\n                    args.value.forEach(function(change) {\r\n                        if (void 0 === validatingController._getValidationData(change.key)) {\r\n                            validatingController.updateValidationState(change)\r\n                        }\r\n                    })\r\n                },\r\n                _updateRowAndPageIndices: function() {\r\n                    var _this4 = this;\r\n                    var that = this;\r\n                    var startInsertIndex = that.getView(\"rowsView\").getTopVisibleItemIndex();\r\n                    var rowIndex = startInsertIndex;\r\n                    (0, _iterator.each)(that.getChanges(), function(_, _ref9) {\r\n                        var key = _ref9.key,\r\n                            type = _ref9.type;\r\n                        var validationData = _this4.getController(\"validating\")._getValidationData(key);\r\n                        if (validationData && !validationData.isValid && validationData.pageIndex !== that._pageIndex) {\r\n                            validationData.pageIndex = that._pageIndex;\r\n                            if (type === EDIT_DATA_INSERT_TYPE) {\r\n                                validationData.rowIndex = startInsertIndex\r\n                            } else {\r\n                                validationData.rowIndex = rowIndex\r\n                            }\r\n                            rowIndex++\r\n                        }\r\n                    })\r\n                },\r\n                getEditFormOptions: function(detailOptions) {\r\n                    var editFormOptions = this.callBase.apply(this, arguments);\r\n                    var validatingController = this.getController(\"validating\");\r\n                    var validationData = validatingController._getValidationData(detailOptions.key, true);\r\n                    return (0, _extend.extend)({}, editFormOptions, {\r\n                        validationGroup: validationData\r\n                    })\r\n                },\r\n                _updateEditRowCore: function(row, skipCurrentRow, isCustomSetCellValue) {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (isCustomSetCellValue && this._editForm && !row.isNewRow) {\r\n                        this._editForm.validate()\r\n                    }\r\n                },\r\n                _needInsertItem: function(_ref10) {\r\n                    var key = _ref10.key;\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    var validationData = this.getController(\"validating\")._getValidationData(key);\r\n                    if (result && !(null !== validationData && void 0 !== validationData && validationData.isValid)) {\r\n                        result = key.pageIndex === this._pageIndex\r\n                    }\r\n                    return result\r\n                },\r\n                _prepareEditCell: function(params) {\r\n                    var isNotCanceled = this.callBase.apply(this, arguments);\r\n                    var validatingController = this.getController(\"validating\");\r\n                    if (isNotCanceled && params.column.showEditorAlways) {\r\n                        validatingController.updateValidationState({\r\n                            key: params.key\r\n                        })\r\n                    }\r\n                    return isNotCanceled\r\n                },\r\n                processItems: function(items, changeType) {\r\n                    var that = this;\r\n                    var i;\r\n                    var changes = that.getChanges();\r\n                    var dataController = that.getController(\"data\");\r\n                    var validatingController = this.getController(\"validating\");\r\n                    var getIndexByChange = function(change, items) {\r\n                        var index = -1;\r\n                        var isInsert = change.type === EDIT_DATA_INSERT_TYPE;\r\n                        var key = change.key;\r\n                        (0, _iterator.each)(items, function(i, item) {\r\n                            if ((0, _common.equalByValue)(key, isInsert ? item : dataController.keyOf(item))) {\r\n                                index = i;\r\n                                return false\r\n                            }\r\n                        });\r\n                        return index\r\n                    };\r\n                    items = that.callBase(items, changeType);\r\n                    var itemsCount = items.length;\r\n                    var addInValidItem = function(change, validationData) {\r\n                        var data = {\r\n                            key: change.key\r\n                        };\r\n                        var index = getIndexByChange(change, items);\r\n                        if (index >= 0) {\r\n                            return\r\n                        }\r\n                        validationData.rowIndex = validationData.rowIndex > itemsCount ? validationData.rowIndex % itemsCount : validationData.rowIndex;\r\n                        var rowIndex = validationData.rowIndex;\r\n                        data[INSERT_INDEX] = 1;\r\n                        items.splice(rowIndex, 0, data)\r\n                    };\r\n                    if (that.getEditMode() === EDIT_MODE_BATCH && \"prepend\" !== changeType && \"append\" !== changeType) {\r\n                        for (i = 0; i < changes.length; i++) {\r\n                            var key = changes[i].key;\r\n                            var validationData = validatingController._getValidationData(key);\r\n                            if (validationData && changes[i].type && validationData.pageIndex === that._pageIndex && key.pageIndex !== that._pageIndex) {\r\n                                addInValidItem(changes[i], validationData)\r\n                            }\r\n                        }\r\n                    }\r\n                    return items\r\n                },\r\n                processDataItem: function(item) {\r\n                    var isInserted = item.data[INSERT_INDEX];\r\n                    var key = isInserted ? item.data.key : item.key;\r\n                    var editMode = this.getEditMode();\r\n                    if (editMode === EDIT_MODE_BATCH && isInserted && key) {\r\n                        var changes = this.getChanges();\r\n                        var editIndex = _uiGrid_core2.default.getIndexByKey(key, changes);\r\n                        if (editIndex >= 0) {\r\n                            var change = changes[editIndex];\r\n                            if (change.type !== EDIT_DATA_INSERT_TYPE) {\r\n                                var oldData = this._getOldData(change.key);\r\n                                item.data = (0, _extend.extend)(true, {}, oldData, change.data);\r\n                                item.key = key\r\n                            }\r\n                        }\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _createInvisibleColumnValidators: function(changes) {\r\n                    var _this5 = this;\r\n                    var that = this;\r\n                    var validatingController = this.getController(\"validating\");\r\n                    var columnsController = this.getController(\"columns\");\r\n                    var columns = columnsController.getColumns();\r\n                    var invisibleColumns = columnsController.getInvisibleColumns().filter(function(column) {\r\n                        return !column.isBand\r\n                    });\r\n                    var groupColumns = columnsController.getGroupColumns().filter(function(column) {\r\n                        return !column.showWhenGrouped && invisibleColumns.indexOf(column) === -1\r\n                    });\r\n                    var invisibleColumnValidators = [];\r\n                    var isCellVisible = function(column, rowKey) {\r\n                        return _this5._dataController.getRowIndexByKey(rowKey) >= 0 && invisibleColumns.indexOf(column) < 0\r\n                    };\r\n                    invisibleColumns.push.apply(invisibleColumns, _toConsumableArray(groupColumns));\r\n                    if (FORM_BASED_MODES.indexOf(this.getEditMode()) === -1) {\r\n                        (0, _iterator.each)(columns, function(_, column) {\r\n                            changes.forEach(function(change) {\r\n                                var data;\r\n                                if (isCellVisible(column, change.key)) {\r\n                                    return\r\n                                }\r\n                                if (change.type === EDIT_DATA_INSERT_TYPE) {\r\n                                    data = change.data\r\n                                } else {\r\n                                    if (\"update\" === change.type) {\r\n                                        var oldData = that._getOldData(change.key);\r\n                                        data = (0, _array_utils.createObjectWithChanges)(oldData, change.data)\r\n                                    }\r\n                                }\r\n                                if (data) {\r\n                                    var validator = validatingController.createValidator({\r\n                                        column: column,\r\n                                        key: change.key,\r\n                                        value: column.calculateCellValue(data)\r\n                                    });\r\n                                    if (validator) {\r\n                                        invisibleColumnValidators.push(validator)\r\n                                    }\r\n                                }\r\n                            })\r\n                        })\r\n                    }\r\n                    return function() {\r\n                        invisibleColumnValidators.forEach(function(validator) {\r\n                            validator.dispose()\r\n                        })\r\n                    }\r\n                },\r\n                _beforeSaveEditData: function(change, editIndex) {\r\n                    var _this6 = this;\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    var validatingController = this.getController(\"validating\");\r\n                    var validationData = validatingController._getValidationData(null === change || void 0 === change ? void 0 : change.key);\r\n                    if (change) {\r\n                        var isValid = \"remove\" === change.type || validationData.isValid;\r\n                        result = result || !isValid\r\n                    } else {\r\n                        var disposeValidators = this._createInvisibleColumnValidators(this.getChanges());\r\n                        result = new _deferred.Deferred;\r\n                        this.executeOperation(result, function() {\r\n                            validatingController.validate(true).done(function(isFullValid) {\r\n                                disposeValidators();\r\n                                _this6._updateRowAndPageIndices();\r\n                                switch (_this6.getEditMode()) {\r\n                                    case EDIT_MODE_CELL:\r\n                                        if (!isFullValid) {\r\n                                            _this6._focusEditingCell()\r\n                                        }\r\n                                        break;\r\n                                    case EDIT_MODE_BATCH:\r\n                                        if (!isFullValid) {\r\n                                            _this6._resetEditRowKey();\r\n                                            _this6._resetEditColumnName();\r\n                                            _this6.getController(\"data\").updateItems()\r\n                                        }\r\n                                }\r\n                                result.resolve(!isFullValid)\r\n                            })\r\n                        })\r\n                    }\r\n                    return result.promise ? result.promise() : result\r\n                },\r\n                _beforeEditCell: function(rowIndex, columnIndex, item) {\r\n                    var result = this.callBase(rowIndex, columnIndex, item);\r\n                    if (this.getEditMode() === EDIT_MODE_CELL) {\r\n                        var $cell = this._rowsView._getCellElement(rowIndex, columnIndex);\r\n                        var validator = $cell && $cell.data(\"dxValidator\");\r\n                        var rowOptions = $cell && $cell.closest(\".dx-row\").data(\"options\");\r\n                        var value = validator && validator.option(\"adapter\").getValue();\r\n                        if (validator && cellValueShouldBeValidated(value, rowOptions)) {\r\n                            var validatingController = this.getController(\"validating\");\r\n                            var deferred = new _deferred.Deferred;\r\n                            (0, _deferred.when)(validatingController.validateCell(validator), result).done(function(validationResult, result) {\r\n                                deferred.resolve(validationResult.status === VALIDATION_STATUS.valid && result)\r\n                            });\r\n                            return deferred.promise()\r\n                        } else {\r\n                            if (!validator) {\r\n                                return result\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                _afterSaveEditData: function(cancel) {\r\n                    var _this7 = this;\r\n                    var $firstErrorRow;\r\n                    (0, _iterator.each)(this.getChanges(), function(_, change) {\r\n                        var $errorRow = _this7._showErrorRow(change);\r\n                        $firstErrorRow = $firstErrorRow || $errorRow\r\n                    });\r\n                    if ($firstErrorRow) {\r\n                        var scrollable = this._rowsView.getScrollable();\r\n                        if (scrollable) {\r\n                            scrollable.update();\r\n                            scrollable.scrollToElement($firstErrorRow)\r\n                        }\r\n                    }\r\n                    if (cancel && this.getEditMode() === EDIT_MODE_CELL && this._needUpdateRow()) {\r\n                        var editRowIndex = this.getEditRowIndex();\r\n                        this._dataController.updateItems({\r\n                            changeType: \"update\",\r\n                            rowIndices: [editRowIndex]\r\n                        });\r\n                        this._focusEditingCell()\r\n                    } else {\r\n                        if (!cancel) {\r\n                            this.getController(\"validating\")._validationState = []\r\n                        }\r\n                    }\r\n                },\r\n                _handleDataChanged: function(args) {\r\n                    var validationState = this.getController(\"validating\")._validationState;\r\n                    if (\"standard\" === this.option(\"scrolling.mode\")) {\r\n                        this.resetRowAndPageIndices()\r\n                    }\r\n                    if (\"prepend\" === args.changeType) {\r\n                        (0, _iterator.each)(validationState, function(_, validationData) {\r\n                            validationData.rowIndex += args.items.length\r\n                        })\r\n                    }\r\n                    this.callBase(args)\r\n                },\r\n                resetRowAndPageIndices: function() {\r\n                    var _this8 = this;\r\n                    var validationState = this.getController(\"validating\")._validationState;\r\n                    (0, _iterator.each)(validationState, function(_, validationData) {\r\n                        if (validationData.pageIndex !== _this8._pageIndex) {\r\n                            delete validationData.pageIndex;\r\n                            delete validationData.rowIndex\r\n                        }\r\n                    })\r\n                },\r\n                _beforeCancelEditData: function() {\r\n                    var validatingController = this.getController(\"validating\");\r\n                    validatingController._validationState = [];\r\n                    this.callBase()\r\n                },\r\n                _showErrorRow: function(change) {\r\n                    var $popupContent;\r\n                    var errorHandling = this.getController(\"errorHandling\");\r\n                    var items = this.getController(\"data\").items();\r\n                    var rowIndex = this.getIndexByKey(change.key, items);\r\n                    var validationData = this.getController(\"validating\")._getValidationData(change.key);\r\n                    if (!(null !== validationData && void 0 !== validationData && validationData.isValid) && null !== validationData && void 0 !== validationData && validationData.errorText && rowIndex >= 0) {\r\n                        $popupContent = this.getPopupContent();\r\n                        return errorHandling && errorHandling.renderErrorRow(null === validationData || void 0 === validationData ? void 0 : validationData.errorText, rowIndex, $popupContent)\r\n                    }\r\n                },\r\n                updateFieldValue: function(e) {\r\n                    var _this9 = this;\r\n                    var validatingController = this.getController(\"validating\");\r\n                    var deferred = new _deferred.Deferred;\r\n                    validatingController.removeCellValidationResult({\r\n                        change: this.getChangeByKey(e.key),\r\n                        columnIndex: e.column.index\r\n                    });\r\n                    this.callBase.apply(this, arguments).done(function() {\r\n                        var currentValidator = validatingController.getCellValidator({\r\n                            rowKey: e.key,\r\n                            columnIndex: e.column.index\r\n                        });\r\n                        (0, _deferred.when)(currentValidator && validatingController.validateCell(currentValidator)).done(function(validationResult) {\r\n                            _this9.getController(\"editorFactory\").refocus();\r\n                            deferred.resolve(validationResult)\r\n                        })\r\n                    });\r\n                    return deferred.promise()\r\n                },\r\n                highlightDataCell: function($cell, parameters) {\r\n                    this.callBase.apply(this, arguments);\r\n                    var validatingController = this.getController(\"validating\");\r\n                    validatingController.setCellValidationStatus(parameters);\r\n                    var isEditableCell = !!parameters.setValue;\r\n                    var cellModified = this.isCellModified(parameters);\r\n                    var isValidated = (0, _type.isDefined)(parameters.validationStatus);\r\n                    var needValidation = cellModified && parameters.column.setCellValue || isEditableCell && !cellModified && !(parameters.row.isNewRow || !isValidated);\r\n                    if (needValidation) {\r\n                        var validator = $cell.data(\"dxValidator\");\r\n                        if (validator) {\r\n                            (0, _deferred.when)(this.getController(\"validating\").validateCell(validator)).done(function() {\r\n                                validatingController.setCellValidationStatus(parameters)\r\n                            })\r\n                        }\r\n                    }\r\n                },\r\n                getChangeByKey: function(key) {\r\n                    var changes = this.getChanges();\r\n                    return changes[_uiGrid_core2.default.getIndexByKey(key, changes)]\r\n                },\r\n                isCellModified: function(parameters) {\r\n                    var cellModified = this.callBase(parameters);\r\n                    var change = this.getChangeByKey(parameters.key);\r\n                    var isCellInvalid = !!parameters.row && this.getController(\"validating\").isInvalidCell({\r\n                        rowKey: parameters.key,\r\n                        columnIndex: parameters.column.index\r\n                    });\r\n                    return cellModified || this.getController(\"validating\")._rowIsValidated(change) && isCellInvalid\r\n                }\r\n            },\r\n            editorFactory: function() {\r\n                var getWidthOfVisibleCells = function(that, element) {\r\n                    var rowIndex = (0, _renderer.default)(element).closest(\"tr\").index();\r\n                    var $cellElements = (0, _renderer.default)(that._rowsView.getRowElement(rowIndex)).first().children().filter(\":not(.dx-hidden-cell)\");\r\n                    return that._rowsView._getWidths($cellElements).reduce(function(w1, w2) {\r\n                        return w1 + w2\r\n                    }, 0)\r\n                };\r\n                var getBoundaryNonFixedColumnsInfo = function(fixedColumns) {\r\n                    var firstNonFixedColumnIndex;\r\n                    var lastNonFixedColumnIndex;\r\n                    fixedColumns.some(function(column, index) {\r\n                        if (column.command === COMMAND_TRANSPARENT) {\r\n                            firstNonFixedColumnIndex = 0 === index ? -1 : index;\r\n                            lastNonFixedColumnIndex = index === fixedColumns.length - 1 ? -1 : index + column.colspan - 1;\r\n                            return true\r\n                        }\r\n                    });\r\n                    return {\r\n                        startColumnIndex: firstNonFixedColumnIndex,\r\n                        endColumnIndex: lastNonFixedColumnIndex\r\n                    }\r\n                };\r\n                return {\r\n                    _showRevertButton: function($container) {\r\n                        var _this10 = this;\r\n                        if (!$container || !$container.length) {\r\n                            return\r\n                        }\r\n                        var $tooltipElement = $container.find(\".\" + this.addWidgetPrefix(REVERT_TOOLTIP_CLASS));\r\n                        $tooltipElement && $tooltipElement.remove();\r\n                        $tooltipElement = (0, _renderer.default)(\"<div>\").addClass(this.addWidgetPrefix(REVERT_TOOLTIP_CLASS)).appendTo($container);\r\n                        var tooltipOptions = {\r\n                            animation: null,\r\n                            visible: true,\r\n                            target: $container,\r\n                            container: $container,\r\n                            closeOnOutsideClick: false,\r\n                            closeOnTargetScroll: false,\r\n                            contentTemplate: function() {\r\n                                var $buttonElement = (0, _renderer.default)(\"<div>\").addClass(REVERT_BUTTON_CLASS);\r\n                                var buttonOptions = {\r\n                                    icon: \"revert\",\r\n                                    hint: _this10.option(\"editing.texts.validationCancelChanges\"),\r\n                                    onClick: function() {\r\n                                        _this10._editingController.cancelEditData()\r\n                                    }\r\n                                };\r\n                                return new _button.default($buttonElement, buttonOptions).$element()\r\n                            },\r\n                            position: {\r\n                                my: \"left top\",\r\n                                at: \"right top\",\r\n                                of: $container,\r\n                                offset: \"1 0\",\r\n                                collision: \"flip\",\r\n                                boundary: this._rowsView.element()\r\n                            },\r\n                            onPositioned: this._positionedHandler.bind(this)\r\n                        };\r\n                        return new _tooltip.default($tooltipElement, tooltipOptions)\r\n                    },\r\n                    _hideFixedGroupCell: function($cell, overlayOptions) {\r\n                        var $nextFixedRowElement;\r\n                        var $groupCellElement;\r\n                        var isFixedColumns = this._rowsView.isFixedColumns();\r\n                        var isFormEditMode = this._editingController.isFormEditMode();\r\n                        if (isFixedColumns && !isFormEditMode) {\r\n                            var nextRowOptions = $cell.closest(\".dx-row\").next().data(\"options\");\r\n                            if (nextRowOptions && \"group\" === nextRowOptions.rowType) {\r\n                                $nextFixedRowElement = (0, _renderer.default)(this._rowsView.getRowElement(nextRowOptions.rowIndex)).last();\r\n                                $groupCellElement = $nextFixedRowElement.find(\".\" + GROUP_CELL_CLASS);\r\n                                if ($groupCellElement.length && \"hidden\" !== $groupCellElement.get(0).style.visibility) {\r\n                                    $groupCellElement.css(\"visibility\", \"hidden\");\r\n                                    overlayOptions.onDisposing = function() {\r\n                                        $groupCellElement.css(\"visibility\", \"\")\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    _positionedHandler: function(e, isOverlayVisible) {\r\n                        if (!e.component.__skipPositionProcessing) {\r\n                            var isRevertButton = (0, _renderer.default)(e.element).hasClass(this.addWidgetPrefix(REVERT_TOOLTIP_CLASS));\r\n                            var needRepaint = !isRevertButton && this._rowsView.updateFreeSpaceRowHeight();\r\n                            var normalizedPosition = this._normalizeValidationMessagePositionAndMaxWidth(e, isRevertButton, isOverlayVisible);\r\n                            e.component.__skipPositionProcessing = !!(needRepaint || normalizedPosition);\r\n                            if (normalizedPosition) {\r\n                                e.component.option(normalizedPosition)\r\n                            } else {\r\n                                if (needRepaint) {\r\n                                    e.component.repaint()\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    _showValidationMessage: function($cell, messages, alignment, revertTooltip) {\r\n                        var _this11 = this;\r\n                        var editorPopup = $cell.find(\".dx-dropdowneditor-overlay\").data(\"dxPopup\");\r\n                        var isOverlayVisible = editorPopup && editorPopup.option(\"visible\");\r\n                        var myPosition = isOverlayVisible ? \"top right\" : \"top \" + alignment;\r\n                        var atPosition = isOverlayVisible ? \"top left\" : \"bottom \" + alignment;\r\n                        var $overlayContainer = $cell.closest(\".\".concat(this.addWidgetPrefix(CONTENT_CLASS)));\r\n                        var errorMessageText = \"\";\r\n                        messages && messages.forEach(function(message) {\r\n                            errorMessageText += (errorMessageText.length ? \"<br/>\" : \"\") + (0, _string.encodeHtml)(message)\r\n                        });\r\n                        var $overlayElement = (0, _renderer.default)(\"<div>\").addClass(INVALID_MESSAGE_CLASS).addClass(INVALID_MESSAGE_ALWAYS_CLASS).addClass(this.addWidgetPrefix(WIDGET_INVALID_MESSAGE_CLASS)).html(errorMessageText).appendTo($cell);\r\n                        var overlayOptions = {\r\n                            target: $cell,\r\n                            container: $overlayContainer,\r\n                            shading: false,\r\n                            width: \"auto\",\r\n                            height: \"auto\",\r\n                            visible: true,\r\n                            animation: false,\r\n                            propagateOutsideClick: true,\r\n                            closeOnOutsideClick: false,\r\n                            closeOnTargetScroll: false,\r\n                            position: {\r\n                                collision: \"flip\",\r\n                                boundary: this._rowsView.element(),\r\n                                boundaryOffset: \"0 0\",\r\n                                offset: {\r\n                                    x: 0,\r\n                                    y: !isOverlayVisible && (_browser.default.mozilla || _browser.default.msie) ? -1 : 0\r\n                                },\r\n                                my: myPosition,\r\n                                at: atPosition\r\n                            },\r\n                            onPositioned: function(e) {\r\n                                _this11._positionedHandler(e, isOverlayVisible);\r\n                                _this11._shiftValidationMessageIfNeed(e.component.$content(), revertTooltip && revertTooltip.$content(), $cell)\r\n                            }\r\n                        };\r\n                        this._hideFixedGroupCell($cell, overlayOptions);\r\n                        new _overlay.default($overlayElement, overlayOptions)\r\n                    },\r\n                    _normalizeValidationMessagePositionAndMaxWidth: function(options, isRevertButton, isOverlayVisible) {\r\n                        var fixedColumns = this._columnsController.getFixedColumns();\r\n                        if (!fixedColumns || !fixedColumns.length) {\r\n                            return\r\n                        }\r\n                        var position;\r\n                        var visibleTableWidth = !isRevertButton && getWidthOfVisibleCells(this, options.element);\r\n                        var $overlayContentElement = isRevertButton ? options.component.overlayContent() : options.component.$content();\r\n                        var validationMessageWidth = $overlayContentElement.outerWidth(true);\r\n                        var needMaxWidth = !isRevertButton && validationMessageWidth > visibleTableWidth;\r\n                        var columnIndex = this._rowsView.getCellIndex((0, _renderer.default)(options.element).closest(\"td\"));\r\n                        var boundaryNonFixedColumnsInfo = getBoundaryNonFixedColumnsInfo(fixedColumns);\r\n                        if (!isRevertButton && (columnIndex === boundaryNonFixedColumnsInfo.startColumnIndex || needMaxWidth)) {\r\n                            position = {\r\n                                collision: \"none flip\",\r\n                                my: \"top left\",\r\n                                at: isOverlayVisible ? \"top right\" : \"bottom left\"\r\n                            }\r\n                        } else {\r\n                            if (columnIndex === boundaryNonFixedColumnsInfo.endColumnIndex) {\r\n                                position = {\r\n                                    collision: \"none flip\",\r\n                                    my: \"top right\",\r\n                                    at: isRevertButton || isOverlayVisible ? \"top left\" : \"bottom right\"\r\n                                };\r\n                                if (isRevertButton) {\r\n                                    position.offset = \"-1 0\"\r\n                                }\r\n                            }\r\n                        }\r\n                        return position && {\r\n                            position: position,\r\n                            maxWidth: needMaxWidth ? visibleTableWidth - 2 : void 0\r\n                        }\r\n                    },\r\n                    _shiftValidationMessageIfNeed: function($content, $revertContent, $cell) {\r\n                        if (!$revertContent) {\r\n                            return\r\n                        }\r\n                        var contentOffset = $content.offset();\r\n                        var revertContentOffset = $revertContent.offset();\r\n                        if (contentOffset.top === revertContentOffset.top && contentOffset.left + $content.width() > revertContentOffset.left) {\r\n                            var left = $revertContent.width() + PADDING_BETWEEN_TOOLTIPS;\r\n                            $content.css(\"left\", revertContentOffset.left < $cell.offset().left ? -left : left)\r\n                        }\r\n                    },\r\n                    _getTooltipsSelector: function() {\r\n                        var invalidMessageClass = this.addWidgetPrefix(WIDGET_INVALID_MESSAGE_CLASS);\r\n                        var revertTooltipClass = this.addWidgetPrefix(REVERT_TOOLTIP_CLASS);\r\n                        return \".dx-editor-cell .\" + revertTooltipClass + \", .dx-editor-cell .\" + invalidMessageClass + \", .dx-cell-modified .\" + invalidMessageClass\r\n                    },\r\n                    init: function() {\r\n                        this.callBase();\r\n                        this._editingController = this.getController(\"editing\");\r\n                        this._columnsController = this.getController(\"columns\");\r\n                        this._rowsView = this.getView(\"rowsView\")\r\n                    },\r\n                    loseFocus: function(skipValidator) {\r\n                        if (!skipValidator) {\r\n                            this.getController(\"validating\").setValidator(null)\r\n                        }\r\n                        this.callBase()\r\n                    },\r\n                    updateCellState: function($element, validationResult, hideBorder) {\r\n                        var $focus = null === $element || void 0 === $element ? void 0 : $element.closest(this._getFocusCellSelector());\r\n                        var $cell = null !== $focus && void 0 !== $focus && $focus.is(\"td\") ? $focus : null;\r\n                        var rowOptions = null === $focus || void 0 === $focus ? void 0 : $focus.closest(\".dx-row\").data(\"options\");\r\n                        var change = rowOptions ? this.getController(\"editing\").getChangeByKey(rowOptions.key) : null;\r\n                        var column = $cell && this.getController(\"columns\").getVisibleColumns()[$cell.index()];\r\n                        var revertTooltip;\r\n                        if (validationResult && validationResult.status === VALIDATION_STATUS.invalid || \"update\" === (null === change || void 0 === change ? void 0 : change.type) && !this._editingController.isSaving()) {\r\n                            if (this._editingController.getEditMode() === EDIT_MODE_CELL) {\r\n                                revertTooltip = this._showRevertButton($focus)\r\n                            }\r\n                        }\r\n                        var showValidationMessage = validationResult && validationResult.status === VALIDATION_STATUS.invalid;\r\n                        if (showValidationMessage && $cell && column && validationResult && validationResult.brokenRules) {\r\n                            var errorMessages = [];\r\n                            validationResult.brokenRules.forEach(function(rule) {\r\n                                errorMessages.push(rule.message)\r\n                            });\r\n                            this._showValidationMessage($focus, errorMessages, column.alignment || \"left\", revertTooltip)\r\n                        }!hideBorder && this._rowsView.element() && this._rowsView.updateFreeSpaceRowHeight()\r\n                    },\r\n                    focus: function($element, hideBorder) {\r\n                        var _this12 = this;\r\n                        if (!arguments.length) {\r\n                            return this.callBase()\r\n                        }\r\n                        var $tooltips = $element && $element.closest(\".\" + this.addWidgetPrefix(ROWS_VIEW_CLASS)).find(this._getTooltipsSelector());\r\n                        $tooltips && $tooltips.remove();\r\n                        if (null !== $element && void 0 !== $element && $element.hasClass(\"dx-row\")) {\r\n                            return this.callBase($element, hideBorder)\r\n                        }\r\n                        var $focus = null === $element || void 0 === $element ? void 0 : $element.closest(this._getFocusCellSelector());\r\n                        var callBase = this.callBase;\r\n                        var validator = $focus && ($focus.data(\"dxValidator\") || $element.find(\".\" + this.addWidgetPrefix(VALIDATOR_CLASS)).eq(0).data(\"dxValidator\"));\r\n                        var rowOptions = $focus && $focus.closest(\".dx-row\").data(\"options\");\r\n                        var editingController = this.getController(\"editing\");\r\n                        var change = rowOptions ? editingController.getChangeByKey(rowOptions.key) : null;\r\n                        var validationResult;\r\n                        var $cell = $focus && $focus.is(\"td\") ? $focus : null;\r\n                        var column = $cell && this.getController(\"columns\").getVisibleColumns()[$cell.index()];\r\n                        var validatingController = this.getController(\"validating\");\r\n                        if (validator) {\r\n                            validatingController.setValidator(validator);\r\n                            var value = validator.option(\"adapter\").getValue();\r\n                            if (cellValueShouldBeValidated(value, rowOptions) || validatingController._rowIsValidated(change)) {\r\n                                editingController.waitForDeferredOperations().done(function() {\r\n                                    (0, _deferred.when)(validatingController.validateCell(validator)).done(function(result) {\r\n                                        validationResult = result;\r\n                                        if (change && column && !validatingController.isCurrentValidatorProcessing({\r\n                                                rowKey: change.key,\r\n                                                columnIndex: column.index\r\n                                            })) {\r\n                                            return\r\n                                        }\r\n                                        if (validationResult.status === VALIDATION_STATUS.invalid) {\r\n                                            hideBorder = true\r\n                                        }\r\n                                        _this12.updateCellState($element, validationResult, hideBorder);\r\n                                        callBase.call(_this12, $element, hideBorder)\r\n                                    })\r\n                                });\r\n                                return this.callBase($element, hideBorder)\r\n                            }\r\n                        }\r\n                        this.updateCellState($element, validationResult, hideBorder);\r\n                        return this.callBase($element, hideBorder)\r\n                    },\r\n                    getEditorInstance: function($container) {\r\n                        var $editor = $container.find(\".dx-texteditor\").eq(0);\r\n                        return _uiGrid_core2.default.getWidgetInstance($editor)\r\n                    }\r\n                }\r\n            }(),\r\n            data: {\r\n                _isCellChanged: function(oldRow, newRow, visibleRowIndex, columnIndex, isLiveUpdate) {\r\n                    var cell = oldRow.cells[columnIndex];\r\n                    var oldValidationStatus = cell && cell.validationStatus;\r\n                    var validatingController = this.getController(\"validating\");\r\n                    var validationResult = validatingController.getCellValidationResult({\r\n                        rowKey: oldRow.key,\r\n                        columnIndex: columnIndex\r\n                    });\r\n                    var validationData = validatingController._getValidationData(oldRow.key);\r\n                    var newValidationStatus = validationResultIsValid(validationResult) ? validationResult.status : validationResult;\r\n                    var rowIsModified = JSON.stringify(newRow.modifiedValues) !== JSON.stringify(oldRow.modifiedValues);\r\n                    var cellIsMarkedAsInvalid = (0, _renderer.default)(null === cell || void 0 === cell ? void 0 : cell.cellElement).hasClass(this.addWidgetPrefix(INVALIDATE_CLASS));\r\n                    if (oldValidationStatus !== newValidationStatus && rowIsModified || validationData.isValid && cellIsMarkedAsInvalid) {\r\n                        return true\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: {\r\n                updateFreeSpaceRowHeight: function($table) {\r\n                    var that = this;\r\n                    var $rowElements;\r\n                    var $freeSpaceRowElement;\r\n                    var $freeSpaceRowElements;\r\n                    var $element = that.element();\r\n                    var $tooltipContent = $element && $element.find(\".\" + that.addWidgetPrefix(WIDGET_INVALID_MESSAGE_CLASS) + \" .dx-overlay-content\");\r\n                    that.callBase($table);\r\n                    if ($tooltipContent && $tooltipContent.length) {\r\n                        $rowElements = that._getRowElements();\r\n                        $freeSpaceRowElements = that._getFreeSpaceRowElements($table);\r\n                        $freeSpaceRowElement = $freeSpaceRowElements.first();\r\n                        if ($freeSpaceRowElement && 1 === $rowElements.length && (!$freeSpaceRowElement.is(\":visible\") || $tooltipContent.outerHeight() > $freeSpaceRowElement.outerHeight())) {\r\n                            $freeSpaceRowElements.show();\r\n                            $freeSpaceRowElements.height($tooltipContent.outerHeight());\r\n                            return true\r\n                        }\r\n                    }\r\n                },\r\n                _formItemPrepared: function(cellOptions, $container) {\r\n                    var _this13 = this;\r\n                    this.callBase.apply(this, arguments);\r\n                    (0, _common.deferUpdate)(function() {\r\n                        var $editor = $container.find(\".dx-widget\").first();\r\n                        var isEditorDisposed = $editor.length && !$editor.children().length;\r\n                        if (!isEditorDisposed) {\r\n                            _this13.getController(\"validating\").createValidator(cellOptions, $editor)\r\n                        }\r\n                    })\r\n                },\r\n                _cellPrepared: function($cell, parameters) {\r\n                    if (!this.getController(\"editing\").isFormEditMode()) {\r\n                        this.getController(\"validating\").createValidator(parameters, $cell)\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/tooltip.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _tooltip = _interopRequireDefault(require(\"./tooltip/tooltip\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar _default = _tooltip.default;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\nmodule.exports.default = module.exports;\r\n","/**\r\n * DevExtreme (ui/tooltip/tooltip.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _guid = _interopRequireDefault(require(\"../../core/guid\"));\r\nvar _component_registrator = _interopRequireDefault(require(\"../../core/component_registrator\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _popover = _interopRequireDefault(require(\"../popover\"));\r\nvar _type = require(\"../../core/utils/type\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar TOOLTIP_CLASS = \"dx-tooltip\";\r\nvar TOOLTIP_WRAPPER_CLASS = \"dx-tooltip-wrapper\";\r\nvar Tooltip = _popover.default.inherit({\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            toolbarItems: [],\r\n            showCloseButton: false,\r\n            showTitle: false,\r\n            title: null,\r\n            titleTemplate: null,\r\n            onTitleRendered: null,\r\n            bottomTemplate: null,\r\n            propagateOutsideClick: true\r\n        })\r\n    },\r\n    _render: function() {\r\n        this.$element().addClass(TOOLTIP_CLASS);\r\n        this._wrapper().addClass(TOOLTIP_WRAPPER_CLASS);\r\n        this.callBase()\r\n    },\r\n    _renderContent: function() {\r\n        this.callBase();\r\n        this._contentId = \"dx-\" + new _guid.default;\r\n        this._$content.attr({\r\n            id: this._contentId,\r\n            role: \"tooltip\"\r\n        });\r\n        this._toggleAriaDescription(true)\r\n    },\r\n    _toggleAriaDescription: function(showing) {\r\n        var $target = (0, _renderer.default)(this.option(\"target\"));\r\n        var label = showing ? this._contentId : void 0;\r\n        if (!(0, _type.isWindow)($target.get(0))) {\r\n            this.setAria(\"describedby\", label, $target)\r\n        }\r\n    }\r\n});\r\n(0, _component_registrator.default)(\"dxTooltip\", Tooltip);\r\nvar _default = Tooltip;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.virtual_scrolling.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiData_grid2 = _interopRequireDefault(require(\"./ui.data_grid.data_source_adapter\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.virtual_scrolling\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"virtualScrolling\", _uiGrid_core.default);\r\n_uiData_grid2.default.extend(_uiGrid_core.default.extenders.dataSourceAdapter);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.virtual_scrolling.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _uiGrid_core = require(\"./ui.grid_core.virtual_scrolling_core\");\r\nvar _uiGrid_core2 = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _translator = require(\"../../animation/translator\");\r\nvar _load_indicator = _interopRequireDefault(require(\"../load_indicator\"));\r\nvar _browser = _interopRequireDefault(require(\"../../core/utils/browser\"));\r\nvar _position = require(\"../../core/utils/position\");\r\nvar _type = require(\"../../core/utils/type\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar TABLE_CLASS = \"table\";\r\nvar BOTTOM_LOAD_PANEL_CLASS = \"bottom-load-panel\";\r\nvar TABLE_CONTENT_CLASS = \"table-content\";\r\nvar GROUP_SPACE_CLASS = \"group-space\";\r\nvar CONTENT_CLASS = \"content\";\r\nvar ROW_CLASS = \"dx-row\";\r\nvar FREESPACE_CLASS = \"dx-freespace-row\";\r\nvar COLUMN_LINES_CLASS = \"dx-column-lines\";\r\nvar VIRTUAL_ROW_CLASS = \"dx-virtual-row\";\r\nvar SCROLLING_MODE_INFINITE = \"infinite\";\r\nvar SCROLLING_MODE_VIRTUAL = \"virtual\";\r\nvar SCROLLING_MODE_STANDARD = \"standard\";\r\nvar PIXELS_LIMIT = 25e4;\r\nvar LOAD_TIMEOUT = 300;\r\nvar isVirtualMode = function(that) {\r\n    return that.option(\"scrolling.mode\") === SCROLLING_MODE_VIRTUAL\r\n};\r\nvar isAppendMode = function(that) {\r\n    return that.option(\"scrolling.mode\") === SCROLLING_MODE_INFINITE\r\n};\r\nvar isVirtualRowRendering = function(that) {\r\n    var rowRenderingMode = that.option(\"scrolling.rowRenderingMode\");\r\n    if (rowRenderingMode === SCROLLING_MODE_VIRTUAL) {\r\n        return true\r\n    } else {\r\n        if (rowRenderingMode === SCROLLING_MODE_STANDARD) {\r\n            return false\r\n        }\r\n    }\r\n};\r\nvar _correctCount = function(items, count, fromEnd, isItemCountableFunc) {\r\n    for (var i = 0; i < count + 1; i++) {\r\n        var item = items[fromEnd ? items.length - 1 - i : i];\r\n        if (item && !isItemCountableFunc(item, i === count, fromEnd)) {\r\n            count++\r\n        }\r\n    }\r\n    return count\r\n};\r\nvar isItemCountableByDataSource = function(item, dataSource) {\r\n    return \"data\" === item.rowType && !item.isNewRow || \"group\" === item.rowType && dataSource.isGroupItemCountable(item.data)\r\n};\r\nvar VirtualScrollingDataSourceAdapterExtender = function() {\r\n    var _updateLoading = function(that) {\r\n        var beginPageIndex = that._virtualScrollController.beginPageIndex(-1);\r\n        if (isVirtualMode(that)) {\r\n            if (beginPageIndex < 0 || that.viewportSize() >= 0 && that.getViewportItemIndex() >= 0 && (beginPageIndex * that.pageSize() > that.getViewportItemIndex() || beginPageIndex * that.pageSize() + that.itemsCount() < that.getViewportItemIndex() + that.viewportSize()) && that._dataSource.isLoading()) {\r\n                if (!that._isLoading) {\r\n                    that._isLoading = true;\r\n                    that.loadingChanged.fire(true)\r\n                }\r\n            } else {\r\n                if (that._isLoading) {\r\n                    that._isLoading = false;\r\n                    that.loadingChanged.fire(false)\r\n                }\r\n            }\r\n        }\r\n    };\r\n    var result = {\r\n        init: function(dataSource) {\r\n            var that = this;\r\n            that.callBase.apply(that, arguments);\r\n            that._items = [];\r\n            that._isLoaded = true;\r\n            that._virtualScrollController = new _uiGrid_core.VirtualScrollController(that.component, {\r\n                pageSize: function() {\r\n                    return that.pageSize()\r\n                },\r\n                totalItemsCount: function() {\r\n                    return that.totalItemsCount()\r\n                },\r\n                hasKnownLastPage: function() {\r\n                    return that.hasKnownLastPage()\r\n                },\r\n                pageIndex: function(index) {\r\n                    return dataSource.pageIndex(index)\r\n                },\r\n                isLoading: function() {\r\n                    return dataSource.isLoading() && !that.isCustomLoading()\r\n                },\r\n                pageCount: function() {\r\n                    return that.pageCount()\r\n                },\r\n                load: function() {\r\n                    return dataSource.load()\r\n                },\r\n                updateLoading: function() {\r\n                    _updateLoading(that)\r\n                },\r\n                itemsCount: function() {\r\n                    return that.itemsCount(true)\r\n                },\r\n                items: function() {\r\n                    return dataSource.items()\r\n                },\r\n                viewportItems: function(items) {\r\n                    if (items) {\r\n                        that._items = items\r\n                    }\r\n                    return that._items\r\n                },\r\n                onChanged: function(e) {\r\n                    that.changed.fire(e)\r\n                },\r\n                changingDuration: function(e) {\r\n                    if (that.isLoading()) {\r\n                        return LOAD_TIMEOUT\r\n                    }\r\n                    return that._renderTime || 0\r\n                }\r\n            })\r\n        },\r\n        _handleLoadingChanged: function(isLoading) {\r\n            if (!isVirtualMode(this) || this._isLoadingAll) {\r\n                this._isLoading = isLoading;\r\n                this.callBase.apply(this, arguments)\r\n            }\r\n            if (isLoading) {\r\n                this._startLoadTime = new Date\r\n            } else {\r\n                this._startLoadTime = void 0\r\n            }\r\n        },\r\n        _handleLoadError: function() {\r\n            var that = this;\r\n            that._isLoading = false;\r\n            that.loadingChanged.fire(false);\r\n            that.callBase.apply(that, arguments)\r\n        },\r\n        _handleDataChanged: function(e) {\r\n            var callBase = this.callBase.bind(this);\r\n            this._virtualScrollController.handleDataChanged(callBase, e)\r\n        },\r\n        _customizeRemoteOperations: function(options, operationTypes) {\r\n            var that = this;\r\n            if (!that.option(\"legacyRendering\") && isVirtualMode(that) && !operationTypes.reload && operationTypes.skip && that._renderTime < that.option(\"scrolling.renderingThreshold\")) {\r\n                options.delay = void 0\r\n            }\r\n            that.callBase.apply(that, arguments)\r\n        },\r\n        items: function() {\r\n            return this._items\r\n        },\r\n        itemsCount: function(isBase) {\r\n            if (isBase) {\r\n                return this.callBase()\r\n            }\r\n            return this._virtualScrollController.itemsCount()\r\n        },\r\n        load: function(loadOptions) {\r\n            if (loadOptions) {\r\n                return this.callBase(loadOptions)\r\n            }\r\n            return this._virtualScrollController.load()\r\n        },\r\n        isLoading: function() {\r\n            return this._isLoading\r\n        },\r\n        isLoaded: function() {\r\n            return this._dataSource.isLoaded() && this._isLoaded\r\n        },\r\n        resetPagesCache: function(isLiveUpdate) {\r\n            if (!isLiveUpdate) {\r\n                this._virtualScrollController.reset(true)\r\n            }\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        _changeRowExpandCore: function() {\r\n            var result = this.callBase.apply(this, arguments);\r\n            this.resetPagesCache();\r\n            _updateLoading(this);\r\n            return result\r\n        },\r\n        reload: function() {\r\n            this._dataSource.pageIndex(this.pageIndex());\r\n            var virtualScrollController = this._virtualScrollController;\r\n            if (virtualScrollController) {\r\n                var d = new _deferred.Deferred;\r\n                this.callBase.apply(this, arguments).done(function(r) {\r\n                    var delayDeferred = virtualScrollController._delayDeferred;\r\n                    if (delayDeferred) {\r\n                        delayDeferred.done(d.resolve).fail(d.reject)\r\n                    } else {\r\n                        d.resolve(r)\r\n                    }\r\n                }).fail(d.reject);\r\n                return d\r\n            } else {\r\n                return this.callBase.apply(this, arguments)\r\n            }\r\n        },\r\n        refresh: function(options, operationTypes) {\r\n            var that = this;\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var dataSource = that._dataSource;\r\n            if (operationTypes.reload) {\r\n                that._virtualScrollController.reset();\r\n                dataSource.items().length = 0;\r\n                that._isLoaded = false;\r\n                _updateLoading(that);\r\n                that._isLoaded = true;\r\n                if (isAppendMode(that)) {\r\n                    that.pageIndex(0);\r\n                    dataSource.pageIndex(0);\r\n                    storeLoadOptions.pageIndex = 0;\r\n                    options.pageIndex = 0;\r\n                    storeLoadOptions.skip = 0\r\n                } else {\r\n                    dataSource.pageIndex(that.pageIndex());\r\n                    if (dataSource.paginate()) {\r\n                        options.pageIndex = that.pageIndex();\r\n                        storeLoadOptions.skip = that.pageIndex() * that.pageSize()\r\n                    }\r\n                }\r\n            } else {\r\n                if (isAppendMode(that) && storeLoadOptions.skip && that._skipCorrection < 0) {\r\n                    storeLoadOptions.skip += that._skipCorrection\r\n                }\r\n            }\r\n            return that.callBase.apply(that, arguments)\r\n        },\r\n        dispose: function() {\r\n            this._virtualScrollController.dispose();\r\n            this.callBase.apply(this, arguments)\r\n        }\r\n    };\r\n    [\"virtualItemsCount\", \"getContentOffset\", \"getVirtualContentSize\", \"setContentSize\", \"setViewportPosition\", \"getViewportItemIndex\", \"setViewportItemIndex\", \"getItemIndexByPosition\", \"viewportSize\", \"viewportItemSize\", \"getItemSize\", \"getItemSizes\", \"pageIndex\", \"beginPageIndex\", \"endPageIndex\", \"loadIfNeed\"].forEach(function(name) {\r\n        result[name] = function() {\r\n            var virtualScrollController = this._virtualScrollController;\r\n            return virtualScrollController[name].apply(virtualScrollController, arguments)\r\n        }\r\n    });\r\n    return result\r\n}();\r\nvar VirtualScrollingRowsViewExtender = function() {\r\n    var removeEmptyRows = function($emptyRows, className) {\r\n        var getRowParent = function(row) {\r\n            return (0, _renderer.default)(row).parent(\".\" + className).get(0)\r\n        };\r\n        var tBodies = $emptyRows.toArray().map(getRowParent).filter(function(row) {\r\n            return row\r\n        });\r\n        if (tBodies.length) {\r\n            $emptyRows = (0, _renderer.default)(tBodies)\r\n        }\r\n        var rowCount = className === FREESPACE_CLASS ? $emptyRows.length - 1 : $emptyRows.length;\r\n        for (var i = 0; i < rowCount; i++) {\r\n            $emptyRows.eq(i).remove()\r\n        }\r\n    };\r\n    return {\r\n        init: function() {\r\n            var _dataController$state, _this = this;\r\n            var dataController = this.getController(\"data\");\r\n            this.callBase();\r\n            dataController.pageChanged.add(function() {\r\n                _this.scrollToPage(dataController.pageIndex())\r\n            });\r\n            null === (_dataController$state = dataController.stateLoaded) || void 0 === _dataController$state ? void 0 : _dataController$state.add(function() {\r\n                _this._scrollToCurrentPageOnResize()\r\n            });\r\n            this._scrollToCurrentPageOnResize()\r\n        },\r\n        _scrollToCurrentPageOnResize: function() {\r\n            var _this2 = this;\r\n            var dataController = this.getController(\"data\");\r\n            if (!this.option(\"legacyRendering\") && dataController.pageIndex() > 0) {\r\n                var resizeHandler = function resizeHandler() {\r\n                    _this2.resizeCompleted.remove(resizeHandler);\r\n                    _this2.scrollToPage(dataController.pageIndex())\r\n                };\r\n                this.resizeCompleted.add(resizeHandler)\r\n            }\r\n        },\r\n        scrollToPage: function(pageIndex) {\r\n            var that = this;\r\n            var dataController = that._dataController;\r\n            var pageSize = dataController ? dataController.pageSize() : 0;\r\n            var scrollPosition;\r\n            if (isVirtualMode(that) || isAppendMode(that)) {\r\n                var itemSize = dataController.getItemSize();\r\n                var itemSizes = dataController.getItemSizes();\r\n                var itemIndex = pageIndex * pageSize;\r\n                scrollPosition = itemIndex * itemSize;\r\n                for (var index in itemSizes) {\r\n                    if (index < itemIndex) {\r\n                        scrollPosition += itemSizes[index] - itemSize\r\n                    }\r\n                }\r\n            } else {\r\n                scrollPosition = 0\r\n            }\r\n            that.scrollTo({\r\n                y: scrollPosition,\r\n                x: that._scrollLeft\r\n            })\r\n        },\r\n        renderDelayedTemplates: function(e) {\r\n            this._updateContentPosition(true);\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        _renderCore: function(e) {\r\n            var that = this;\r\n            var startRenderTime = new Date;\r\n            that.callBase.apply(that, arguments);\r\n            var dataSource = that._dataController._dataSource;\r\n            if (dataSource && e) {\r\n                var itemCount = e.items ? e.items.length : 20;\r\n                var viewportSize = that._dataController.viewportSize() || 20;\r\n                if (isVirtualRowRendering(that)) {\r\n                    dataSource._renderTime = (new Date - startRenderTime) * viewportSize / itemCount\r\n                } else {\r\n                    dataSource._renderTime = new Date - startRenderTime\r\n                }\r\n            }\r\n        },\r\n        _getRowElements: function(tableElement) {\r\n            var $rows = this.callBase(tableElement);\r\n            return $rows && $rows.not(\".\" + VIRTUAL_ROW_CLASS)\r\n        },\r\n        _renderContent: function(contentElement, tableElement) {\r\n            var that = this;\r\n            var virtualItemsCount = that._dataController.virtualItemsCount();\r\n            if (virtualItemsCount && that.option(\"legacyRendering\")) {\r\n                if ((0, _window.hasWindow)()) {\r\n                    tableElement.addClass(that.addWidgetPrefix(TABLE_CONTENT_CLASS))\r\n                }\r\n                if (!contentElement.children().length) {\r\n                    contentElement.append(tableElement)\r\n                } else {\r\n                    contentElement.children().first().replaceWith(tableElement)\r\n                }\r\n                if (1 === contentElement.children(\"table\").length) {\r\n                    contentElement.append(that._createTable());\r\n                    that._contentHeight = 0\r\n                }\r\n                return contentElement\r\n            }\r\n            return that.callBase.apply(that, arguments)\r\n        },\r\n        _removeRowsElements: function(contentTable, removeCount, changeType) {\r\n            var rowElements = this._getRowElements(contentTable).toArray();\r\n            if (\"append\" === changeType) {\r\n                rowElements = rowElements.slice(0, removeCount)\r\n            } else {\r\n                rowElements = rowElements.slice(-removeCount)\r\n            }\r\n            var errorHandlingController = this.getController(\"errorHandling\");\r\n            rowElements.map(function(rowElement) {\r\n                var $rowElement = (0, _renderer.default)(rowElement);\r\n                errorHandlingController && errorHandlingController.removeErrorRow($rowElement.next());\r\n                $rowElement.remove()\r\n            })\r\n        },\r\n        _restoreErrorRow: function(contentTable) {\r\n            var editingController = this.getController(\"editing\");\r\n            editingController && editingController.hasChanges() && this._getRowElements(contentTable).each(function(_, item) {\r\n                var rowOptions = (0, _renderer.default)(item).data(\"options\");\r\n                if (rowOptions) {\r\n                    var change = editingController.getChangeByKey(rowOptions.key);\r\n                    change && editingController._showErrorRow(change)\r\n                }\r\n            })\r\n        },\r\n        _updateContent: function(tableElement, change) {\r\n            var that = this;\r\n            var $freeSpaceRowElements;\r\n            var contentElement = that._findContentElement();\r\n            var changeType = change && change.changeType;\r\n            if (\"append\" === changeType || \"prepend\" === changeType) {\r\n                var contentTable = contentElement.children().first();\r\n                var $tBodies = that._getBodies(tableElement);\r\n                if (!that.option(\"legacyRendering\") && 1 === $tBodies.length) {\r\n                    that._getBodies(contentTable)[\"append\" === changeType ? \"append\" : \"prepend\"]($tBodies.children())\r\n                } else {\r\n                    $tBodies[\"append\" === changeType ? \"appendTo\" : \"prependTo\"](contentTable)\r\n                }\r\n                tableElement.remove();\r\n                $freeSpaceRowElements = that._getFreeSpaceRowElements(contentTable);\r\n                removeEmptyRows($freeSpaceRowElements, FREESPACE_CLASS);\r\n                if (change.removeCount) {\r\n                    that._removeRowsElements(contentTable, change.removeCount, changeType)\r\n                }\r\n                that._restoreErrorRow(contentTable)\r\n            } else {\r\n                that.callBase.apply(that, arguments)\r\n            }\r\n            that._updateBottomLoading()\r\n        },\r\n        _addVirtualRow: function($table, isFixed, location, position) {\r\n            if (!position) {\r\n                return\r\n            }\r\n            var $virtualRow = this._createEmptyRow(VIRTUAL_ROW_CLASS, isFixed, position);\r\n            $virtualRow = this._wrapRowIfNeed($table, $virtualRow);\r\n            this._appendEmptyRow($table, $virtualRow, location)\r\n        },\r\n        _getRowHeights: function() {\r\n            var rowHeights = this._getRowElements(this._tableElement).toArray().map(function(row) {\r\n                return (0, _position.getBoundingRect)(row).height\r\n            });\r\n            return rowHeights\r\n        },\r\n        _correctRowHeights: function(rowHeights) {\r\n            var dataController = this._dataController;\r\n            var dataSource = dataController._dataSource;\r\n            var correctedRowHeights = [];\r\n            var visibleRows = dataController.getVisibleRows();\r\n            var itemSize = 0;\r\n            var firstCountableItem = true;\r\n            for (var i = 0; i < rowHeights.length; i++) {\r\n                var currentItem = visibleRows[i];\r\n                if (!(0, _type.isDefined)(currentItem)) {\r\n                    continue\r\n                }\r\n                if (isItemCountableByDataSource(currentItem, dataSource)) {\r\n                    if (firstCountableItem) {\r\n                        firstCountableItem = false\r\n                    } else {\r\n                        correctedRowHeights.push(itemSize);\r\n                        itemSize = 0\r\n                    }\r\n                }\r\n                itemSize += rowHeights[i]\r\n            }\r\n            itemSize > 0 && correctedRowHeights.push(itemSize);\r\n            return correctedRowHeights\r\n        },\r\n        _updateContentPosition: function(isRender) {\r\n            var that = this;\r\n            var dataController = that._dataController;\r\n            var rowHeight = that._rowHeight || 20;\r\n            dataController.viewportItemSize(rowHeight);\r\n            if (!that.option(\"legacyRendering\") && (isVirtualMode(that) || isVirtualRowRendering(that))) {\r\n                if (!isRender) {\r\n                    var rowHeights = that._getRowHeights();\r\n                    var correctedRowHeights = that._correctRowHeights(rowHeights);\r\n                    dataController.setContentSize(correctedRowHeights)\r\n                }\r\n                var top = dataController.getContentOffset(\"begin\");\r\n                var bottom = dataController.getContentOffset(\"end\");\r\n                var $tables = that.getTableElements();\r\n                var $virtualRows = $tables.children(\"tbody\").children(\".\" + VIRTUAL_ROW_CLASS);\r\n                removeEmptyRows($virtualRows, VIRTUAL_ROW_CLASS);\r\n                $tables.each(function(index) {\r\n                    var isFixed = index > 0;\r\n                    that._isFixedTableRendering = isFixed;\r\n                    that._addVirtualRow((0, _renderer.default)(this), isFixed, \"top\", top);\r\n                    that._addVirtualRow((0, _renderer.default)(this), isFixed, \"bottom\", bottom);\r\n                    that._isFixedTableRendering = false\r\n                })\r\n            } else {\r\n                (0, _common.deferUpdate)(function() {\r\n                    that._updateContentPositionCore()\r\n                })\r\n            }\r\n        },\r\n        _updateContentPositionCore: function() {\r\n            var that = this;\r\n            var contentHeight;\r\n            var $tables;\r\n            var $contentTable;\r\n            var rowHeight = that._rowHeight || 20;\r\n            var virtualItemsCount = that._dataController.virtualItemsCount();\r\n            if (virtualItemsCount) {\r\n                var contentElement = that._findContentElement();\r\n                $tables = contentElement.children();\r\n                $contentTable = $tables.eq(0);\r\n                var virtualTable = $tables.eq(1);\r\n                that._contentTableHeight = $contentTable[0].offsetHeight;\r\n                that._dataController.viewportItemSize(rowHeight);\r\n                that._dataController.setContentSize(that._contentTableHeight);\r\n                contentHeight = that._dataController.getVirtualContentSize();\r\n                var top = that._dataController.getContentOffset();\r\n                (0, _common.deferRender)(function() {\r\n                    (0, _translator.move)($contentTable, {\r\n                        left: 0,\r\n                        top: top\r\n                    });\r\n                    var isRenderVirtualTableContentRequired = that._contentHeight !== contentHeight || 0 === contentHeight || !that._isTableLinesDisplaysCorrect(virtualTable) || !that._isColumnElementsEqual($contentTable.find(\"col\"), virtualTable.find(\"col\"));\r\n                    if (isRenderVirtualTableContentRequired) {\r\n                        that._contentHeight = contentHeight;\r\n                        that._renderVirtualTableContent(virtualTable, contentHeight)\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        _isTableLinesDisplaysCorrect: function(table) {\r\n            var hasColumnLines = table.find(\".\" + COLUMN_LINES_CLASS).length > 0;\r\n            return hasColumnLines === this.option(\"showColumnLines\")\r\n        },\r\n        _isColumnElementsEqual: function($columns, $virtualColumns) {\r\n            var result = $columns.length === $virtualColumns.length;\r\n            if (result) {\r\n                (0, _iterator.each)($columns, function(index, element) {\r\n                    if (element.style.width !== $virtualColumns[index].style.width) {\r\n                        result = false;\r\n                        return result\r\n                    }\r\n                })\r\n            }\r\n            return result\r\n        },\r\n        _renderVirtualTableContent: function(container, height) {\r\n            var that = this;\r\n            var columns = that._columnsController.getVisibleColumns();\r\n            var html = that._createColGroup(columns).prop(\"outerHTML\");\r\n            var freeSpaceCellsHtml = \"\";\r\n            var columnLinesClass = that.option(\"showColumnLines\") ? COLUMN_LINES_CLASS : \"\";\r\n            var createFreeSpaceRowHtml = function(height) {\r\n                return \"<tr style='height:\" + height + \"px;' class='\" + FREESPACE_CLASS + \" \" + ROW_CLASS + \" \" + columnLinesClass + \"' >\" + freeSpaceCellsHtml + \"</tr>\"\r\n            };\r\n            for (var i = 0; i < columns.length; i++) {\r\n                var classes = that._getCellClasses(columns[i]);\r\n                var classString = classes.length ? \" class='\" + classes.join(\" \") + \"'\" : \"\";\r\n                freeSpaceCellsHtml += \"<td\" + classString + \"/>\"\r\n            }\r\n            while (height > PIXELS_LIMIT) {\r\n                html += createFreeSpaceRowHtml(PIXELS_LIMIT);\r\n                height -= PIXELS_LIMIT\r\n            }\r\n            html += createFreeSpaceRowHtml(height);\r\n            container.addClass(that.addWidgetPrefix(TABLE_CLASS));\r\n            container.html(html)\r\n        },\r\n        _getCellClasses: function(column) {\r\n            var classes = [];\r\n            var cssClass = column.cssClass;\r\n            var isExpandColumn = \"expand\" === column.command;\r\n            cssClass && classes.push(cssClass);\r\n            isExpandColumn && classes.push(this.addWidgetPrefix(GROUP_SPACE_CLASS));\r\n            return classes\r\n        },\r\n        _findBottomLoadPanel: function($contentElement) {\r\n            var $element = $contentElement || this.element();\r\n            var $bottomLoadPanel = $element && $element.find(\".\" + this.addWidgetPrefix(BOTTOM_LOAD_PANEL_CLASS));\r\n            if ($bottomLoadPanel && $bottomLoadPanel.length) {\r\n                return $bottomLoadPanel\r\n            }\r\n        },\r\n        _updateBottomLoading: function() {\r\n            var that = this;\r\n            var scrollingMode = that.option(\"scrolling.mode\");\r\n            var virtualMode = scrollingMode === SCROLLING_MODE_VIRTUAL;\r\n            var appendMode = scrollingMode === SCROLLING_MODE_INFINITE;\r\n            var showBottomLoading = !that._dataController.hasKnownLastPage() && that._dataController.isLoaded() && (virtualMode || appendMode);\r\n            var $contentElement = that._findContentElement();\r\n            var bottomLoadPanelElement = that._findBottomLoadPanel($contentElement);\r\n            if (showBottomLoading) {\r\n                if (!bottomLoadPanelElement) {\r\n                    (0, _renderer.default)(\"<div>\").addClass(that.addWidgetPrefix(BOTTOM_LOAD_PANEL_CLASS)).append(that._createComponent((0, _renderer.default)(\"<div>\"), _load_indicator.default).$element()).appendTo($contentElement)\r\n                }\r\n            } else {\r\n                if (bottomLoadPanelElement) {\r\n                    bottomLoadPanelElement.remove()\r\n                }\r\n            }\r\n        },\r\n        _handleScroll: function(e) {\r\n            var that = this;\r\n            if (that._hasHeight && that._rowHeight) {\r\n                that._dataController.setViewportPosition(e.scrollOffset.top)\r\n            }\r\n            that.callBase.apply(that, arguments)\r\n        },\r\n        _needUpdateRowHeight: function(itemsCount) {\r\n            var that = this;\r\n            return that.callBase.apply(that, arguments) || itemsCount > 0 && that.option(\"scrolling.mode\") === SCROLLING_MODE_INFINITE && that.option(\"scrolling.rowRenderingMode\") !== SCROLLING_MODE_VIRTUAL\r\n        },\r\n        _updateRowHeight: function() {\r\n            var that = this;\r\n            that.callBase.apply(that, arguments);\r\n            if (that._rowHeight) {\r\n                that._updateContentPosition();\r\n                var viewportHeight = that._hasHeight ? that.element().outerHeight() : (0, _renderer.default)((0, _window.getWindow)()).outerHeight();\r\n                that._dataController.viewportSize(Math.ceil(viewportHeight / that._rowHeight))\r\n            }\r\n        },\r\n        updateFreeSpaceRowHeight: function() {\r\n            var result = this.callBase.apply(this, arguments);\r\n            if (result) {\r\n                this._updateContentPosition()\r\n            }\r\n            return result\r\n        },\r\n        setLoading: function(isLoading, messageText) {\r\n            var that = this;\r\n            var callBase = that.callBase;\r\n            var dataController = that._dataController;\r\n            var hasBottomLoadPanel = dataController.pageIndex() > 0 && dataController.isLoaded() && !!that._findBottomLoadPanel();\r\n            if (hasBottomLoadPanel) {\r\n                isLoading = false\r\n            }\r\n            callBase.call(that, isLoading, messageText)\r\n        },\r\n        _resizeCore: function() {\r\n            var that = this;\r\n            var $element = that.element();\r\n            that.callBase();\r\n            if (that.component.$element() && !that._windowScroll && $element.closest((0, _window.getWindow)().document).length) {\r\n                that._windowScroll = (0, _uiGrid_core.subscribeToExternalScrollers)($element, function(scrollPos) {\r\n                    if (!that._hasHeight && that._rowHeight) {\r\n                        that._dataController.setViewportPosition(scrollPos)\r\n                    }\r\n                }, that.component.$element());\r\n                that.on(\"disposing\", function() {\r\n                    that._windowScroll.dispose()\r\n                })\r\n            }\r\n            that.loadIfNeed()\r\n        },\r\n        loadIfNeed: function() {\r\n            var dataController = this._dataController;\r\n            if (dataController && dataController.loadIfNeed) {\r\n                dataController.loadIfNeed()\r\n            }\r\n        },\r\n        setColumnWidths: function(widths) {\r\n            var scrollable = this.getScrollable();\r\n            var $content;\r\n            this.callBase.apply(this, arguments);\r\n            if (\"virtual\" === this.option(\"scrolling.mode\")) {\r\n                $content = scrollable ? scrollable.$content() : this.element();\r\n                this.callBase(widths, $content.children(\".\" + this.addWidgetPrefix(CONTENT_CLASS)).children(\":not(.\" + this.addWidgetPrefix(TABLE_CONTENT_CLASS) + \")\"))\r\n            }\r\n        },\r\n        dispose: function() {\r\n            clearTimeout(this._scrollTimeoutID);\r\n            this.callBase()\r\n        }\r\n    }\r\n}();\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            scrolling: {\r\n                timeout: 300,\r\n                updateTimeout: 300,\r\n                minTimeout: 0,\r\n                renderingThreshold: 100,\r\n                removeInvisiblePages: true,\r\n                rowPageSize: 5,\r\n                mode: \"standard\",\r\n                preloadEnabled: false,\r\n                rowRenderingMode: \"standard\",\r\n                loadTwoPagesOnStart: false\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        dataSourceAdapter: VirtualScrollingDataSourceAdapterExtender,\r\n        controllers: {\r\n            data: function() {\r\n                var members = {\r\n                    _refreshDataSource: function() {\r\n                        var baseResult = this.callBase.apply(this, arguments) || (new _deferred.Deferred).resolve().promise();\r\n                        baseResult.done(this.initVirtualRows.bind(this));\r\n                        return baseResult\r\n                    },\r\n                    getRowPageSize: function() {\r\n                        var rowPageSize = this.option(\"scrolling.rowPageSize\");\r\n                        var pageSize = this.pageSize();\r\n                        return pageSize && pageSize < rowPageSize ? pageSize : rowPageSize\r\n                    },\r\n                    _applyFilter: function() {\r\n                        this.setViewportPosition(0);\r\n                        return this.callBase.apply(this, arguments)\r\n                    },\r\n                    reload: function() {\r\n                        var that = this;\r\n                        var rowsScrollController = that._rowsScrollController || that._dataSource;\r\n                        var itemIndex = rowsScrollController && rowsScrollController.getItemIndexByPosition();\r\n                        var result = this.callBase.apply(this, arguments);\r\n                        return result && result.done(function() {\r\n                            if (isVirtualMode(that) || isVirtualRowRendering(that)) {\r\n                                var rowIndexOffset = that.getRowIndexOffset();\r\n                                var rowIndex = Math.floor(itemIndex) - rowIndexOffset;\r\n                                var component = that.component;\r\n                                var scrollable = component.getScrollable && component.getScrollable();\r\n                                var isSortingOperation = that.dataSource().operationTypes().sorting;\r\n                                if (scrollable && !that.option(\"legacyRendering\") && !isSortingOperation) {\r\n                                    var rowElement = component.getRowElement(rowIndex);\r\n                                    var $rowElement = rowElement && rowElement[0] && (0, _renderer.default)(rowElement[0]);\r\n                                    var top = $rowElement && $rowElement.position().top;\r\n                                    var allowedTopOffset = _browser.default.mozilla || _browser.default.msie ? 1 : 0;\r\n                                    if (top > allowedTopOffset) {\r\n                                        top = Math.round(top + $rowElement.outerHeight() * (itemIndex % 1));\r\n                                        scrollable.scrollTo({\r\n                                            y: top\r\n                                        })\r\n                                    }\r\n                                }\r\n                            }\r\n                        })\r\n                    },\r\n                    initVirtualRows: function() {\r\n                        var that = this;\r\n                        var virtualRowsRendering = isVirtualRowRendering(that);\r\n                        if (\"virtual\" !== that.option(\"scrolling.mode\") && true !== virtualRowsRendering || false === virtualRowsRendering || that.option(\"legacyRendering\") || !that.option(\"scrolling.rowPageSize\")) {\r\n                            that._visibleItems = null;\r\n                            that._rowsScrollController = null;\r\n                            return\r\n                        }\r\n                        that._rowPageIndex = Math.ceil(that.pageIndex() * that.pageSize() / that.getRowPageSize());\r\n                        that._visibleItems = [];\r\n                        var isItemCountable = function(item) {\r\n                            return isItemCountableByDataSource(item, that._dataSource)\r\n                        };\r\n                        that._rowsScrollController = new _uiGrid_core.VirtualScrollController(that.component, {\r\n                            pageSize: function() {\r\n                                return that.getRowPageSize()\r\n                            },\r\n                            totalItemsCount: function() {\r\n                                return isVirtualMode(that) ? that.totalItemsCount() : that._items.filter(isItemCountable).length\r\n                            },\r\n                            hasKnownLastPage: function() {\r\n                                return true\r\n                            },\r\n                            pageIndex: function(index) {\r\n                                if (void 0 !== index) {\r\n                                    that._rowPageIndex = index\r\n                                }\r\n                                return that._rowPageIndex\r\n                            },\r\n                            isLoading: function() {\r\n                                return that.isLoading()\r\n                            },\r\n                            pageCount: function pageCount() {\r\n                                var pageCount = Math.ceil(this.totalItemsCount() / this.pageSize());\r\n                                return pageCount ? pageCount : 1\r\n                            },\r\n                            load: function() {\r\n                                if (that._rowsScrollController.pageIndex() >= this.pageCount()) {\r\n                                    that._rowPageIndex = this.pageCount() - 1;\r\n                                    that._rowsScrollController.pageIndex(that._rowPageIndex)\r\n                                }\r\n                                if (!that._rowsScrollController._dataSource.items().length && this.totalItemsCount()) {\r\n                                    return\r\n                                }\r\n                                that._rowsScrollController.handleDataChanged(function(change) {\r\n                                    change = change || {};\r\n                                    change.changeType = change.changeType || \"refresh\";\r\n                                    change.items = change.items || that._visibleItems;\r\n                                    that._visibleItems.forEach(function(item, index) {\r\n                                        item.rowIndex = index\r\n                                    });\r\n                                    that._fireChanged(change)\r\n                                })\r\n                            },\r\n                            updateLoading: function() {},\r\n                            itemsCount: function() {\r\n                                return that._rowsScrollController._dataSource.items().filter(isItemCountable).length\r\n                            },\r\n                            correctCount: function(items, count, fromEnd) {\r\n                                return _correctCount(items, count, fromEnd, function(item, isNextAfterLast, fromEnd) {\r\n                                    if (item.isNewRow) {\r\n                                        return isNextAfterLast && !fromEnd\r\n                                    }\r\n                                    if (isNextAfterLast && fromEnd) {\r\n                                        return !item.isNewRow\r\n                                    }\r\n                                    return isItemCountable(item)\r\n                                })\r\n                            },\r\n                            items: function(countableOnly) {\r\n                                var dataSource = that.dataSource();\r\n                                var virtualItemsCount = dataSource && dataSource.virtualItemsCount();\r\n                                var begin = virtualItemsCount ? virtualItemsCount.begin : 0;\r\n                                var rowPageSize = that.getRowPageSize();\r\n                                var skip = that._rowPageIndex * rowPageSize - begin;\r\n                                var take = rowPageSize;\r\n                                var result = that._items;\r\n                                if (skip < 0) {\r\n                                    return []\r\n                                }\r\n                                if (skip) {\r\n                                    skip = this.correctCount(result, skip);\r\n                                    result = result.slice(skip)\r\n                                }\r\n                                if (take) {\r\n                                    take = this.correctCount(result, take);\r\n                                    result = result.slice(0, take)\r\n                                }\r\n                                return countableOnly ? result.filter(isItemCountable) : result\r\n                            },\r\n                            viewportItems: function(items) {\r\n                                if (items) {\r\n                                    that._visibleItems = items\r\n                                }\r\n                                return that._visibleItems\r\n                            },\r\n                            onChanged: function() {},\r\n                            changingDuration: function(e) {\r\n                                var dataSource = that.dataSource();\r\n                                if (dataSource.isLoading()) {\r\n                                    return LOAD_TIMEOUT\r\n                                }\r\n                                return (null === dataSource || void 0 === dataSource ? void 0 : dataSource._renderTime) || 0\r\n                            }\r\n                        }, true);\r\n                        that._rowsScrollController.positionChanged.add(function() {\r\n                            var _that$_dataSource;\r\n                            null === (_that$_dataSource = that._dataSource) || void 0 === _that$_dataSource ? void 0 : _that$_dataSource.setViewportItemIndex(that._rowsScrollController.getViewportItemIndex())\r\n                        });\r\n                        if (that.isLoaded()) {\r\n                            that._rowsScrollController.load()\r\n                        }\r\n                    },\r\n                    _updateItemsCore: function(change) {\r\n                        var _this3 = this;\r\n                        var delta = this.getRowIndexDelta();\r\n                        this.callBase.apply(this, arguments);\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        if (rowsScrollController) {\r\n                            var visibleItems = this._visibleItems;\r\n                            var isRefresh = \"refresh\" === change.changeType || change.isLiveUpdate;\r\n                            if (\"append\" === change.changeType && change.items && !change.items.length) {\r\n                                return\r\n                            }\r\n                            if (isRefresh || \"append\" === change.changeType || \"prepend\" === change.changeType) {\r\n                                change.cancel = true;\r\n                                isRefresh && rowsScrollController.reset(true);\r\n                                rowsScrollController.load()\r\n                            } else {\r\n                                if (\"update\" === change.changeType) {\r\n                                    change.rowIndices.forEach(function(rowIndex, index) {\r\n                                        var changeType = change.changeTypes[index];\r\n                                        var newItem = change.items[index];\r\n                                        if (\"update\" === changeType) {\r\n                                            visibleItems[rowIndex] = newItem\r\n                                        } else {\r\n                                            if (\"insert\" === changeType) {\r\n                                                visibleItems.splice(rowIndex, 0, newItem)\r\n                                            } else {\r\n                                                if (\"remove\" === changeType) {\r\n                                                    visibleItems.splice(rowIndex, 1)\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    })\r\n                                } else {\r\n                                    visibleItems.forEach(function(item, index) {\r\n                                        visibleItems[index] = _this3._items[index + delta] || visibleItems[index]\r\n                                    });\r\n                                    change.items = visibleItems\r\n                                }\r\n                                visibleItems.forEach(function(item, index) {\r\n                                    item.rowIndex = index\r\n                                })\r\n                            }\r\n                        }\r\n                    },\r\n                    _applyChange: function(change) {\r\n                        var that = this;\r\n                        var items = change.items;\r\n                        var changeType = change.changeType;\r\n                        var removeCount = change.removeCount;\r\n                        if (removeCount) {\r\n                            var fromEnd = \"prepend\" === changeType;\r\n                            removeCount = _correctCount(that._items, removeCount, fromEnd, function(item, isNextAfterLast) {\r\n                                return \"data\" === item.rowType && !item.isNewRow || \"group\" === item.rowType && (that._dataSource.isGroupItemCountable(item.data) || isNextAfterLast)\r\n                            });\r\n                            change.removeCount = removeCount\r\n                        }\r\n                        switch (changeType) {\r\n                            case \"prepend\":\r\n                                that._items.unshift.apply(that._items, items);\r\n                                if (removeCount) {\r\n                                    that._items.splice(-removeCount)\r\n                                }\r\n                                break;\r\n                            case \"append\":\r\n                                that._items.push.apply(that._items, items);\r\n                                if (removeCount) {\r\n                                    that._items.splice(0, removeCount)\r\n                                }\r\n                                break;\r\n                            default:\r\n                                that.callBase(change)\r\n                        }\r\n                    },\r\n                    items: function(allItems) {\r\n                        return allItems ? this._items : this._visibleItems || this._items\r\n                    },\r\n                    getRowIndexDelta: function() {\r\n                        var visibleItems = this._visibleItems;\r\n                        var delta = 0;\r\n                        if (visibleItems && visibleItems[0]) {\r\n                            delta = this._items.indexOf(visibleItems[0])\r\n                        }\r\n                        return delta < 0 ? 0 : delta\r\n                    },\r\n                    getRowIndexOffset: function(byLoadedRows) {\r\n                        var offset = 0;\r\n                        var dataSource = this.dataSource();\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        if (rowsScrollController && !byLoadedRows) {\r\n                            offset = rowsScrollController.beginPageIndex() * rowsScrollController._dataSource.pageSize()\r\n                        } else {\r\n                            if (\"virtual\" === this.option(\"scrolling.mode\") && dataSource) {\r\n                                offset = dataSource.beginPageIndex() * dataSource.pageSize()\r\n                            }\r\n                        }\r\n                        return offset\r\n                    },\r\n                    viewportSize: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        rowsScrollController && rowsScrollController.viewportSize.apply(rowsScrollController, arguments);\r\n                        var dataSource = this._dataSource;\r\n                        return dataSource && dataSource.viewportSize.apply(dataSource, arguments)\r\n                    },\r\n                    viewportItemSize: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        rowsScrollController && rowsScrollController.viewportItemSize.apply(rowsScrollController, arguments);\r\n                        var dataSource = this._dataSource;\r\n                        return dataSource && dataSource.viewportItemSize.apply(dataSource, arguments)\r\n                    },\r\n                    setViewportPosition: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        var dataSource = this._dataSource;\r\n                        if (rowsScrollController) {\r\n                            rowsScrollController.setViewportPosition.apply(rowsScrollController, arguments)\r\n                        } else {\r\n                            null === dataSource || void 0 === dataSource ? void 0 : dataSource.setViewportPosition.apply(dataSource, arguments)\r\n                        }\r\n                    },\r\n                    setContentSize: function(sizes) {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        rowsScrollController && rowsScrollController.setContentSize(sizes);\r\n                        var dataSource = this._dataSource;\r\n                        return dataSource && dataSource.setContentSize(sizes)\r\n                    },\r\n                    loadIfNeed: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        rowsScrollController && rowsScrollController.loadIfNeed();\r\n                        var dataSource = this._dataSource;\r\n                        return dataSource && dataSource.loadIfNeed()\r\n                    },\r\n                    getItemSize: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        if (rowsScrollController) {\r\n                            return rowsScrollController.getItemSize.apply(rowsScrollController, arguments)\r\n                        }\r\n                        var dataSource = this._dataSource;\r\n                        return dataSource && dataSource.getItemSize.apply(dataSource, arguments)\r\n                    },\r\n                    getItemSizes: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        if (rowsScrollController) {\r\n                            return rowsScrollController.getItemSizes.apply(rowsScrollController, arguments)\r\n                        }\r\n                        var dataSource = this._dataSource;\r\n                        return dataSource && dataSource.getItemSizes.apply(dataSource, arguments)\r\n                    },\r\n                    getContentOffset: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        if (rowsScrollController) {\r\n                            return rowsScrollController.getContentOffset.apply(rowsScrollController, arguments)\r\n                        }\r\n                        var dataSource = this._dataSource;\r\n                        return dataSource && dataSource.getContentOffset.apply(dataSource, arguments)\r\n                    },\r\n                    refresh: function(options) {\r\n                        var dataSource = this._dataSource;\r\n                        if (dataSource && options && options.load && isAppendMode(this)) {\r\n                            dataSource.resetCurrentTotalCount()\r\n                        }\r\n                        return this.callBase.apply(this, arguments)\r\n                    },\r\n                    dispose: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        rowsScrollController && rowsScrollController.dispose();\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                };\r\n                _uiGrid_core2.default.proxyMethod(members, \"virtualItemsCount\");\r\n                _uiGrid_core2.default.proxyMethod(members, \"getVirtualContentSize\");\r\n                _uiGrid_core2.default.proxyMethod(members, \"setViewportItemIndex\");\r\n                return members\r\n            }(),\r\n            resizing: {\r\n                resize: function() {\r\n                    var that = this;\r\n                    var callBase = that.callBase;\r\n                    var result;\r\n                    if (!that.option(\"legacyRendering\") && (isVirtualMode(that) || isVirtualRowRendering(that))) {\r\n                        clearTimeout(that._resizeTimeout);\r\n                        var diff = new Date - that._lastTime;\r\n                        var updateTimeout = that.option(\"scrolling.updateTimeout\");\r\n                        if (that._lastTime && diff < updateTimeout) {\r\n                            result = new _deferred.Deferred;\r\n                            that._resizeTimeout = setTimeout(function() {\r\n                                callBase.apply(that).done(result.resolve).fail(result.reject);\r\n                                that._lastTime = new Date\r\n                            }, updateTimeout);\r\n                            that._lastTime = new Date\r\n                        } else {\r\n                            result = callBase.apply(that);\r\n                            if (that._dataController.isLoaded()) {\r\n                                that._lastTime = new Date\r\n                            }\r\n                        }\r\n                    } else {\r\n                        result = callBase.apply(that)\r\n                    }\r\n                    return result\r\n                },\r\n                dispose: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    clearTimeout(this._resizeTimeout)\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: VirtualScrollingRowsViewExtender\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.virtual_scrolling_core.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.getContentHeightLimit = getContentHeightLimit;\r\nexports.subscribeToExternalScrollers = subscribeToExternalScrollers;\r\nexports.VirtualScrollController = exports.getPixelRatio = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _browser = _interopRequireDefault(require(\"../../core/utils/browser\"));\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _position = _interopRequireDefault(require(\"../../animation/position\"));\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _class = _interopRequireDefault(require(\"../../core/class\"));\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _callbacks = _interopRequireDefault(require(\"../../core/utils/callbacks\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar SCROLLING_MODE_INFINITE = \"infinite\";\r\nvar SCROLLING_MODE_VIRTUAL = \"virtual\";\r\nvar isVirtualMode = function(that) {\r\n    return that.option(\"scrolling.mode\") === SCROLLING_MODE_VIRTUAL || that._isVirtual\r\n};\r\nvar isAppendMode = function(that) {\r\n    return that.option(\"scrolling.mode\") === SCROLLING_MODE_INFINITE && !that._isVirtual\r\n};\r\nvar needTwoPagesLoading = function(that) {\r\n    return that.option(\"scrolling.loadTwoPagesOnStart\") || that._isVirtual || that._viewportItemIndex > 0\r\n};\r\nvar getPixelRatio = function(window) {\r\n    return window.devicePixelRatio || 1\r\n};\r\nexports.getPixelRatio = getPixelRatio;\r\n\r\nfunction getContentHeightLimit(browser) {\r\n    if (browser.msie) {\r\n        return 4e6\r\n    } else {\r\n        if (browser.mozilla) {\r\n            return 8e6\r\n        }\r\n    }\r\n    return 15e6 / getPixelRatio((0, _window.getWindow)())\r\n}\r\n\r\nfunction subscribeToExternalScrollers($element, scrollChangedHandler, $targetElement) {\r\n    var $scrollElement;\r\n    var scrollableArray = [];\r\n    var scrollToArray = [];\r\n    var disposeArray = [];\r\n    $targetElement = $targetElement || $element;\r\n\r\n    function getElementOffset(scrollable) {\r\n        var $scrollableElement = scrollable.element ? scrollable.$element() : scrollable;\r\n        var scrollableOffset = _position.default.offset($scrollableElement);\r\n        if (!scrollableOffset) {\r\n            return $element.offset().top\r\n        }\r\n        return scrollable.scrollTop() - (scrollableOffset.top - $element.offset().top)\r\n    }\r\n\r\n    function createWindowScrollHandler(scrollable) {\r\n        return function() {\r\n            var scrollTop = scrollable.scrollTop() - getElementOffset(scrollable);\r\n            scrollTop = scrollTop > 0 ? scrollTop : 0;\r\n            scrollChangedHandler(scrollTop)\r\n        }\r\n    }\r\n    var widgetScrollStrategy = {\r\n        on: function(scrollable, eventName, handler) {\r\n            scrollable.on(\"scroll\", handler)\r\n        },\r\n        off: function(scrollable, eventName, handler) {\r\n            scrollable.off(\"scroll\", handler)\r\n        }\r\n    };\r\n\r\n    function subscribeToScrollEvents($scrollElement) {\r\n        var isDocument = \"#document\" === $scrollElement.get(0).nodeName;\r\n        var scrollable = $scrollElement.data(\"dxScrollable\");\r\n        var eventsStrategy = widgetScrollStrategy;\r\n        if (!scrollable) {\r\n            scrollable = isDocument && (0, _renderer.default)((0, _window.getWindow)()) || \"auto\" === $scrollElement.css(\"overflowY\") && $scrollElement;\r\n            eventsStrategy = _events_engine.default;\r\n            if (!scrollable) {\r\n                return\r\n            }\r\n        }\r\n        var handler = createWindowScrollHandler(scrollable);\r\n        eventsStrategy.on(scrollable, \"scroll\", handler);\r\n        scrollToArray.push(function(pos) {\r\n            var topOffset = getElementOffset(scrollable);\r\n            var scrollMethod = scrollable.scrollTo ? \"scrollTo\" : \"scrollTop\";\r\n            if (pos - topOffset >= 0) {\r\n                scrollable[scrollMethod](pos + topOffset)\r\n            }\r\n        });\r\n        scrollableArray.push(scrollable);\r\n        disposeArray.push(function() {\r\n            eventsStrategy.off(scrollable, \"scroll\", handler)\r\n        })\r\n    }\r\n    for ($scrollElement = $targetElement.parent(); $scrollElement.length; $scrollElement = $scrollElement.parent()) {\r\n        subscribeToScrollEvents($scrollElement)\r\n    }\r\n    return {\r\n        scrollTo: function(pos) {\r\n            (0, _iterator.each)(scrollToArray, function(_, scrollTo) {\r\n                scrollTo(pos)\r\n            })\r\n        },\r\n        dispose: function() {\r\n            (0, _iterator.each)(disposeArray, function(_, dispose) {\r\n                dispose()\r\n            })\r\n        }\r\n    }\r\n}\r\nvar VirtualScrollController = _class.default.inherit(function() {\r\n    var getViewportPageCount = function(that) {\r\n        var pageSize = that._dataSource.pageSize();\r\n        var preventPreload = that.option(\"scrolling.preventPreload\");\r\n        if (preventPreload) {\r\n            return 0\r\n        }\r\n        var realViewportSize = that._viewportSize;\r\n        if (isVirtualMode(that) && !that.option(\"legacyRendering\") && that.option(\"scrolling.removeInvisiblePages\")) {\r\n            realViewportSize = 0;\r\n            var viewportSize = that._viewportSize * that._viewportItemSize;\r\n            var offset = that.getContentOffset();\r\n            var position = that._position || 0;\r\n            var virtualItemsCount = that.virtualItemsCount();\r\n            var totalItemsCount = that._dataSource.totalItemsCount();\r\n            for (var itemIndex = virtualItemsCount.begin; itemIndex < totalItemsCount; itemIndex++) {\r\n                if (offset >= position + viewportSize) {\r\n                    break\r\n                }\r\n                var itemSize = that._itemSizes[itemIndex] || that._viewportItemSize;\r\n                offset += itemSize;\r\n                if (offset >= position) {\r\n                    realViewportSize++\r\n                }\r\n            }\r\n        }\r\n        return pageSize && realViewportSize > 0 ? Math.ceil(realViewportSize / pageSize) : 1\r\n    };\r\n    var getPreloadPageCount = function(that, previous) {\r\n        var preloadEnabled = that.option(\"scrolling.preloadEnabled\");\r\n        var pageCount = getViewportPageCount(that);\r\n        if (pageCount) {\r\n            if (previous) {\r\n                pageCount = preloadEnabled ? 1 : 0\r\n            } else {\r\n                if (preloadEnabled) {\r\n                    pageCount++\r\n                }\r\n                if (isAppendMode(that) || !needTwoPagesLoading(that)) {\r\n                    pageCount--\r\n                }\r\n            }\r\n        }\r\n        return pageCount\r\n    };\r\n    var getPageIndexForLoad = function(that) {\r\n        var result = -1;\r\n        var beginPageIndex = getBeginPageIndex(that);\r\n        var dataSource = that._dataSource;\r\n        if (beginPageIndex < 0) {\r\n            result = that._pageIndex\r\n        } else {\r\n            if (!that._cache[that._pageIndex - beginPageIndex]) {\r\n                result = that._pageIndex\r\n            } else {\r\n                if (beginPageIndex >= 0 && that._viewportSize >= 0) {\r\n                    if (beginPageIndex > 0) {\r\n                        var needToLoadPageBeforeLast = getEndPageIndex(that) + 1 === dataSource.pageCount() && that._cache.length < getPreloadPageCount(that) + 1;\r\n                        var needToLoadPrevPage = needToLoadPageBeforeLast || that._pageIndex === beginPageIndex && getPreloadPageCount(that, true);\r\n                        if (needToLoadPrevPage) {\r\n                            result = beginPageIndex - 1\r\n                        }\r\n                    }\r\n                    if (result < 0) {\r\n                        var needToLoadNextPage = beginPageIndex + that._cache.length <= that._pageIndex + getPreloadPageCount(that);\r\n                        if (needToLoadNextPage) {\r\n                            result = beginPageIndex + that._cache.length\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (that._loadingPageIndexes[result]) {\r\n            result = -1\r\n        }\r\n        return result\r\n    };\r\n\r\n    function getBeginPageIndex(that) {\r\n        return that._cache.length ? that._cache[0].pageIndex : -1\r\n    }\r\n\r\n    function getEndPageIndex(that) {\r\n        return that._cache.length ? that._cache[that._cache.length - 1].pageIndex : -1\r\n    }\r\n    var fireChanged = function(that, changed, args) {\r\n        that._isChangedFiring = true;\r\n        changed(args);\r\n        that._isChangedFiring = false\r\n    };\r\n    var processDelayChanged = function(that, changed, args) {\r\n        if (that._isDelayChanged) {\r\n            that._isDelayChanged = false;\r\n            fireChanged(that, changed, args);\r\n            return true\r\n        }\r\n    };\r\n    var processChanged = function(that, changed, changeType, isDelayChanged, removeCacheItem) {\r\n        var dataSource = that._dataSource;\r\n        var items = dataSource.items().slice();\r\n        var change = (0, _type.isObject)(changeType) ? changeType : void 0;\r\n        var isPrepend = \"prepend\" === changeType;\r\n        var viewportItems = dataSource.viewportItems();\r\n        if (changeType && (0, _type.isString)(changeType) && !that._isDelayChanged) {\r\n            change = {\r\n                changeType: changeType,\r\n                items: items\r\n            };\r\n            if (removeCacheItem) {\r\n                change.removeCount = removeCacheItem.itemsCount;\r\n                if (change.removeCount && dataSource.correctCount) {\r\n                    change.removeCount = dataSource.correctCount(viewportItems, change.removeCount, isPrepend)\r\n                }\r\n            }\r\n        }\r\n        var removeItemCount = removeCacheItem ? removeCacheItem.itemsLength : 0;\r\n        if (removeItemCount && dataSource.correctCount) {\r\n            removeItemCount = dataSource.correctCount(viewportItems, removeItemCount, isPrepend)\r\n        }\r\n        if (\"append\" === changeType) {\r\n            viewportItems.push.apply(viewportItems, items);\r\n            if (removeCacheItem) {\r\n                viewportItems.splice(0, removeItemCount)\r\n            }\r\n        } else {\r\n            if (isPrepend) {\r\n                viewportItems.unshift.apply(viewportItems, items);\r\n                if (removeCacheItem) {\r\n                    viewportItems.splice(-removeItemCount)\r\n                }\r\n            } else {\r\n                that._dataSource.viewportItems(items)\r\n            }\r\n        }\r\n        dataSource.updateLoading();\r\n        that._lastPageIndex = that.pageIndex();\r\n        that._isDelayChanged = isDelayChanged;\r\n        if (!isDelayChanged) {\r\n            fireChanged(that, changed, change)\r\n        }\r\n    };\r\n    var loadCore = function(that, pageIndex) {\r\n        var dataSource = that._dataSource;\r\n        if (pageIndex === that.pageIndex() || !dataSource.isLoading() && pageIndex < dataSource.pageCount() || !dataSource.hasKnownLastPage() && pageIndex === dataSource.pageCount()) {\r\n            dataSource.pageIndex(pageIndex);\r\n            that._loadingPageIndexes[pageIndex] = true;\r\n            return (0, _deferred.when)(dataSource.load()).always(function() {\r\n                that._loadingPageIndexes[pageIndex] = false\r\n            })\r\n        }\r\n    };\r\n    return {\r\n        ctor: function(component, dataSource, isVirtual) {\r\n            var that = this;\r\n            that._dataSource = dataSource;\r\n            that.component = component;\r\n            that._pageIndex = that._lastPageIndex = dataSource.pageIndex();\r\n            that._viewportSize = 0;\r\n            that._viewportItemSize = 20;\r\n            that._viewportItemIndex = -1;\r\n            that._itemSizes = {};\r\n            that._sizeRatio = 1;\r\n            that._items = [];\r\n            that._cache = [];\r\n            that._isVirtual = isVirtual;\r\n            that._loadingPageIndexes = {};\r\n            that.positionChanged = (0, _callbacks.default)()\r\n        },\r\n        getItemSizes: function() {\r\n            return this._itemSizes\r\n        },\r\n        option: function() {\r\n            return this.component.option.apply(this.component, arguments)\r\n        },\r\n        virtualItemsCount: function() {\r\n            var that = this;\r\n            var pageIndex;\r\n            var itemsCount = 0;\r\n            if (isVirtualMode(that)) {\r\n                pageIndex = getBeginPageIndex(that);\r\n                if (pageIndex < 0) {\r\n                    pageIndex = that._dataSource.pageIndex()\r\n                }\r\n                var beginItemsCount = pageIndex * that._dataSource.pageSize();\r\n                itemsCount = that._cache.length * that._dataSource.pageSize();\r\n                var endItemsCount = Math.max(0, that._dataSource.totalItemsCount() - itemsCount - beginItemsCount);\r\n                return {\r\n                    begin: beginItemsCount,\r\n                    end: endItemsCount\r\n                }\r\n            }\r\n        },\r\n        setViewportPosition: function(position) {\r\n            var that = this;\r\n            var result = new _deferred.Deferred;\r\n            var scrollingTimeout = Math.min(that.option(\"scrolling.timeout\") || 0, that._dataSource.changingDuration());\r\n            if (scrollingTimeout < that.option(\"scrolling.renderingThreshold\")) {\r\n                scrollingTimeout = that.option(\"scrolling.minTimeout\") || 0\r\n            }\r\n            clearTimeout(that._scrollTimeoutID);\r\n            if (scrollingTimeout > 0) {\r\n                that._scrollTimeoutID = setTimeout(function() {\r\n                    that._setViewportPositionCore(position);\r\n                    result.resolve()\r\n                }, scrollingTimeout)\r\n            } else {\r\n                that._setViewportPositionCore(position);\r\n                result.resolve()\r\n            }\r\n            return result.promise()\r\n        },\r\n        getViewportPosition: function() {\r\n            return this._position || 0\r\n        },\r\n        getItemIndexByPosition: function() {\r\n            var that = this;\r\n            var position = that._position;\r\n            var defaultItemSize = that.getItemSize();\r\n            var offset = 0;\r\n            var itemOffset = 0;\r\n            var itemOffsetsWithSize = Object.keys(that._itemSizes).concat(-1);\r\n            for (var i = 0; i < itemOffsetsWithSize.length && offset < position; i++) {\r\n                var itemOffsetWithSize = parseInt(itemOffsetsWithSize[i]);\r\n                var itemOffsetDiff = (position - offset) / defaultItemSize;\r\n                if (itemOffsetWithSize < 0 || itemOffset + itemOffsetDiff < itemOffsetWithSize) {\r\n                    itemOffset += itemOffsetDiff;\r\n                    break\r\n                } else {\r\n                    itemOffsetDiff = itemOffsetWithSize - itemOffset;\r\n                    offset += itemOffsetDiff * defaultItemSize;\r\n                    itemOffset += itemOffsetDiff\r\n                }\r\n                var itemSize = that._itemSizes[itemOffsetWithSize];\r\n                offset += itemSize;\r\n                itemOffset += offset < position ? 1 : (position - offset + itemSize) / itemSize\r\n            }\r\n            return Math.round(50 * itemOffset) / 50\r\n        },\r\n        _setViewportPositionCore: function(position) {\r\n            this._position = position;\r\n            var itemIndex = this.getItemIndexByPosition();\r\n            var result = this.setViewportItemIndex(itemIndex);\r\n            this.positionChanged.fire();\r\n            return result\r\n        },\r\n        setContentSize: function(size) {\r\n            var that = this;\r\n            var sizes = Array.isArray(size) && size;\r\n            var virtualItemsCount = that.virtualItemsCount();\r\n            if (sizes) {\r\n                size = sizes.reduce(function(a, b) {\r\n                    return a + b\r\n                }, 0)\r\n            }\r\n            that._contentSize = size;\r\n            if (virtualItemsCount) {\r\n                if (sizes) {\r\n                    sizes.forEach(function(size, index) {\r\n                        that._itemSizes[virtualItemsCount.begin + index] = size\r\n                    })\r\n                }\r\n                var virtualContentSize = (virtualItemsCount.begin + virtualItemsCount.end + that.itemsCount()) * that._viewportItemSize;\r\n                var contentHeightLimit = getContentHeightLimit(_browser.default);\r\n                if (virtualContentSize > contentHeightLimit) {\r\n                    that._sizeRatio = contentHeightLimit / virtualContentSize\r\n                } else {\r\n                    that._sizeRatio = 1\r\n                }\r\n            }\r\n        },\r\n        getItemSize: function() {\r\n            return this._viewportItemSize * this._sizeRatio\r\n        },\r\n        getItemOffset: function(itemIndex, isEnd) {\r\n            var that = this;\r\n            var virtualItemsCount = that.virtualItemsCount();\r\n            var itemCount = itemIndex;\r\n            if (!virtualItemsCount) {\r\n                return 0\r\n            }\r\n            var offset = 0;\r\n            var totalItemsCount = that._dataSource.totalItemsCount();\r\n            Object.keys(that._itemSizes).forEach(function(currentItemIndex) {\r\n                if (!itemCount) {\r\n                    return\r\n                }\r\n                if (isEnd ? currentItemIndex >= totalItemsCount - itemIndex : currentItemIndex < itemIndex) {\r\n                    offset += that._itemSizes[currentItemIndex];\r\n                    itemCount--\r\n                }\r\n            });\r\n            return Math.floor(offset + itemCount * that._viewportItemSize * that._sizeRatio)\r\n        },\r\n        getContentOffset: function(type) {\r\n            var isEnd = \"end\" === type;\r\n            var virtualItemsCount = this.virtualItemsCount();\r\n            if (!virtualItemsCount) {\r\n                return 0\r\n            }\r\n            return this.getItemOffset(isEnd ? virtualItemsCount.end : virtualItemsCount.begin, isEnd)\r\n        },\r\n        getVirtualContentSize: function() {\r\n            var that = this;\r\n            var virtualItemsCount = that.virtualItemsCount();\r\n            return virtualItemsCount ? that.getContentOffset(\"begin\") + that.getContentOffset(\"end\") + that._contentSize : 0\r\n        },\r\n        getViewportItemIndex: function() {\r\n            return this._viewportItemIndex\r\n        },\r\n        setViewportItemIndex: function(itemIndex) {\r\n            var that = this;\r\n            var pageSize = that._dataSource.pageSize();\r\n            var pageCount = that._dataSource.pageCount();\r\n            var virtualMode = isVirtualMode(that);\r\n            var appendMode = isAppendMode(that);\r\n            var totalItemsCount = that._dataSource.totalItemsCount();\r\n            var newPageIndex;\r\n            that._viewportItemIndex = itemIndex;\r\n            if (pageSize && (virtualMode || appendMode) && totalItemsCount >= 0) {\r\n                if (that._viewportSize && itemIndex + that._viewportSize >= totalItemsCount && !that._isVirtual) {\r\n                    if (that._dataSource.hasKnownLastPage()) {\r\n                        newPageIndex = pageCount - 1;\r\n                        var lastPageSize = totalItemsCount % pageSize;\r\n                        if (newPageIndex > 0 && lastPageSize > 0 && lastPageSize < that._viewportSize) {\r\n                            newPageIndex--\r\n                        }\r\n                    } else {\r\n                        newPageIndex = pageCount\r\n                    }\r\n                } else {\r\n                    newPageIndex = Math.floor(itemIndex / pageSize);\r\n                    var maxPageIndex = pageCount - 1;\r\n                    newPageIndex = Math.max(newPageIndex, 0);\r\n                    newPageIndex = Math.min(newPageIndex, maxPageIndex)\r\n                }\r\n                that.pageIndex(newPageIndex);\r\n                return that.load()\r\n            }\r\n        },\r\n        viewportItemSize: function(size) {\r\n            if (void 0 !== size) {\r\n                this._viewportItemSize = size\r\n            }\r\n            return this._viewportItemSize\r\n        },\r\n        viewportSize: function(size) {\r\n            if (void 0 !== size) {\r\n                this._viewportSize = size\r\n            }\r\n            return this._viewportSize\r\n        },\r\n        pageIndex: function(_pageIndex) {\r\n            if (isVirtualMode(this) || isAppendMode(this)) {\r\n                if (void 0 !== _pageIndex) {\r\n                    this._pageIndex = _pageIndex\r\n                }\r\n                return this._pageIndex\r\n            } else {\r\n                return this._dataSource.pageIndex(_pageIndex)\r\n            }\r\n        },\r\n        beginPageIndex: function beginPageIndex(defaultPageIndex) {\r\n            var beginPageIndex = getBeginPageIndex(this);\r\n            if (beginPageIndex < 0) {\r\n                beginPageIndex = void 0 !== defaultPageIndex ? defaultPageIndex : this.pageIndex()\r\n            }\r\n            return beginPageIndex\r\n        },\r\n        endPageIndex: function endPageIndex() {\r\n            var endPageIndex = getEndPageIndex(this);\r\n            return endPageIndex > 0 ? endPageIndex : this._lastPageIndex\r\n        },\r\n        pageSize: function() {\r\n            return this._dataSource.pageSize()\r\n        },\r\n        load: function() {\r\n            var that = this;\r\n            var dataSource = that._dataSource;\r\n            var result;\r\n            if (isVirtualMode(that) || isAppendMode(that)) {\r\n                var pageIndexForLoad = getPageIndexForLoad(that);\r\n                if (pageIndexForLoad >= 0) {\r\n                    var loadResult = loadCore(that, pageIndexForLoad);\r\n                    if (loadResult) {\r\n                        result = new _deferred.Deferred;\r\n                        loadResult.done(function() {\r\n                            var delayDeferred = that._delayDeferred;\r\n                            if (delayDeferred) {\r\n                                delayDeferred.done(result.resolve).fail(result.reject)\r\n                            } else {\r\n                                result.resolve()\r\n                            }\r\n                        }).fail(result.reject);\r\n                        dataSource.updateLoading()\r\n                    }\r\n                }\r\n            } else {\r\n                result = dataSource.load()\r\n            }\r\n            if (!result && that._lastPageIndex !== that.pageIndex()) {\r\n                that._dataSource.onChanged({\r\n                    changeType: \"pageIndex\"\r\n                })\r\n            }\r\n            return result || (new _deferred.Deferred).resolve()\r\n        },\r\n        loadIfNeed: function() {\r\n            var that = this;\r\n            if ((isVirtualMode(that) || isAppendMode(that)) && !that._dataSource.isLoading() && (!that._isChangedFiring || that._isVirtual)) {\r\n                var position = that.getViewportPosition();\r\n                if (position > 0) {\r\n                    that._setViewportPositionCore(position)\r\n                } else {\r\n                    that.load()\r\n                }\r\n            }\r\n        },\r\n        handleDataChanged: function(callBase, e) {\r\n            var that = this;\r\n            var dataSource = that._dataSource;\r\n            var lastCacheLength = that._cache.length;\r\n            var changeType;\r\n            var removeInvisiblePages;\r\n            if (e && e.changes) {\r\n                fireChanged(that, callBase, e)\r\n            } else {\r\n                if (isVirtualMode(that) || isAppendMode(that)) {\r\n                    var beginPageIndex = getBeginPageIndex(that);\r\n                    if (beginPageIndex >= 0) {\r\n                        if (isVirtualMode(that) && beginPageIndex + that._cache.length !== dataSource.pageIndex() && beginPageIndex - 1 !== dataSource.pageIndex()) {\r\n                            lastCacheLength = 0;\r\n                            that._cache = []\r\n                        }\r\n                        if (isAppendMode(that)) {\r\n                            if (0 === dataSource.pageIndex()) {\r\n                                that._cache = []\r\n                            } else {\r\n                                if (dataSource.pageIndex() < getEndPageIndex(that)) {\r\n                                    fireChanged(that, callBase, {\r\n                                        changeType: \"append\",\r\n                                        items: []\r\n                                    });\r\n                                    return\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    var cacheItem = {\r\n                        pageIndex: dataSource.pageIndex(),\r\n                        itemsLength: dataSource.items(true).length,\r\n                        itemsCount: that.itemsCount(true)\r\n                    };\r\n                    if (!that.option(\"legacyRendering\") && that.option(\"scrolling.removeInvisiblePages\") && isVirtualMode(that)) {\r\n                        removeInvisiblePages = that._cache.length > Math.max(getPreloadPageCount(this) + (that.option(\"scrolling.preloadEnabled\") ? 1 : 0), 2)\r\n                    } else {\r\n                        processDelayChanged(that, callBase, {\r\n                            isDelayed: true\r\n                        })\r\n                    }\r\n                    var removeCacheItem;\r\n                    if (beginPageIndex === dataSource.pageIndex() + 1) {\r\n                        if (removeInvisiblePages) {\r\n                            removeCacheItem = that._cache.pop()\r\n                        }\r\n                        changeType = \"prepend\";\r\n                        that._cache.unshift(cacheItem)\r\n                    } else {\r\n                        if (removeInvisiblePages) {\r\n                            removeCacheItem = that._cache.shift()\r\n                        }\r\n                        changeType = \"append\";\r\n                        that._cache.push(cacheItem)\r\n                    }\r\n                    var isDelayChanged = isVirtualMode(that) && 0 === lastCacheLength && needTwoPagesLoading(that);\r\n                    processChanged(that, callBase, that._cache.length > 1 ? changeType : void 0, isDelayChanged, removeCacheItem);\r\n                    that._delayDeferred = that.load().done(function() {\r\n                        if (processDelayChanged(that, callBase)) {\r\n                            that.load()\r\n                        }\r\n                    })\r\n                } else {\r\n                    processChanged(that, callBase, e)\r\n                }\r\n            }\r\n        },\r\n        itemsCount: function itemsCount(isBase) {\r\n            var itemsCount = 0;\r\n            if (!isBase && isVirtualMode(this)) {\r\n                (0, _iterator.each)(this._cache, function() {\r\n                    itemsCount += this.itemsCount\r\n                })\r\n            } else {\r\n                itemsCount = this._dataSource.itemsCount()\r\n            }\r\n            return itemsCount\r\n        },\r\n        reset: function(isRefresh) {\r\n            this._loadingPageIndexes = {};\r\n            this._cache = [];\r\n            if (!isRefresh) {\r\n                this._itemSizes = {}\r\n            }\r\n        },\r\n        subscribeToWindowScrollEvents: function($element) {\r\n            var that = this;\r\n            that._windowScroll = that._windowScroll || subscribeToExternalScrollers($element, function(scrollTop) {\r\n                if (that.viewportItemSize()) {\r\n                    that.setViewportPosition(scrollTop)\r\n                }\r\n            })\r\n        },\r\n        dispose: function() {\r\n            clearTimeout(this._scrollTimeoutID);\r\n            this._windowScroll && this._windowScroll.dispose();\r\n            this._windowScroll = null\r\n        },\r\n        scrollTo: function(pos) {\r\n            this._windowScroll && this._windowScroll.scrollTo(pos)\r\n        }\r\n    }\r\n}());\r\nexports.VirtualScrollController = VirtualScrollController;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.filter_row.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.filter_row\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"filterRow\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.filter_row.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _index = require(\"../../events/utils/index\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _uiGrid_core2 = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _editor = _interopRequireDefault(require(\"../editor/editor\"));\r\nvar _overlay = _interopRequireDefault(require(\"../overlay\"));\r\nvar _menu = _interopRequireDefault(require(\"../menu\"));\r\nvar _accessibility = require(\"../shared/accessibility\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar OPERATION_ICONS = {\r\n    \"=\": \"filter-operation-equals\",\r\n    \"<>\": \"filter-operation-not-equals\",\r\n    \"<\": \"filter-operation-less\",\r\n    \"<=\": \"filter-operation-less-equal\",\r\n    \">\": \"filter-operation-greater\",\r\n    \">=\": \"filter-operation-greater-equal\",\r\n    \"default\": \"filter-operation-default\",\r\n    notcontains: \"filter-operation-not-contains\",\r\n    contains: \"filter-operation-contains\",\r\n    startswith: \"filter-operation-starts-with\",\r\n    endswith: \"filter-operation-ends-with\",\r\n    between: \"filter-operation-between\"\r\n};\r\nvar OPERATION_DESCRIPTORS = {\r\n    \"=\": \"equal\",\r\n    \"<>\": \"notEqual\",\r\n    \"<\": \"lessThan\",\r\n    \"<=\": \"lessThanOrEqual\",\r\n    \">\": \"greaterThan\",\r\n    \">=\": \"greaterThanOrEqual\",\r\n    startswith: \"startsWith\",\r\n    contains: \"contains\",\r\n    notcontains: \"notContains\",\r\n    endswith: \"endsWith\",\r\n    between: \"between\"\r\n};\r\nvar FILTERING_TIMEOUT = 700;\r\nvar CORRECT_FILTER_RANGE_OVERLAY_WIDTH = 1;\r\nvar FILTER_ROW_CLASS = \"filter-row\";\r\nvar FILTER_RANGE_OVERLAY_CLASS = \"filter-range-overlay\";\r\nvar FILTER_RANGE_START_CLASS = \"filter-range-start\";\r\nvar FILTER_RANGE_END_CLASS = \"filter-range-end\";\r\nvar MENU_CLASS = \"dx-menu\";\r\nvar EDITOR_WITH_MENU_CLASS = \"dx-editor-with-menu\";\r\nvar EDITOR_CONTAINER_CLASS = \"dx-editor-container\";\r\nvar EDITOR_CELL_CLASS = \"dx-editor-cell\";\r\nvar FILTER_MENU = \"dx-filter-menu\";\r\nvar APPLY_BUTTON_CLASS = \"dx-apply-button\";\r\nvar HIGHLIGHT_OUTLINE_CLASS = \"dx-highlight-outline\";\r\nvar FOCUSED_CLASS = \"dx-focused\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar FILTER_RANGE_CONTENT_CLASS = \"dx-filter-range-content\";\r\nvar FILTER_MODIFIED_CLASS = \"dx-filter-modified\";\r\nvar EDITORS_INPUT_SELECTOR = \"input:not([type='hidden'])\";\r\nvar BETWEEN_OPERATION_DATA_TYPES = [\"date\", \"datetime\", \"number\"];\r\n\r\nfunction isOnClickApplyFilterMode(that) {\r\n    return \"onClick\" === that.option(\"filterRow.applyFilter\")\r\n}\r\nvar ColumnHeadersViewFilterRowExtender = function() {\r\n    var getEditorInstance = function($editorContainer) {\r\n        var $editor = $editorContainer && $editorContainer.children();\r\n        var componentNames = $editor && $editor.data(\"dxComponents\");\r\n        var editor = componentNames && componentNames.length && $editor.data(componentNames[0]);\r\n        if (editor instanceof _editor.default) {\r\n            return editor\r\n        }\r\n    };\r\n    var getRangeTextByFilterValue = function(that, column) {\r\n        var result = \"\";\r\n        var rangeEnd = \"\";\r\n        var filterValue = getColumnFilterValue(that, column);\r\n        var formatOptions = _uiGrid_core2.default.getFormatOptionsByColumn(column, \"filterRow\");\r\n        if (Array.isArray(filterValue)) {\r\n            result = _uiGrid_core2.default.formatValue(filterValue[0], formatOptions);\r\n            rangeEnd = _uiGrid_core2.default.formatValue(filterValue[1], formatOptions);\r\n            if (\"\" !== rangeEnd) {\r\n                result += \" - \" + rangeEnd\r\n            }\r\n        } else {\r\n            if ((0, _type.isDefined)(filterValue)) {\r\n                result = _uiGrid_core2.default.formatValue(filterValue, formatOptions)\r\n            }\r\n        }\r\n        return result\r\n    };\r\n\r\n    function getColumnFilterValue(that, column) {\r\n        if (column) {\r\n            return isOnClickApplyFilterMode(that) && void 0 !== column.bufferedFilterValue ? column.bufferedFilterValue : column.filterValue\r\n        }\r\n    }\r\n    var getColumnSelectedFilterOperation = function(that, column) {\r\n        if (column) {\r\n            return isOnClickApplyFilterMode(that) && void 0 !== column.bufferedSelectedFilterOperation ? column.bufferedSelectedFilterOperation : column.selectedFilterOperation\r\n        }\r\n    };\r\n    var isValidFilterValue = function(filterValue, column) {\r\n        if (column && BETWEEN_OPERATION_DATA_TYPES.indexOf(column.dataType) >= 0 && Array.isArray(filterValue)) {\r\n            return false\r\n        }\r\n        return void 0 !== filterValue\r\n    };\r\n    var getFilterValue = function(that, columnIndex, $editorContainer) {\r\n        var column = that._columnsController.columnOption(columnIndex);\r\n        var filterValue = getColumnFilterValue(that, column);\r\n        var isFilterRange = $editorContainer.closest(\".\" + that.addWidgetPrefix(FILTER_RANGE_OVERLAY_CLASS)).length;\r\n        var isRangeStart = $editorContainer.hasClass(that.addWidgetPrefix(FILTER_RANGE_START_CLASS));\r\n        if (filterValue && Array.isArray(filterValue) && \"between\" === getColumnSelectedFilterOperation(that, column)) {\r\n            if (isRangeStart) {\r\n                return filterValue[0]\r\n            } else {\r\n                return filterValue[1]\r\n            }\r\n        }\r\n        return !isFilterRange && isValidFilterValue(filterValue, column) ? filterValue : null\r\n    };\r\n    var normalizeFilterValue = function(that, filterValue, column, $editorContainer) {\r\n        if (\"between\" === getColumnSelectedFilterOperation(that, column)) {\r\n            var columnFilterValue = getColumnFilterValue(that, column);\r\n            if ($editorContainer.hasClass(that.addWidgetPrefix(FILTER_RANGE_START_CLASS))) {\r\n                return [filterValue, Array.isArray(columnFilterValue) ? columnFilterValue[1] : void 0]\r\n            } else {\r\n                return [Array.isArray(columnFilterValue) ? columnFilterValue[0] : columnFilterValue, filterValue]\r\n            }\r\n        }\r\n        return filterValue\r\n    };\r\n    var updateFilterValue = function(that, options) {\r\n        var value = \"\" === options.value ? null : options.value;\r\n        var $editorContainer = options.container;\r\n        var column = that._columnsController.columnOption(options.column.index);\r\n        var filterValue = getFilterValue(that, column.index, $editorContainer);\r\n        if (!(0, _type.isDefined)(filterValue) && !(0, _type.isDefined)(value)) {\r\n            return\r\n        }\r\n        that._applyFilterViewController.setHighLight($editorContainer, filterValue !== value);\r\n        that._columnsController.columnOption(column.index, isOnClickApplyFilterMode(that) ? \"bufferedFilterValue\" : \"filterValue\", normalizeFilterValue(that, value, column, $editorContainer), options.notFireEvent)\r\n    };\r\n    return {\r\n        _updateEditorValue: function(column, $editorContainer) {\r\n            var that = this;\r\n            var editor = getEditorInstance($editorContainer);\r\n            editor && editor.option(\"value\", getFilterValue(that, column.index, $editorContainer))\r\n        },\r\n        _columnOptionChanged: function(e) {\r\n            var that = this;\r\n            var optionNames = e.optionNames;\r\n            var $cell;\r\n            var $editorContainer;\r\n            var $editorRangeElements;\r\n            var $menu;\r\n            if (_uiGrid_core2.default.checkChanges(optionNames, [\"filterValue\", \"bufferedFilterValue\", \"selectedFilterOperation\", \"bufferedSelectedFilterOperation\"]) && void 0 !== e.columnIndex) {\r\n                var visibleIndex = that._columnsController.getVisibleIndex(e.columnIndex);\r\n                var column = that._columnsController.columnOption(e.columnIndex);\r\n                $cell = that._getCellElement(that.element().find(\".\" + that.addWidgetPrefix(FILTER_ROW_CLASS)).index(), visibleIndex) || (0, _renderer.default)();\r\n                $editorContainer = $cell.find(\".\" + EDITOR_CONTAINER_CLASS).first();\r\n                if (optionNames.filterValue || optionNames.bufferedFilterValue) {\r\n                    that._updateEditorValue(column, $editorContainer);\r\n                    var overlayInstance = $cell.find(\".\" + that.addWidgetPrefix(FILTER_RANGE_OVERLAY_CLASS)).data(\"dxOverlay\");\r\n                    if (overlayInstance) {\r\n                        $editorRangeElements = overlayInstance.$content().find(\".\" + EDITOR_CONTAINER_CLASS);\r\n                        that._updateEditorValue(column, $editorRangeElements.first());\r\n                        that._updateEditorValue(column, $editorRangeElements.last())\r\n                    }\r\n                    if (!overlayInstance || !overlayInstance.option(\"visible\")) {\r\n                        that._updateFilterRangeContent($cell, getRangeTextByFilterValue(that, column))\r\n                    }\r\n                }\r\n                if (optionNames.selectedFilterOperation || optionNames.bufferedSelectedFilterOperation) {\r\n                    if (visibleIndex >= 0 && column) {\r\n                        $menu = $cell.find(\".\" + MENU_CLASS);\r\n                        if ($menu.length) {\r\n                            that._updateFilterOperationChooser($menu, column, $editorContainer);\r\n                            if (\"between\" === getColumnSelectedFilterOperation(that, column)) {\r\n                                that._renderFilterRangeContent($cell, column)\r\n                            } else {\r\n                                if ($editorContainer.find(\".\" + FILTER_RANGE_CONTENT_CLASS).length) {\r\n                                    that._renderEditor($editorContainer, that._getEditorOptions($editorContainer, column));\r\n                                    that._hideFilterRange()\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return\r\n            }\r\n            that.callBase(e)\r\n        },\r\n        _renderCore: function() {\r\n            this._filterRangeOverlayInstance = null;\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        _resizeCore: function() {\r\n            this.callBase.apply(this, arguments);\r\n            this._filterRangeOverlayInstance && this._filterRangeOverlayInstance.repaint()\r\n        },\r\n        isFilterRowVisible: function() {\r\n            return this._isElementVisible(this.option(\"filterRow\"))\r\n        },\r\n        isVisible: function() {\r\n            return this.callBase() || this.isFilterRowVisible()\r\n        },\r\n        init: function() {\r\n            this.callBase();\r\n            this._applyFilterViewController = this.getController(\"applyFilter\")\r\n        },\r\n        _initFilterRangeOverlay: function($cell, column) {\r\n            var that = this;\r\n            var sharedData = {};\r\n            var $editorContainer = $cell.find(\".dx-editor-container\");\r\n            var $overlay = (0, _renderer.default)(\"<div>\").addClass(that.addWidgetPrefix(FILTER_RANGE_OVERLAY_CLASS)).appendTo($cell);\r\n            return that._createComponent($overlay, _overlay.default, {\r\n                height: \"auto\",\r\n                shading: false,\r\n                showTitle: false,\r\n                focusStateEnabled: false,\r\n                closeOnTargetScroll: false,\r\n                closeOnOutsideClick: true,\r\n                animation: false,\r\n                position: {\r\n                    my: \"top\",\r\n                    at: \"top\",\r\n                    of: $editorContainer.length && $editorContainer || $cell,\r\n                    offset: \"0 -1\"\r\n                },\r\n                contentTemplate: function(contentElement) {\r\n                    var editorOptions;\r\n                    var $editor = (0, _renderer.default)(\"<div>\").addClass(EDITOR_CONTAINER_CLASS + \" \" + that.addWidgetPrefix(FILTER_RANGE_START_CLASS)).appendTo(contentElement);\r\n                    column = that._columnsController.columnOption(column.index);\r\n                    editorOptions = that._getEditorOptions($editor, column);\r\n                    editorOptions.sharedData = sharedData;\r\n                    that._renderEditor($editor, editorOptions);\r\n                    _events_engine.default.on($editor.find(EDITORS_INPUT_SELECTOR), \"keydown\", function(e) {\r\n                        var $prevElement = $cell.find(\"[tabindex]\").not(e.target).first();\r\n                        if (\"tab\" === (0, _index.normalizeKeyName)(e) && e.shiftKey) {\r\n                            e.preventDefault();\r\n                            that._hideFilterRange();\r\n                            if (!$prevElement.length) {\r\n                                $prevElement = $cell.prev().find(\"[tabindex]\").last()\r\n                            }\r\n                            _events_engine.default.trigger($prevElement, \"focus\")\r\n                        }\r\n                    });\r\n                    $editor = (0, _renderer.default)(\"<div>\").addClass(EDITOR_CONTAINER_CLASS + \" \" + that.addWidgetPrefix(FILTER_RANGE_END_CLASS)).appendTo(contentElement);\r\n                    editorOptions = that._getEditorOptions($editor, column);\r\n                    editorOptions.sharedData = sharedData;\r\n                    that._renderEditor($editor, editorOptions);\r\n                    _events_engine.default.on($editor.find(EDITORS_INPUT_SELECTOR), \"keydown\", function(e) {\r\n                        if (\"tab\" === (0, _index.normalizeKeyName)(e) && !e.shiftKey) {\r\n                            e.preventDefault();\r\n                            that._hideFilterRange();\r\n                            _events_engine.default.trigger($cell.next().find(\"[tabindex]\").first(), \"focus\")\r\n                        }\r\n                    });\r\n                    return (0, _renderer.default)(contentElement).addClass(that.getWidgetContainerClass())\r\n                },\r\n                onShown: function(e) {\r\n                    var $editor = e.component.$content().find(\".\" + EDITOR_CONTAINER_CLASS).first();\r\n                    _events_engine.default.trigger($editor.find(EDITORS_INPUT_SELECTOR), \"focus\")\r\n                },\r\n                onHidden: function() {\r\n                    column = that._columnsController.columnOption(column.index);\r\n                    $cell.find(\".\" + MENU_CLASS).parent().addClass(EDITOR_WITH_MENU_CLASS);\r\n                    if (\"between\" === getColumnSelectedFilterOperation(that, column)) {\r\n                        that._updateFilterRangeContent($cell, getRangeTextByFilterValue(that, column));\r\n                        that.component.updateDimensions()\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        _updateFilterRangeOverlay: function(options) {\r\n            var overlayInstance = this._filterRangeOverlayInstance;\r\n            overlayInstance && overlayInstance.option(options)\r\n        },\r\n        _showFilterRange: function($cell, column) {\r\n            var that = this;\r\n            var $overlay = $cell.children(\".\" + that.addWidgetPrefix(FILTER_RANGE_OVERLAY_CLASS));\r\n            var overlayInstance = $overlay.length && $overlay.data(\"dxOverlay\");\r\n            if (!overlayInstance && column) {\r\n                overlayInstance = that._initFilterRangeOverlay($cell, column)\r\n            }\r\n            if (!overlayInstance.option(\"visible\")) {\r\n                that._filterRangeOverlayInstance && that._filterRangeOverlayInstance.hide();\r\n                that._filterRangeOverlayInstance = overlayInstance;\r\n                that._updateFilterRangeOverlay({\r\n                    width: $cell.outerWidth(true) + CORRECT_FILTER_RANGE_OVERLAY_WIDTH\r\n                });\r\n                that._filterRangeOverlayInstance && that._filterRangeOverlayInstance.show()\r\n            }\r\n        },\r\n        _hideFilterRange: function() {\r\n            var overlayInstance = this._filterRangeOverlayInstance;\r\n            overlayInstance && overlayInstance.hide()\r\n        },\r\n        getFilterRangeOverlayInstance: function() {\r\n            return this._filterRangeOverlayInstance\r\n        },\r\n        _createRow: function(row) {\r\n            var _this = this;\r\n            var $row = this.callBase(row);\r\n            if (\"filter\" === row.rowType) {\r\n                $row.addClass(this.addWidgetPrefix(FILTER_ROW_CLASS));\r\n                if (!this.option(\"useLegacyKeyboardNavigation\")) {\r\n                    _events_engine.default.on($row, \"keydown\", function(event) {\r\n                        return (0, _accessibility.selectView)(\"filterRow\", _this, event)\r\n                    })\r\n                }\r\n            }\r\n            return $row\r\n        },\r\n        _getRows: function() {\r\n            var result = this.callBase();\r\n            if (this.isFilterRowVisible()) {\r\n                result.push({\r\n                    rowType: \"filter\"\r\n                })\r\n            }\r\n            return result\r\n        },\r\n        _renderFilterCell: function(cell, options) {\r\n            var that = this;\r\n            var column = options.column;\r\n            var $cell = (0, _renderer.default)(cell);\r\n            if (that.component.option(\"showColumnHeaders\")) {\r\n                that.setAria(\"describedby\", column.headerId, $cell)\r\n            }\r\n            that.setAria(\"label\", _message.default.format(\"dxDataGrid-ariaFilterCell\"), $cell);\r\n            $cell.addClass(EDITOR_CELL_CLASS);\r\n            var $container = (0, _renderer.default)(\"<div>\").appendTo($cell);\r\n            var $editorContainer = (0, _renderer.default)(\"<div>\").addClass(EDITOR_CONTAINER_CLASS).appendTo($container);\r\n            if (\"between\" === getColumnSelectedFilterOperation(that, column)) {\r\n                that._renderFilterRangeContent($cell, column)\r\n            } else {\r\n                var editorOptions = that._getEditorOptions($editorContainer, column);\r\n                that._renderEditor($editorContainer, editorOptions)\r\n            }\r\n            var alignment = column.alignment;\r\n            if (alignment && \"center\" !== alignment) {\r\n                $cell.find(EDITORS_INPUT_SELECTOR).first().css(\"textAlign\", column.alignment)\r\n            }\r\n            if (column.filterOperations && column.filterOperations.length) {\r\n                that._renderFilterOperationChooser($container, column, $editorContainer)\r\n            }\r\n        },\r\n        _renderCellContent: function($cell, options) {\r\n            var that = this;\r\n            var column = options.column;\r\n            if (\"filter\" === options.rowType) {\r\n                if (column.command) {\r\n                    $cell.html(\"&nbsp;\")\r\n                } else {\r\n                    if (column.allowFiltering) {\r\n                        that.renderTemplate($cell, that._renderFilterCell.bind(that), options).done(function() {\r\n                            that._updateCell($cell, options)\r\n                        });\r\n                        return\r\n                    }\r\n                }\r\n            }\r\n            that.callBase($cell, options)\r\n        },\r\n        _getEditorOptions: function($editorContainer, column) {\r\n            var that = this;\r\n            var accessibilityOptions = {\r\n                editorOptions: {\r\n                    inputAttr: that._getFilterInputAccessibilityAttributes(column)\r\n                }\r\n            };\r\n            var result = (0, _extend.extend)(accessibilityOptions, column, {\r\n                value: getFilterValue(that, column.index, $editorContainer),\r\n                parentType: \"filterRow\",\r\n                showAllText: that.option(\"filterRow.showAllText\"),\r\n                updateValueTimeout: \"onClick\" === that.option(\"filterRow.applyFilter\") ? 0 : FILTERING_TIMEOUT,\r\n                width: null,\r\n                setValue: function(value, notFireEvent) {\r\n                    updateFilterValue(that, {\r\n                        column: column,\r\n                        value: value,\r\n                        container: $editorContainer,\r\n                        notFireEvent: notFireEvent\r\n                    })\r\n                }\r\n            });\r\n            if (\"between\" === getColumnSelectedFilterOperation(that, column)) {\r\n                if ($editorContainer.hasClass(that.addWidgetPrefix(FILTER_RANGE_START_CLASS))) {\r\n                    result.placeholder = that.option(\"filterRow.betweenStartText\")\r\n                } else {\r\n                    result.placeholder = that.option(\"filterRow.betweenEndText\")\r\n                }\r\n            }\r\n            return result\r\n        },\r\n        _getFilterInputAccessibilityAttributes: function(column) {\r\n            var columnAriaLabel = _message.default.format(\"dxDataGrid-ariaFilterCell\");\r\n            if (this.component.option(\"showColumnHeaders\")) {\r\n                return {\r\n                    \"aria-label\": columnAriaLabel,\r\n                    \"aria-describedby\": column.headerId\r\n                }\r\n            }\r\n            return {\r\n                \"aria-label\": columnAriaLabel\r\n            }\r\n        },\r\n        _renderEditor: function($editorContainer, options) {\r\n            $editorContainer.empty();\r\n            return this.getController(\"editorFactory\").createEditor((0, _renderer.default)(\"<div>\").appendTo($editorContainer), options)\r\n        },\r\n        _renderFilterRangeContent: function($cell, column) {\r\n            var that = this;\r\n            var $editorContainer = $cell.find(\".\" + EDITOR_CONTAINER_CLASS).first();\r\n            $editorContainer.empty();\r\n            var $filterRangeContent = (0, _renderer.default)(\"<div>\").addClass(FILTER_RANGE_CONTENT_CLASS).attr(\"tabindex\", this.option(\"tabIndex\"));\r\n            _events_engine.default.on($filterRangeContent, \"focusin\", function() {\r\n                that._showFilterRange($cell, column)\r\n            });\r\n            $filterRangeContent.appendTo($editorContainer);\r\n            that._updateFilterRangeContent($cell, getRangeTextByFilterValue(that, column))\r\n        },\r\n        _updateFilterRangeContent: function($cell, value) {\r\n            var $filterRangeContent = $cell.find(\".\" + FILTER_RANGE_CONTENT_CLASS);\r\n            if ($filterRangeContent.length) {\r\n                if (\"\" === value) {\r\n                    $filterRangeContent.html(\"&nbsp;\")\r\n                } else {\r\n                    $filterRangeContent.text(value)\r\n                }\r\n            }\r\n        },\r\n        _updateFilterOperationChooser: function($menu, column, $editorContainer) {\r\n            var that = this;\r\n            var isCellWasFocused;\r\n            var restoreFocus = function() {\r\n                var menu = _menu.default.getInstance($menu);\r\n                menu && menu.option(\"focusedElement\", null);\r\n                isCellWasFocused && that._focusEditor($editorContainer)\r\n            };\r\n            that._createComponent($menu, _menu.default, {\r\n                integrationOptions: {},\r\n                activeStateEnabled: false,\r\n                selectionMode: \"single\",\r\n                cssClass: that.getWidgetContainerClass() + \" \" + CELL_FOCUS_DISABLED_CLASS + \" \" + FILTER_MENU,\r\n                showFirstSubmenuMode: \"onHover\",\r\n                hideSubmenuOnMouseLeave: true,\r\n                items: [{\r\n                    disabled: column.filterOperations && column.filterOperations.length ? false : true,\r\n                    icon: OPERATION_ICONS[getColumnSelectedFilterOperation(that, column) || \"default\"],\r\n                    selectable: false,\r\n                    items: that._getFilterOperationMenuItems(column)\r\n                }],\r\n                onItemClick: function(properties) {\r\n                    var selectedFilterOperation = properties.itemData.name;\r\n                    var columnSelectedFilterOperation = getColumnSelectedFilterOperation(that, column);\r\n                    var notFocusEditor = false;\r\n                    var isOnClickMode = isOnClickApplyFilterMode(that);\r\n                    var options = {};\r\n                    if (properties.itemData.items || selectedFilterOperation && selectedFilterOperation === columnSelectedFilterOperation) {\r\n                        return\r\n                    }\r\n                    if (selectedFilterOperation) {\r\n                        options[isOnClickMode ? \"bufferedSelectedFilterOperation\" : \"selectedFilterOperation\"] = selectedFilterOperation;\r\n                        if (\"between\" === selectedFilterOperation || \"between\" === columnSelectedFilterOperation) {\r\n                            notFocusEditor = \"between\" === selectedFilterOperation;\r\n                            options[isOnClickMode ? \"bufferedFilterValue\" : \"filterValue\"] = null\r\n                        }\r\n                    } else {\r\n                        options[isOnClickMode ? \"bufferedFilterValue\" : \"filterValue\"] = null;\r\n                        options[isOnClickMode ? \"bufferedSelectedFilterOperation\" : \"selectedFilterOperation\"] = column.defaultSelectedFilterOperation || null\r\n                    }\r\n                    that._columnsController.columnOption(column.index, options);\r\n                    that._applyFilterViewController.setHighLight($editorContainer, true);\r\n                    if (!selectedFilterOperation) {\r\n                        var editor = getEditorInstance($editorContainer);\r\n                        if (editor && \"dxDateBox\" === editor.NAME && !editor.option(\"isValid\")) {\r\n                            editor.reset();\r\n                            editor.option(\"isValid\", true)\r\n                        }\r\n                    }\r\n                    if (!notFocusEditor) {\r\n                        that._focusEditor($editorContainer)\r\n                    } else {\r\n                        that._showFilterRange($editorContainer.closest(\".\" + EDITOR_CELL_CLASS), column)\r\n                    }\r\n                },\r\n                onSubmenuShown: function() {\r\n                    isCellWasFocused = that._isEditorFocused($editorContainer);\r\n                    that.getController(\"editorFactory\").loseFocus()\r\n                },\r\n                onSubmenuHiding: function() {\r\n                    _events_engine.default.trigger($menu, \"blur\");\r\n                    restoreFocus()\r\n                },\r\n                onContentReady: function(e) {\r\n                    _events_engine.default.on($menu, \"blur\", function() {\r\n                        var menu = e.component;\r\n                        menu._hideSubmenu(menu._visibleSubmenu);\r\n                        restoreFocus()\r\n                    })\r\n                },\r\n                rtlEnabled: that.option(\"rtlEnabled\")\r\n            })\r\n        },\r\n        _isEditorFocused: function($container) {\r\n            return $container.hasClass(FOCUSED_CLASS) || $container.parents(\".\" + FOCUSED_CLASS).length\r\n        },\r\n        _focusEditor: function($container) {\r\n            this.getController(\"editorFactory\").focus($container);\r\n            _events_engine.default.trigger($container.find(EDITORS_INPUT_SELECTOR), \"focus\")\r\n        },\r\n        _renderFilterOperationChooser: function($container, column, $editorContainer) {\r\n            var that = this;\r\n            var $menu;\r\n            if (that.option(\"filterRow.showOperationChooser\")) {\r\n                $container.addClass(EDITOR_WITH_MENU_CLASS);\r\n                $menu = (0, _renderer.default)(\"<div>\").prependTo($container);\r\n                that._updateFilterOperationChooser($menu, column, $editorContainer)\r\n            }\r\n        },\r\n        _getFilterOperationMenuItems: function(column) {\r\n            var that = this;\r\n            var result = [{}];\r\n            var filterRowOptions = that.option(\"filterRow\");\r\n            var operationDescriptions = filterRowOptions && filterRowOptions.operationDescriptions || {};\r\n            if (column.filterOperations && column.filterOperations.length) {\r\n                var availableFilterOperations = column.filterOperations.filter(function(value) {\r\n                    return (0, _type.isDefined)(OPERATION_DESCRIPTORS[value])\r\n                });\r\n                result = (0, _iterator.map)(availableFilterOperations, function(value) {\r\n                    var descriptionName = OPERATION_DESCRIPTORS[value];\r\n                    return {\r\n                        name: value,\r\n                        selected: (getColumnSelectedFilterOperation(that, column) || column.defaultFilterOperation) === value,\r\n                        text: operationDescriptions[descriptionName],\r\n                        icon: OPERATION_ICONS[value]\r\n                    }\r\n                });\r\n                result.push({\r\n                    name: null,\r\n                    text: filterRowOptions && filterRowOptions.resetOperationText,\r\n                    icon: OPERATION_ICONS.default\r\n                })\r\n            }\r\n            return result\r\n        },\r\n        optionChanged: function(args) {\r\n            var that = this;\r\n            switch (args.name) {\r\n                case \"filterRow\":\r\n                case \"showColumnLines\":\r\n                    this._invalidate(true, true);\r\n                    args.handled = true;\r\n                    break;\r\n                default:\r\n                    that.callBase(args)\r\n            }\r\n        }\r\n    }\r\n}();\r\nvar DataControllerFilterRowExtender = {\r\n    skipCalculateColumnFilters: function() {\r\n        return false\r\n    },\r\n    _calculateAdditionalFilter: function() {\r\n        if (this.skipCalculateColumnFilters()) {\r\n            return this.callBase()\r\n        }\r\n        var filters = [this.callBase()];\r\n        var columns = this._columnsController.getVisibleColumns(null, true);\r\n        (0, _iterator.each)(columns, function() {\r\n            if (this.allowFiltering && this.calculateFilterExpression && (0, _type.isDefined)(this.filterValue)) {\r\n                var filter = this.createFilterExpression(this.filterValue, this.selectedFilterOperation || this.defaultFilterOperation, \"filterRow\");\r\n                filters.push(filter)\r\n            }\r\n        });\r\n        return _uiGrid_core2.default.combineFilters(filters)\r\n    }\r\n};\r\nvar ApplyFilterViewController = _uiGrid_core.default.ViewController.inherit({\r\n    _getHeaderPanel: function() {\r\n        if (!this._headerPanel) {\r\n            this._headerPanel = this.getView(\"headerPanel\")\r\n        }\r\n        return this._headerPanel\r\n    },\r\n    setHighLight: function($element, value) {\r\n        if (isOnClickApplyFilterMode(this)) {\r\n            $element && $element.toggleClass(HIGHLIGHT_OUTLINE_CLASS, value) && $element.closest(\".\" + EDITOR_CELL_CLASS).toggleClass(FILTER_MODIFIED_CLASS, value);\r\n            this._getHeaderPanel().enableApplyButton(value)\r\n        }\r\n    },\r\n    applyFilter: function() {\r\n        var columnsController = this.getController(\"columns\");\r\n        var columns = columnsController.getColumns();\r\n        columnsController.beginUpdate();\r\n        for (var i = 0; i < columns.length; i++) {\r\n            var column = columns[i];\r\n            if (void 0 !== column.bufferedFilterValue) {\r\n                columnsController.columnOption(i, \"filterValue\", column.bufferedFilterValue);\r\n                column.bufferedFilterValue = void 0\r\n            }\r\n            if (void 0 !== column.bufferedSelectedFilterOperation) {\r\n                columnsController.columnOption(i, \"selectedFilterOperation\", column.bufferedSelectedFilterOperation);\r\n                column.bufferedSelectedFilterOperation = void 0\r\n            }\r\n        }\r\n        columnsController.endUpdate();\r\n        this.removeHighLights()\r\n    },\r\n    removeHighLights: function() {\r\n        if (isOnClickApplyFilterMode(this)) {\r\n            var columnHeadersViewElement = this.getView(\"columnHeadersView\").element();\r\n            columnHeadersViewElement.find(\".\" + this.addWidgetPrefix(FILTER_ROW_CLASS) + \" .\" + HIGHLIGHT_OUTLINE_CLASS).removeClass(HIGHLIGHT_OUTLINE_CLASS);\r\n            columnHeadersViewElement.find(\".\" + this.addWidgetPrefix(FILTER_ROW_CLASS) + \" .\" + FILTER_MODIFIED_CLASS).removeClass(FILTER_MODIFIED_CLASS);\r\n            this._getHeaderPanel().enableApplyButton(false)\r\n        }\r\n    }\r\n});\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            filterRow: {\r\n                visible: false,\r\n                showOperationChooser: true,\r\n                showAllText: _message.default.format(\"dxDataGrid-filterRowShowAllText\"),\r\n                resetOperationText: _message.default.format(\"dxDataGrid-filterRowResetOperationText\"),\r\n                applyFilter: \"auto\",\r\n                applyFilterText: _message.default.format(\"dxDataGrid-applyFilterText\"),\r\n                operationDescriptions: {\r\n                    equal: _message.default.format(\"dxDataGrid-filterRowOperationEquals\"),\r\n                    notEqual: _message.default.format(\"dxDataGrid-filterRowOperationNotEquals\"),\r\n                    lessThan: _message.default.format(\"dxDataGrid-filterRowOperationLess\"),\r\n                    lessThanOrEqual: _message.default.format(\"dxDataGrid-filterRowOperationLessOrEquals\"),\r\n                    greaterThan: _message.default.format(\"dxDataGrid-filterRowOperationGreater\"),\r\n                    greaterThanOrEqual: _message.default.format(\"dxDataGrid-filterRowOperationGreaterOrEquals\"),\r\n                    startsWith: _message.default.format(\"dxDataGrid-filterRowOperationStartsWith\"),\r\n                    contains: _message.default.format(\"dxDataGrid-filterRowOperationContains\"),\r\n                    notContains: _message.default.format(\"dxDataGrid-filterRowOperationNotContains\"),\r\n                    endsWith: _message.default.format(\"dxDataGrid-filterRowOperationEndsWith\"),\r\n                    between: _message.default.format(\"dxDataGrid-filterRowOperationBetween\"),\r\n                    isBlank: _message.default.format(\"dxFilterBuilder-filterOperationIsBlank\"),\r\n                    isNotBlank: _message.default.format(\"dxFilterBuilder-filterOperationIsNotBlank\")\r\n                },\r\n                betweenStartText: _message.default.format(\"dxDataGrid-filterRowOperationBetweenStartText\"),\r\n                betweenEndText: _message.default.format(\"dxDataGrid-filterRowOperationBetweenEndText\")\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        applyFilter: ApplyFilterViewController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: DataControllerFilterRowExtender,\r\n            columnsResizer: {\r\n                _startResizing: function() {\r\n                    var that = this;\r\n                    that.callBase.apply(that, arguments);\r\n                    if (that.isResizing()) {\r\n                        var overlayInstance = that._columnHeadersView.getFilterRangeOverlayInstance();\r\n                        if (overlayInstance) {\r\n                            var cellIndex = overlayInstance.$element().closest(\"td\").index();\r\n                            if (cellIndex === that._targetPoint.columnIndex || cellIndex === that._targetPoint.columnIndex + 1) {\r\n                                overlayInstance.$content().hide()\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                _endResizing: function() {\r\n                    var that = this;\r\n                    var $cell;\r\n                    if (that.isResizing()) {\r\n                        var overlayInstance = that._columnHeadersView.getFilterRangeOverlayInstance();\r\n                        if (overlayInstance) {\r\n                            $cell = overlayInstance.$element().closest(\"td\");\r\n                            that._columnHeadersView._updateFilterRangeOverlay({\r\n                                width: $cell.outerWidth(true) + CORRECT_FILTER_RANGE_OVERLAY_WIDTH\r\n                            });\r\n                            overlayInstance.$content().show()\r\n                        }\r\n                    }\r\n                    that.callBase.apply(that, arguments)\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            columnHeadersView: ColumnHeadersViewFilterRowExtender,\r\n            headerPanel: {\r\n                _getToolbarItems: function() {\r\n                    var items = this.callBase();\r\n                    var filterItem = this._prepareFilterItem(items);\r\n                    return filterItem.concat(items)\r\n                },\r\n                _prepareFilterItem: function() {\r\n                    var that = this;\r\n                    var filterItem = [];\r\n                    if (that._isShowApplyFilterButton()) {\r\n                        var hintText = that.option(\"filterRow.applyFilterText\");\r\n                        var columns = that._columnsController.getColumns();\r\n                        var disabled = !columns.filter(function(column) {\r\n                            return void 0 !== column.bufferedFilterValue\r\n                        }).length;\r\n                        var onInitialized = function(e) {\r\n                            (0, _renderer.default)(e.element).addClass(that._getToolbarButtonClass(APPLY_BUTTON_CLASS))\r\n                        };\r\n                        var onClickHandler = function() {\r\n                            that._applyFilterViewController.applyFilter()\r\n                        };\r\n                        var toolbarItem = {\r\n                            widget: \"dxButton\",\r\n                            options: {\r\n                                icon: \"apply-filter\",\r\n                                disabled: disabled,\r\n                                onClick: onClickHandler,\r\n                                hint: hintText,\r\n                                text: hintText,\r\n                                onInitialized: onInitialized\r\n                            },\r\n                            showText: \"inMenu\",\r\n                            name: \"applyFilterButton\",\r\n                            location: \"after\",\r\n                            locateInMenu: \"auto\",\r\n                            sortIndex: 10\r\n                        };\r\n                        filterItem.push(toolbarItem)\r\n                    }\r\n                    return filterItem\r\n                },\r\n                _isShowApplyFilterButton: function() {\r\n                    var filterRowOptions = this.option(\"filterRow\");\r\n                    return filterRowOptions && filterRowOptions.visible && \"onClick\" === filterRowOptions.applyFilter\r\n                },\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._dataController = this.getController(\"data\");\r\n                    this._applyFilterViewController = this.getController(\"applyFilter\")\r\n                },\r\n                enableApplyButton: function(value) {\r\n                    this.setToolbarItemDisabled(\"applyFilterButton\", !value)\r\n                },\r\n                isVisible: function() {\r\n                    return this.callBase() || this._isShowApplyFilterButton()\r\n                },\r\n                optionChanged: function(args) {\r\n                    if (\"filterRow\" === args.name) {\r\n                        this._invalidate();\r\n                        args.handled = true\r\n                    } else {\r\n                        this.callBase(args)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/menu.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _ui = _interopRequireDefault(require(\"./menu/ui.menu\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar _default = _ui.default;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\nmodule.exports.default = module.exports;\r\n","/**\r\n * DevExtreme (ui/menu/ui.menu.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _component_registrator = _interopRequireDefault(require(\"../../core/component_registrator\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _element = require(\"../../core/element\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _utils = require(\"../overlay/utils\");\r\nvar _index = require(\"../../events/utils/index\");\r\nvar _pointer = _interopRequireDefault(require(\"../../events/pointer\"));\r\nvar _hover = require(\"../../events/hover\");\r\nvar _ui = _interopRequireDefault(require(\"../context_menu/ui.menu_base\"));\r\nvar _overlay = _interopRequireDefault(require(\"../overlay\"));\r\nvar _ui2 = _interopRequireDefault(require(\"./ui.submenu\"));\r\nvar _button = _interopRequireDefault(require(\"../button\"));\r\nvar _tree_view = _interopRequireDefault(require(\"../tree_view\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _get(target, property, receiver) {\r\n    if (\"undefined\" !== typeof Reflect && Reflect.get) {\r\n        _get = Reflect.get\r\n    } else {\r\n        _get = function(target, property, receiver) {\r\n            var base = _superPropBase(target, property);\r\n            if (!base) {\r\n                return\r\n            }\r\n            var desc = Object.getOwnPropertyDescriptor(base, property);\r\n            if (desc.get) {\r\n                return desc.get.call(receiver)\r\n            }\r\n            return desc.value\r\n        }\r\n    }\r\n    return _get(target, property, receiver || target)\r\n}\r\n\r\nfunction _superPropBase(object, property) {\r\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n        object = _getPrototypeOf(object);\r\n        if (null === object) {\r\n            break\r\n        }\r\n    }\r\n    return object\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\n\r\nfunction _createSuper(Derived) {\r\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\r\n    return function() {\r\n        var result, Super = _getPrototypeOf(Derived);\r\n        if (hasNativeReflectConstruct) {\r\n            var NewTarget = _getPrototypeOf(this).constructor;\r\n            result = Reflect.construct(Super, arguments, NewTarget)\r\n        } else {\r\n            result = Super.apply(this, arguments)\r\n        }\r\n        return _possibleConstructorReturn(this, result)\r\n    }\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _isNativeReflectConstruct() {\r\n    if (\"undefined\" === typeof Reflect || !Reflect.construct) {\r\n        return false\r\n    }\r\n    if (Reflect.construct.sham) {\r\n        return false\r\n    }\r\n    if (\"function\" === typeof Proxy) {\r\n        return true\r\n    }\r\n    try {\r\n        Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\r\n        return true\r\n    } catch (e) {\r\n        return false\r\n    }\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\nvar DX_MENU_CLASS = \"dx-menu\";\r\nvar DX_MENU_VERTICAL_CLASS = DX_MENU_CLASS + \"-vertical\";\r\nvar DX_MENU_HORIZONTAL_CLASS = DX_MENU_CLASS + \"-horizontal\";\r\nvar DX_MENU_ITEM_CLASS = DX_MENU_CLASS + \"-item\";\r\nvar DX_MENU_ITEMS_CONTAINER_CLASS = DX_MENU_CLASS + \"-items-container\";\r\nvar DX_MENU_ITEM_EXPANDED_CLASS = DX_MENU_ITEM_CLASS + \"-expanded\";\r\nvar DX_CONTEXT_MENU_CLASS = \"dx-context-menu\";\r\nvar DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS = DX_CONTEXT_MENU_CLASS + \"-container-border\";\r\nvar DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS = \"dx-context-menu-content-delimiter\";\r\nvar DX_SUBMENU_CLASS = \"dx-submenu\";\r\nvar DX_STATE_DISABLED_CLASS = \"dx-state-disabled\";\r\nvar DX_STATE_HOVER_CLASS = \"dx-state-hover\";\r\nvar DX_STATE_ACTIVE_CLASS = \"dx-state-active\";\r\nvar DX_ADAPTIVE_MODE_CLASS = DX_MENU_CLASS + \"-adaptive-mode\";\r\nvar DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS = DX_MENU_CLASS + \"-hamburger-button\";\r\nvar DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS = DX_ADAPTIVE_MODE_CLASS + \"-overlay-wrapper\";\r\nvar FOCUS_UP = \"up\";\r\nvar FOCUS_DOWN = \"down\";\r\nvar FOCUS_LEFT = \"left\";\r\nvar FOCUS_RIGHT = \"right\";\r\nvar SHOW_SUBMENU_OPERATION = \"showSubmenu\";\r\nvar NEXTITEM_OPERATION = \"nextItem\";\r\nvar PREVITEM_OPERATION = \"prevItem\";\r\nvar DEFAULT_DELAY = {\r\n    show: 50,\r\n    hide: 300\r\n};\r\nvar ACTIONS = [\"onSubmenuShowing\", \"onSubmenuShown\", \"onSubmenuHiding\", \"onSubmenuHidden\", \"onItemContextMenu\", \"onItemClick\", \"onSelectionChanged\", \"onItemRendered\"];\r\nvar Menu = function(_MenuBase) {\r\n    _inherits(Menu, _MenuBase);\r\n    var _super = _createSuper(Menu);\r\n\r\n    function Menu() {\r\n        _classCallCheck(this, Menu);\r\n        return _super.apply(this, arguments)\r\n    }\r\n    _createClass(Menu, [{\r\n        key: \"_getDefaultOptions\",\r\n        value: function() {\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(Menu.prototype), \"_getDefaultOptions\", this).call(this), {\r\n                orientation: \"horizontal\",\r\n                submenuDirection: \"auto\",\r\n                showFirstSubmenuMode: {\r\n                    name: \"onClick\",\r\n                    delay: {\r\n                        show: 50,\r\n                        hide: 300\r\n                    }\r\n                },\r\n                hideSubmenuOnMouseLeave: false,\r\n                onSubmenuShowing: null,\r\n                onSubmenuShown: null,\r\n                onSubmenuHiding: null,\r\n                onSubmenuHidden: null,\r\n                adaptivityEnabled: false\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_setOptionsByReference\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(Menu.prototype), \"_setOptionsByReference\", this).call(this);\r\n            (0, _extend.extend)(this._optionsByReference, {\r\n                animation: true,\r\n                selectedItem: true\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_itemElements\",\r\n        value: function() {\r\n            var rootMenuElements = _get(_getPrototypeOf(Menu.prototype), \"_itemElements\", this).call(this);\r\n            var submenuElements = this._submenuItemElements();\r\n            return rootMenuElements.add(submenuElements)\r\n        }\r\n    }, {\r\n        key: \"_submenuItemElements\",\r\n        value: function() {\r\n            var elements = [];\r\n            var itemSelector = \".\".concat(DX_MENU_ITEM_CLASS);\r\n            var currentSubmenu = this._submenus.length && this._submenus[0];\r\n            if (currentSubmenu && currentSubmenu.itemsContainer()) {\r\n                elements = currentSubmenu.itemsContainer().find(itemSelector)\r\n            }\r\n            return elements\r\n        }\r\n    }, {\r\n        key: \"_focusTarget\",\r\n        value: function() {\r\n            return this.$element()\r\n        }\r\n    }, {\r\n        key: \"_isMenuHorizontal\",\r\n        value: function() {\r\n            return \"horizontal\" === this.option(\"orientation\")\r\n        }\r\n    }, {\r\n        key: \"_moveFocus\",\r\n        value: function(location) {\r\n            var $items = this._getAvailableItems();\r\n            var isMenuHorizontal = this._isMenuHorizontal();\r\n            var $activeItem = this._getActiveItem(true);\r\n            var argument;\r\n            var operation;\r\n            var navigationAction;\r\n            var $newTarget;\r\n            switch (location) {\r\n                case FOCUS_UP:\r\n                    operation = isMenuHorizontal ? SHOW_SUBMENU_OPERATION : this._getItemsNavigationOperation(PREVITEM_OPERATION);\r\n                    argument = isMenuHorizontal ? $activeItem : $items;\r\n                    navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                    $newTarget = navigationAction();\r\n                    break;\r\n                case FOCUS_DOWN:\r\n                    operation = isMenuHorizontal ? SHOW_SUBMENU_OPERATION : this._getItemsNavigationOperation(NEXTITEM_OPERATION);\r\n                    argument = isMenuHorizontal ? $activeItem : $items;\r\n                    navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                    $newTarget = navigationAction();\r\n                    break;\r\n                case FOCUS_RIGHT:\r\n                    operation = isMenuHorizontal ? this._getItemsNavigationOperation(NEXTITEM_OPERATION) : SHOW_SUBMENU_OPERATION;\r\n                    argument = isMenuHorizontal ? $items : $activeItem;\r\n                    navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                    $newTarget = navigationAction();\r\n                    break;\r\n                case FOCUS_LEFT:\r\n                    operation = isMenuHorizontal ? this._getItemsNavigationOperation(PREVITEM_OPERATION) : SHOW_SUBMENU_OPERATION;\r\n                    argument = isMenuHorizontal ? $items : $activeItem;\r\n                    navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                    $newTarget = navigationAction();\r\n                    break;\r\n                default:\r\n                    return _get(_getPrototypeOf(Menu.prototype), \"_moveFocus\", this).call(this, location)\r\n            }\r\n            if ($newTarget && 0 !== $newTarget.length) {\r\n                this.option(\"focusedElement\", (0, _element.getPublicElement)($newTarget))\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getItemsNavigationOperation\",\r\n        value: function(operation) {\r\n            var navOperation = operation;\r\n            if (this.option(\"rtlEnabled\")) {\r\n                navOperation = operation === PREVITEM_OPERATION ? NEXTITEM_OPERATION : PREVITEM_OPERATION\r\n            }\r\n            return navOperation\r\n        }\r\n    }, {\r\n        key: \"_getKeyboardNavigationAction\",\r\n        value: function(operation, argument) {\r\n            var action = _common.noop;\r\n            switch (operation) {\r\n                case SHOW_SUBMENU_OPERATION:\r\n                    if (!argument.hasClass(DX_STATE_DISABLED_CLASS)) {\r\n                        action = this._showSubmenu.bind(this, argument)\r\n                    }\r\n                    break;\r\n                case NEXTITEM_OPERATION:\r\n                    action = this._nextItem.bind(this, argument);\r\n                    break;\r\n                case PREVITEM_OPERATION:\r\n                    action = this._prevItem.bind(this, argument)\r\n            }\r\n            return action\r\n        }\r\n    }, {\r\n        key: \"_clean\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(Menu.prototype), \"_clean\", this).call(this);\r\n            this.option(\"templatesRenderAsynchronously\") && clearTimeout(this._resizeEventTimer)\r\n        }\r\n    }, {\r\n        key: \"_visibilityChanged\",\r\n        value: function(visible) {\r\n            if (visible) {\r\n                if (!this._menuItemsWidth) {\r\n                    this._updateItemsWidthCache()\r\n                }\r\n                this._dimensionChanged()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_isAdaptivityEnabled\",\r\n        value: function() {\r\n            return this.option(\"adaptivityEnabled\") && \"horizontal\" === this.option(\"orientation\")\r\n        }\r\n    }, {\r\n        key: \"_updateItemsWidthCache\",\r\n        value: function() {\r\n            var $menuItems = this.$element().find(\"ul\").first().children(\"li\").children(\".\".concat(DX_MENU_ITEM_CLASS));\r\n            this._menuItemsWidth = this._getSummaryItemsWidth($menuItems, true)\r\n        }\r\n    }, {\r\n        key: \"_dimensionChanged\",\r\n        value: function() {\r\n            if (!this._isAdaptivityEnabled()) {\r\n                return\r\n            }\r\n            var containerWidth = this.$element().outerWidth();\r\n            this._toggleAdaptiveMode(this._menuItemsWidth > containerWidth)\r\n        }\r\n    }, {\r\n        key: \"_init\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(Menu.prototype), \"_init\", this).call(this);\r\n            this._submenus = []\r\n        }\r\n    }, {\r\n        key: \"_initActions\",\r\n        value: function() {\r\n            var _this = this;\r\n            this._actions = {};\r\n            (0, _iterator.each)(ACTIONS, function(index, action) {\r\n                _this._actions[action] = _this._createActionByOption(action)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_initMarkup\",\r\n        value: function() {\r\n            this._visibleSubmenu = null;\r\n            this.$element().addClass(DX_MENU_CLASS);\r\n            _get(_getPrototypeOf(Menu.prototype), \"_initMarkup\", this).call(this);\r\n            this.setAria(\"role\", \"menubar\")\r\n        }\r\n    }, {\r\n        key: \"_render\",\r\n        value: function() {\r\n            _get(_getPrototypeOf(Menu.prototype), \"_render\", this).call(this);\r\n            this._initAdaptivity()\r\n        }\r\n    }, {\r\n        key: \"_renderHamburgerButton\",\r\n        value: function() {\r\n            this._hamburger = new _button.default((0, _renderer.default)(\"<div>\").addClass(DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS), {\r\n                icon: \"menu\",\r\n                activeStateEnabled: false,\r\n                onClick: this._toggleTreeView.bind(this)\r\n            });\r\n            return this._hamburger.$element()\r\n        }\r\n    }, {\r\n        key: \"_toggleTreeView\",\r\n        value: function(state) {\r\n            if ((0, _type.isPlainObject)(state)) {\r\n                state = !this._overlay.option(\"visible\")\r\n            }\r\n            this._overlay.option(\"visible\", state);\r\n            this._toggleHamburgerActiveState(state)\r\n        }\r\n    }, {\r\n        key: \"_toggleHamburgerActiveState\",\r\n        value: function(state) {\r\n            this._hamburger && this._hamburger.$element().toggleClass(DX_STATE_ACTIVE_CLASS, state)\r\n        }\r\n    }, {\r\n        key: \"_toggleAdaptiveMode\",\r\n        value: function(state) {\r\n            var $menuItemsContainer = this.$element().find(\".\".concat(DX_MENU_HORIZONTAL_CLASS));\r\n            var $adaptiveElements = this.$element().find(\".\".concat(DX_ADAPTIVE_MODE_CLASS));\r\n            if (state) {\r\n                this._hideVisibleSubmenu()\r\n            } else {\r\n                this._treeView && this._treeView.collapseAll();\r\n                this._overlay && this._toggleTreeView(state)\r\n            }\r\n            $menuItemsContainer.toggle(!state);\r\n            $adaptiveElements.toggle(state)\r\n        }\r\n    }, {\r\n        key: \"_removeAdaptivity\",\r\n        value: function() {\r\n            if (!this._$adaptiveContainer) {\r\n                return\r\n            }\r\n            this._toggleAdaptiveMode(false);\r\n            this._$adaptiveContainer.remove();\r\n            this._$adaptiveContainer = null;\r\n            this._treeView = null;\r\n            this._hamburger = null;\r\n            this._overlay = null\r\n        }\r\n    }, {\r\n        key: \"_treeviewItemClickHandler\",\r\n        value: function(e) {\r\n            this._actions.onItemClick(e);\r\n            if (!e.node.children.length) {\r\n                this._toggleTreeView(false)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getAdaptiveOverlayOptions\",\r\n        value: function() {\r\n            var _this2 = this;\r\n            var rtl = this.option(\"rtlEnabled\");\r\n            var position = rtl ? \"right\" : \"left\";\r\n            return {\r\n                maxHeight: function() {\r\n                    return (0, _utils.getElementMaxHeightByWindow)(_this2.$element())\r\n                },\r\n                deferRendering: false,\r\n                shading: false,\r\n                animation: false,\r\n                closeOnTargetScroll: true,\r\n                onHidden: function() {\r\n                    _this2._toggleHamburgerActiveState(false)\r\n                },\r\n                height: \"auto\",\r\n                closeOnOutsideClick: function(e) {\r\n                    return !(0, _renderer.default)(e.target).closest(\".\".concat(DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS)).length\r\n                },\r\n                position: {\r\n                    collision: \"flipfit\",\r\n                    at: \"bottom \" + position,\r\n                    my: \"top \" + position,\r\n                    of: this._hamburger.$element()\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getTreeViewOptions\",\r\n        value: function() {\r\n            var _this3 = this;\r\n            var menuOptions = {};\r\n            var optionsToTransfer = [\"rtlEnabled\", \"width\", \"accessKey\", \"activeStateEnabled\", \"animation\", \"dataSource\", \"disabled\", \"displayExpr\", \"displayExpr\", \"focusStateEnabled\", \"hint\", \"hoverStateEnabled\", \"itemsExpr\", \"items\", \"itemTemplate\", \"selectedExpr\", \"selectionMode\", \"tabIndex\", \"visible\"];\r\n            var actionsToTransfer = [\"onItemContextMenu\", \"onSelectionChanged\"];\r\n            (0, _iterator.each)(optionsToTransfer, function(_, option) {\r\n                menuOptions[option] = _this3.option(option)\r\n            });\r\n            (0, _iterator.each)(actionsToTransfer, function(_, actionName) {\r\n                menuOptions[actionName] = function(e) {\r\n                    _this3._actions[actionName](e)\r\n                }\r\n            });\r\n            return (0, _extend.extend)(menuOptions, {\r\n                dataSource: this.getDataSource(),\r\n                animationEnabled: !!this.option(\"animation\"),\r\n                onItemClick: this._treeviewItemClickHandler.bind(this),\r\n                onItemExpanded: function(e) {\r\n                    _this3._overlay.repaint();\r\n                    _this3._actions.onSubmenuShown(e)\r\n                },\r\n                onItemCollapsed: function(e) {\r\n                    _this3._overlay.repaint();\r\n                    _this3._actions.onSubmenuHidden(e)\r\n                },\r\n                selectNodesRecursive: false,\r\n                selectByClick: this.option(\"selectByClick\"),\r\n                expandEvent: \"click\"\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_initAdaptivity\",\r\n        value: function() {\r\n            if (!this._isAdaptivityEnabled()) {\r\n                return\r\n            }\r\n            this._$adaptiveContainer = (0, _renderer.default)(\"<div>\").addClass(DX_ADAPTIVE_MODE_CLASS);\r\n            var $hamburger = this._renderHamburgerButton();\r\n            this._treeView = this._createComponent((0, _renderer.default)(\"<div>\"), _tree_view.default, this._getTreeViewOptions());\r\n            this._overlay = this._createComponent((0, _renderer.default)(\"<div>\"), _overlay.default, this._getAdaptiveOverlayOptions());\r\n            this._overlay.$content().append(this._treeView.$element()).addClass(DX_ADAPTIVE_MODE_CLASS).addClass(this.option(\"cssClass\"));\r\n            this._overlay._wrapper().addClass(DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS);\r\n            this._$adaptiveContainer.append($hamburger);\r\n            this._$adaptiveContainer.append(this._overlay.$element());\r\n            this.$element().append(this._$adaptiveContainer);\r\n            this._updateItemsWidthCache();\r\n            this._dimensionChanged()\r\n        }\r\n    }, {\r\n        key: \"_getDelay\",\r\n        value: function(delayType) {\r\n            var delay = this.option(\"showFirstSubmenuMode\").delay;\r\n            if (!(0, _type.isDefined)(delay)) {\r\n                return DEFAULT_DELAY[delayType]\r\n            } else {\r\n                return (0, _type.isObject)(delay) ? delay[delayType] : delay\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_keyboardHandler\",\r\n        value: function(e) {\r\n            return _get(_getPrototypeOf(Menu.prototype), \"_keyboardHandler\", this).call(this, e, !!this._visibleSubmenu)\r\n        }\r\n    }, {\r\n        key: \"_renderContainer\",\r\n        value: function() {\r\n            var $wrapper = (0, _renderer.default)(\"<div>\");\r\n            $wrapper.appendTo(this.$element()).addClass(this._isMenuHorizontal() ? DX_MENU_HORIZONTAL_CLASS : DX_MENU_VERTICAL_CLASS);\r\n            return _get(_getPrototypeOf(Menu.prototype), \"_renderContainer\", this).call(this, $wrapper)\r\n        }\r\n    }, {\r\n        key: \"_renderSubmenuItems\",\r\n        value: function(node, $itemFrame) {\r\n            var submenu = this._createSubmenu(node, $itemFrame);\r\n            this._submenus.push(submenu);\r\n            this._renderBorderElement($itemFrame);\r\n            return submenu\r\n        }\r\n    }, {\r\n        key: \"_getKeyboardListeners\",\r\n        value: function() {\r\n            return _get(_getPrototypeOf(Menu.prototype), \"_getKeyboardListeners\", this).call(this).concat(this._visibleSubmenu)\r\n        }\r\n    }, {\r\n        key: \"_createSubmenu\",\r\n        value: function(node, $rootItem) {\r\n            var $submenuContainer = (0, _renderer.default)(\"<div>\").addClass(DX_CONTEXT_MENU_CLASS).appendTo($rootItem);\r\n            var items = this._getChildNodes(node);\r\n            var result = this._createComponent($submenuContainer, _ui2.default, (0, _extend.extend)(this._getSubmenuOptions(), {\r\n                _dataAdapter: this._dataAdapter,\r\n                _parentKey: node.internalFields.key,\r\n                items: items,\r\n                onHoverStart: this._clearTimeouts.bind(this),\r\n                position: this.getSubmenuPosition($rootItem)\r\n            }));\r\n            this._attachSubmenuHandlers($rootItem, result);\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"_getSubmenuOptions\",\r\n        value: function() {\r\n            var _this4 = this;\r\n            var $submenuTarget = (0, _renderer.default)(\"<div>\");\r\n            var isMenuHorizontal = this._isMenuHorizontal();\r\n            return {\r\n                itemTemplate: this.option(\"itemTemplate\"),\r\n                target: $submenuTarget,\r\n                orientation: this.option(\"orientation\"),\r\n                selectionMode: this.option(\"selectionMode\"),\r\n                cssClass: this.option(\"cssClass\"),\r\n                selectByClick: this.option(\"selectByClick\"),\r\n                hoverStateEnabled: this.option(\"hoverStateEnabled\"),\r\n                activeStateEnabled: this.option(\"activeStateEnabled\"),\r\n                focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n                animation: this.option(\"animation\"),\r\n                showSubmenuMode: this.option(\"showSubmenuMode\"),\r\n                displayExpr: this.option(\"displayExpr\"),\r\n                disabledExpr: this.option(\"disabledExpr\"),\r\n                selectedExpr: this.option(\"selectedExpr\"),\r\n                itemsExpr: this.option(\"itemsExpr\"),\r\n                onFocusedItemChanged: function(e) {\r\n                    if (!e.component.option(\"visible\")) {\r\n                        return\r\n                    }\r\n                    _this4.option(\"focusedElement\", e.component.option(\"focusedElement\"))\r\n                },\r\n                onSelectionChanged: this._nestedItemOnSelectionChangedHandler.bind(this),\r\n                onItemClick: this._nestedItemOnItemClickHandler.bind(this),\r\n                onItemRendered: this._nestedItemOnItemRenderedHandler.bind(this),\r\n                onLeftFirstItem: isMenuHorizontal ? null : this._moveMainMenuFocus.bind(this, PREVITEM_OPERATION),\r\n                onLeftLastItem: isMenuHorizontal ? null : this._moveMainMenuFocus.bind(this, NEXTITEM_OPERATION),\r\n                onCloseRootSubmenu: this._moveMainMenuFocus.bind(this, isMenuHorizontal ? PREVITEM_OPERATION : null),\r\n                onExpandLastSubmenu: isMenuHorizontal ? this._moveMainMenuFocus.bind(this, NEXTITEM_OPERATION) : null\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getShowFirstSubmenuMode\",\r\n        value: function() {\r\n            if (!this._isDesktopDevice()) {\r\n                return \"onClick\"\r\n            }\r\n            var optionValue = this.option(\"showFirstSubmenuMode\");\r\n            return (0, _type.isObject)(optionValue) ? optionValue.name : optionValue\r\n        }\r\n    }, {\r\n        key: \"_moveMainMenuFocus\",\r\n        value: function(direction) {\r\n            var $items = this._getAvailableItems();\r\n            var itemCount = $items.length;\r\n            var $currentItem = $items.filter(\".\".concat(DX_MENU_ITEM_EXPANDED_CLASS)).eq(0);\r\n            var itemIndex = $items.index($currentItem);\r\n            this._hideSubmenu(this._visibleSubmenu);\r\n            itemIndex += direction === PREVITEM_OPERATION ? -1 : 1;\r\n            if (itemIndex >= itemCount) {\r\n                itemIndex = 0\r\n            } else {\r\n                if (itemIndex < 0) {\r\n                    itemIndex = itemCount - 1\r\n                }\r\n            }\r\n            var $newItem = $items.eq(itemIndex);\r\n            this.option(\"focusedElement\", (0, _element.getPublicElement)($newItem))\r\n        }\r\n    }, {\r\n        key: \"_nestedItemOnSelectionChangedHandler\",\r\n        value: function(args) {\r\n            var selectedItem = args.addedItems.length && args.addedItems[0];\r\n            var submenu = _ui2.default.getInstance(args.element);\r\n            var onSelectionChanged = this._actions.onSelectionChanged;\r\n            onSelectionChanged(args);\r\n            selectedItem && this._clearSelectionInSubmenus(selectedItem[0], submenu);\r\n            this._clearRootSelection();\r\n            this._setOptionWithoutOptionChange(\"selectedItem\", selectedItem)\r\n        }\r\n    }, {\r\n        key: \"_clearSelectionInSubmenus\",\r\n        value: function(item, targetSubmenu) {\r\n            var _this5 = this;\r\n            var cleanAllSubmenus = !arguments.length;\r\n            (0, _iterator.each)(this._submenus, function(index, submenu) {\r\n                var $submenu = submenu._itemContainer();\r\n                var isOtherItem = !$submenu.is(targetSubmenu && targetSubmenu._itemContainer());\r\n                var $selectedItem = $submenu.find(\".\".concat(_this5._selectedItemClass()));\r\n                if (isOtherItem && $selectedItem.length || cleanAllSubmenus) {\r\n                    $selectedItem.removeClass(_this5._selectedItemClass());\r\n                    var selectedItemData = _this5._getItemData($selectedItem);\r\n                    if (selectedItemData) {\r\n                        selectedItemData.selected = false\r\n                    }\r\n                    submenu._clearSelectedItems()\r\n                }\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_clearRootSelection\",\r\n        value: function() {\r\n            var $prevSelectedItem = this.$element().find(\".\".concat(DX_MENU_ITEMS_CONTAINER_CLASS)).first().children().children().filter(\".\".concat(this._selectedItemClass()));\r\n            if ($prevSelectedItem.length) {\r\n                var prevSelectedItemData = this._getItemData($prevSelectedItem);\r\n                prevSelectedItemData.selected = false;\r\n                $prevSelectedItem.removeClass(this._selectedItemClass())\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_nestedItemOnItemClickHandler\",\r\n        value: function(e) {\r\n            this._actions.onItemClick(e)\r\n        }\r\n    }, {\r\n        key: \"_nestedItemOnItemRenderedHandler\",\r\n        value: function(e) {\r\n            this._actions.onItemRendered(e)\r\n        }\r\n    }, {\r\n        key: \"_attachSubmenuHandlers\",\r\n        value: function($rootItem, submenu) {\r\n            var _this6 = this;\r\n            var $submenuOverlayContent = submenu.getOverlayContent();\r\n            var submenus = $submenuOverlayContent.find(\".\".concat(DX_SUBMENU_CLASS));\r\n            var submenuMouseLeaveName = (0, _index.addNamespace)(_hover.end, this.NAME + \"_submenu\");\r\n            submenu.option({\r\n                onShowing: this._submenuOnShowingHandler.bind(this, $rootItem, submenu),\r\n                onShown: this._submenuOnShownHandler.bind(this, $rootItem, submenu),\r\n                onHiding: this._submenuOnHidingHandler.bind(this, $rootItem, submenu),\r\n                onHidden: this._submenuOnHiddenHandler.bind(this, $rootItem, submenu)\r\n            });\r\n            (0, _iterator.each)(submenus, function(index, submenu) {\r\n                _events_engine.default.off(submenu, submenuMouseLeaveName);\r\n                _events_engine.default.on(submenu, submenuMouseLeaveName, null, _this6._submenuMouseLeaveHandler.bind(_this6, $rootItem))\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_submenuOnShowingHandler\",\r\n        value: function($rootItem, submenu) {\r\n            var $border = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS));\r\n            this._actions.onSubmenuShowing({\r\n                rootItem: (0, _element.getPublicElement)($rootItem),\r\n                submenu: submenu\r\n            });\r\n            $border.show();\r\n            $rootItem.addClass(DX_MENU_ITEM_EXPANDED_CLASS)\r\n        }\r\n    }, {\r\n        key: \"_submenuOnShownHandler\",\r\n        value: function($rootItem, submenu) {\r\n            this._actions.onSubmenuShown({\r\n                rootItem: (0, _element.getPublicElement)($rootItem),\r\n                submenu: submenu\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_submenuOnHidingHandler\",\r\n        value: function($rootItem, submenu, eventArgs) {\r\n            var $border = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS));\r\n            var args = eventArgs;\r\n            args.rootItem = (0, _element.getPublicElement)($rootItem);\r\n            args.submenu = submenu;\r\n            this._actions.onSubmenuHiding(args);\r\n            eventArgs = args;\r\n            if (!eventArgs.cancel) {\r\n                if (this._visibleSubmenu === submenu) {\r\n                    this._visibleSubmenu = null\r\n                }\r\n                $border.hide();\r\n                $rootItem.removeClass(DX_MENU_ITEM_EXPANDED_CLASS)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_submenuOnHiddenHandler\",\r\n        value: function($rootItem, submenu) {\r\n            this._actions.onSubmenuHidden({\r\n                rootItem: (0, _element.getPublicElement)($rootItem),\r\n                submenu: submenu\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_submenuMouseLeaveHandler\",\r\n        value: function($rootItem, eventArgs) {\r\n            var target = (0, _renderer.default)(eventArgs.relatedTarget).parents(\".\".concat(DX_CONTEXT_MENU_CLASS))[0];\r\n            var contextMenu = this._getSubmenuByRootElement($rootItem).getOverlayContent()[0];\r\n            if (this.option(\"hideSubmenuOnMouseLeave\") && target !== contextMenu) {\r\n                this._clearTimeouts();\r\n                setTimeout(this._hideSubmenuAfterTimeout.bind(this), this._getDelay(\"hide\"))\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_hideSubmenuAfterTimeout\",\r\n        value: function() {\r\n            if (!this._visibleSubmenu) {\r\n                return\r\n            }\r\n            var isRootItemHovered = (0, _renderer.default)(this._visibleSubmenu.$element().context).hasClass(DX_STATE_HOVER_CLASS);\r\n            var isSubmenuItemHovered = this._visibleSubmenu.getOverlayContent().find(\".\".concat(DX_STATE_HOVER_CLASS)).length;\r\n            var hoveredElementFromSubMenu = this._visibleSubmenu.getOverlayContent().get(0).querySelector(\":hover\");\r\n            if (!hoveredElementFromSubMenu && !isSubmenuItemHovered && !isRootItemHovered) {\r\n                this._visibleSubmenu.hide()\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_getSubmenuByRootElement\",\r\n        value: function($rootItem) {\r\n            if (!$rootItem) {\r\n                return false\r\n            }\r\n            var $submenu = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CLASS));\r\n            return $submenu.length && _ui2.default.getInstance($submenu)\r\n        }\r\n    }, {\r\n        key: \"getSubmenuPosition\",\r\n        value: function($rootItem) {\r\n            var isHorizontalMenu = this._isMenuHorizontal();\r\n            var submenuDirection = this.option(\"submenuDirection\").toLowerCase();\r\n            var rtlEnabled = this.option(\"rtlEnabled\");\r\n            var submenuPosition = {\r\n                collision: \"flip\",\r\n                of: $rootItem\r\n            };\r\n            switch (submenuDirection) {\r\n                case \"leftortop\":\r\n                    submenuPosition.at = \"left top\";\r\n                    submenuPosition.my = isHorizontalMenu ? \"left bottom\" : \"right top\";\r\n                    break;\r\n                case \"rightorbottom\":\r\n                    submenuPosition.at = isHorizontalMenu ? \"left bottom\" : \"right top\";\r\n                    submenuPosition.my = \"left top\";\r\n                    break;\r\n                default:\r\n                    if (isHorizontalMenu) {\r\n                        submenuPosition.at = rtlEnabled ? \"right bottom\" : \"left bottom\";\r\n                        submenuPosition.my = rtlEnabled ? \"right top\" : \"left top\"\r\n                    } else {\r\n                        submenuPosition.at = rtlEnabled ? \"left top\" : \"right top\";\r\n                        submenuPosition.my = rtlEnabled ? \"right top\" : \"left top\"\r\n                    }\r\n            }\r\n            return submenuPosition\r\n        }\r\n    }, {\r\n        key: \"_renderBorderElement\",\r\n        value: function($item) {\r\n            (0, _renderer.default)(\"<div>\").appendTo($item).addClass(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS).hide()\r\n        }\r\n    }, {\r\n        key: \"_itemPointerDownHandler\",\r\n        value: function(e) {\r\n            var $target = (0, _renderer.default)(e.target);\r\n            var $closestItem = $target.closest(this._itemElements());\r\n            if ($closestItem.hasClass(\"dx-menu-item-has-submenu\")) {\r\n                this.option(\"focusedElement\", null);\r\n                return\r\n            }\r\n            _get(_getPrototypeOf(Menu.prototype), \"_itemPointerDownHandler\", this).call(this, e)\r\n        }\r\n    }, {\r\n        key: \"_hoverStartHandler\",\r\n        value: function(e) {\r\n            var mouseMoveEventName = (0, _index.addNamespace)(_pointer.default.move, this.NAME);\r\n            var $item = this._getItemElementByEventArgs(e);\r\n            var node = this._dataAdapter.getNodeByItem(this._getItemData($item));\r\n            var isSelectionActive = (0, _type.isDefined)(e.buttons) && 1 === e.buttons || !(0, _type.isDefined)(e.buttons) && 1 === e.which;\r\n            if (this._isItemDisabled($item)) {\r\n                return\r\n            }\r\n            _events_engine.default.off($item, mouseMoveEventName);\r\n            if (!this._hasChildren(node)) {\r\n                this._showSubmenuTimer = setTimeout(this._hideSubmenuAfterTimeout.bind(this), this._getDelay(\"hide\"));\r\n                return\r\n            }\r\n            if (\"onHover\" === this._getShowFirstSubmenuMode() && !isSelectionActive) {\r\n                var submenu = this._getSubmenuByElement($item);\r\n                this._clearTimeouts();\r\n                if (!submenu.isOverlayVisible()) {\r\n                    _events_engine.default.on($item, mouseMoveEventName, this._itemMouseMoveHandler.bind(this));\r\n                    this._showSubmenuTimer = this._getDelay(\"hide\")\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_hoverEndHandler\",\r\n        value: function(eventArg) {\r\n            var _this7 = this;\r\n            var $item = this._getItemElementByEventArgs(eventArg);\r\n            var relatedTarget = (0, _renderer.default)(eventArg.relatedTarget);\r\n            _get(_getPrototypeOf(Menu.prototype), \"_hoverEndHandler\", this).call(this, eventArg);\r\n            this._clearTimeouts();\r\n            if (this._isItemDisabled($item)) {\r\n                return\r\n            }\r\n            if (relatedTarget.hasClass(DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS)) {\r\n                return\r\n            }\r\n            if (this.option(\"hideSubmenuOnMouseLeave\") && !relatedTarget.hasClass(DX_MENU_ITEMS_CONTAINER_CLASS)) {\r\n                this._hideSubmenuTimer = setTimeout(function() {\r\n                    _this7._hideSubmenuAfterTimeout()\r\n                }, this._getDelay(\"hide\"))\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_hideVisibleSubmenu\",\r\n        value: function() {\r\n            if (!this._visibleSubmenu) {\r\n                return false\r\n            }\r\n            this._hideSubmenu(this._visibleSubmenu);\r\n            return true\r\n        }\r\n    }, {\r\n        key: \"_showSubmenu\",\r\n        value: function($itemElement) {\r\n            var submenu = this._getSubmenuByElement($itemElement);\r\n            if (this._visibleSubmenu !== submenu) {\r\n                this._hideVisibleSubmenu()\r\n            }\r\n            if (submenu) {\r\n                this._clearTimeouts();\r\n                submenu.show();\r\n                this.option(\"focusedElement\", submenu.option(\"focusedElement\"))\r\n            }\r\n            this._visibleSubmenu = submenu;\r\n            this._hoveredRootItem = $itemElement\r\n        }\r\n    }, {\r\n        key: \"_hideSubmenu\",\r\n        value: function(submenu) {\r\n            submenu && submenu.hide();\r\n            if (this._visibleSubmenu === submenu) {\r\n                this._visibleSubmenu = null\r\n            }\r\n            this._hoveredRootItem = null\r\n        }\r\n    }, {\r\n        key: \"_itemMouseMoveHandler\",\r\n        value: function(e) {\r\n            var _this8 = this;\r\n            if (e.pointers && e.pointers.length) {\r\n                return\r\n            }\r\n            var $item = (0, _renderer.default)(e.currentTarget);\r\n            if (!(0, _type.isDefined)(this._showSubmenuTimer)) {\r\n                return\r\n            }\r\n            this._clearTimeouts();\r\n            this._showSubmenuTimer = setTimeout(function() {\r\n                var submenu = _this8._getSubmenuByElement($item);\r\n                if (submenu && !submenu.isOverlayVisible()) {\r\n                    _this8._showSubmenu($item)\r\n                }\r\n            }, this._getDelay(\"show\"))\r\n        }\r\n    }, {\r\n        key: \"_clearTimeouts\",\r\n        value: function() {\r\n            clearTimeout(this._hideSubmenuTimer);\r\n            clearTimeout(this._showSubmenuTimer)\r\n        }\r\n    }, {\r\n        key: \"_getSubmenuByElement\",\r\n        value: function($itemElement, itemData) {\r\n            var submenu = this._getSubmenuByRootElement($itemElement);\r\n            if (submenu) {\r\n                return submenu\r\n            } else {\r\n                itemData = itemData || this._getItemData($itemElement);\r\n                var node = this._dataAdapter.getNodeByItem(itemData);\r\n                return this._hasChildren(node) && this._renderSubmenuItems(node, $itemElement)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_updateSubmenuVisibilityOnClick\",\r\n        value: function(actionArgs) {\r\n            var args = actionArgs.args.length && actionArgs.args[0];\r\n            if (!args || this._disabledGetter(args.itemData)) {\r\n                return\r\n            }\r\n            var $itemElement = (0, _renderer.default)(args.itemElement);\r\n            var currentSubmenu = this._getSubmenuByElement($itemElement, args.itemData);\r\n            this._updateSelectedItemOnClick(actionArgs);\r\n            if (this._visibleSubmenu) {\r\n                if (this._visibleSubmenu === currentSubmenu) {\r\n                    if (\"onClick\" === this.option(\"showFirstSubmenuMode\")) {\r\n                        this._hideSubmenu(this._visibleSubmenu)\r\n                    }\r\n                    return\r\n                } else {\r\n                    this._hideSubmenu(this._visibleSubmenu)\r\n                }\r\n            }\r\n            if (!currentSubmenu) {\r\n                return\r\n            }\r\n            if (!currentSubmenu.isOverlayVisible()) {\r\n                this._showSubmenu($itemElement);\r\n                return\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_optionChanged\",\r\n        value: function(args) {\r\n            if (ACTIONS.indexOf(args.name) >= 0) {\r\n                this._initActions();\r\n                return\r\n            }\r\n            switch (args.name) {\r\n                case \"orientation\":\r\n                case \"submenuDirection\":\r\n                    this._invalidate();\r\n                    break;\r\n                case \"showFirstSubmenuMode\":\r\n                case \"hideSubmenuOnMouseLeave\":\r\n                    break;\r\n                case \"showSubmenuMode\":\r\n                    this._changeSubmenusOption(args.name, args.value);\r\n                    break;\r\n                case \"adaptivityEnabled\":\r\n                    args.value ? this._initAdaptivity() : this._removeAdaptivity();\r\n                    break;\r\n                case \"width\":\r\n                    if (this._isAdaptivityEnabled()) {\r\n                        this._treeView.option(args.name, args.value);\r\n                        this._overlay.option(args.name, args.value)\r\n                    }\r\n                    _get(_getPrototypeOf(Menu.prototype), \"_optionChanged\", this).call(this, args);\r\n                    this._dimensionChanged();\r\n                    break;\r\n                case \"animation\":\r\n                    if (this._isAdaptivityEnabled()) {\r\n                        this._treeView.option(\"animationEnabled\", !!args.value)\r\n                    }\r\n                    _get(_getPrototypeOf(Menu.prototype), \"_optionChanged\", this).call(this, args);\r\n                    break;\r\n                default:\r\n                    if (this._isAdaptivityEnabled()) {\r\n                        this._treeView.option(args.name, args.value)\r\n                    }\r\n                    _get(_getPrototypeOf(Menu.prototype), \"_optionChanged\", this).call(this, args)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_changeSubmenusOption\",\r\n        value: function(name, value) {\r\n            (0, _iterator.each)(this._submenus, function(index, submenu) {\r\n                submenu.option(name, value)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"selectItem\",\r\n        value: function(itemElement) {\r\n            this._hideSubmenu(this._visibleSubmenu);\r\n            _get(_getPrototypeOf(Menu.prototype), \"selectItem\", this).call(this, itemElement)\r\n        }\r\n    }, {\r\n        key: \"unselectItem\",\r\n        value: function(itemElement) {\r\n            this._hideSubmenu(this._visibleSubmenu);\r\n            _get(_getPrototypeOf(Menu.prototype), \"selectItem\", this).call(this, itemElement)\r\n        }\r\n    }]);\r\n    return Menu\r\n}(_ui.default);\r\n(0, _component_registrator.default)(\"dxMenu\", Menu);\r\nvar _default = Menu;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/menu/ui.submenu.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _element = require(\"../../core/element\");\r\nvar _position = _interopRequireDefault(require(\"../../animation/position\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _context_menu = _interopRequireDefault(require(\"../context_menu\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\n\r\nfunction _get(target, property, receiver) {\r\n    if (\"undefined\" !== typeof Reflect && Reflect.get) {\r\n        _get = Reflect.get\r\n    } else {\r\n        _get = function(target, property, receiver) {\r\n            var base = _superPropBase(target, property);\r\n            if (!base) {\r\n                return\r\n            }\r\n            var desc = Object.getOwnPropertyDescriptor(base, property);\r\n            if (desc.get) {\r\n                return desc.get.call(receiver)\r\n            }\r\n            return desc.value\r\n        }\r\n    }\r\n    return _get(target, property, receiver || target)\r\n}\r\n\r\nfunction _superPropBase(object, property) {\r\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\r\n        object = _getPrototypeOf(object);\r\n        if (null === object) {\r\n            break\r\n        }\r\n    }\r\n    return object\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n    if (\"function\" !== typeof superClass && null !== superClass) {\r\n        throw new TypeError(\"Super expression must either be null or a function\")\r\n    }\r\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n        constructor: {\r\n            value: subClass,\r\n            writable: true,\r\n            configurable: true\r\n        }\r\n    });\r\n    if (superClass) {\r\n        _setPrototypeOf(subClass, superClass)\r\n    }\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\n\r\nfunction _createSuper(Derived) {\r\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\r\n    return function() {\r\n        var result, Super = _getPrototypeOf(Derived);\r\n        if (hasNativeReflectConstruct) {\r\n            var NewTarget = _getPrototypeOf(this).constructor;\r\n            result = Reflect.construct(Super, arguments, NewTarget)\r\n        } else {\r\n            result = Super.apply(this, arguments)\r\n        }\r\n        return _possibleConstructorReturn(this, result)\r\n    }\r\n}\r\n\r\nfunction _possibleConstructorReturn(self, call) {\r\n    if (call && (\"object\" === _typeof(call) || \"function\" === typeof call)) {\r\n        return call\r\n    }\r\n    return _assertThisInitialized(self)\r\n}\r\n\r\nfunction _assertThisInitialized(self) {\r\n    if (void 0 === self) {\r\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")\r\n    }\r\n    return self\r\n}\r\n\r\nfunction _isNativeReflectConstruct() {\r\n    if (\"undefined\" === typeof Reflect || !Reflect.construct) {\r\n        return false\r\n    }\r\n    if (Reflect.construct.sham) {\r\n        return false\r\n    }\r\n    if (\"function\" === typeof Proxy) {\r\n        return true\r\n    }\r\n    try {\r\n        Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\r\n        return true\r\n    } catch (e) {\r\n        return false\r\n    }\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\r\n        return o.__proto__ || Object.getPrototypeOf(o)\r\n    };\r\n    return _getPrototypeOf(o)\r\n}\r\nvar DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS = \"dx-context-menu-content-delimiter\";\r\nvar DX_SUBMENU_CLASS = \"dx-submenu\";\r\nvar Submenu = function(_ContextMenu) {\r\n    _inherits(Submenu, _ContextMenu);\r\n    var _super = _createSuper(Submenu);\r\n\r\n    function Submenu() {\r\n        _classCallCheck(this, Submenu);\r\n        return _super.apply(this, arguments)\r\n    }\r\n    _createClass(Submenu, [{\r\n        key: \"_getDefaultOptions\",\r\n        value: function() {\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(Submenu.prototype), \"_getDefaultOptions\", this).call(this), {\r\n                orientation: \"horizontal\",\r\n                tabIndex: null,\r\n                onHoverStart: _common.noop\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_initDataAdapter\",\r\n        value: function() {\r\n            this._dataAdapter = this.option(\"_dataAdapter\");\r\n            if (!this._dataAdapter) {\r\n                _get(_getPrototypeOf(Submenu.prototype), \"_initDataAdapter\", this).call(this)\r\n            }\r\n        }\r\n    }, {\r\n        key: \"_renderContentImpl\",\r\n        value: function() {\r\n            this._renderContextMenuOverlay();\r\n            _get(_getPrototypeOf(Submenu.prototype), \"_renderContentImpl\", this).call(this);\r\n            var node = this._dataAdapter.getNodeByKey(this.option(\"_parentKey\"));\r\n            node && this._renderItems(this._getChildNodes(node));\r\n            this._renderDelimiter()\r\n        }\r\n    }, {\r\n        key: \"_renderDelimiter\",\r\n        value: function() {\r\n            this.$contentDelimiter = (0, _renderer.default)(\"<div>\").appendTo(this._itemContainer()).addClass(DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS)\r\n        }\r\n    }, {\r\n        key: \"_getOverlayOptions\",\r\n        value: function() {\r\n            return (0, _extend.extend)(_get(_getPrototypeOf(Submenu.prototype), \"_getOverlayOptions\", this).call(this), {\r\n                onPositioned: this._overlayPositionedActionHandler.bind(this)\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_overlayPositionedActionHandler\",\r\n        value: function(arg) {\r\n            this._showDelimiter(arg)\r\n        }\r\n    }, {\r\n        key: \"_hoverEndHandler\",\r\n        value: function(e) {\r\n            _get(_getPrototypeOf(Submenu.prototype), \"_hoverEndHandler\", this).call(this, e);\r\n            this._toggleFocusClass(false, e.currentTarget)\r\n        }\r\n    }, {\r\n        key: \"_isMenuHorizontal\",\r\n        value: function() {\r\n            return \"horizontal\" === this.option(\"orientation\")\r\n        }\r\n    }, {\r\n        key: \"_hoverStartHandler\",\r\n        value: function(e) {\r\n            var hoverStartAction = this.option(\"onHoverStart\");\r\n            hoverStartAction(e);\r\n            _get(_getPrototypeOf(Submenu.prototype), \"_hoverStartHandler\", this).call(this, e);\r\n            this._toggleFocusClass(true, e.currentTarget)\r\n        }\r\n    }, {\r\n        key: \"_drawSubmenu\",\r\n        value: function($rootItem) {\r\n            this._actions.onShowing({\r\n                rootItem: (0, _element.getPublicElement)($rootItem),\r\n                submenu: this\r\n            });\r\n            _get(_getPrototypeOf(Submenu.prototype), \"_drawSubmenu\", this).call(this, $rootItem);\r\n            this._actions.onShown({\r\n                rootItem: (0, _element.getPublicElement)($rootItem),\r\n                submenu: this\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_hideSubmenu\",\r\n        value: function($rootItem) {\r\n            this._actions.onHiding({\r\n                cancel: true,\r\n                rootItem: (0, _element.getPublicElement)($rootItem),\r\n                submenu: this\r\n            });\r\n            _get(_getPrototypeOf(Submenu.prototype), \"_hideSubmenu\", this).call(this, $rootItem);\r\n            this._actions.onHidden({\r\n                rootItem: (0, _element.getPublicElement)($rootItem),\r\n                submenu: this\r\n            })\r\n        }\r\n    }, {\r\n        key: \"_showDelimiter\",\r\n        value: function(arg) {\r\n            if (!this.$contentDelimiter) {\r\n                return\r\n            }\r\n            var $submenu = this._itemContainer().children(\".\".concat(DX_SUBMENU_CLASS)).eq(0);\r\n            var $rootItem = this.option(\"position\").of;\r\n            var position = {\r\n                of: $submenu\r\n            };\r\n            var containerOffset = arg.position;\r\n            var vLocation = containerOffset.v.location;\r\n            var hLocation = containerOffset.h.location;\r\n            var rootOffset = $rootItem.offset();\r\n            var offsetLeft = Math.round(rootOffset.left);\r\n            var offsetTop = Math.round(rootOffset.top);\r\n            var rootWidth = $rootItem.width();\r\n            var rootHeight = $rootItem.height();\r\n            var submenuWidth = $submenu.width();\r\n            var submenuHeight = $submenu.height();\r\n            this.$contentDelimiter.css(\"display\", \"block\");\r\n            this.$contentDelimiter.width(this._isMenuHorizontal() ? rootWidth < submenuWidth ? rootWidth - 2 : submenuWidth : 2);\r\n            this.$contentDelimiter.height(this._isMenuHorizontal() ? 2 : rootHeight < submenuHeight ? rootHeight - 2 : submenuHeight);\r\n            if (this._isMenuHorizontal()) {\r\n                if (vLocation > offsetTop) {\r\n                    if (Math.round(hLocation) === offsetLeft) {\r\n                        position.offset = \"1 -1\";\r\n                        position.at = position.my = \"left top\"\r\n                    } else {\r\n                        position.offset = \"-1 -1\";\r\n                        position.at = position.my = \"right top\"\r\n                    }\r\n                } else {\r\n                    this.$contentDelimiter.height(5);\r\n                    if (Math.round(hLocation) === offsetLeft) {\r\n                        position.offset = \"1 4\";\r\n                        position.at = position.my = \"left bottom\"\r\n                    } else {\r\n                        position.offset = \"-1 2\";\r\n                        position.at = position.my = \"right bottom\"\r\n                    }\r\n                }\r\n            } else {\r\n                if (hLocation > offsetLeft) {\r\n                    if (Math.round(vLocation) === offsetTop) {\r\n                        position.offset = \"-1 1\";\r\n                        position.at = position.my = \"left top\"\r\n                    } else {\r\n                        position.offset = \"-1 -1\";\r\n                        position.at = position.my = \"left bottom\"\r\n                    }\r\n                } else {\r\n                    if (Math.round(vLocation) === offsetTop) {\r\n                        position.offset = \"1 1\";\r\n                        position.at = position.my = \"right top\"\r\n                    } else {\r\n                        position.offset = \"1 -1\";\r\n                        position.at = position.my = \"right bottom\"\r\n                    }\r\n                }\r\n            }\r\n            _position.default.setup(this.$contentDelimiter, position)\r\n        }\r\n    }, {\r\n        key: \"_getContextMenuPosition\",\r\n        value: function() {\r\n            return this.option(\"position\")\r\n        }\r\n    }, {\r\n        key: \"isOverlayVisible\",\r\n        value: function() {\r\n            return this._overlay.option(\"visible\")\r\n        }\r\n    }, {\r\n        key: \"getOverlayContent\",\r\n        value: function() {\r\n            return this._overlay.$content()\r\n        }\r\n    }]);\r\n    return Submenu\r\n}(_context_menu.default);\r\nvar _default = Submenu;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.header_filter.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.header_filter\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"headerFilter\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.header_filter.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _filtering = _interopRequireDefault(require(\"../shared/filtering\"));\r\nvar _uiGrid_core2 = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\nvar _uiGrid_core3 = require(\"./ui.grid_core.header_filter_core\");\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _click = require(\"../../events/click\");\r\nvar _data = require(\"../../core/utils/data\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _position = require(\"../../core/utils/position\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _utils = require(\"../../data/data_source/utils\");\r\nvar _date = _interopRequireDefault(require(\"../../localization/date\"));\r\nvar _variable_wrapper = _interopRequireDefault(require(\"../../core/utils/variable_wrapper\"));\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _accessibility = require(\"../shared/accessibility\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar DATE_INTERVAL_FORMATS = {\r\n    month: function(value) {\r\n        return _date.default.getMonthNames()[value - 1]\r\n    },\r\n    quarter: function(value) {\r\n        return _date.default.format(new Date(2e3, 3 * value - 1), \"quarter\")\r\n    }\r\n};\r\nvar HeaderFilterController = _uiGrid_core.default.ViewController.inherit(function() {\r\n    var getFormatOptions = function(value, column, currentLevel) {\r\n        var groupInterval = _filtering.default.getGroupInterval(column);\r\n        var result = _uiGrid_core2.default.getFormatOptionsByColumn(column, \"headerFilter\");\r\n        if (groupInterval) {\r\n            result.groupInterval = groupInterval[currentLevel];\r\n            if (_uiGrid_core2.default.isDateType(column.dataType)) {\r\n                result.format = DATE_INTERVAL_FORMATS[groupInterval[currentLevel]]\r\n            } else {\r\n                if (\"number\" === column.dataType) {\r\n                    result.getDisplayFormat = function() {\r\n                        var formatOptions = {\r\n                            format: column.format,\r\n                            target: \"headerFilter\"\r\n                        };\r\n                        var firstValueText = _uiGrid_core2.default.formatValue(value, formatOptions);\r\n                        var secondValue = value + groupInterval[currentLevel];\r\n                        var secondValueText = _uiGrid_core2.default.formatValue(secondValue, formatOptions);\r\n                        return firstValueText && secondValueText ? firstValueText + \" - \" + secondValueText : \"\"\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return result\r\n    };\r\n    return {\r\n        init: function() {\r\n            this._columnsController = this.getController(\"columns\");\r\n            this._dataController = this.getController(\"data\");\r\n            this._headerFilterView = this.getView(\"headerFilterView\")\r\n        },\r\n        _updateSelectedState: function(items, column) {\r\n            var i = items.length;\r\n            var isExclude = \"exclude\" === column.filterType;\r\n            while (i--) {\r\n                var item = items[i];\r\n                if (\"items\" in items[i]) {\r\n                    this._updateSelectedState(items[i].items, column)\r\n                }(0, _uiGrid_core3.updateHeaderFilterItemSelectionState)(item, _uiGrid_core2.default.getIndexByKey(items[i].value, column.filterValues, null) > -1, isExclude)\r\n            }\r\n        },\r\n        _normalizeGroupItem: function(item, currentLevel, options) {\r\n            var value;\r\n            var displayValue;\r\n            var path = options.path;\r\n            var valueSelector = options.valueSelector;\r\n            var displaySelector = options.displaySelector;\r\n            var column = options.column;\r\n            if (valueSelector && displaySelector) {\r\n                value = valueSelector(item);\r\n                displayValue = displaySelector(item)\r\n            } else {\r\n                value = item.key;\r\n                displayValue = value\r\n            }\r\n            if (!(0, _type.isObject)(item)) {\r\n                item = {}\r\n            } else {\r\n                item = (0, _extend.extend)({}, item)\r\n            }\r\n            path.push(value);\r\n            if (1 === path.length) {\r\n                item.value = path[0]\r\n            } else {\r\n                item.value = path.join(\"/\")\r\n            }\r\n            item.text = this.getHeaderItemText(displayValue, column, currentLevel, options.headerFilterOptions);\r\n            return item\r\n        },\r\n        getHeaderItemText: function(displayValue, column, currentLevel, headerFilterOptions) {\r\n            var text = _uiGrid_core2.default.formatValue(displayValue, getFormatOptions(displayValue, column, currentLevel));\r\n            if (!text) {\r\n                text = headerFilterOptions.texts.emptyValue\r\n            }\r\n            return text\r\n        },\r\n        _processGroupItems: function(groupItems, currentLevel, path, options) {\r\n            var that = this;\r\n            var displaySelector;\r\n            var valueSelector;\r\n            var column = options.column;\r\n            var lookup = column.lookup;\r\n            var level = options.level;\r\n            path = path || [];\r\n            currentLevel = currentLevel || 0;\r\n            if (lookup) {\r\n                displaySelector = (0, _data.compileGetter)(lookup.displayExpr);\r\n                valueSelector = (0, _data.compileGetter)(lookup.valueExpr)\r\n            }\r\n            for (var i = 0; i < groupItems.length; i++) {\r\n                groupItems[i] = that._normalizeGroupItem(groupItems[i], currentLevel, {\r\n                    column: options.column,\r\n                    headerFilterOptions: options.headerFilterOptions,\r\n                    displaySelector: displaySelector,\r\n                    valueSelector: valueSelector,\r\n                    path: path\r\n                });\r\n                if (\"items\" in groupItems[i]) {\r\n                    if (currentLevel === level || !(0, _type.isDefined)(groupItems[i].value)) {\r\n                        delete groupItems[i].items\r\n                    } else {\r\n                        that._processGroupItems(groupItems[i].items, currentLevel + 1, path, options)\r\n                    }\r\n                }\r\n                path.pop()\r\n            }\r\n        },\r\n        getDataSource: function(column) {\r\n            var that = this;\r\n            var dataSource = that._dataController.dataSource();\r\n            var group = _uiGrid_core2.default.getHeaderFilterGroupParameters(column, dataSource && dataSource.remoteOperations().grouping);\r\n            var headerFilterDataSource = column.headerFilter && column.headerFilter.dataSource;\r\n            var headerFilterOptions = that.option(\"headerFilter\");\r\n            var isLookup = false;\r\n            var options = {\r\n                component: that.component\r\n            };\r\n            if (!dataSource) {\r\n                return\r\n            }\r\n            if ((0, _type.isDefined)(headerFilterDataSource) && !(0, _type.isFunction)(headerFilterDataSource)) {\r\n                options.dataSource = (0, _utils.normalizeDataSourceOptions)(headerFilterDataSource)\r\n            } else {\r\n                if (column.lookup) {\r\n                    isLookup = true;\r\n                    var lookupDataSourceOptions;\r\n                    if (column.lookup.items) {\r\n                        lookupDataSourceOptions = column.lookup.items\r\n                    } else {\r\n                        lookupDataSourceOptions = column.lookup.dataSource;\r\n                        if ((0, _type.isFunction)(lookupDataSourceOptions) && !_variable_wrapper.default.isWrapped(lookupDataSourceOptions)) {\r\n                            lookupDataSourceOptions = lookupDataSourceOptions({})\r\n                        }\r\n                    }\r\n                    options.dataSource = (0, _utils.normalizeDataSourceOptions)(lookupDataSourceOptions)\r\n                } else {\r\n                    var cutoffLevel = Array.isArray(group) ? group.length - 1 : 0;\r\n                    that._currentColumn = column;\r\n                    var filter = that._dataController.getCombinedFilter();\r\n                    that._currentColumn = null;\r\n                    options.dataSource = {\r\n                        filter: filter,\r\n                        group: group,\r\n                        useDefaultSearch: true,\r\n                        load: function(options) {\r\n                            var d = new _deferred.Deferred;\r\n                            options.dataField = column.dataField || column.name;\r\n                            dataSource.load(options).done(function(data) {\r\n                                that._processGroupItems(data, null, null, {\r\n                                    level: cutoffLevel,\r\n                                    column: column,\r\n                                    headerFilterOptions: headerFilterOptions\r\n                                });\r\n                                d.resolve(data)\r\n                            }).fail(d.reject);\r\n                            return d\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if ((0, _type.isFunction)(headerFilterDataSource)) {\r\n                headerFilterDataSource.call(column, options)\r\n            }\r\n            var origPostProcess = options.dataSource.postProcess;\r\n            options.dataSource.postProcess = function(data) {\r\n                var items = data;\r\n                if (isLookup) {\r\n                    if (0 === this.pageIndex() && !this.searchValue()) {\r\n                        items = items.slice(0);\r\n                        items.unshift(null)\r\n                    }\r\n                    that._processGroupItems(items, null, null, {\r\n                        level: 0,\r\n                        column: column,\r\n                        headerFilterOptions: headerFilterOptions\r\n                    })\r\n                }\r\n                items = origPostProcess && origPostProcess.call(this, items) || items;\r\n                that._updateSelectedState(items, column);\r\n                return items\r\n            };\r\n            return options.dataSource\r\n        },\r\n        getCurrentColumn: function() {\r\n            return this._currentColumn\r\n        },\r\n        showHeaderFilterMenu: function(columnIndex, isGroupPanel) {\r\n            var columnsController = this._columnsController;\r\n            var column = (0, _extend.extend)(true, {}, this._columnsController.getColumns()[columnIndex]);\r\n            if (column) {\r\n                var visibleIndex = columnsController.getVisibleIndex(columnIndex);\r\n                var view = isGroupPanel ? this.getView(\"headerPanel\") : this.getView(\"columnHeadersView\");\r\n                var $columnElement = $columnElement || view.getColumnElements().eq(isGroupPanel ? column.groupIndex : visibleIndex);\r\n                this.showHeaderFilterMenuBase({\r\n                    columnElement: $columnElement,\r\n                    column: column,\r\n                    applyFilter: true,\r\n                    apply: function() {\r\n                        columnsController.columnOption(columnIndex, {\r\n                            filterValues: this.filterValues,\r\n                            filterType: this.filterType\r\n                        })\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        showHeaderFilterMenuBase: function(options) {\r\n            var _this = this;\r\n            var that = this;\r\n            var column = options.column;\r\n            if (column) {\r\n                var groupInterval = _filtering.default.getGroupInterval(column);\r\n                var dataSource = that._dataController.dataSource();\r\n                var remoteFiltering = dataSource && dataSource.remoteOperations().filtering;\r\n                (0, _extend.extend)(options, column, {\r\n                    type: groupInterval && groupInterval.length > 1 ? \"tree\" : \"list\",\r\n                    remoteFiltering: remoteFiltering,\r\n                    onShowing: function(e) {\r\n                        var dxResizableInstance = e.component.overlayContent().dxResizable(\"instance\");\r\n                        dxResizableInstance && dxResizableInstance.option(\"onResizeEnd\", function(e) {\r\n                            var columnsController = that.getController(\"columns\");\r\n                            var headerFilterByColumn = columnsController.columnOption(options.dataField, \"headerFilter\");\r\n                            headerFilterByColumn = headerFilterByColumn || {};\r\n                            headerFilterByColumn.width = e.width;\r\n                            headerFilterByColumn.height = e.height;\r\n                            columnsController.columnOption(options.dataField, \"headerFilter\", headerFilterByColumn, true)\r\n                        })\r\n                    },\r\n                    onHidden: function() {\r\n                        return (0, _accessibility.restoreFocus)(_this)\r\n                    }\r\n                });\r\n                options.dataSource = that.getDataSource(options);\r\n                if (options.isFilterBuilder) {\r\n                    options.dataSource.filter = null;\r\n                    options.alignment = \"right\"\r\n                }\r\n                that._headerFilterView.showHeaderFilterMenu(options.columnElement, options)\r\n            }\r\n        },\r\n        hideHeaderFilterMenu: function() {\r\n            this._headerFilterView.hideHeaderFilterMenu()\r\n        }\r\n    }\r\n}());\r\nvar ColumnHeadersViewHeaderFilterExtender = (0, _extend.extend)({}, _uiGrid_core3.headerFilterMixin, {\r\n    _renderCellContent: function($cell, options) {\r\n        var that = this;\r\n        var $headerFilterIndicator;\r\n        var column = options.column;\r\n        if (!column.command && (0, _uiGrid_core3.allowHeaderFiltering)(column) && that.option(\"headerFilter.visible\") && \"header\" === options.rowType) {\r\n            $headerFilterIndicator = that._applyColumnState({\r\n                name: \"headerFilter\",\r\n                rootElement: $cell,\r\n                column: column,\r\n                showColumnLines: that.option(\"showColumnLines\")\r\n            });\r\n            $headerFilterIndicator && that._subscribeToIndicatorEvent($headerFilterIndicator, column, \"headerFilter\")\r\n        }\r\n        that.callBase($cell, options)\r\n    },\r\n    _subscribeToIndicatorEvent: function($indicator, column, indicatorName) {\r\n        var that = this;\r\n        if (\"headerFilter\" === indicatorName) {\r\n            _events_engine.default.on($indicator, _click.name, that.createAction(function(e) {\r\n                e.event.stopPropagation();\r\n                that.getController(\"headerFilter\").showHeaderFilterMenu(column.index, false)\r\n            }))\r\n        }\r\n    },\r\n    _updateIndicator: function($cell, column, indicatorName) {\r\n        var $indicator = this.callBase($cell, column, indicatorName);\r\n        $indicator && this._subscribeToIndicatorEvent($indicator, column, indicatorName)\r\n    },\r\n    _updateHeaderFilterIndicators: function() {\r\n        if (this.option(\"headerFilter.visible\")) {\r\n            this._updateIndicators(\"headerFilter\")\r\n        }\r\n    },\r\n    _needUpdateFilterIndicators: function() {\r\n        return true\r\n    },\r\n    _columnOptionChanged: function(e) {\r\n        var optionNames = e.optionNames;\r\n        if (_uiGrid_core2.default.checkChanges(optionNames, [\"filterValues\", \"filterType\"])) {\r\n            if (this._needUpdateFilterIndicators()) {\r\n                this._updateHeaderFilterIndicators()\r\n            }\r\n            return\r\n        }\r\n        this.callBase(e)\r\n    }\r\n});\r\nvar HeaderPanelHeaderFilterExtender = (0, _extend.extend)({}, _uiGrid_core3.headerFilterMixin, {\r\n    _createGroupPanelItem: function($rootElement, groupColumn) {\r\n        var that = this;\r\n        var $item = that.callBase.apply(that, arguments);\r\n        var $headerFilterIndicator;\r\n        if (!groupColumn.command && (0, _uiGrid_core3.allowHeaderFiltering)(groupColumn) && that.option(\"headerFilter.visible\")) {\r\n            $headerFilterIndicator = that._applyColumnState({\r\n                name: \"headerFilter\",\r\n                rootElement: $item,\r\n                column: {\r\n                    alignment: (0, _position.getDefaultAlignment)(that.option(\"rtlEnabled\")),\r\n                    filterValues: groupColumn.filterValues,\r\n                    allowHeaderFiltering: true\r\n                },\r\n                showColumnLines: true\r\n            });\r\n            $headerFilterIndicator && _events_engine.default.on($headerFilterIndicator, _click.name, that.createAction(function(e) {\r\n                var event = e.event;\r\n                event.stopPropagation();\r\n                that.getController(\"headerFilter\").showHeaderFilterMenu(groupColumn.index, true)\r\n            }))\r\n        }\r\n        return $item\r\n    }\r\n});\r\n\r\nfunction invertFilterExpression(filter) {\r\n    return [\"!\", filter]\r\n}\r\nvar DataControllerFilterRowExtender = {\r\n    skipCalculateColumnFilters: function() {\r\n        return false\r\n    },\r\n    _calculateAdditionalFilter: function() {\r\n        if (this.skipCalculateColumnFilters()) {\r\n            return this.callBase()\r\n        }\r\n        var that = this;\r\n        var filters = [that.callBase()];\r\n        var columns = that._columnsController.getVisibleColumns(null, true);\r\n        var headerFilterController = that.getController(\"headerFilter\");\r\n        var currentColumn = headerFilterController.getCurrentColumn();\r\n        (0, _iterator.each)(columns, function(_, column) {\r\n            var filter;\r\n            if (currentColumn && currentColumn.index === column.index) {\r\n                return\r\n            }\r\n            if ((0, _uiGrid_core3.allowHeaderFiltering)(column) && column.calculateFilterExpression && Array.isArray(column.filterValues) && column.filterValues.length) {\r\n                var filterValues = [];\r\n                (0, _iterator.each)(column.filterValues, function(_, filterValue) {\r\n                    if (Array.isArray(filterValue)) {\r\n                        filter = filterValue\r\n                    } else {\r\n                        if (column.deserializeValue && !_uiGrid_core2.default.isDateType(column.dataType) && \"number\" !== column.dataType) {\r\n                            filterValue = column.deserializeValue(filterValue)\r\n                        }\r\n                        filter = column.createFilterExpression(filterValue, \"=\", \"headerFilter\")\r\n                    }\r\n                    if (filter) {\r\n                        filter.columnIndex = column.index\r\n                    }\r\n                    filterValues.push(filter)\r\n                });\r\n                filterValues = _uiGrid_core2.default.combineFilters(filterValues, \"or\");\r\n                filters.push(\"exclude\" === column.filterType ? [\"!\", filterValues] : filterValues)\r\n            }\r\n        });\r\n        return _uiGrid_core2.default.combineFilters(filters)\r\n    }\r\n};\r\nvar _default = {\r\n    invertFilterExpression: invertFilterExpression,\r\n    defaultOptions: function() {\r\n        return {\r\n            headerFilter: {\r\n                visible: false,\r\n                width: 252,\r\n                height: 325,\r\n                allowSearch: false,\r\n                searchTimeout: 500,\r\n                texts: {\r\n                    emptyValue: _message.default.format(\"dxDataGrid-headerFilterEmptyValue\"),\r\n                    ok: _message.default.format(\"dxDataGrid-headerFilterOK\"),\r\n                    cancel: _message.default.format(\"dxDataGrid-headerFilterCancel\")\r\n                }\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        headerFilter: HeaderFilterController\r\n    },\r\n    views: {\r\n        headerFilterView: _uiGrid_core3.HeaderFilterView\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: DataControllerFilterRowExtender\r\n        },\r\n        views: {\r\n            columnHeadersView: ColumnHeadersViewHeaderFilterExtender,\r\n            headerPanel: HeaderPanelHeaderFilterExtender\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.header_filter_core.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.updateHeaderFilterItemSelectionState = updateHeaderFilterItemSelectionState;\r\nexports.headerFilterMixin = exports.allowHeaderFiltering = exports.HeaderFilterView = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _uiGrid_core2 = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _popup = _interopRequireDefault(require(\"../popup\"));\r\nvar _tree_view = _interopRequireDefault(require(\"../tree_view\"));\r\nvar _list = _interopRequireDefault(require(\"../list\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar HEADER_FILTER_CLASS = \"dx-header-filter\";\r\nvar HEADER_FILTER_MENU_CLASS = \"dx-header-filter-menu\";\r\nvar DEFAULT_SEARCH_EXPRESSION = \"text\";\r\n\r\nfunction resetChildrenItemSelection(items) {\r\n    items = items || [];\r\n    for (var i = 0; i < items.length; i++) {\r\n        items[i].selected = false;\r\n        resetChildrenItemSelection(items[i].items)\r\n    }\r\n}\r\n\r\nfunction updateSelectAllState(e, filterValues) {\r\n    if (e.component.option(\"searchValue\")) {\r\n        return\r\n    }\r\n    var selectAllCheckBox = (0, _renderer.default)(e.element).find(\".dx-list-select-all-checkbox\").data(\"dxCheckBox\");\r\n    if (selectAllCheckBox && filterValues && filterValues.length) {\r\n        selectAllCheckBox.option(\"value\", void 0)\r\n    }\r\n}\r\n\r\nfunction isSearchEnabled(that, options) {\r\n    var headerFilter = options.headerFilter;\r\n    if (headerFilter && (0, _type.isDefined)(headerFilter.allowSearch)) {\r\n        return headerFilter.allowSearch\r\n    }\r\n    return that.option(\"headerFilter.allowSearch\")\r\n}\r\n\r\nfunction updateHeaderFilterItemSelectionState(item, filterValuesMatch, isExcludeFilter) {\r\n    if (filterValuesMatch ^ isExcludeFilter) {\r\n        item.selected = true;\r\n        if (isExcludeFilter && item.items) {\r\n            for (var j = 0; j < item.items.length; j++) {\r\n                if (!item.items[j].selected) {\r\n                    item.selected = void 0;\r\n                    break\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        if (isExcludeFilter || item.selected) {\r\n            item.selected = false;\r\n            resetChildrenItemSelection(item.items)\r\n        }\r\n    }\r\n}\r\nvar HeaderFilterView = _uiGrid_core.default.View.inherit({\r\n    getPopupContainer: function() {\r\n        return this._popupContainer\r\n    },\r\n    getListContainer: function() {\r\n        return this._listContainer\r\n    },\r\n    applyHeaderFilter: function(options) {\r\n        var that = this;\r\n        var list = that.getListContainer();\r\n        var searchValue = list.option(\"searchValue\");\r\n        var isSelectAll = !searchValue && !options.isFilterBuilder && list.$element().find(\".dx-checkbox\").eq(0).hasClass(\"dx-checkbox-checked\");\r\n        var filterValues = [];\r\n        var fillSelectedItemKeys = function fillSelectedItemKeys(filterValues, items, isExclude) {\r\n            (0, _iterator.each)(items, function(_, item) {\r\n                if (void 0 !== item.selected && !!item.selected ^ isExclude) {\r\n                    var node = list._getNode(item);\r\n                    var hasChildren = list._hasChildren(node);\r\n                    var hasChildrenWithSelection = hasChildren && item.items && item.items.some(function(item) {\r\n                        return item.selected\r\n                    });\r\n                    if (!searchValue || !hasChildrenWithSelection) {\r\n                        filterValues.push(item.value);\r\n                        return\r\n                    }\r\n                }\r\n                if (item.items && item.items.length) {\r\n                    fillSelectedItemKeys(filterValues, item.items, isExclude)\r\n                }\r\n            })\r\n        };\r\n        if (!isSelectAll) {\r\n            if (\"tree\" === options.type) {\r\n                if (options.filterType) {\r\n                    options.filterType = \"include\"\r\n                }\r\n                fillSelectedItemKeys(filterValues, list.option(\"items\"), false);\r\n                options.filterValues = filterValues\r\n            }\r\n        } else {\r\n            if (\"tree\" === options.type) {\r\n                options.filterType = \"exclude\"\r\n            }\r\n            if (Array.isArray(options.filterValues)) {\r\n                options.filterValues = []\r\n            }\r\n        }\r\n        if (options.filterValues && !options.filterValues.length) {\r\n            options.filterValues = null\r\n        }\r\n        options.apply();\r\n        that.hideHeaderFilterMenu()\r\n    },\r\n    showHeaderFilterMenu: function($columnElement, options) {\r\n        var that = this;\r\n        if (options) {\r\n            that._initializePopupContainer(options);\r\n            var popupContainer = that.getPopupContainer();\r\n            that.hideHeaderFilterMenu();\r\n            that.updatePopup($columnElement, options);\r\n            popupContainer.show()\r\n        }\r\n    },\r\n    hideHeaderFilterMenu: function() {\r\n        var headerFilterMenu = this.getPopupContainer();\r\n        headerFilterMenu && headerFilterMenu.hide()\r\n    },\r\n    updatePopup: function($element, options) {\r\n        var that = this;\r\n        var alignment = \"right\" === options.alignment ? \"left\" : \"right\";\r\n        if (that._popupContainer) {\r\n            that._cleanPopupContent();\r\n            that._popupContainer.option(\"position\", {\r\n                my: alignment + \" top\",\r\n                at: alignment + \" bottom\",\r\n                of: $element,\r\n                collision: \"flip fit\"\r\n            })\r\n        }\r\n    },\r\n    _getSearchExpr: function(options) {\r\n        var lookup = options.lookup;\r\n        var useDefaultSearchExpr = options.useDefaultSearchExpr;\r\n        var headerFilterDataSource = options.headerFilter && options.headerFilter.dataSource;\r\n        if (useDefaultSearchExpr || (0, _type.isDefined)(headerFilterDataSource) && !(0, _type.isFunction)(headerFilterDataSource)) {\r\n            return DEFAULT_SEARCH_EXPRESSION\r\n        }\r\n        if (lookup) {\r\n            return lookup.displayExpr || \"this\"\r\n        }\r\n        if (options.dataSource) {\r\n            var group = options.dataSource.group;\r\n            if (Array.isArray(group) && group.length > 0) {\r\n                return group[0].selector\r\n            } else {\r\n                if ((0, _type.isFunction)(group) && !options.remoteFiltering) {\r\n                    return group\r\n                }\r\n            }\r\n        }\r\n        return options.dataField || options.selector\r\n    },\r\n    _cleanPopupContent: function() {\r\n        this._popupContainer && this._popupContainer.$content().empty()\r\n    },\r\n    _initializePopupContainer: function(options) {\r\n        var that = this;\r\n        var $element = that.element();\r\n        var headerFilterOptions = that.option(\"headerFilter\");\r\n        var width = options.headerFilter && options.headerFilter.width || headerFilterOptions && headerFilterOptions.width;\r\n        var height = options.headerFilter && options.headerFilter.height || headerFilterOptions && headerFilterOptions.height;\r\n        var dxPopupOptions = {\r\n            width: width,\r\n            height: height,\r\n            visible: false,\r\n            shading: false,\r\n            showTitle: false,\r\n            showCloseButton: false,\r\n            closeOnTargetScroll: false,\r\n            dragEnabled: false,\r\n            closeOnOutsideClick: true,\r\n            focusStateEnabled: false,\r\n            toolbarItems: [{\r\n                toolbar: \"bottom\",\r\n                location: \"after\",\r\n                widget: \"dxButton\",\r\n                options: {\r\n                    text: headerFilterOptions.texts.ok,\r\n                    onClick: function() {\r\n                        that.applyHeaderFilter(options)\r\n                    }\r\n                }\r\n            }, {\r\n                toolbar: \"bottom\",\r\n                location: \"after\",\r\n                widget: \"dxButton\",\r\n                options: {\r\n                    text: headerFilterOptions.texts.cancel,\r\n                    onClick: function() {\r\n                        that.hideHeaderFilterMenu()\r\n                    }\r\n                }\r\n            }],\r\n            resizeEnabled: true,\r\n            onShowing: function(e) {\r\n                e.component.$content().parent().addClass(\"dx-dropdowneditor-overlay\");\r\n                that._initializeListContainer(options);\r\n                options.onShowing && options.onShowing(e)\r\n            },\r\n            onShown: function() {\r\n                that.getListContainer().focus()\r\n            },\r\n            onHidden: options.onHidden,\r\n            onInitialized: function(e) {\r\n                var component = e.component;\r\n                component.option(\"animation\", component._getDefaultOptions().animation)\r\n            }\r\n        };\r\n        if (!(0, _type.isDefined)(that._popupContainer)) {\r\n            that._popupContainer = that._createComponent($element, _popup.default, dxPopupOptions)\r\n        } else {\r\n            that._popupContainer.option(dxPopupOptions)\r\n        }\r\n    },\r\n    _initializeListContainer: function(options) {\r\n        var that = this;\r\n        var $content = that._popupContainer.$content();\r\n        var widgetOptions = {\r\n            searchEnabled: isSearchEnabled(that, options),\r\n            searchTimeout: that.option(\"headerFilter.searchTimeout\"),\r\n            searchMode: options.headerFilter && options.headerFilter.searchMode || \"\",\r\n            dataSource: options.dataSource,\r\n            onContentReady: function() {\r\n                that.renderCompleted.fire()\r\n            },\r\n            itemTemplate: function(data, _, element) {\r\n                var $element = (0, _renderer.default)(element);\r\n                if (options.encodeHtml) {\r\n                    return $element.text(data.text)\r\n                }\r\n                return $element.html(data.text)\r\n            }\r\n        };\r\n\r\n        function onOptionChanged(e) {\r\n            if (\"searchValue\" === e.fullName && !options.isFilterBuilder && false !== that.option(\"headerFilter.hideSelectAllOnSearch\")) {\r\n                if (\"tree\" === options.type) {\r\n                    e.component.option(\"showCheckBoxesMode\", e.value ? \"normal\" : \"selectAll\")\r\n                } else {\r\n                    e.component.option(\"selectionMode\", e.value ? \"multiple\" : \"all\")\r\n                }\r\n            }\r\n        }\r\n        if (\"tree\" === options.type) {\r\n            that._listContainer = that._createComponent((0, _renderer.default)(\"<div>\").appendTo($content), _tree_view.default, (0, _extend.extend)(widgetOptions, {\r\n                showCheckBoxesMode: options.isFilterBuilder ? \"normal\" : \"selectAll\",\r\n                onOptionChanged: onOptionChanged,\r\n                keyExpr: \"id\"\r\n            }))\r\n        } else {\r\n            that._listContainer = that._createComponent((0, _renderer.default)(\"<div>\").appendTo($content), _list.default, (0, _extend.extend)(widgetOptions, {\r\n                searchExpr: that._getSearchExpr(options),\r\n                pageLoadMode: \"scrollBottom\",\r\n                showSelectionControls: true,\r\n                selectionMode: options.isFilterBuilder ? \"multiple\" : \"all\",\r\n                onOptionChanged: onOptionChanged,\r\n                onSelectionChanged: function(e) {\r\n                    var items = e.component.option(\"items\");\r\n                    var selectedItems = e.component.option(\"selectedItems\");\r\n                    if (!e.component._selectedItemsUpdating && !e.component.option(\"searchValue\") && !options.isFilterBuilder) {\r\n                        var filterValues = options.filterValues || [];\r\n                        var isExclude = \"exclude\" === options.filterType;\r\n                        if (0 === selectedItems.length && items.length && (filterValues.length <= 1 || isExclude && filterValues.length === items.length - 1)) {\r\n                            options.filterType = \"include\";\r\n                            options.filterValues = []\r\n                        } else {\r\n                            if (selectedItems.length === items.length) {\r\n                                options.filterType = \"exclude\";\r\n                                options.filterValues = []\r\n                            }\r\n                        }\r\n                    }(0, _iterator.each)(items, function(index, item) {\r\n                        var selected = _uiGrid_core2.default.getIndexByKey(item, selectedItems, null) >= 0;\r\n                        var oldSelected = !!item.selected;\r\n                        if (oldSelected !== selected) {\r\n                            item.selected = selected;\r\n                            options.filterValues = options.filterValues || [];\r\n                            var filterValueIndex = _uiGrid_core2.default.getIndexByKey(item.value, options.filterValues, null);\r\n                            if (filterValueIndex >= 0) {\r\n                                options.filterValues.splice(filterValueIndex, 1)\r\n                            }\r\n                            if (selected ^ \"exclude\" === options.filterType) {\r\n                                options.filterValues.push(item.value)\r\n                            }\r\n                        }\r\n                    });\r\n                    updateSelectAllState(e, options.filterValues)\r\n                },\r\n                onContentReady: function(e) {\r\n                    var component = e.component;\r\n                    var items = component.option(\"items\");\r\n                    var selectedItems = [];\r\n                    (0, _iterator.each)(items, function() {\r\n                        if (this.selected) {\r\n                            selectedItems.push(this)\r\n                        }\r\n                    });\r\n                    component._selectedItemsUpdating = true;\r\n                    component.option(\"selectedItems\", selectedItems);\r\n                    component._selectedItemsUpdating = false;\r\n                    updateSelectAllState(e, options.filterValues)\r\n                }\r\n            }))\r\n        }\r\n    },\r\n    _renderCore: function() {\r\n        this.element().addClass(HEADER_FILTER_MENU_CLASS)\r\n    }\r\n});\r\nexports.HeaderFilterView = HeaderFilterView;\r\nvar allowHeaderFiltering = function(column) {\r\n    return (0, _type.isDefined)(column.allowHeaderFiltering) ? column.allowHeaderFiltering : column.allowFiltering\r\n};\r\nexports.allowHeaderFiltering = allowHeaderFiltering;\r\nvar headerFilterMixin = {\r\n    _applyColumnState: function(options) {\r\n        var $headerFilterIndicator;\r\n        var rootElement = options.rootElement;\r\n        var column = options.column;\r\n        if (\"headerFilter\" === options.name) {\r\n            rootElement.find(\".\" + HEADER_FILTER_CLASS).remove();\r\n            if (allowHeaderFiltering(column)) {\r\n                $headerFilterIndicator = this.callBase(options).toggleClass(\"dx-header-filter-empty\", this._isHeaderFilterEmpty(column));\r\n                if (!this.option(\"useLegacyKeyboardNavigation\")) {\r\n                    $headerFilterIndicator.attr(\"tabindex\", this.option(\"tabindex\") || 0)\r\n                }\r\n            }\r\n            return $headerFilterIndicator\r\n        }\r\n        return this.callBase(options)\r\n    },\r\n    _isHeaderFilterEmpty: function(column) {\r\n        return !column.filterValues || !column.filterValues.length\r\n    },\r\n    _getIndicatorClassName: function(name) {\r\n        if (\"headerFilter\" === name) {\r\n            return HEADER_FILTER_CLASS\r\n        }\r\n        return this.callBase(name)\r\n    },\r\n    _renderIndicator: function(options) {\r\n        var $container = options.container;\r\n        var $indicator = options.indicator;\r\n        if (\"headerFilter\" === options.name) {\r\n            var rtlEnabled = this.option(\"rtlEnabled\");\r\n            if ($container.children().length && (!rtlEnabled && \"right\" === options.columnAlignment || rtlEnabled && \"left\" === options.columnAlignment)) {\r\n                $container.prepend($indicator);\r\n                return\r\n            }\r\n        }\r\n        this.callBase(options)\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"headerFilter\" === args.name) {\r\n            var requireReady = \"columnHeadersView\" === this.name;\r\n            this._invalidate(requireReady, requireReady);\r\n            args.handled = true\r\n        } else {\r\n            this.callBase(args)\r\n        }\r\n    }\r\n};\r\nexports.headerFilterMixin = headerFilterMixin;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.filter_sync.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.filter_sync\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"filterSync\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.filter_sync.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _utils = require(\"../filter_builder/utils\");\r\nvar _ui = _interopRequireDefault(require(\"../widget/ui.errors\"));\r\nvar _uiGrid_core2 = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\nvar _filtering = _interopRequireDefault(require(\"../shared/filtering\"));\r\nvar _uiGrid_core3 = require(\"./ui.grid_core.filter_custom_operations\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar FILTER_ROW_OPERATIONS = [\"=\", \"<>\", \"<\", \"<=\", \">\", \">=\", \"notcontains\", \"contains\", \"startswith\", \"endswith\", \"between\"];\r\nvar FILTER_TYPES_INCLUDE = \"include\";\r\nvar FILTER_TYPES_EXCLUDE = \"exclude\";\r\n\r\nfunction getColumnIdentifier(column) {\r\n    return column.dataField || column.name\r\n}\r\n\r\nfunction checkForErrors(columns) {\r\n    columns.forEach(function(column) {\r\n        var identifier = getColumnIdentifier(column);\r\n        if (!(0, _type.isDefined)(identifier) && column.allowFiltering) {\r\n            throw new _ui.default.Error(\"E1049\", column.caption)\r\n        }\r\n    })\r\n}\r\nvar FilterSyncController = _uiGrid_core.default.Controller.inherit(function() {\r\n    var getEmptyFilterValues = function() {\r\n        return {\r\n            filterType: FILTER_TYPES_INCLUDE,\r\n            filterValues: void 0\r\n        }\r\n    };\r\n    var canSyncHeaderFilterWithFilterRow = function(column) {\r\n        return !_filtering.default.getGroupInterval(column) && !(column.headerFilter && column.headerFilter.dataSource)\r\n    };\r\n    var getHeaderFilterFromCondition = function(headerFilterCondition, column) {\r\n        if (!headerFilterCondition) {\r\n            return getEmptyFilterValues()\r\n        }\r\n        var filterType;\r\n        var selectedFilterOperation = headerFilterCondition[1];\r\n        var value = headerFilterCondition[2];\r\n        var hasArrayValue = Array.isArray(value);\r\n        if (!hasArrayValue) {\r\n            if (!canSyncHeaderFilterWithFilterRow(column)) {\r\n                return getEmptyFilterValues()\r\n            }\r\n        }\r\n        switch (selectedFilterOperation) {\r\n            case \"anyof\":\r\n            case \"=\":\r\n                filterType = FILTER_TYPES_INCLUDE;\r\n                break;\r\n            case \"noneof\":\r\n            case \"<>\":\r\n                filterType = FILTER_TYPES_EXCLUDE;\r\n                break;\r\n            default:\r\n                return getEmptyFilterValues()\r\n        }\r\n        return {\r\n            filterType: filterType,\r\n            filterValues: hasArrayValue ? value : [value]\r\n        }\r\n    };\r\n    var getConditionFromFilterRow = function(column) {\r\n        var value = column.filterValue;\r\n        if ((0, _type.isDefined)(value)) {\r\n            var operation = column.selectedFilterOperation || column.defaultFilterOperation || (0, _utils.getDefaultOperation)(column);\r\n            var filter = [getColumnIdentifier(column), operation, column.filterValue];\r\n            return filter\r\n        } else {\r\n            return null\r\n        }\r\n    };\r\n    var getConditionFromHeaderFilter = function(column) {\r\n        var selectedOperation;\r\n        var value;\r\n        var filterValues = column.filterValues;\r\n        if (!filterValues) {\r\n            return null\r\n        }\r\n        if (canSyncHeaderFilterWithFilterRow(column) && 1 === column.filterValues.length && !Array.isArray(filterValues[0])) {\r\n            column.filterType === FILTER_TYPES_EXCLUDE ? selectedOperation = \"<>\" : selectedOperation = \"=\";\r\n            value = filterValues[0]\r\n        } else {\r\n            column.filterType === FILTER_TYPES_EXCLUDE ? selectedOperation = \"noneof\" : selectedOperation = \"anyof\";\r\n            value = filterValues\r\n        }\r\n        return [getColumnIdentifier(column), selectedOperation, value]\r\n    };\r\n    var updateHeaderFilterCondition = function(columnsController, column, headerFilterCondition) {\r\n        var headerFilter = getHeaderFilterFromCondition(headerFilterCondition, column);\r\n        columnsController.columnOption(getColumnIdentifier(column), headerFilter)\r\n    };\r\n    var updateFilterRowCondition = function(columnsController, column, condition) {\r\n        var filterRowOptions;\r\n        var selectedFilterOperation = condition && condition[1];\r\n        var filterOperations = column.filterOperations || column.defaultFilterOperations;\r\n        if ((!filterOperations || filterOperations.indexOf(selectedFilterOperation) >= 0 || selectedFilterOperation === column.defaultFilterOperation) && FILTER_ROW_OPERATIONS.indexOf(selectedFilterOperation) >= 0) {\r\n            if (selectedFilterOperation === column.defaultFilterOperation && !(0, _type.isDefined)(column.selectedFilterOperation)) {\r\n                selectedFilterOperation = column.selectedFilterOperation\r\n            }\r\n            filterRowOptions = {\r\n                filterValue: condition[2],\r\n                selectedFilterOperation: selectedFilterOperation\r\n            }\r\n        } else {\r\n            filterRowOptions = {\r\n                filterValue: void 0,\r\n                selectedFilterOperation: void 0\r\n            }\r\n        }\r\n        columnsController.columnOption(getColumnIdentifier(column), filterRowOptions)\r\n    };\r\n    return {\r\n        syncFilterValue: function() {\r\n            var that = this;\r\n            var columnsController = that.getController(\"columns\");\r\n            var columns = columnsController.getFilteringColumns();\r\n            this._skipSyncColumnOptions = true;\r\n            columns.forEach(function(column) {\r\n                var filterConditions = (0, _utils.getMatchedConditions)(that.option(\"filterValue\"), getColumnIdentifier(column));\r\n                if (1 === filterConditions.length) {\r\n                    var filterCondition = filterConditions[0];\r\n                    updateHeaderFilterCondition(columnsController, column, filterCondition);\r\n                    updateFilterRowCondition(columnsController, column, filterCondition)\r\n                } else {\r\n                    (0, _type.isDefined)(column.filterValues) && updateHeaderFilterCondition(columnsController, column);\r\n                    (0, _type.isDefined)(column.filterValue) && updateFilterRowCondition(columnsController, column)\r\n                }\r\n            });\r\n            this._skipSyncColumnOptions = false\r\n        },\r\n        _initSync: function() {\r\n            var columns = this.getController(\"columns\").getColumns();\r\n            var dataController = this.getController(\"data\");\r\n            var pageIndex = dataController.pageIndex();\r\n            checkForErrors(columns);\r\n            if (!this.option(\"filterValue\")) {\r\n                var filteringColumns = this.getController(\"columns\").getFilteringColumns();\r\n                var filterValue = this.getFilterValueFromColumns(filteringColumns);\r\n                this.option(\"filterValue\", filterValue)\r\n            }\r\n            this.syncFilterValue();\r\n            dataController.pageIndex(pageIndex)\r\n        },\r\n        init: function() {\r\n            var _this = this;\r\n            var dataController = this.getController(\"data\");\r\n            if (dataController.isFilterSyncActive()) {\r\n                if (this.getController(\"columns\").isAllDataTypesDefined()) {\r\n                    this._initSync()\r\n                } else {\r\n                    dataController.dataSourceChanged.add(function() {\r\n                        return _this._initSync()\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        _getSyncFilterRow: function(filterValue, column) {\r\n            var filter = getConditionFromFilterRow(column);\r\n            if ((0, _type.isDefined)(filter)) {\r\n                return (0, _utils.syncFilters)(filterValue, filter)\r\n            } else {\r\n                return (0, _utils.removeFieldConditionsFromFilter)(filterValue, getColumnIdentifier(column))\r\n            }\r\n        },\r\n        _getSyncHeaderFilter: function(filterValue, column) {\r\n            var filter = getConditionFromHeaderFilter(column);\r\n            if (filter) {\r\n                return (0, _utils.syncFilters)(filterValue, filter)\r\n            } else {\r\n                return (0, _utils.removeFieldConditionsFromFilter)(filterValue, getColumnIdentifier(column))\r\n            }\r\n        },\r\n        getFilterValueFromColumns: function(columns) {\r\n            if (!this.getController(\"data\").isFilterSyncActive()) {\r\n                return null\r\n            }\r\n            var filterValue = [\"and\"];\r\n            columns && columns.forEach(function(column) {\r\n                var headerFilter = getConditionFromHeaderFilter(column);\r\n                var filterRow = getConditionFromFilterRow(column);\r\n                headerFilter && (0, _utils.addItem)(headerFilter, filterValue);\r\n                filterRow && (0, _utils.addItem)(filterRow, filterValue)\r\n            });\r\n            return (0, _utils.getNormalizedFilter)(filterValue)\r\n        },\r\n        syncFilterRow: function(column, value) {\r\n            this.option(\"filterValue\", this._getSyncFilterRow(this.option(\"filterValue\"), column))\r\n        },\r\n        syncHeaderFilter: function(column) {\r\n            this.option(\"filterValue\", this._getSyncHeaderFilter(this.option(\"filterValue\"), column))\r\n        },\r\n        getCustomFilterOperations: function() {\r\n            var filterBuilderCustomOperations = this.option(\"filterBuilder.customOperations\") || [];\r\n            return [(0, _uiGrid_core3.anyOf)(this.component), (0, _uiGrid_core3.noneOf)(this.component)].concat(filterBuilderCustomOperations)\r\n        },\r\n        publicMethods: function() {\r\n            return [\"getCustomFilterOperations\"]\r\n        }\r\n    }\r\n}());\r\nvar DataControllerFilterSyncExtender = {\r\n    isFilterSyncActive: function() {\r\n        var filterSyncEnabledValue = this.option(\"filterSyncEnabled\");\r\n        return \"auto\" === filterSyncEnabledValue ? this.option(\"filterPanel.visible\") : filterSyncEnabledValue\r\n    },\r\n    skipCalculateColumnFilters: function() {\r\n        return (0, _type.isDefined)(this.option(\"filterValue\")) && this.isFilterSyncActive()\r\n    },\r\n    _calculateAdditionalFilter: function() {\r\n        var that = this;\r\n        if (false === that.option(\"filterPanel.filterEnabled\")) {\r\n            return that.callBase()\r\n        }\r\n        var filters = [that.callBase()];\r\n        var columns = that.getController(\"columns\").getFilteringColumns();\r\n        var filterValue = that.option(\"filterValue\");\r\n        if (that.isFilterSyncActive()) {\r\n            var currentColumn = that.getController(\"headerFilter\").getCurrentColumn();\r\n            if (currentColumn && filterValue) {\r\n                filterValue = (0, _utils.removeFieldConditionsFromFilter)(filterValue, getColumnIdentifier(currentColumn))\r\n            }\r\n        }\r\n        var customOperations = that.getController(\"filterSync\").getCustomFilterOperations();\r\n        var calculatedFilterValue = (0, _utils.getFilterExpression)(filterValue, columns, customOperations, \"filterBuilder\");\r\n        if (calculatedFilterValue) {\r\n            filters.push(calculatedFilterValue)\r\n        }\r\n        return _uiGrid_core2.default.combineFilters(filters)\r\n    },\r\n    _parseColumnPropertyName: function(fullName) {\r\n        var matched = fullName.match(/.*\\.(.*)/);\r\n        return matched[1]\r\n    },\r\n    clearFilter: function(filterName) {\r\n        this.component.beginUpdate();\r\n        if (arguments.length > 0) {\r\n            if (\"filterValue\" === filterName) {\r\n                this.option(\"filterValue\", null)\r\n            }\r\n            this.callBase(filterName)\r\n        } else {\r\n            this.option(\"filterValue\", null);\r\n            this.callBase()\r\n        }\r\n        this.component.endUpdate()\r\n    },\r\n    optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"filterValue\":\r\n                this._applyFilter();\r\n                this.isFilterSyncActive() && this.getController(\"filterSync\").syncFilterValue();\r\n                args.handled = true;\r\n                break;\r\n            case \"filterSyncEnabled\":\r\n                args.handled = true;\r\n                break;\r\n            case \"columns\":\r\n                if (this.isFilterSyncActive()) {\r\n                    var column = this.getController(\"columns\").getColumnByPath(args.fullName);\r\n                    var filterSyncController = this.getController(\"filterSync\");\r\n                    if (column && !filterSyncController._skipSyncColumnOptions) {\r\n                        var propertyName = this._parseColumnPropertyName(args.fullName);\r\n                        filterSyncController._skipSyncColumnOptions = true;\r\n                        if (\"filterType\" === propertyName) {\r\n                            if (FILTER_TYPES_EXCLUDE === args.value || FILTER_TYPES_EXCLUDE === args.previousValue) {\r\n                                filterSyncController.syncHeaderFilter(column)\r\n                            }\r\n                        } else {\r\n                            if (\"filterValues\" === propertyName) {\r\n                                filterSyncController.syncHeaderFilter(column)\r\n                            } else {\r\n                                if ([\"filterValue\", \"selectedFilterOperation\"].indexOf(propertyName) > -1) {\r\n                                    filterSyncController.syncFilterRow(column, column.filterValue)\r\n                                }\r\n                            }\r\n                        }\r\n                        filterSyncController._skipSyncColumnOptions = false\r\n                    }\r\n                }\r\n                this.callBase(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n};\r\nvar ColumnHeadersViewFilterSyncExtender = {\r\n    _isHeaderFilterEmpty: function(column) {\r\n        if (this.getController(\"data\").isFilterSyncActive()) {\r\n            return !(0, _utils.filterHasField)(this.option(\"filterValue\"), getColumnIdentifier(column))\r\n        }\r\n        return this.callBase(column)\r\n    },\r\n    _needUpdateFilterIndicators: function() {\r\n        return !this.getController(\"data\").isFilterSyncActive()\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"filterValue\" === args.name) {\r\n            this._updateHeaderFilterIndicators()\r\n        } else {\r\n            this.callBase(args)\r\n        }\r\n    }\r\n};\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            filterValue: null,\r\n            filterSyncEnabled: \"auto\"\r\n        }\r\n    },\r\n    controllers: {\r\n        filterSync: FilterSyncController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: DataControllerFilterSyncExtender\r\n        },\r\n        views: {\r\n            columnHeadersView: ColumnHeadersViewFilterSyncExtender\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/filter_builder/between.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.getConfig = getConfig;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar FILTER_BUILDER_RANGE_CLASS = \"dx-filterbuilder-range\";\r\nvar FILTER_BUILDER_RANGE_START_CLASS = FILTER_BUILDER_RANGE_CLASS + \"-start\";\r\nvar FILTER_BUILDER_RANGE_END_CLASS = FILTER_BUILDER_RANGE_CLASS + \"-end\";\r\nvar FILTER_BUILDER_RANGE_SEPARATOR_CLASS = FILTER_BUILDER_RANGE_CLASS + \"-separator\";\r\nvar SEPARATOR = \"\\u2013\";\r\n\r\nfunction editorTemplate(conditionInfo, container) {\r\n    var $editorStart = (0, _renderer.default)(\"<div>\").addClass(FILTER_BUILDER_RANGE_START_CLASS);\r\n    var $editorEnd = (0, _renderer.default)(\"<div>\").addClass(FILTER_BUILDER_RANGE_END_CLASS);\r\n    var values = conditionInfo.value || [];\r\n    var getStartValue = function(values) {\r\n        return values && values.length > 0 ? values[0] : null\r\n    };\r\n    var getEndValue = function(values) {\r\n        return values && 2 === values.length ? values[1] : null\r\n    };\r\n    container.append($editorStart);\r\n    container.append((0, _renderer.default)(\"<span>\").addClass(FILTER_BUILDER_RANGE_SEPARATOR_CLASS).text(SEPARATOR));\r\n    container.append($editorEnd);\r\n    container.addClass(FILTER_BUILDER_RANGE_CLASS);\r\n    this._editorFactory.createEditor.call(this, $editorStart, (0, _extend.extend)({}, conditionInfo.field, conditionInfo, {\r\n        value: getStartValue(values),\r\n        parentType: \"filterBuilder\",\r\n        setValue: function(value) {\r\n            values = [value, getEndValue(values)];\r\n            conditionInfo.setValue(values)\r\n        }\r\n    }));\r\n    this._editorFactory.createEditor.call(this, $editorEnd, (0, _extend.extend)({}, conditionInfo.field, conditionInfo, {\r\n        value: getEndValue(values),\r\n        parentType: \"filterBuilder\",\r\n        setValue: function(value) {\r\n            values = [getStartValue(values), value];\r\n            conditionInfo.setValue(values)\r\n        }\r\n    }))\r\n}\r\n\r\nfunction getConfig(caption, context) {\r\n    return {\r\n        name: \"between\",\r\n        caption: caption,\r\n        icon: \"range\",\r\n        valueSeparator: SEPARATOR,\r\n        dataTypes: [\"number\", \"date\", \"datetime\"],\r\n        editorTemplate: editorTemplate.bind(context),\r\n        notForLookup: true\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (ui/filter_builder/ui.filter_operations_dictionary.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar OPERATION_ICONS = {\r\n    \"=\": \"equal\",\r\n    \"<>\": \"notequal\",\r\n    \"<\": \"less\",\r\n    \"<=\": \"lessorequal\",\r\n    \">\": \"greater\",\r\n    \">=\": \"greaterorequal\",\r\n    notcontains: \"doesnotcontain\",\r\n    contains: \"contains\",\r\n    startswith: \"startswith\",\r\n    endswith: \"endswith\",\r\n    isblank: \"isblank\",\r\n    isnotblank: \"isnotblank\"\r\n};\r\nvar OPERATION_NAME = {\r\n    \"=\": \"equal\",\r\n    \"<>\": \"notEqual\",\r\n    \"<\": \"lessThan\",\r\n    \"<=\": \"lessThanOrEqual\",\r\n    \">\": \"greaterThan\",\r\n    \">=\": \"greaterThanOrEqual\",\r\n    startswith: \"startsWith\",\r\n    contains: \"contains\",\r\n    notcontains: \"notContains\",\r\n    endswith: \"endsWith\",\r\n    isblank: \"isBlank\",\r\n    isnotblank: \"isNotBlank\",\r\n    between: \"between\"\r\n};\r\nvar _default = {\r\n    getIconByFilterOperation: function(filterOperation) {\r\n        return OPERATION_ICONS[filterOperation]\r\n    },\r\n    getNameByFilterOperation: function(filterOperation) {\r\n        return OPERATION_NAME[filterOperation]\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.filter_custom_operations.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.anyOf = anyOf;\r\nexports.noneOf = noneOf;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _data_source = require(\"../../data/data_source/data_source\");\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _utils = require(\"../filter_builder/utils\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction baseOperation(grid) {\r\n    var calculateFilterExpression = function(filterValue, field, fields) {\r\n        var result = [];\r\n        var lastIndex = filterValue.length - 1;\r\n        filterValue && filterValue.forEach(function(value, index) {\r\n            if ((0, _utils.isCondition)(value) || (0, _utils.isGroup)(value)) {\r\n                var filterExpression = (0, _utils.getFilterExpression)(value, fields, [], \"headerFilter\");\r\n                result.push(filterExpression)\r\n            } else {\r\n                result.push((0, _utils.getFilterExpression)([field.dataField, \"=\", value], fields, [], \"headerFilter\"))\r\n            }\r\n            index !== lastIndex && result.push(\"or\")\r\n        });\r\n        if (1 === result.length) {\r\n            result = result[0]\r\n        }\r\n        return result\r\n    };\r\n    var getFullText = function(itemText, parentText) {\r\n        return parentText ? parentText + \"/\" + itemText : itemText\r\n    };\r\n    var getSelectedItemsTexts = function getSelectedItemsTexts(items, parentText) {\r\n        var result = [];\r\n        items.forEach(function(item) {\r\n            if (item.items) {\r\n                var selectedItemsTexts = getSelectedItemsTexts(item.items, getFullText(item.text, parentText));\r\n                result = result.concat(selectedItemsTexts)\r\n            }\r\n            item.selected && result.push(getFullText(item.text, parentText))\r\n        });\r\n        return result\r\n    };\r\n    var headerFilterController = grid && grid.getController(\"headerFilter\");\r\n    var customizeText = function(fieldInfo) {\r\n        var value = fieldInfo.value;\r\n        var column = grid.columnOption(fieldInfo.field.dataField);\r\n        var headerFilter = column && column.headerFilter;\r\n        var lookup = column && column.lookup;\r\n        if (headerFilter && headerFilter.dataSource || lookup && lookup.dataSource) {\r\n            column = (0, _extend.extend)({}, column, {\r\n                filterType: \"include\",\r\n                filterValues: [value]\r\n            });\r\n            var dataSourceOptions = headerFilterController.getDataSource(column);\r\n            dataSourceOptions.paginate = false;\r\n            var dataSource = new _data_source.DataSource(dataSourceOptions);\r\n            var result = new _deferred.Deferred;\r\n            var key = dataSource.store().key();\r\n            if (key) {\r\n                dataSource.filter([key, \"=\", fieldInfo.value])\r\n            }\r\n            dataSource.load().done(function(items) {\r\n                result.resolve(getSelectedItemsTexts(items)[0])\r\n            });\r\n            return result\r\n        } else {\r\n            var text = headerFilterController.getHeaderItemText(value, column, 0, grid.option(\"headerFilter\"));\r\n            return text\r\n        }\r\n    };\r\n    return {\r\n        dataTypes: [\"string\", \"date\", \"datetime\", \"number\", \"boolean\", \"object\"],\r\n        calculateFilterExpression: calculateFilterExpression,\r\n        editorTemplate: function(conditionInfo, container) {\r\n            var div = (0, _renderer.default)(\"<div>\").addClass(\"dx-filterbuilder-item-value-text\").appendTo(container);\r\n            var column = (0, _extend.extend)(true, {}, grid.columnOption(conditionInfo.field.dataField));\r\n            (0, _utils.renderValueText)(div, conditionInfo.text && conditionInfo.text.split(\"|\"));\r\n            var setValue = function(value) {\r\n                conditionInfo.setValue(value)\r\n            };\r\n            column.filterType = \"include\";\r\n            column.filterValues = conditionInfo.value ? conditionInfo.value.slice() : [];\r\n            headerFilterController.showHeaderFilterMenuBase({\r\n                columnElement: div,\r\n                column: column,\r\n                apply: function() {\r\n                    setValue(this.filterValues);\r\n                    headerFilterController.hideHeaderFilterMenu();\r\n                    conditionInfo.closeEditor()\r\n                },\r\n                onHidden: function() {\r\n                    conditionInfo.closeEditor()\r\n                },\r\n                isFilterBuilder: true\r\n            });\r\n            return container\r\n        },\r\n        customizeText: customizeText\r\n    }\r\n}\r\n\r\nfunction anyOf(grid) {\r\n    return (0, _extend.extend)(baseOperation(grid), {\r\n        name: \"anyof\",\r\n        icon: \"selectall\",\r\n        caption: _message.default.format(\"dxFilterBuilder-filterOperationAnyOf\")\r\n    })\r\n}\r\n\r\nfunction noneOf(grid) {\r\n    var baseOp = baseOperation(grid);\r\n    return (0, _extend.extend)({}, baseOp, {\r\n        calculateFilterExpression: function(filterValue, field, fields) {\r\n            var baseFilter = baseOp.calculateFilterExpression(filterValue, field, fields);\r\n            if (!baseFilter || 0 === baseFilter.length) {\r\n                return null\r\n            }\r\n            return \"!\" === baseFilter[0] ? baseFilter : [\"!\", baseFilter]\r\n        },\r\n        name: \"noneof\",\r\n        icon: \"unselectall\",\r\n        caption: _message.default.format(\"dxFilterBuilder-filterOperationNoneOf\")\r\n    })\r\n}\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.filter_builder.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.filter_builder\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"filterBuilder\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.filter_builder.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _filter_builder = _interopRequireDefault(require(\"./../filter_builder\"));\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _scroll_view = _interopRequireDefault(require(\"./../scroll_view\"));\r\nvar _popup = _interopRequireDefault(require(\"./../popup\"));\r\nvar _accessibility = require(\"../shared/accessibility\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar FilterBuilderView = _uiGrid_core.default.View.inherit({\r\n    _renderCore: function() {\r\n        this._updatePopupOptions()\r\n    },\r\n    _updatePopupOptions: function() {\r\n        if (this.option(\"filterBuilderPopup.visible\")) {\r\n            this._initPopup()\r\n        } else {\r\n            if (this._filterBuilderPopup) {\r\n                this._filterBuilderPopup.hide()\r\n            }\r\n        }\r\n    },\r\n    _disposePopup: function() {\r\n        if (this._filterBuilderPopup) {\r\n            this._filterBuilderPopup.dispose();\r\n            this._filterBuilderPopup = void 0\r\n        }\r\n        if (this._filterBuilder) {\r\n            this._filterBuilder.dispose();\r\n            this._filterBuilder = void 0\r\n        }\r\n    },\r\n    _initPopup: function() {\r\n        var that = this;\r\n        that._disposePopup();\r\n        that._filterBuilderPopup = that._createComponent(that.element(), _popup.default, (0, _extend.extend)({\r\n            title: _message.default.format(\"dxDataGrid-filterBuilderPopupTitle\"),\r\n            contentTemplate: function($contentElement) {\r\n                return that._getPopupContentTemplate($contentElement)\r\n            },\r\n            onOptionChanged: function(args) {\r\n                if (\"visible\" === args.name) {\r\n                    that.option(\"filterBuilderPopup.visible\", args.value)\r\n                }\r\n            },\r\n            toolbarItems: that._getPopupToolbarItems()\r\n        }, that.option(\"filterBuilderPopup\"), {\r\n            onHidden: function(e) {\r\n                (0, _accessibility.restoreFocus)(that);\r\n                that._disposePopup()\r\n            }\r\n        }))\r\n    },\r\n    _getPopupContentTemplate: function(contentElement) {\r\n        var $contentElement = (0, _renderer.default)(contentElement);\r\n        var $filterBuilderContainer = (0, _renderer.default)(\"<div>\").appendTo((0, _renderer.default)(contentElement));\r\n        this._filterBuilder = this._createComponent($filterBuilderContainer, _filter_builder.default, (0, _extend.extend)({\r\n            value: this.option(\"filterValue\"),\r\n            fields: this.getController(\"columns\").getFilteringColumns()\r\n        }, this.option(\"filterBuilder\"), {\r\n            customOperations: this.getController(\"filterSync\").getCustomFilterOperations()\r\n        }));\r\n        this._createComponent($contentElement, _scroll_view.default, {\r\n            direction: \"both\"\r\n        })\r\n    },\r\n    _getPopupToolbarItems: function() {\r\n        var that = this;\r\n        return [{\r\n            toolbar: \"bottom\",\r\n            location: \"after\",\r\n            widget: \"dxButton\",\r\n            options: {\r\n                text: _message.default.format(\"OK\"),\r\n                onClick: function(e) {\r\n                    var filter = that._filterBuilder.option(\"value\");\r\n                    that.option(\"filterValue\", filter);\r\n                    that._filterBuilderPopup.hide()\r\n                }\r\n            }\r\n        }, {\r\n            toolbar: \"bottom\",\r\n            location: \"after\",\r\n            widget: \"dxButton\",\r\n            options: {\r\n                text: _message.default.format(\"Cancel\"),\r\n                onClick: function(e) {\r\n                    that._filterBuilderPopup.hide()\r\n                }\r\n            }\r\n        }]\r\n    },\r\n    optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"filterBuilder\":\r\n            case \"filterBuilderPopup\":\r\n                this._invalidate();\r\n                args.handled = true;\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            filterBuilder: {\r\n                groupOperationDescriptions: {\r\n                    and: _message.default.format(\"dxFilterBuilder-and\"),\r\n                    or: _message.default.format(\"dxFilterBuilder-or\"),\r\n                    notAnd: _message.default.format(\"dxFilterBuilder-notAnd\"),\r\n                    notOr: _message.default.format(\"dxFilterBuilder-notOr\")\r\n                },\r\n                filterOperationDescriptions: {\r\n                    between: _message.default.format(\"dxFilterBuilder-filterOperationBetween\"),\r\n                    equal: _message.default.format(\"dxFilterBuilder-filterOperationEquals\"),\r\n                    notEqual: _message.default.format(\"dxFilterBuilder-filterOperationNotEquals\"),\r\n                    lessThan: _message.default.format(\"dxFilterBuilder-filterOperationLess\"),\r\n                    lessThanOrEqual: _message.default.format(\"dxFilterBuilder-filterOperationLessOrEquals\"),\r\n                    greaterThan: _message.default.format(\"dxFilterBuilder-filterOperationGreater\"),\r\n                    greaterThanOrEqual: _message.default.format(\"dxFilterBuilder-filterOperationGreaterOrEquals\"),\r\n                    startsWith: _message.default.format(\"dxFilterBuilder-filterOperationStartsWith\"),\r\n                    contains: _message.default.format(\"dxFilterBuilder-filterOperationContains\"),\r\n                    notContains: _message.default.format(\"dxFilterBuilder-filterOperationNotContains\"),\r\n                    endsWith: _message.default.format(\"dxFilterBuilder-filterOperationEndsWith\"),\r\n                    isBlank: _message.default.format(\"dxFilterBuilder-filterOperationIsBlank\"),\r\n                    isNotBlank: _message.default.format(\"dxFilterBuilder-filterOperationIsNotBlank\")\r\n                }\r\n            },\r\n            filterBuilderPopup: {}\r\n        }\r\n    },\r\n    views: {\r\n        filterBuilderView: FilterBuilderView\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/filter_builder.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _filter_builder = _interopRequireDefault(require(\"./filter_builder/filter_builder\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar _default = _filter_builder.default;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\nmodule.exports.default = module.exports;\r\n","/**\r\n * DevExtreme (ui/filter_builder/filter_builder.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _dom_adapter = _interopRequireDefault(require(\"../../core/dom_adapter\"));\r\nvar _class = _interopRequireDefault(require(\"../../core/class\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _ui = _interopRequireDefault(require(\"../widget/ui.widget\"));\r\nvar _component_registrator = _interopRequireDefault(require(\"../../core/component_registrator\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _tree_view = _interopRequireDefault(require(\"../tree_view\"));\r\nvar _popup = _interopRequireDefault(require(\"../popup\"));\r\nvar _utils = require(\"../overlay/utils\");\r\nvar _ui2 = _interopRequireDefault(require(\"../shared/ui.editor_factory_mixin\"));\r\nvar _index = require(\"../../events/utils/index\");\r\nvar _utils2 = require(\"./utils\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar FILTER_BUILDER_CLASS = \"dx-filterbuilder\";\r\nvar FILTER_BUILDER_GROUP_CLASS = FILTER_BUILDER_CLASS + \"-group\";\r\nvar FILTER_BUILDER_GROUP_ITEM_CLASS = FILTER_BUILDER_GROUP_CLASS + \"-item\";\r\nvar FILTER_BUILDER_GROUP_CONTENT_CLASS = FILTER_BUILDER_GROUP_CLASS + \"-content\";\r\nvar FILTER_BUILDER_GROUP_OPERATIONS_CLASS = FILTER_BUILDER_GROUP_CLASS + \"-operations\";\r\nvar FILTER_BUILDER_GROUP_OPERATION_CLASS = FILTER_BUILDER_GROUP_CLASS + \"-operation\";\r\nvar FILTER_BUILDER_ACTION_CLASS = FILTER_BUILDER_CLASS + \"-action\";\r\nvar FILTER_BUILDER_IMAGE_CLASS = FILTER_BUILDER_ACTION_CLASS + \"-icon\";\r\nvar FILTER_BUILDER_IMAGE_ADD_CLASS = \"dx-icon-plus\";\r\nvar FILTER_BUILDER_IMAGE_REMOVE_CLASS = \"dx-icon-remove\";\r\nvar FILTER_BUILDER_ITEM_TEXT_CLASS = FILTER_BUILDER_CLASS + \"-text\";\r\nvar FILTER_BUILDER_ITEM_FIELD_CLASS = FILTER_BUILDER_CLASS + \"-item-field\";\r\nvar FILTER_BUILDER_ITEM_OPERATION_CLASS = FILTER_BUILDER_CLASS + \"-item-operation\";\r\nvar FILTER_BUILDER_ITEM_VALUE_CLASS = FILTER_BUILDER_CLASS + \"-item-value\";\r\nvar FILTER_BUILDER_ITEM_VALUE_TEXT_CLASS = FILTER_BUILDER_CLASS + \"-item-value-text\";\r\nvar FILTER_BUILDER_OVERLAY_CLASS = FILTER_BUILDER_CLASS + \"-overlay\";\r\nvar FILTER_BUILDER_FILTER_OPERATIONS_CLASS = FILTER_BUILDER_CLASS + \"-operations\";\r\nvar FILTER_BUILDER_FIELDS_CLASS = FILTER_BUILDER_CLASS + \"-fields\";\r\nvar FILTER_BUILDER_ADD_CONDITION_CLASS = FILTER_BUILDER_CLASS + \"-add-condition\";\r\nvar ACTIVE_CLASS = \"dx-state-active\";\r\nvar FILTER_BUILDER_MENU_CUSTOM_OPERATION_CLASS = FILTER_BUILDER_CLASS + \"-menu-custom-operation\";\r\nvar SOURCE = \"filterBuilder\";\r\nvar DISABLED_STATE_CLASS = \"dx-state-disabled\";\r\nvar TAB_KEY = \"tab\";\r\nvar ENTER_KEY = \"enter\";\r\nvar ESCAPE_KEY = \"escape\";\r\nvar ACTIONS = [{\r\n    name: \"onEditorPreparing\",\r\n    config: {\r\n        excludeValidators: [\"disabled\", \"readOnly\"],\r\n        category: \"rendering\"\r\n    }\r\n}, {\r\n    name: \"onEditorPrepared\",\r\n    config: {\r\n        excludeValidators: [\"disabled\", \"readOnly\"],\r\n        category: \"rendering\"\r\n    }\r\n}, {\r\n    name: \"onValueChanged\",\r\n    config: {\r\n        excludeValidators: [\"disabled\", \"readOnly\"]\r\n    }\r\n}];\r\nvar OPERATORS = {\r\n    and: \"and\",\r\n    or: \"or\",\r\n    notAnd: \"!and\",\r\n    notOr: \"!or\"\r\n};\r\nvar EditorFactory = _class.default.inherit(_ui2.default);\r\nvar FilterBuilder = _ui.default.inherit({\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            onEditorPreparing: null,\r\n            onEditorPrepared: null,\r\n            onValueChanged: null,\r\n            fields: [],\r\n            defaultGroupOperation: \"and\",\r\n            groupOperations: [\"and\", \"or\", \"notAnd\", \"notOr\"],\r\n            maxGroupLevel: void 0,\r\n            value: null,\r\n            allowHierarchicalFields: false,\r\n            groupOperationDescriptions: {\r\n                and: _message.default.format(\"dxFilterBuilder-and\"),\r\n                or: _message.default.format(\"dxFilterBuilder-or\"),\r\n                notAnd: _message.default.format(\"dxFilterBuilder-notAnd\"),\r\n                notOr: _message.default.format(\"dxFilterBuilder-notOr\")\r\n            },\r\n            customOperations: [],\r\n            closePopupOnTargetScroll: true,\r\n            filterOperationDescriptions: {\r\n                between: _message.default.format(\"dxFilterBuilder-filterOperationBetween\"),\r\n                equal: _message.default.format(\"dxFilterBuilder-filterOperationEquals\"),\r\n                notEqual: _message.default.format(\"dxFilterBuilder-filterOperationNotEquals\"),\r\n                lessThan: _message.default.format(\"dxFilterBuilder-filterOperationLess\"),\r\n                lessThanOrEqual: _message.default.format(\"dxFilterBuilder-filterOperationLessOrEquals\"),\r\n                greaterThan: _message.default.format(\"dxFilterBuilder-filterOperationGreater\"),\r\n                greaterThanOrEqual: _message.default.format(\"dxFilterBuilder-filterOperationGreaterOrEquals\"),\r\n                startsWith: _message.default.format(\"dxFilterBuilder-filterOperationStartsWith\"),\r\n                contains: _message.default.format(\"dxFilterBuilder-filterOperationContains\"),\r\n                notContains: _message.default.format(\"dxFilterBuilder-filterOperationNotContains\"),\r\n                endsWith: _message.default.format(\"dxFilterBuilder-filterOperationEndsWith\"),\r\n                isBlank: _message.default.format(\"dxFilterBuilder-filterOperationIsBlank\"),\r\n                isNotBlank: _message.default.format(\"dxFilterBuilder-filterOperationIsNotBlank\")\r\n            }\r\n        })\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"closePopupOnTargetScroll\":\r\n                break;\r\n            case \"onEditorPreparing\":\r\n            case \"onEditorPrepared\":\r\n            case \"onValueChanged\":\r\n                this._initActions();\r\n                break;\r\n            case \"customOperations\":\r\n                this._initCustomOperations();\r\n                this._invalidate();\r\n                break;\r\n            case \"fields\":\r\n            case \"defaultGroupOperation\":\r\n            case \"maxGroupLevel\":\r\n            case \"groupOperations\":\r\n            case \"allowHierarchicalFields\":\r\n            case \"groupOperationDescriptions\":\r\n            case \"filterOperationDescriptions\":\r\n                this._invalidate();\r\n                break;\r\n            case \"value\":\r\n                if (args.value !== args.previousValue) {\r\n                    var disableInvalidateForValue = this._disableInvalidateForValue;\r\n                    if (!disableInvalidateForValue) {\r\n                        this._initModel();\r\n                        this._invalidate()\r\n                    }\r\n                    this._disableInvalidateForValue = false;\r\n                    this.executeAction(\"onValueChanged\", {\r\n                        value: args.value,\r\n                        previousValue: args.previousValue\r\n                    });\r\n                    this._disableInvalidateForValue = disableInvalidateForValue\r\n                }\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    getFilterExpression: function() {\r\n        var fields = this._getNormalizedFields();\r\n        var value = (0, _extend.extend)(true, [], this._model);\r\n        return (0, _utils2.getFilterExpression)((0, _utils2.getNormalizedFilter)(value), fields, this._customOperations, SOURCE)\r\n    },\r\n    _getNormalizedFields: function() {\r\n        return (0, _utils2.getNormalizedFields)(this.option(\"fields\"))\r\n    },\r\n    _updateFilter: function() {\r\n        this._disableInvalidateForValue = true;\r\n        var value = (0, _extend.extend)(true, [], this._model);\r\n        var normalizedValue = (0, _utils2.getNormalizedFilter)(value);\r\n        var oldValue = (0, _utils2.getNormalizedFilter)(this._getModel(this.option(\"value\")));\r\n        if (JSON.stringify(oldValue) !== JSON.stringify(normalizedValue)) {\r\n            this.option(\"value\", normalizedValue)\r\n        }\r\n        this._disableInvalidateForValue = false;\r\n        this._fireContentReadyAction()\r\n    },\r\n    _init: function() {\r\n        this._initCustomOperations();\r\n        this._initModel();\r\n        this._initEditorFactory();\r\n        this._initActions();\r\n        this.callBase()\r\n    },\r\n    _initEditorFactory: function() {\r\n        this._editorFactory = new EditorFactory\r\n    },\r\n    _initCustomOperations: function() {\r\n        this._customOperations = (0, _utils2.getMergedOperations)(this.option(\"customOperations\"), this.option(\"filterOperationDescriptions.between\"), this)\r\n    },\r\n    _getModel: function(value) {\r\n        return (0, _utils2.convertToInnerStructure)(value, this._customOperations)\r\n    },\r\n    _initModel: function() {\r\n        this._model = this._getModel(this.option(\"value\"))\r\n    },\r\n    _initActions: function() {\r\n        var that = this;\r\n        that._actions = {};\r\n        ACTIONS.forEach(function(action) {\r\n            var actionConfig = (0, _extend.extend)({}, action.config);\r\n            that._actions[action.name] = that._createActionByOption(action.name, actionConfig)\r\n        })\r\n    },\r\n    executeAction: function(actionName, options) {\r\n        var action = this._actions[actionName];\r\n        return action && action(options)\r\n    },\r\n    _initMarkup: function() {\r\n        this.$element().addClass(FILTER_BUILDER_CLASS);\r\n        this.callBase();\r\n        this._createGroupElementByCriteria(this._model).appendTo(this.$element())\r\n    },\r\n    _createConditionElement: function(condition, parent) {\r\n        return (0, _renderer.default)(\"<div>\").addClass(FILTER_BUILDER_GROUP_CLASS).append(this._createConditionItem(condition, parent))\r\n    },\r\n    _createGroupElementByCriteria: function(criteria, parent) {\r\n        var groupLevel = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;\r\n        var $group = this._createGroupElement(criteria, parent, groupLevel);\r\n        var $groupContent = $group.find(\".\" + FILTER_BUILDER_GROUP_CONTENT_CLASS);\r\n        var groupCriteria = (0, _utils2.getGroupCriteria)(criteria);\r\n        for (var i = 0; i < groupCriteria.length; i++) {\r\n            var innerCriteria = groupCriteria[i];\r\n            if ((0, _utils2.isGroup)(innerCriteria)) {\r\n                this._createGroupElementByCriteria(innerCriteria, groupCriteria, groupLevel + 1).appendTo($groupContent)\r\n            } else {\r\n                if ((0, _utils2.isCondition)(innerCriteria)) {\r\n                    this._createConditionElement(innerCriteria, groupCriteria).appendTo($groupContent)\r\n                }\r\n            }\r\n        }\r\n        return $group\r\n    },\r\n    _createGroupElement: function(criteria, parent, groupLevel) {\r\n        var _this = this;\r\n        var $groupItem = (0, _renderer.default)(\"<div>\").addClass(FILTER_BUILDER_GROUP_ITEM_CLASS);\r\n        var $groupContent = (0, _renderer.default)(\"<div>\").addClass(FILTER_BUILDER_GROUP_CONTENT_CLASS);\r\n        var $group = (0, _renderer.default)(\"<div>\").addClass(FILTER_BUILDER_GROUP_CLASS).append($groupItem).append($groupContent);\r\n        if (null != parent) {\r\n            this._createRemoveButton(function() {\r\n                (0, _utils2.removeItem)(parent, criteria);\r\n                $group.remove();\r\n                _this._updateFilter()\r\n            }).appendTo($groupItem)\r\n        }\r\n        this._createGroupOperationButton(criteria).appendTo($groupItem);\r\n        this._createAddButton(function() {\r\n            var newGroup = (0, _utils2.createEmptyGroup)(_this.option(\"defaultGroupOperation\"));\r\n            (0, _utils2.addItem)(newGroup, criteria);\r\n            _this._createGroupElement(newGroup, criteria, groupLevel + 1).appendTo($groupContent);\r\n            _this._updateFilter()\r\n        }, function() {\r\n            var field = _this.option(\"fields\")[0];\r\n            var newCondition = (0, _utils2.createCondition)(field, _this._customOperations);\r\n            (0, _utils2.addItem)(newCondition, criteria);\r\n            _this._createConditionElement(newCondition, criteria).appendTo($groupContent);\r\n            _this._updateFilter()\r\n        }, groupLevel).appendTo($groupItem);\r\n        return $group\r\n    },\r\n    _createButton: function(caption) {\r\n        return (0, _renderer.default)(\"<div>\").text(caption)\r\n    },\r\n    _createGroupOperationButton: function(criteria) {\r\n        var _this2 = this;\r\n        var groupOperations = this._getGroupOperations(criteria);\r\n        var groupMenuItem = (0, _utils2.getGroupMenuItem)(criteria, groupOperations);\r\n        var caption = groupMenuItem.text;\r\n        var $operationButton = groupOperations && groupOperations.length < 2 ? this._createButton(caption).addClass(DISABLED_STATE_CLASS) : this._createButtonWithMenu({\r\n            caption: caption,\r\n            menu: {\r\n                items: groupOperations,\r\n                displayExpr: \"text\",\r\n                keyExpr: \"value\",\r\n                onItemClick: function(e) {\r\n                    if (groupMenuItem !== e.itemData) {\r\n                        (0, _utils2.setGroupValue)(criteria, e.itemData.value);\r\n                        $operationButton.html(e.itemData.text);\r\n                        groupMenuItem = e.itemData;\r\n                        _this2._updateFilter()\r\n                    }\r\n                },\r\n                onContentReady: function(e) {\r\n                    e.component.selectItem(groupMenuItem)\r\n                },\r\n                cssClass: FILTER_BUILDER_GROUP_OPERATIONS_CLASS\r\n            }\r\n        });\r\n        return $operationButton.addClass(FILTER_BUILDER_ITEM_TEXT_CLASS).addClass(FILTER_BUILDER_GROUP_OPERATION_CLASS).attr(\"tabindex\", 0)\r\n    },\r\n    _createButtonWithMenu: function(options) {\r\n        var that = this;\r\n        var removeMenu = function() {\r\n            that.$element().find(\".\" + ACTIVE_CLASS).removeClass(ACTIVE_CLASS);\r\n            that.$element().find(\".dx-overlay .dx-treeview\").remove();\r\n            that.$element().find(\".dx-overlay\").remove()\r\n        };\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var menuOnItemClickWrapper = function(handler) {\r\n            return function(e) {\r\n                handler(e);\r\n                if (\"dxclick\" === e.event.type) {\r\n                    removeMenu()\r\n                }\r\n            }\r\n        };\r\n        var position = rtlEnabled ? \"right\" : \"left\";\r\n        var $button = this._createButton(options.caption);\r\n        (0, _extend.extend)(options.menu, {\r\n            focusStateEnabled: true,\r\n            selectionMode: \"single\",\r\n            onItemClick: menuOnItemClickWrapper(options.menu.onItemClick),\r\n            onHiding: function(e) {\r\n                $button.removeClass(ACTIVE_CLASS)\r\n            },\r\n            position: {\r\n                my: position + \" top\",\r\n                at: position + \" bottom\",\r\n                offset: \"0 1\",\r\n                of: $button,\r\n                collision: \"flip\"\r\n            },\r\n            animation: null,\r\n            onHidden: function() {\r\n                removeMenu()\r\n            },\r\n            cssClass: FILTER_BUILDER_OVERLAY_CLASS + \" \" + options.menu.cssClass,\r\n            rtlEnabled: rtlEnabled\r\n        });\r\n        options.popup = {\r\n            onShown: function(info) {\r\n                var treeViewElement = (0, _renderer.default)(info.component.content()).find(\".dx-treeview\");\r\n                var treeView = treeViewElement.dxTreeView(\"instance\");\r\n                _events_engine.default.on(treeViewElement, \"keyup keydown\", function(e) {\r\n                    var keyName = (0, _index.normalizeKeyName)(e);\r\n                    if (\"keydown\" === e.type && keyName === TAB_KEY || \"keyup\" === e.type && (keyName === ESCAPE_KEY || keyName === ENTER_KEY)) {\r\n                        info.component.hide();\r\n                        _events_engine.default.trigger(options.menu.position.of, \"focus\")\r\n                    }\r\n                });\r\n                treeView.focus();\r\n                treeView.option(\"focusedElement\", null)\r\n            }\r\n        };\r\n        this._subscribeOnClickAndEnterKey($button, function() {\r\n            removeMenu();\r\n            that._createPopupWithTreeView(options, that.$element());\r\n            $button.addClass(ACTIVE_CLASS)\r\n        });\r\n        return $button\r\n    },\r\n    _hasValueButton: function(condition) {\r\n        var customOperation = (0, _utils2.getCustomOperation)(this._customOperations, condition[1]);\r\n        return customOperation ? false !== customOperation.hasValue : null !== condition[2]\r\n    },\r\n    _createOperationButtonWithMenu: function(condition, field) {\r\n        var _this3 = this;\r\n        var that = this;\r\n        var availableOperations = (0, _utils2.getAvailableOperations)(field, this.option(\"filterOperationDescriptions\"), this._customOperations);\r\n        var currentOperation = (0, _utils2.getOperationFromAvailable)((0, _utils2.getOperationValue)(condition), availableOperations);\r\n        var $operationButton = this._createButtonWithMenu({\r\n            caption: currentOperation.text,\r\n            menu: {\r\n                items: availableOperations,\r\n                displayExpr: \"text\",\r\n                onItemRendered: function(e) {\r\n                    e.itemData.isCustom && (0, _renderer.default)(e.itemElement).addClass(FILTER_BUILDER_MENU_CUSTOM_OPERATION_CLASS)\r\n                },\r\n                onContentReady: function(e) {\r\n                    e.component.selectItem(currentOperation)\r\n                },\r\n                onItemClick: function(e) {\r\n                    if (currentOperation !== e.itemData) {\r\n                        currentOperation = e.itemData;\r\n                        (0, _utils2.updateConditionByOperation)(condition, currentOperation.value, that._customOperations);\r\n                        var $valueButton = $operationButton.siblings().filter(\".\" + FILTER_BUILDER_ITEM_VALUE_CLASS);\r\n                        if (that._hasValueButton(condition)) {\r\n                            if (0 !== $valueButton.length) {\r\n                                $valueButton.remove()\r\n                            }\r\n                            that._createValueButton(condition, field).appendTo($operationButton.parent())\r\n                        } else {\r\n                            $valueButton.remove()\r\n                        }\r\n                        $operationButton.html(currentOperation.text);\r\n                        _this3._updateFilter()\r\n                    }\r\n                },\r\n                cssClass: FILTER_BUILDER_FILTER_OPERATIONS_CLASS\r\n            }\r\n        }).addClass(FILTER_BUILDER_ITEM_TEXT_CLASS).addClass(FILTER_BUILDER_ITEM_OPERATION_CLASS).attr(\"tabindex\", 0);\r\n        return $operationButton\r\n    },\r\n    _createOperationAndValueButtons: function(condition, field, $item) {\r\n        this._createOperationButtonWithMenu(condition, field).appendTo($item);\r\n        if (this._hasValueButton(condition)) {\r\n            this._createValueButton(condition, field).appendTo($item)\r\n        }\r\n    },\r\n    _createFieldButtonWithMenu: function(fields, condition, field) {\r\n        var _this4 = this;\r\n        var that = this;\r\n        var allowHierarchicalFields = this.option(\"allowHierarchicalFields\");\r\n        var items = (0, _utils2.getItems)(fields, allowHierarchicalFields);\r\n        var item = (0, _utils2.getField)(field.name || field.dataField, items);\r\n        var getFullCaption = function(item, items) {\r\n            return allowHierarchicalFields ? (0, _utils2.getCaptionWithParents)(item, items) : item.caption\r\n        };\r\n        var $fieldButton = this._createButtonWithMenu({\r\n            caption: getFullCaption(item, items),\r\n            menu: {\r\n                items: items,\r\n                dataStructure: \"plain\",\r\n                keyExpr: \"id\",\r\n                parentId: \"parentId\",\r\n                displayExpr: \"caption\",\r\n                onItemClick: function(e) {\r\n                    if (item !== e.itemData) {\r\n                        item = e.itemData;\r\n                        condition[0] = item.name || item.dataField;\r\n                        condition[2] = \"object\" === item.dataType ? null : \"\";\r\n                        (0, _utils2.updateConditionByOperation)(condition, (0, _utils2.getDefaultOperation)(item), that._customOperations);\r\n                        $fieldButton.siblings().filter(\".\" + FILTER_BUILDER_ITEM_TEXT_CLASS).remove();\r\n                        that._createOperationAndValueButtons(condition, item, $fieldButton.parent());\r\n                        var caption = getFullCaption(item, e.component.option(\"items\"));\r\n                        $fieldButton.html(caption);\r\n                        _this4._updateFilter()\r\n                    }\r\n                },\r\n                onContentReady: function(e) {\r\n                    e.component.selectItem(item)\r\n                },\r\n                cssClass: FILTER_BUILDER_FIELDS_CLASS\r\n            }\r\n        }).addClass(FILTER_BUILDER_ITEM_TEXT_CLASS).addClass(FILTER_BUILDER_ITEM_FIELD_CLASS).attr(\"tabindex\", 0);\r\n        return $fieldButton\r\n    },\r\n    _createConditionItem: function(condition, parent) {\r\n        var _this5 = this;\r\n        var $item = (0, _renderer.default)(\"<div>\").addClass(FILTER_BUILDER_GROUP_ITEM_CLASS);\r\n        var fields = this._getNormalizedFields();\r\n        var field = (0, _utils2.getField)(condition[0], fields);\r\n        this._createRemoveButton(function() {\r\n            (0, _utils2.removeItem)(parent, condition);\r\n            var isSingleChild = 1 === $item.parent().children().length;\r\n            if (isSingleChild) {\r\n                $item.parent().remove()\r\n            } else {\r\n                $item.remove()\r\n            }\r\n            _this5._updateFilter()\r\n        }).appendTo($item);\r\n        this._createFieldButtonWithMenu(fields, condition, field).appendTo($item);\r\n        this._createOperationAndValueButtons(condition, field, $item);\r\n        return $item\r\n    },\r\n    _getGroupOperations: function(criteria) {\r\n        var groupOperations = this.option(\"groupOperations\");\r\n        var groupOperationDescriptions = this.option(\"groupOperationDescriptions\");\r\n        if (!groupOperations || !groupOperations.length) {\r\n            groupOperations = [(0, _utils2.getGroupValue)(criteria).replace(\"!\", \"not\")]\r\n        }\r\n        return groupOperations.map(function(operation) {\r\n            return {\r\n                text: groupOperationDescriptions[operation],\r\n                value: OPERATORS[operation]\r\n            }\r\n        })\r\n    },\r\n    _createRemoveButton: function(handler) {\r\n        var $removeButton = (0, _renderer.default)(\"<div>\").addClass(FILTER_BUILDER_IMAGE_CLASS).addClass(FILTER_BUILDER_IMAGE_REMOVE_CLASS).addClass(FILTER_BUILDER_ACTION_CLASS).attr(\"tabindex\", 0);\r\n        this._subscribeOnClickAndEnterKey($removeButton, handler);\r\n        return $removeButton\r\n    },\r\n    _createAddButton: function(addGroupHandler, addConditionHandler, groupLevel) {\r\n        var $button;\r\n        var maxGroupLevel = this.option(\"maxGroupLevel\");\r\n        if ((0, _type.isDefined)(maxGroupLevel) && groupLevel >= maxGroupLevel) {\r\n            $button = this._createButton();\r\n            this._subscribeOnClickAndEnterKey($button, addConditionHandler)\r\n        } else {\r\n            $button = this._createButtonWithMenu({\r\n                menu: {\r\n                    items: [{\r\n                        caption: _message.default.format(\"dxFilterBuilder-addCondition\"),\r\n                        click: addConditionHandler\r\n                    }, {\r\n                        caption: _message.default.format(\"dxFilterBuilder-addGroup\"),\r\n                        click: addGroupHandler\r\n                    }],\r\n                    displayExpr: \"caption\",\r\n                    onItemClick: function(e) {\r\n                        e.itemData.click()\r\n                    },\r\n                    cssClass: FILTER_BUILDER_ADD_CONDITION_CLASS\r\n                }\r\n            })\r\n        }\r\n        return $button.addClass(FILTER_BUILDER_IMAGE_CLASS).addClass(FILTER_BUILDER_IMAGE_ADD_CLASS).addClass(FILTER_BUILDER_ACTION_CLASS).attr(\"tabindex\", 0)\r\n    },\r\n    _createValueText: function(item, field, $container) {\r\n        var that = this;\r\n        var $text = (0, _renderer.default)(\"<div>\").html(\"&nbsp;\").addClass(FILTER_BUILDER_ITEM_VALUE_TEXT_CLASS).attr(\"tabindex\", 0).appendTo($container);\r\n        var value = item[2];\r\n        var customOperation = (0, _utils2.getCustomOperation)(that._customOperations, item[1]);\r\n        if (!customOperation && field.lookup) {\r\n            (0, _utils2.getCurrentLookupValueText)(field, value, function(result) {\r\n                (0, _utils2.renderValueText)($text, result)\r\n            })\r\n        } else {\r\n            (0, _deferred.when)((0, _utils2.getCurrentValueText)(field, value, customOperation)).done(function(result) {\r\n                (0, _utils2.renderValueText)($text, result, customOperation)\r\n            })\r\n        }\r\n        that._subscribeOnClickAndEnterKey($text, function(e) {\r\n            if (\"keyup\" === e.type) {\r\n                e.stopPropagation()\r\n            }\r\n            that._createValueEditorWithEvents(item, field, $container)\r\n        });\r\n        return $text\r\n    },\r\n    _updateConditionValue: function(item, value, callback) {\r\n        var areValuesDifferent = item[2] !== value;\r\n        if (areValuesDifferent) {\r\n            item[2] = value\r\n        }\r\n        callback();\r\n        this._updateFilter()\r\n    },\r\n    _addDocumentKeyUp: function($editor, handler) {\r\n        var isComposing = false;\r\n        var hasCompositionJustEnded = false;\r\n        var document = _dom_adapter.default.getDocument();\r\n        var documentKeyUpHandler = function(e) {\r\n            if (isComposing || hasCompositionJustEnded) {\r\n                hasCompositionJustEnded = false;\r\n                return\r\n            }\r\n            handler(e)\r\n        };\r\n        _events_engine.default.on(document, \"keyup\", documentKeyUpHandler);\r\n        var input = $editor.find(\"input\");\r\n        _events_engine.default.on(input, \"compositionstart\", function() {\r\n            isComposing = true\r\n        });\r\n        _events_engine.default.on(input, \"compositionend\", function() {\r\n            isComposing = false;\r\n            hasCompositionJustEnded = true\r\n        });\r\n        _events_engine.default.on(input, \"keydown\", function(event) {\r\n            if (229 !== event.which) {\r\n                hasCompositionJustEnded = false\r\n            }\r\n        });\r\n        this._documentKeyUpHandler = documentKeyUpHandler\r\n    },\r\n    _addDocumentClick: function($editor, closeEditorFunc) {\r\n        var _this6 = this;\r\n        var document = _dom_adapter.default.getDocument();\r\n        var documentClickHandler = function(e) {\r\n            if (!_this6._isFocusOnEditorParts($editor, e.target)) {\r\n                _events_engine.default.trigger($editor.find(\"input\"), \"change\");\r\n                closeEditorFunc()\r\n            }\r\n        };\r\n        _events_engine.default.on(document, \"dxpointerdown\", documentClickHandler);\r\n        this._documentClickHandler = documentClickHandler\r\n    },\r\n    _isFocusOnEditorParts: function($editor, target) {\r\n        var activeElement = target || _dom_adapter.default.getActiveElement();\r\n        return (0, _renderer.default)(activeElement).closest($editor.children()).length || (0, _renderer.default)(activeElement).closest(\".dx-dropdowneditor-overlay\").length\r\n    },\r\n    _removeEvents: function() {\r\n        var document = _dom_adapter.default.getDocument();\r\n        (0, _type.isDefined)(this._documentKeyUpHandler) && _events_engine.default.off(document, \"keyup\", this._documentKeyUpHandler);\r\n        (0, _type.isDefined)(this._documentClickHandler) && _events_engine.default.off(document, \"dxpointerdown\", this._documentClickHandler)\r\n    },\r\n    _dispose: function() {\r\n        this._removeEvents();\r\n        this.callBase()\r\n    },\r\n    _createValueEditorWithEvents: function(item, field, $container) {\r\n        var _this7 = this;\r\n        var value = item[2];\r\n        var createValueText = function() {\r\n            $container.empty();\r\n            _this7._removeEvents();\r\n            return _this7._createValueText(item, field, $container)\r\n        };\r\n        var closeEditor = function() {\r\n            _this7._updateConditionValue(item, value, function() {\r\n                createValueText()\r\n            })\r\n        };\r\n        var options = {\r\n            value: \"\" === value ? null : value,\r\n            filterOperation: (0, _utils2.getOperationValue)(item),\r\n            setValue: function(data) {\r\n                value = null === data ? \"\" : data\r\n            },\r\n            closeEditor: closeEditor,\r\n            text: $container.text()\r\n        };\r\n        $container.empty();\r\n        var $editor = this._createValueEditor($container, field, options);\r\n        _events_engine.default.trigger($editor.find(\"input\").not(\":hidden\").eq(0), \"focus\");\r\n        this._removeEvents();\r\n        this._addDocumentClick($editor, closeEditor);\r\n        this._addDocumentKeyUp($editor, function(e) {\r\n            var keyName = (0, _index.normalizeKeyName)(e);\r\n            if (keyName === TAB_KEY) {\r\n                if (_this7._isFocusOnEditorParts($editor)) {\r\n                    return\r\n                }\r\n                _this7._updateConditionValue(item, value, function() {\r\n                    createValueText();\r\n                    if (e.shiftKey) {\r\n                        _events_engine.default.trigger($container.prev(), \"focus\")\r\n                    }\r\n                })\r\n            }\r\n            if (keyName === ESCAPE_KEY) {\r\n                _events_engine.default.trigger(createValueText(), \"focus\")\r\n            }\r\n            if (keyName === ENTER_KEY) {\r\n                _this7._updateConditionValue(item, value, function() {\r\n                    _events_engine.default.trigger(createValueText(), \"focus\")\r\n                })\r\n            }\r\n        });\r\n        this._fireContentReadyAction()\r\n    },\r\n    _createValueButton: function(item, field) {\r\n        var $valueButton = (0, _renderer.default)(\"<div>\").addClass(FILTER_BUILDER_ITEM_TEXT_CLASS).addClass(FILTER_BUILDER_ITEM_VALUE_CLASS);\r\n        this._createValueText(item, field, $valueButton);\r\n        return $valueButton\r\n    },\r\n    _createValueEditor: function($container, field, options) {\r\n        var $editor = (0, _renderer.default)(\"<div>\").attr(\"tabindex\", 0).appendTo($container);\r\n        var customOperation = (0, _utils2.getCustomOperation)(this._customOperations, options.filterOperation);\r\n        var editorTemplate = customOperation && customOperation.editorTemplate ? customOperation.editorTemplate : field.editorTemplate;\r\n        if (editorTemplate) {\r\n            var template = this._getTemplate(editorTemplate);\r\n            template.render({\r\n                model: (0, _extend.extend)({\r\n                    field: field\r\n                }, options),\r\n                container: $editor\r\n            })\r\n        } else {\r\n            this._editorFactory.createEditor.call(this, $editor, (0, _extend.extend)({}, field, options, {\r\n                parentType: SOURCE\r\n            }))\r\n        }\r\n        return $editor\r\n    },\r\n    _createPopupWithTreeView: function(options, $container) {\r\n        var that = this;\r\n        var $popup = (0, _renderer.default)(\"<div>\").addClass(options.menu.cssClass).appendTo($container);\r\n        this._createComponent($popup, _popup.default, {\r\n            onHiding: options.menu.onHiding,\r\n            onHidden: options.menu.onHidden,\r\n            rtlEnabled: options.menu.rtlEnabled,\r\n            position: options.menu.position,\r\n            animation: options.menu.animation,\r\n            contentTemplate: function(contentElement) {\r\n                var $menuContainer = (0, _renderer.default)(\"<div>\").appendTo(contentElement);\r\n                that._createComponent($menuContainer, _tree_view.default, options.menu);\r\n                this.repaint()\r\n            },\r\n            maxHeight: function() {\r\n                return (0, _utils.getElementMaxHeightByWindow)(options.menu.position.of)\r\n            },\r\n            visible: true,\r\n            focusStateEnabled: false,\r\n            closeOnTargetScroll: this.option(\"closePopupOnTargetScroll\"),\r\n            closeOnOutsideClick: true,\r\n            onShown: options.popup.onShown,\r\n            shading: false,\r\n            width: \"auto\",\r\n            height: \"auto\",\r\n            showTitle: false\r\n        })\r\n    },\r\n    _subscribeOnClickAndEnterKey: function($button, handler) {\r\n        _events_engine.default.on($button, \"dxclick\", handler);\r\n        _events_engine.default.on($button, \"keyup\", function(e) {\r\n            if ((0, _index.normalizeKeyName)(e) === ENTER_KEY) {\r\n                handler(e)\r\n            }\r\n        })\r\n    }\r\n});\r\n(0, _component_registrator.default)(\"dxFilterBuilder\", FilterBuilder);\r\nvar _default = FilterBuilder;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.filter_panel.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.filter_panel\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"filterPanel\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.filter_panel.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _uiGrid_core2 = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _check_box = _interopRequireDefault(require(\"../check_box\"));\r\nvar _utils = require(\"../filter_builder/utils\");\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _inflector = require(\"../../core/utils/inflector\");\r\nvar _uiGrid_core3 = require(\"./ui.grid_core.accessibility\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar FILTER_PANEL_CLASS = \"filter-panel\";\r\nvar FILTER_PANEL_TEXT_CLASS = FILTER_PANEL_CLASS + \"-text\";\r\nvar FILTER_PANEL_CHECKBOX_CLASS = FILTER_PANEL_CLASS + \"-checkbox\";\r\nvar FILTER_PANEL_CLEAR_FILTER_CLASS = FILTER_PANEL_CLASS + \"-clear-filter\";\r\nvar FILTER_PANEL_LEFT_CONTAINER = FILTER_PANEL_CLASS + \"-left\";\r\nvar FILTER_PANEL_TARGET = \"filterPanel\";\r\nvar FilterPanelView = _uiGrid_core.default.View.inherit({\r\n    isVisible: function() {\r\n        return this.option(\"filterPanel.visible\") && this.getController(\"data\").dataSource()\r\n    },\r\n    init: function() {\r\n        var _this = this;\r\n        this.getController(\"data\").dataSourceChanged.add(function() {\r\n            return _this.render()\r\n        })\r\n    },\r\n    _renderCore: function() {\r\n        var that = this;\r\n        var $element = that.element();\r\n        $element.empty().addClass(that.addWidgetPrefix(FILTER_PANEL_CLASS));\r\n        var $leftContainer = (0, _renderer.default)(\"<div>\").addClass(that.addWidgetPrefix(FILTER_PANEL_LEFT_CONTAINER)).appendTo($element);\r\n        if (that.option(\"filterValue\") || that._filterValueBuffer) {\r\n            $leftContainer.append(that._getCheckElement()).append(that._getFilterElement()).append(that._getTextElement());\r\n            $element.append(that._getRemoveButtonElement())\r\n        } else {\r\n            $leftContainer.append(that._getFilterElement()).append(that._getTextElement())\r\n        }\r\n    },\r\n    _getCheckElement: function() {\r\n        var that = this;\r\n        var $element = (0, _renderer.default)(\"<div>\").addClass(this.addWidgetPrefix(FILTER_PANEL_CHECKBOX_CLASS));\r\n        that._createComponent($element, _check_box.default, {\r\n            value: that.option(\"filterPanel.filterEnabled\"),\r\n            onValueChanged: function(e) {\r\n                that.option(\"filterPanel.filterEnabled\", e.value)\r\n            }\r\n        });\r\n        $element.attr(\"title\", this.option(\"filterPanel.texts.filterEnabledHint\"));\r\n        return $element\r\n    },\r\n    _getFilterElement: function() {\r\n        var that = this;\r\n        var $element = (0, _renderer.default)(\"<div>\").addClass(\"dx-icon-filter\");\r\n        _events_engine.default.on($element, \"click\", function() {\r\n            return that._showFilterBuilder()\r\n        });\r\n        (0, _uiGrid_core3.registerKeyboardAction)(\"filterPanel\", that, $element, void 0, function() {\r\n            return that._showFilterBuilder()\r\n        });\r\n        that._addTabIndexToElement($element);\r\n        return $element\r\n    },\r\n    _getTextElement: function() {\r\n        var that = this;\r\n        var $textElement = (0, _renderer.default)(\"<div>\").addClass(that.addWidgetPrefix(FILTER_PANEL_TEXT_CLASS));\r\n        var filterText;\r\n        var filterValue = that.option(\"filterValue\");\r\n        if (filterValue) {\r\n            (0, _deferred.when)(that.getFilterText(filterValue, that.getController(\"filterSync\").getCustomFilterOperations())).done(function(filterText) {\r\n                var customizeText = that.option(\"filterPanel.customizeText\");\r\n                if (customizeText) {\r\n                    var customText = customizeText({\r\n                        component: that.component,\r\n                        filterValue: filterValue,\r\n                        text: filterText\r\n                    });\r\n                    if (\"string\" === typeof customText) {\r\n                        filterText = customText\r\n                    }\r\n                }\r\n                $textElement.text(filterText)\r\n            })\r\n        } else {\r\n            filterText = that.option(\"filterPanel.texts.createFilter\");\r\n            $textElement.text(filterText)\r\n        }\r\n        _events_engine.default.on($textElement, \"click\", function() {\r\n            return that._showFilterBuilder()\r\n        });\r\n        (0, _uiGrid_core3.registerKeyboardAction)(\"filterPanel\", that, $textElement, void 0, function() {\r\n            return that._showFilterBuilder()\r\n        });\r\n        that._addTabIndexToElement($textElement);\r\n        return $textElement\r\n    },\r\n    _showFilterBuilder: function() {\r\n        this.option(\"filterBuilderPopup.visible\", true)\r\n    },\r\n    _getRemoveButtonElement: function() {\r\n        var that = this;\r\n        var clearFilterValue = function() {\r\n            return that.option(\"filterValue\", null)\r\n        };\r\n        var $element = (0, _renderer.default)(\"<div>\").addClass(that.addWidgetPrefix(FILTER_PANEL_CLEAR_FILTER_CLASS)).text(that.option(\"filterPanel.texts.clearFilter\"));\r\n        _events_engine.default.on($element, \"click\", clearFilterValue);\r\n        (0, _uiGrid_core3.registerKeyboardAction)(\"filterPanel\", this, $element, void 0, clearFilterValue);\r\n        that._addTabIndexToElement($element);\r\n        return $element\r\n    },\r\n    _addTabIndexToElement: function($element) {\r\n        if (!this.option(\"useLegacyKeyboardNavigation\")) {\r\n            var tabindex = this.option(\"tabindex\") || 0;\r\n            $element.attr(\"tabindex\", tabindex)\r\n        }\r\n    },\r\n    optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"filterValue\":\r\n                this._invalidate();\r\n                this.option(\"filterPanel.filterEnabled\", true);\r\n                args.handled = true;\r\n                break;\r\n            case \"filterPanel\":\r\n                this._invalidate();\r\n                args.handled = true;\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _getConditionText: function(fieldText, operationText, valueText) {\r\n        var result = \"[\".concat(fieldText, \"] \").concat(operationText);\r\n        if ((0, _type.isDefined)(valueText)) {\r\n            result += valueText\r\n        }\r\n        return result\r\n    },\r\n    _getValueMaskedText: function(value) {\r\n        return Array.isArray(value) ? \"('\".concat(value.join(\"', '\"), \"')\") : \" '\".concat(value, \"'\")\r\n    },\r\n    _getValueText: function(field, customOperation, value) {\r\n        var _this2 = this;\r\n        var deferred = new _deferred.Deferred;\r\n        var hasCustomOperation = customOperation && customOperation.customizeText;\r\n        if ((0, _type.isDefined)(value) || hasCustomOperation) {\r\n            if (!hasCustomOperation && field.lookup) {\r\n                (0, _utils.getCurrentLookupValueText)(field, value, function(data) {\r\n                    deferred.resolve(_this2._getValueMaskedText(data))\r\n                })\r\n            } else {\r\n                var displayValue = Array.isArray(value) ? value : _uiGrid_core2.default.getDisplayValue(field, value);\r\n                (0, _deferred.when)((0, _utils.getCurrentValueText)(field, displayValue, customOperation, FILTER_PANEL_TARGET)).done(function(data) {\r\n                    deferred.resolve(_this2._getValueMaskedText(data))\r\n                })\r\n            }\r\n        } else {\r\n            deferred.resolve(\"\")\r\n        }\r\n        return deferred.promise()\r\n    },\r\n    getConditionText: function(filterValue, options) {\r\n        var that = this;\r\n        var operation = filterValue[1];\r\n        var deferred = new _deferred.Deferred;\r\n        var customOperation = (0, _utils.getCustomOperation)(options.customOperations, operation);\r\n        var operationText;\r\n        var field = (0, _utils.getField)(filterValue[0], options.columns);\r\n        var fieldText = field.caption || \"\";\r\n        var value = filterValue[2];\r\n        if (customOperation) {\r\n            operationText = customOperation.caption || (0, _inflector.captionize)(customOperation.name)\r\n        } else {\r\n            if (null === value) {\r\n                operationText = (0, _utils.getCaptionByOperation)(\"=\" === operation ? \"isblank\" : \"isnotblank\", options.filterOperationDescriptions)\r\n            } else {\r\n                operationText = (0, _utils.getCaptionByOperation)(operation, options.filterOperationDescriptions)\r\n            }\r\n        }\r\n        this._getValueText(field, customOperation, value).done(function(valueText) {\r\n            deferred.resolve(that._getConditionText(fieldText, operationText, valueText))\r\n        });\r\n        return deferred\r\n    },\r\n    getGroupText: function(filterValue, options, isInnerGroup) {\r\n        var that = this;\r\n        var result = new _deferred.Deferred;\r\n        var textParts = [];\r\n        var groupValue = (0, _utils.getGroupValue)(filterValue);\r\n        filterValue.forEach(function(item) {\r\n            if ((0, _utils.isCondition)(item)) {\r\n                textParts.push(that.getConditionText(item, options))\r\n            } else {\r\n                if ((0, _utils.isGroup)(item)) {\r\n                    textParts.push(that.getGroupText(item, options, true))\r\n                }\r\n            }\r\n        });\r\n        _deferred.when.apply(this, textParts).done(function() {\r\n            var text;\r\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n                args[_key] = arguments[_key]\r\n            }\r\n            if (\"!\" === groupValue[0]) {\r\n                var groupText = options.groupOperationDescriptions[\"not\" + groupValue.substring(1, 2).toUpperCase() + groupValue.substring(2)].split(\" \");\r\n                text = \"\".concat(groupText[0], \" \").concat(args[0])\r\n            } else {\r\n                text = args.join(\" \".concat(options.groupOperationDescriptions[groupValue], \" \"))\r\n            }\r\n            if (isInnerGroup) {\r\n                text = \"(\".concat(text, \")\")\r\n            }\r\n            result.resolve(text)\r\n        });\r\n        return result\r\n    },\r\n    getFilterText: function(filterValue, customOperations) {\r\n        var that = this;\r\n        var options = {\r\n            customOperations: customOperations,\r\n            columns: that.getController(\"columns\").getFilteringColumns(),\r\n            filterOperationDescriptions: that.option(\"filterBuilder.filterOperationDescriptions\"),\r\n            groupOperationDescriptions: that.option(\"filterBuilder.groupOperationDescriptions\")\r\n        };\r\n        return (0, _utils.isCondition)(filterValue) ? that.getConditionText(filterValue, options) : that.getGroupText(filterValue, options)\r\n    }\r\n});\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            filterPanel: {\r\n                visible: false,\r\n                filterEnabled: true,\r\n                texts: {\r\n                    createFilter: _message.default.format(\"dxDataGrid-filterPanelCreateFilter\"),\r\n                    clearFilter: _message.default.format(\"dxDataGrid-filterPanelClearFilter\"),\r\n                    filterEnabledHint: _message.default.format(\"dxDataGrid-filterPanelFilterEnabledHint\")\r\n                }\r\n            }\r\n        }\r\n    },\r\n    views: {\r\n        filterPanelView: FilterPanelView\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                optionChanged: function(args) {\r\n                    switch (args.name) {\r\n                        case \"filterPanel\":\r\n                            this._applyFilter();\r\n                            args.handled = true;\r\n                            break;\r\n                        default:\r\n                            this.callBase(args)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.search.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.search\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"search\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.search.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _dom_adapter = _interopRequireDefault(require(\"../../core/dom_adapter\"));\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _data = require(\"../../core/utils/data\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _query = _interopRequireDefault(require(\"../../data/query\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar SEARCH_PANEL_CLASS = \"search-panel\";\r\nvar SEARCH_TEXT_CLASS = \"search-text\";\r\nvar HEADER_PANEL_CLASS = \"header-panel\";\r\nvar FILTERING_TIMEOUT = 700;\r\n\r\nfunction allowSearch(column) {\r\n    return (0, _type.isDefined)(column.allowSearch) ? column.allowSearch : column.allowFiltering\r\n}\r\n\r\nfunction parseValue(column, text) {\r\n    var lookup = column.lookup;\r\n    if (!column.parseValue) {\r\n        return text\r\n    }\r\n    if (lookup) {\r\n        return column.parseValue.call(lookup, text)\r\n    }\r\n    return column.parseValue(text)\r\n}\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            searchPanel: {\r\n                visible: false,\r\n                width: 160,\r\n                placeholder: _message.default.format(\"dxDataGrid-searchPanelPlaceholder\"),\r\n                highlightSearchText: true,\r\n                highlightCaseSensitive: false,\r\n                text: \"\",\r\n                searchVisibleColumnsOnly: false\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: function() {\r\n                var calculateSearchFilter = function(that, text) {\r\n                    var i;\r\n                    var column;\r\n                    var columns = that._columnsController.getColumns();\r\n                    var searchVisibleColumnsOnly = that.option(\"searchPanel.searchVisibleColumnsOnly\");\r\n                    var lookup;\r\n                    var filters = [];\r\n                    if (!text) {\r\n                        return null\r\n                    }\r\n\r\n                    function onQueryDone(items) {\r\n                        var valueGetter = (0, _data.compileGetter)(lookup.valueExpr);\r\n                        for (var _i = 0; _i < items.length; _i++) {\r\n                            var value = valueGetter(items[_i]);\r\n                            filters.push(column.createFilterExpression(value, null, \"search\"))\r\n                        }\r\n                    }\r\n                    for (i = 0; i < columns.length; i++) {\r\n                        column = columns[i];\r\n                        if (searchVisibleColumnsOnly && !column.visible) {\r\n                            continue\r\n                        }\r\n                        if (allowSearch(column) && column.calculateFilterExpression) {\r\n                            lookup = column.lookup;\r\n                            var filterValue = parseValue(column, text);\r\n                            if (lookup && lookup.items) {\r\n                                (0, _query.default)(lookup.items).filter(column.createFilterExpression.call({\r\n                                    dataField: lookup.displayExpr,\r\n                                    dataType: lookup.dataType,\r\n                                    calculateFilterExpression: column.calculateFilterExpression\r\n                                }, filterValue, null, \"search\")).enumerate().done(onQueryDone)\r\n                            } else {\r\n                                if (void 0 !== filterValue) {\r\n                                    filters.push(column.createFilterExpression(filterValue, null, \"search\"))\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    return _uiGrid_core.default.combineFilters(filters, \"or\")\r\n                };\r\n                return {\r\n                    publicMethods: function() {\r\n                        return this.callBase().concat([\"searchByText\"])\r\n                    },\r\n                    _calculateAdditionalFilter: function() {\r\n                        var that = this;\r\n                        var filter = that.callBase();\r\n                        var searchFilter = calculateSearchFilter(that, that.option(\"searchPanel.text\"));\r\n                        return _uiGrid_core.default.combineFilters([filter, searchFilter])\r\n                    },\r\n                    searchByText: function(text) {\r\n                        this.option(\"searchPanel.text\", text)\r\n                    },\r\n                    optionChanged: function(args) {\r\n                        var that = this;\r\n                        switch (args.fullName) {\r\n                            case \"searchPanel.text\":\r\n                            case \"searchPanel\":\r\n                                that._applyFilter();\r\n                                args.handled = true;\r\n                                break;\r\n                            default:\r\n                                that.callBase(args)\r\n                        }\r\n                    }\r\n                }\r\n            }()\r\n        },\r\n        views: {\r\n            headerPanel: function() {\r\n                var getSearchPanelOptions = function(that) {\r\n                    return that.option(\"searchPanel\")\r\n                };\r\n                return {\r\n                    _getToolbarItems: function() {\r\n                        var items = this.callBase();\r\n                        return this._prepareSearchItem(items)\r\n                    },\r\n                    _prepareSearchItem: function(items) {\r\n                        var that = this;\r\n                        var dataController = that.getController(\"data\");\r\n                        var searchPanelOptions = getSearchPanelOptions(that);\r\n                        if (searchPanelOptions && searchPanelOptions.visible) {\r\n                            var toolbarItem = {\r\n                                template: function(data, index, container) {\r\n                                    var $search = (0, _renderer.default)(\"<div>\").addClass(that.addWidgetPrefix(SEARCH_PANEL_CLASS)).appendTo(container);\r\n                                    that.getController(\"editorFactory\").createEditor($search, {\r\n                                        width: searchPanelOptions.width,\r\n                                        placeholder: searchPanelOptions.placeholder,\r\n                                        parentType: \"searchPanel\",\r\n                                        value: that.option(\"searchPanel.text\"),\r\n                                        updateValueTimeout: FILTERING_TIMEOUT,\r\n                                        setValue: function(value) {\r\n                                            dataController.searchByText(value)\r\n                                        },\r\n                                        editorOptions: {\r\n                                            inputAttr: {\r\n                                                \"aria-label\": _message.default.format(\"dxDataGrid-ariaSearchInGrid\")\r\n                                            }\r\n                                        }\r\n                                    });\r\n                                    that.resize()\r\n                                },\r\n                                name: \"searchPanel\",\r\n                                location: \"after\",\r\n                                locateInMenu: \"never\",\r\n                                sortIndex: 40\r\n                            };\r\n                            items.push(toolbarItem)\r\n                        }\r\n                        return items\r\n                    },\r\n                    getSearchTextEditor: function() {\r\n                        var that = this;\r\n                        var $element = that.element();\r\n                        var $searchPanel = $element.find(\".\" + that.addWidgetPrefix(SEARCH_PANEL_CLASS)).filter(function() {\r\n                            return (0, _renderer.default)(this).closest(\".\" + that.addWidgetPrefix(HEADER_PANEL_CLASS)).is($element)\r\n                        });\r\n                        if ($searchPanel.length) {\r\n                            return $searchPanel.dxTextBox(\"instance\")\r\n                        }\r\n                        return null\r\n                    },\r\n                    isVisible: function() {\r\n                        var searchPanelOptions = getSearchPanelOptions(this);\r\n                        return this.callBase() || searchPanelOptions && searchPanelOptions.visible\r\n                    },\r\n                    optionChanged: function(args) {\r\n                        if (\"searchPanel\" === args.name) {\r\n                            if (\"searchPanel.text\" === args.fullName) {\r\n                                var editor = this.getSearchTextEditor();\r\n                                if (editor) {\r\n                                    editor.option(\"value\", args.value)\r\n                                }\r\n                            } else {\r\n                                this._invalidate()\r\n                            }\r\n                            args.handled = true\r\n                        } else {\r\n                            this.callBase(args)\r\n                        }\r\n                    }\r\n                }\r\n            }(),\r\n            rowsView: {\r\n                init: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    this._searchParams = []\r\n                },\r\n                _getFormattedSearchText: function(column, searchText) {\r\n                    var value = parseValue(column, searchText);\r\n                    var formatOptions = _uiGrid_core.default.getFormatOptionsByColumn(column, \"search\");\r\n                    return _uiGrid_core.default.formatValue(value, formatOptions)\r\n                },\r\n                _getStringNormalizer: function() {\r\n                    var isCaseSensitive = this.option(\"searchPanel.highlightCaseSensitive\");\r\n                    return function(str) {\r\n                        return isCaseSensitive ? str : str.toLowerCase()\r\n                    }\r\n                },\r\n                _findHighlightingTextNodes: function(column, cellElement, searchText) {\r\n                    var that = this;\r\n                    var $parent = cellElement.parent();\r\n                    var $items;\r\n                    var stringNormalizer = this._getStringNormalizer();\r\n                    var normalizedSearchText = stringNormalizer(searchText);\r\n                    if (!$parent.length) {\r\n                        $parent = (0, _renderer.default)(\"<div>\").append(cellElement)\r\n                    } else {\r\n                        if (column) {\r\n                            if (column.groupIndex >= 0 && !column.showWhenGrouped) {\r\n                                $items = cellElement\r\n                            } else {\r\n                                var columnIndex = that._columnsController.getVisibleIndex(column.index);\r\n                                $items = $parent.children(\"td\").eq(columnIndex).find(\"*\")\r\n                            }\r\n                        }\r\n                    }\r\n                    $items = $items && $items.length ? $items : $parent.find(\"*\");\r\n                    $items = $items.filter(function(_, element) {\r\n                        var $contents = (0, _renderer.default)(element).contents();\r\n                        for (var i = 0; i < $contents.length; i++) {\r\n                            var node = $contents.get(i);\r\n                            if (3 === node.nodeType) {\r\n                                return stringNormalizer(node.textContent || node.nodeValue).indexOf(normalizedSearchText) > -1\r\n                            }\r\n                            return false\r\n                        }\r\n                    });\r\n                    return $items\r\n                },\r\n                _highlightSearchTextCore: function($textNode, searchText) {\r\n                    var that = this;\r\n                    var $searchTextSpan = (0, _renderer.default)(\"<span>\").addClass(that.addWidgetPrefix(SEARCH_TEXT_CLASS));\r\n                    var text = $textNode.text();\r\n                    var firstContentElement = $textNode[0];\r\n                    var stringNormalizer = this._getStringNormalizer();\r\n                    var index = stringNormalizer(text).indexOf(stringNormalizer(searchText));\r\n                    if (index >= 0) {\r\n                        if (firstContentElement.textContent) {\r\n                            firstContentElement.textContent = text.substr(0, index)\r\n                        } else {\r\n                            firstContentElement.nodeValue = text.substr(0, index)\r\n                        }\r\n                        $textNode.after($searchTextSpan.text(text.substr(index, searchText.length)));\r\n                        $textNode = (0, _renderer.default)(_dom_adapter.default.createTextNode(text.substr(index + searchText.length))).insertAfter($searchTextSpan);\r\n                        return that._highlightSearchTextCore($textNode, searchText)\r\n                    }\r\n                },\r\n                _highlightSearchText: function(cellElement, isEquals, column) {\r\n                    var that = this;\r\n                    var stringNormalizer = this._getStringNormalizer();\r\n                    var searchText = that.option(\"searchPanel.text\");\r\n                    if (isEquals && column) {\r\n                        searchText = searchText && that._getFormattedSearchText(column, searchText)\r\n                    }\r\n                    if (searchText && that.option(\"searchPanel.highlightSearchText\")) {\r\n                        var textNodes = that._findHighlightingTextNodes(column, cellElement, searchText);\r\n                        (0, _iterator.each)(textNodes, function(_, element) {\r\n                            (0, _iterator.each)((0, _renderer.default)(element).contents(), function(_, textNode) {\r\n                                if (isEquals) {\r\n                                    if (stringNormalizer((0, _renderer.default)(textNode).text()) === stringNormalizer(searchText)) {\r\n                                        (0, _renderer.default)(this).replaceWith((0, _renderer.default)(\"<span>\").addClass(that.addWidgetPrefix(SEARCH_TEXT_CLASS)).text((0, _renderer.default)(textNode).text()))\r\n                                    }\r\n                                } else {\r\n                                    that._highlightSearchTextCore((0, _renderer.default)(textNode), searchText)\r\n                                }\r\n                            })\r\n                        })\r\n                    }\r\n                },\r\n                _renderCore: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (this.option(\"rowTemplate\")) {\r\n                        if (this.option(\"templatesRenderAsynchronously\")) {\r\n                            clearTimeout(this._highlightTimer);\r\n                            this._highlightTimer = setTimeout(function() {\r\n                                this._highlightSearchText(this._getTableElement())\r\n                            }.bind(this))\r\n                        } else {\r\n                            this._highlightSearchText(this._getTableElement())\r\n                        }\r\n                    }\r\n                },\r\n                _updateCell: function($cell, parameters) {\r\n                    var column = parameters.column;\r\n                    var dataType = column.lookup && column.lookup.dataType || column.dataType;\r\n                    var isEquals = \"string\" !== dataType;\r\n                    if (allowSearch(column)) {\r\n                        if (this.option(\"templatesRenderAsynchronously\")) {\r\n                            if (!this._searchParams.length) {\r\n                                clearTimeout(this._highlightTimer);\r\n                                this._highlightTimer = setTimeout(function() {\r\n                                    this._searchParams.forEach(function(params) {\r\n                                        this._highlightSearchText.apply(this, params)\r\n                                    }.bind(this));\r\n                                    this._searchParams = []\r\n                                }.bind(this))\r\n                            }\r\n                            this._searchParams.push([$cell, isEquals, column])\r\n                        } else {\r\n                            this._highlightSearchText($cell, isEquals, column)\r\n                        }\r\n                    }\r\n                    this.callBase($cell, parameters)\r\n                },\r\n                dispose: function() {\r\n                    clearTimeout(this._highlightTimer);\r\n                    this.callBase()\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.pager.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.pager\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"pager\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.pager.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _pager = _interopRequireDefault(require(\"../pager\"));\r\nvar _array = require(\"../../core/utils/array\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _window = require(\"../../core/utils/window\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar PAGER_CLASS = \"pager\";\r\nvar MAX_PAGES_COUNT = 10;\r\nvar getPageIndex = function(dataController) {\r\n    return 1 + (parseInt(dataController.pageIndex()) || 0)\r\n};\r\nvar PagerView = _uiGrid_core.default.View.inherit({\r\n    init: function() {\r\n        var that = this;\r\n        var dataController = that.getController(\"data\");\r\n        that._isVisible = false;\r\n        dataController.changed.add(function(e) {\r\n            if (e && e.repaintChangesOnly) {\r\n                var pager = that._getPager();\r\n                if (pager) {\r\n                    pager.option({\r\n                        pageIndex: getPageIndex(dataController),\r\n                        pageSize: dataController.pageSize(),\r\n                        pageCount: dataController.pageCount(),\r\n                        totalCount: dataController.totalCount(),\r\n                        hasKnownLastPage: dataController.hasKnownLastPage()\r\n                    })\r\n                } else {\r\n                    that.render()\r\n                }\r\n            } else {\r\n                if (!e || \"update\" !== e.changeType && \"updateSelection\" !== e.changeType) {\r\n                    that.render()\r\n                }\r\n            }\r\n        })\r\n    },\r\n    _getPager: function() {\r\n        var $element = this.element();\r\n        return $element && $element.data(\"dxPager\")\r\n    },\r\n    _renderCore: function() {\r\n        var that = this;\r\n        var $element = that.element().addClass(that.addWidgetPrefix(PAGER_CLASS));\r\n        var pagerOptions = that.option(\"pager\") || {};\r\n        var dataController = that.getController(\"data\");\r\n        var keyboardController = that.getController(\"keyboardNavigation\");\r\n        var options = {\r\n            maxPagesCount: MAX_PAGES_COUNT,\r\n            pageIndex: getPageIndex(dataController),\r\n            pageCount: dataController.pageCount(),\r\n            pageSize: dataController.pageSize(),\r\n            showPageSizes: pagerOptions.showPageSizeSelector,\r\n            showInfo: pagerOptions.showInfo,\r\n            displayMode: pagerOptions.displayMode,\r\n            pagesNavigatorVisible: pagerOptions.visible,\r\n            showNavigationButtons: pagerOptions.showNavigationButtons,\r\n            pageSizes: that.getPageSizes(),\r\n            totalCount: dataController.totalCount(),\r\n            hasKnownLastPage: dataController.hasKnownLastPage(),\r\n            pageIndexChanged: function(pageIndex) {\r\n                if (dataController.pageIndex() !== pageIndex - 1) {\r\n                    setTimeout(function() {\r\n                        dataController.pageIndex(pageIndex - 1)\r\n                    })\r\n                }\r\n            },\r\n            pageSizeChanged: function(pageSize) {\r\n                setTimeout(function() {\r\n                    dataController.pageSize(pageSize)\r\n                })\r\n            },\r\n            onKeyDown: function(e) {\r\n                return keyboardController && keyboardController.executeAction(\"onKeyDown\", e)\r\n            },\r\n            useLegacyKeyboardNavigation: this.option(\"useLegacyKeyboardNavigation\"),\r\n            useKeyboard: this.option(\"keyboardNavigation.enabled\")\r\n        };\r\n        if ((0, _type.isDefined)(pagerOptions.infoText)) {\r\n            options.infoText = pagerOptions.infoText\r\n        }\r\n        that._createComponent($element, _pager.default, options)\r\n    },\r\n    getPageSizes: function() {\r\n        var that = this;\r\n        var dataController = that.getController(\"data\");\r\n        var pagerOptions = that.option(\"pager\");\r\n        var allowedPageSizes = pagerOptions && pagerOptions.allowedPageSizes;\r\n        var pageSize = dataController.pageSize();\r\n        if (!(0, _type.isDefined)(that._pageSizes) || (0, _array.inArray)(pageSize, that._pageSizes) === -1) {\r\n            that._pageSizes = [];\r\n            if (pagerOptions) {\r\n                if (Array.isArray(allowedPageSizes)) {\r\n                    that._pageSizes = allowedPageSizes\r\n                } else {\r\n                    if (allowedPageSizes && pageSize > 1) {\r\n                        that._pageSizes = [Math.floor(pageSize / 2), pageSize, 2 * pageSize]\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return that._pageSizes\r\n    },\r\n    isVisible: function() {\r\n        var that = this;\r\n        var dataController = that.getController(\"data\");\r\n        var pagerOptions = that.option(\"pager\");\r\n        var pagerVisible = pagerOptions && pagerOptions.visible;\r\n        var scrolling = that.option(\"scrolling\");\r\n        if (that._isVisible) {\r\n            return true\r\n        }\r\n        if (\"auto\" === pagerVisible) {\r\n            if (scrolling && (\"virtual\" === scrolling.mode || \"infinite\" === scrolling.mode)) {\r\n                pagerVisible = false\r\n            } else {\r\n                pagerVisible = dataController.pageCount() > 1 || dataController.isLoaded() && !dataController.hasKnownLastPage()\r\n            }\r\n        }\r\n        that._isVisible = pagerVisible;\r\n        return pagerVisible\r\n    },\r\n    getHeight: function() {\r\n        return this.getElementHeight()\r\n    },\r\n    optionChanged: function(args) {\r\n        var that = this;\r\n        var name = args.name;\r\n        var isPager = \"pager\" === name;\r\n        var isPaging = \"paging\" === name;\r\n        var isDataSource = \"dataSource\" === name;\r\n        var isScrolling = \"scrolling\" === name;\r\n        var dataController = that.getController(\"data\");\r\n        if (isPager || isPaging || isScrolling || isDataSource) {\r\n            args.handled = true;\r\n            if (dataController.skipProcessingPagingChange(args.fullName)) {\r\n                return\r\n            }\r\n            if (isPager || isPaging) {\r\n                that._pageSizes = null\r\n            }\r\n            if (isPager || isPaging || isScrolling) {\r\n                that._isVisible = false\r\n            }\r\n            if (!isDataSource) {\r\n                that._invalidate();\r\n                if ((0, _window.hasWindow)() && isPager && that.component) {\r\n                    that.component.resize()\r\n                }\r\n            }\r\n        }\r\n    }\r\n});\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            pager: {\r\n                visible: \"auto\",\r\n                showPageSizeSelector: false,\r\n                allowedPageSizes: \"auto\"\r\n            }\r\n        }\r\n    },\r\n    views: {\r\n        pagerView: PagerView\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/pager.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../core/renderer\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../events/core/events_engine\"));\r\nvar _class = _interopRequireDefault(require(\"../core/class\"));\r\nvar _string = require(\"../core/utils/string\");\r\nvar _component_registrator = _interopRequireDefault(require(\"../core/component_registrator\"));\r\nvar _common = require(\"../core/utils/common\");\r\nvar _iterator = require(\"../core/utils/iterator\");\r\nvar _type = require(\"../core/utils/type\");\r\nvar _extend = require(\"../core/utils/extend\");\r\nvar _click = require(\"../events/click\");\r\nvar _pointer = _interopRequireDefault(require(\"../events/pointer\"));\r\nvar _message = _interopRequireDefault(require(\"../localization/message\"));\r\nvar _ui = _interopRequireDefault(require(\"./widget/ui.widget\"));\r\nvar _select_box = _interopRequireDefault(require(\"./select_box\"));\r\nvar _number_box = _interopRequireDefault(require(\"./number_box\"));\r\nvar _index = require(\"../events/utils/index\");\r\nvar _accessibility = require(\"./shared/accessibility\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar PAGES_LIMITER = 4;\r\nvar PAGER_CLASS = \"dx-pager\";\r\nvar PAGER_PAGE_CLASS = \"dx-page\";\r\nvar PAGER_PAGE_CLASS_SELECTOR = \".\" + PAGER_PAGE_CLASS;\r\nvar PAGER_PAGES_CLASS = \"dx-pages\";\r\nvar LIGHT_MODE_CLASS = \"dx-light-mode\";\r\nvar LIGHT_PAGES_CLASS = \"dx-light-pages\";\r\nvar PAGER_PAGE_INDEX_CLASS = \"dx-page-index\";\r\nvar PAGER_PAGES_COUNT_CLASS = \"dx-pages-count\";\r\nvar PAGER_SELECTION_CLASS = \"dx-selection\";\r\nvar PAGER_PAGE_SEPARATOR_CLASS = \"dx-separator\";\r\nvar PAGER_PAGE_SIZES_CLASS = \"dx-page-sizes\";\r\nvar PAGER_PAGE_SIZE_CLASS = \"dx-page-size\";\r\nvar PAGER_PAGE_SIZE_CLASS_SELECTOR = \".\" + PAGER_PAGE_SIZE_CLASS;\r\nvar PAGER_NAVIGATE_BUTTON = \"dx-navigate-button\";\r\nvar PAGER_PREV_BUTTON_CLASS = \"dx-prev-button\";\r\nvar PAGER_NEXT_BUTTON_CLASS = \"dx-next-button\";\r\nvar PAGER_INFO_CLASS = \"dx-info\";\r\nvar PAGER_INFO_TEXT_CLASS = \"dx-info-text\";\r\nvar PAGER_BUTTON_DISABLE_CLASS = \"dx-button-disable\";\r\nvar Page = _class.default.inherit({\r\n    ctor: function(value, index) {\r\n        var that = this;\r\n        that.index = index;\r\n        that._$page = (0, _renderer.default)(\"<div>\").text(value).addClass(PAGER_PAGE_CLASS)\r\n    },\r\n    value: function(_value) {\r\n        var that = this;\r\n        if ((0, _type.isDefined)(_value)) {\r\n            that._$page.text(_value)\r\n        } else {\r\n            var text = that._$page.text();\r\n            if ((0, _type.isNumeric)(text)) {\r\n                return parseInt(text)\r\n            } else {\r\n                return text\r\n            }\r\n        }\r\n    },\r\n    element: function() {\r\n        return this._$page\r\n    },\r\n    select: function(value) {\r\n        this._$page.toggleClass(PAGER_SELECTION_CLASS, value)\r\n    },\r\n    render: function(rootElement, rtlEnabled) {\r\n        rtlEnabled ? this._$page.prependTo(rootElement) : this._$page.appendTo(rootElement)\r\n    }\r\n});\r\nvar Pager = _ui.default.inherit({\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            visible: true,\r\n            pagesNavigatorVisible: \"auto\",\r\n            pageIndex: 1,\r\n            maxPagesCount: 10,\r\n            pageCount: 10,\r\n            totalCount: 0,\r\n            pageSize: 5,\r\n            showPageSizes: true,\r\n            pageSizes: [5, 10],\r\n            hasKnownLastPage: true,\r\n            showNavigationButtons: false,\r\n            showInfo: false,\r\n            infoText: _message.default.getFormatter(\"dxPager-infoText\"),\r\n            pagesCountText: _message.default.getFormatter(\"dxPager-pagesCountText\"),\r\n            rtlEnabled: false,\r\n            lightModeEnabled: false,\r\n            pageIndexChanged: _common.noop,\r\n            pageSizeChanged: _common.noop\r\n        })\r\n    },\r\n    _toggleVisibility: function(value) {\r\n        var $element = this.$element();\r\n        if ($element) {\r\n            $element.css(\"display\", value ? \"\" : \"none\")\r\n        }\r\n    },\r\n    _getPages: function(currentPage, count) {\r\n        var pages = [];\r\n        var showMoreButton = !this.option(\"hasKnownLastPage\");\r\n        var firstValue;\r\n        var i;\r\n        if (count > 0 || showMoreButton) {\r\n            if (count <= this.option(\"maxPagesCount\")) {\r\n                for (i = 1; i <= count; i++) {\r\n                    pages.push(new Page(i, i - 1))\r\n                }\r\n                if (showMoreButton) {\r\n                    pages.push(new Page(\">\", i - 1))\r\n                }\r\n            } else {\r\n                pages.push(new Page(1, 0));\r\n                firstValue = currentPage ? currentPage.value() - currentPage.index : 1;\r\n                for (i = 1; i <= PAGES_LIMITER; i++) {\r\n                    pages.push(new Page(firstValue + i, i))\r\n                }\r\n                pages.push(new Page(count, PAGES_LIMITER + 1));\r\n                if (showMoreButton) {\r\n                    pages.push(new Page(\">\", PAGES_LIMITER + 1))\r\n                }\r\n            }\r\n        }\r\n        return pages\r\n    },\r\n    _getPageByValue: function(value) {\r\n        var that = this;\r\n        var page;\r\n        var i;\r\n        for (i = 0; i < that._pages.length; i++) {\r\n            page = that._pages[i];\r\n            if (page.value() === value) {\r\n                return page\r\n            }\r\n        }\r\n    },\r\n    _processSelectedPage: function(maxPagesCount, pageIndex, pageCount) {\r\n        var that = this;\r\n        var isPageIndexValid = false;\r\n        var selectedPageIndex;\r\n        if (that._pages) {\r\n            (0, _iterator.each)(that._pages, function(key, page) {\r\n                if (pageIndex === page.value()) {\r\n                    isPageIndexValid = true\r\n                }\r\n            });\r\n            if (!isPageIndexValid) {\r\n                that.selectedPage = null\r\n            }\r\n        }\r\n        if ((0, _type.isDefined)(that.selectedPage)) {\r\n            if (pageIndex === pageCount && pageCount > maxPagesCount && that.selectedPage.index !== PAGES_LIMITER + 1) {\r\n                that.selectedPage.index = PAGES_LIMITER + 1\r\n            }\r\n        } else {\r\n            if (pageIndex > PAGES_LIMITER && pageIndex < pageCount) {\r\n                selectedPageIndex = pageCount - PAGES_LIMITER < pageIndex ? PAGES_LIMITER - (pageCount - pageIndex) + 1 : 2;\r\n                that.selectedPage = new Page(pageIndex, selectedPageIndex)\r\n            }\r\n        }\r\n    },\r\n    _selectPageByValue: function(value) {\r\n        var that = this;\r\n        var i;\r\n        var page = that._getPageByValue(value);\r\n        var pages = that._pages;\r\n        var pagesLength = pages.length;\r\n        var nextPage;\r\n        var morePage;\r\n        if (!(0, _type.isDefined)(page)) {\r\n            return\r\n        }\r\n        var prevPage = that._pages[page.index - 1];\r\n        nextPage = that._pages[page.index + 1];\r\n        if (nextPage && \">\" === nextPage.value()) {\r\n            morePage = nextPage;\r\n            nextPage = void 0;\r\n            pagesLength--;\r\n            pages.pop()\r\n        }\r\n        if (that.selectedPage) {\r\n            that.selectedPage.select(false)\r\n        }\r\n        page.select(true);\r\n        that.selectedPage = page;\r\n        if (nextPage && nextPage.value() - value > 1) {\r\n            if (0 !== page.index) {\r\n                prevPage.value(value + 1);\r\n                that._pages.splice(page.index, 1);\r\n                that._pages.splice(page.index - 1, 0, page);\r\n                that._pages[page.index].index = page.index;\r\n                page.index = page.index - 1;\r\n                for (i = page.index - 1; i > 0; i--) {\r\n                    that._pages[i].value(that._pages[i + 1].value() - 1)\r\n                }\r\n            } else {\r\n                for (i = 0; i < pagesLength - 1; i++) {\r\n                    that._pages[i].value(i + 1)\r\n                }\r\n            }\r\n        }\r\n        if (prevPage && value - prevPage.value() > 1) {\r\n            if (page.index !== pagesLength - 1) {\r\n                nextPage.value(value - 1);\r\n                that._pages.splice(page.index, 1);\r\n                that._pages.splice(page.index + 1, 0, page);\r\n                that._pages[page.index].index = page.index;\r\n                page.index = page.index + 1;\r\n                for (i = page.index + 1; i < pagesLength - 1; i++) {\r\n                    that._pages[i].value(that._pages[i - 1].value() + 1)\r\n                }\r\n            } else {\r\n                for (i = 1; i <= pagesLength - 2; i++) {\r\n                    that._pages[pagesLength - 1 - i].value(that._pages[pagesLength - 1].value() - i)\r\n                }\r\n            }\r\n        }\r\n        if (morePage) {\r\n            pages.push(morePage)\r\n        }\r\n    },\r\n    _updatePagesTabIndices: function() {\r\n        var _this = this;\r\n        var $selectedPage = this.selectedPage._$page;\r\n        var updatePageIndices = function updatePageIndices() {\r\n            var buttons = (0, _renderer.default)(_this.element()).find(\"[role=button]:not(.dx-button-disable)\");\r\n            (0, _iterator.each)(buttons, function(_, element) {\r\n                return (0, _renderer.default)(element).attr(\"tabindex\", 0)\r\n            });\r\n            _events_engine.default.off($selectedPage, \"focus\", updatePageIndices)\r\n        };\r\n        _events_engine.default.on($selectedPage, \"focus\", updatePageIndices)\r\n    },\r\n    _nextPage: function(direction) {\r\n        var pageIndex = this.option(\"pageIndex\");\r\n        var pageCount = this.option(\"pageCount\");\r\n        if ((0, _type.isDefined)(pageIndex)) {\r\n            pageIndex = \"next\" === direction ? ++pageIndex : --pageIndex;\r\n            if (pageIndex > 0 && pageIndex <= pageCount) {\r\n                this.option(\"pageIndex\", pageIndex)\r\n            }\r\n        }\r\n    },\r\n    _wrapClickAction: function(action) {\r\n        var _this2 = this;\r\n        return function(e) {\r\n            if (\"dxpointerup\" === e.type) {\r\n                _this2._pointerUpHappened = true\r\n            } else {\r\n                if (_this2._pointerUpHappened) {\r\n                    _this2._pointerUpHappened = false;\r\n                    return\r\n                }\r\n            }\r\n            action({\r\n                event: e\r\n            })\r\n        }\r\n    },\r\n    _renderPages: function(pages) {\r\n        var that = this;\r\n        var $separator;\r\n        var pagesLength = pages.length;\r\n        var clickPagesIndexAction = that._createAction(function(args) {\r\n            var e = args.event;\r\n            var pageNumber = (0, _renderer.default)(e.target).text();\r\n            var pageIndex = \">\" === pageNumber ? that.option(\"pageCount\") + 1 : Number(pageNumber);\r\n            that.option(\"pageIndex\", pageIndex)\r\n        });\r\n        var page;\r\n        if (pagesLength > 1) {\r\n            that._pageClickHandler = this._wrapClickAction(clickPagesIndexAction);\r\n            _events_engine.default.on(that._$pagesChooser, (0, _index.addNamespace)([_pointer.default.up, _click.name], that.Name + \"Pages\"), PAGER_PAGE_CLASS_SELECTOR, that._pageClickHandler);\r\n            (0, _accessibility.registerKeyboardAction)(\"pager\", that, that._$pagesChooser, PAGER_PAGE_CLASS_SELECTOR, clickPagesIndexAction)\r\n        }\r\n        for (var i = 0; i < pagesLength; i++) {\r\n            page = pages[i];\r\n            page.render(that._$pagesChooser, that.option(\"rtlEnabled\"));\r\n            that.setAria({\r\n                role: \"button\",\r\n                label: \"Page \" + page.value()\r\n            }, page.element());\r\n            (0, _accessibility.setTabIndex)(that, page.element());\r\n            if (pages[i + 1] && pages[i + 1].value() - page.value() > 1) {\r\n                $separator = (0, _renderer.default)(\"<div>\").text(\". . .\").addClass(PAGER_PAGE_SEPARATOR_CLASS);\r\n                that.option(\"rtlEnabled\") ? $separator.prependTo(that._$pagesChooser) : $separator.appendTo(that._$pagesChooser)\r\n            }\r\n        }\r\n    },\r\n    _calculateLightPagesWidth: function($pageIndex, pageCount) {\r\n        return Number($pageIndex.css(\"minWidth\").replace(\"px\", \"\")) + 10 * pageCount.toString().length\r\n    },\r\n    _renderLightPages: function() {\r\n        var that = this;\r\n        var pageCount = this.option(\"pageCount\");\r\n        var pageIndex = this.option(\"pageIndex\");\r\n        var clickAction = that._createAction(function() {\r\n            that.option(\"pageIndex\", pageCount)\r\n        });\r\n        var pagesCountText = this.option(\"pagesCountText\");\r\n        var $container = (0, _renderer.default)(\"<div>\").addClass(LIGHT_PAGES_CLASS).appendTo(this._$pagesChooser);\r\n        var $pageIndex = (0, _renderer.default)(\"<div>\").addClass(PAGER_PAGE_INDEX_CLASS).appendTo($container);\r\n        that._pageIndexEditor = that._createComponent($pageIndex, _number_box.default, {\r\n            value: pageIndex,\r\n            min: 1,\r\n            max: pageCount,\r\n            width: that._calculateLightPagesWidth($pageIndex, pageCount),\r\n            onValueChanged: function(e) {\r\n                if (null === e.value) {\r\n                    return\r\n                }\r\n                that.option(\"pageIndex\", e.value)\r\n            }\r\n        });\r\n        (0, _renderer.default)(\"<span>\").text(pagesCountText).addClass(PAGER_INFO_TEXT_CLASS + \" \" + PAGER_INFO_CLASS).appendTo($container);\r\n        var $pageCount = (0, _renderer.default)(\"<span>\").addClass(PAGER_PAGES_COUNT_CLASS).text(pageCount);\r\n        _events_engine.default.on($pageCount, (0, _index.addNamespace)(_click.name, that.Name + \"PagesCount\"), function(e) {\r\n            clickAction({\r\n                event: e\r\n            })\r\n        });\r\n        (0, _accessibility.registerKeyboardAction)(\"pager\", that, $pageCount, void 0, clickAction);\r\n        $pageCount.appendTo($container);\r\n        that.setAria({\r\n            role: \"button\",\r\n            label: \"Navigates to the last page\"\r\n        }, $pageCount)\r\n    },\r\n    _renderPagesChooser: function() {\r\n        var that = this;\r\n        var lightModeEnabled = that.option(\"lightModeEnabled\");\r\n        var pagesNavigatorVisible = that.option(\"pagesNavigatorVisible\");\r\n        var $element = that.$element();\r\n        that._$pagesChooser && that._$pagesChooser.remove();\r\n        if (!pagesNavigatorVisible) {\r\n            return\r\n        }\r\n        if (that._pages && 0 === that._pages.length) {\r\n            that.selectedPage = null;\r\n            return\r\n        }\r\n        that._$pagesChooser = (0, _renderer.default)(\"<div>\").addClass(PAGER_PAGES_CLASS).appendTo($element);\r\n        if (\"auto\" === pagesNavigatorVisible) {\r\n            that._$pagesChooser.css(\"visibility\", 1 === that.option(\"pageCount\") ? \"hidden\" : \"\")\r\n        }\r\n        if (!lightModeEnabled) {\r\n            that._renderInfo()\r\n        }\r\n        that._renderNavigateButton(\"prev\");\r\n        if (lightModeEnabled) {\r\n            that._renderLightPages()\r\n        } else {\r\n            that._renderPages(that._pages)\r\n        }\r\n        that._renderNavigateButton(\"next\");\r\n        that._updatePagesChooserWidth()\r\n    },\r\n    _renderPageSizes: function() {\r\n        var that = this;\r\n        var i;\r\n        var pageSizes = that.option(\"pageSizes\");\r\n        var pagesSizesLength = pageSizes && pageSizes.length;\r\n        var pageSizeValue;\r\n        var currentPageSize = that.option(\"pageSize\");\r\n        var $pageSize;\r\n        var clickPagesSizeAction = that._createAction(function(args) {\r\n            var e = args.event;\r\n            pageSizeValue = parseInt((0, _renderer.default)(e.target).text());\r\n            that.option(\"pageSize\", pageSizeValue)\r\n        });\r\n        _events_engine.default.on(that._$pagesSizeChooser, (0, _index.addNamespace)(_click.name, that.Name + \"PageSize\"), PAGER_PAGE_SIZE_CLASS_SELECTOR, function(e) {\r\n            clickPagesSizeAction({\r\n                event: e\r\n            })\r\n        });\r\n        (0, _accessibility.registerKeyboardAction)(\"pager\", that, that._$pagesSizeChooser, PAGER_PAGE_SIZE_CLASS_SELECTOR, clickPagesSizeAction);\r\n        for (i = 0; i < pagesSizesLength; i++) {\r\n            $pageSize = (0, _renderer.default)(\"<div>\").text(pageSizes[i]).addClass(PAGER_PAGE_SIZE_CLASS);\r\n            that.setAria({\r\n                role: \"button\",\r\n                label: \"Display \" + pageSizes[i] + \" items on page\"\r\n            }, $pageSize);\r\n            (0, _accessibility.setTabIndex)(that, $pageSize);\r\n            if (currentPageSize === pageSizes[i]) {\r\n                $pageSize.addClass(PAGER_SELECTION_CLASS)\r\n            }\r\n            that._$pagesSizeChooser.append($pageSize)\r\n        }\r\n    },\r\n    _calculateLightPageSizesWidth: function(pageSizes) {\r\n        return Number(this._$pagesSizeChooser.css(\"minWidth\").replace(\"px\", \"\")) + 10 * Math.max.apply(Math, pageSizes).toString().length\r\n    },\r\n    _renderLightPageSizes: function() {\r\n        var that = this;\r\n        var pageSizes = that.option(\"pageSizes\");\r\n        var $editor = (0, _renderer.default)(\"<div>\").appendTo(that._$pagesSizeChooser);\r\n        that._pageSizeEditor = that._createComponent($editor, _select_box.default, {\r\n            dataSource: pageSizes,\r\n            value: that.option(\"pageSize\"),\r\n            onSelectionChanged: function(e) {\r\n                that.option(\"pageSize\", e.selectedItem)\r\n            },\r\n            width: that._calculateLightPageSizesWidth(pageSizes)\r\n        })\r\n    },\r\n    _renderPagesSizeChooser: function() {\r\n        var that = this;\r\n        var pageSizes = that.option(\"pageSizes\");\r\n        var showPageSizes = that.option(\"showPageSizes\");\r\n        var pagesSizesLength = pageSizes && pageSizes.length;\r\n        var $element = that.$element();\r\n        that._$pagesSizeChooser && that._$pagesSizeChooser.remove();\r\n        if (!showPageSizes || !pagesSizesLength) {\r\n            return\r\n        }\r\n        that._$pagesSizeChooser = (0, _renderer.default)(\"<div>\").addClass(PAGER_PAGE_SIZES_CLASS).appendTo($element);\r\n        if (that.option(\"lightModeEnabled\")) {\r\n            that._renderLightPageSizes()\r\n        } else {\r\n            that._renderPageSizes()\r\n        }\r\n        that._pagesSizeChooserWidth = that._$pagesSizeChooser.width()\r\n    },\r\n    _renderInfo: function() {\r\n        var infoText = this.option(\"infoText\");\r\n        if (this.option(\"showInfo\") && (0, _type.isDefined)(infoText)) {\r\n            this._$info = (0, _renderer.default)(\"<div>\").css(\"display\", this._isInfoHide ? \"none\" : \"\").addClass(PAGER_INFO_CLASS).text((0, _string.format)(infoText, this.selectedPage && this.selectedPage.value(), this.option(\"pageCount\"), this.option(\"totalCount\"))).appendTo(this._$pagesChooser);\r\n            if (!this._isInfoHide) {\r\n                this._infoWidth = this._$info.outerWidth(true)\r\n            }\r\n        }\r\n    },\r\n    _renderNavigateButton: function(direction) {\r\n        var that = this;\r\n        var clickAction = that._createAction(function() {\r\n            that._nextPage(direction)\r\n        });\r\n        var $button;\r\n        if (that.option(\"showNavigationButtons\") || that.option(\"lightModeEnabled\")) {\r\n            $button = (0, _renderer.default)(\"<div>\").addClass(PAGER_NAVIGATE_BUTTON);\r\n            _events_engine.default.on($button, (0, _index.addNamespace)([_pointer.default.up, _click.name], that.Name + \"Pages\"), that._wrapClickAction(clickAction));\r\n            (0, _accessibility.registerKeyboardAction)(\"pager\", that, $button, void 0, clickAction);\r\n            that.setAria({\r\n                role: \"button\",\r\n                label: \"prev\" === direction ? \"Previous page\" : \" Next page\"\r\n            }, $button);\r\n            (0, _accessibility.setTabIndex)(that, $button);\r\n            if (that.option(\"rtlEnabled\")) {\r\n                $button.addClass(\"prev\" === direction ? PAGER_NEXT_BUTTON_CLASS : PAGER_PREV_BUTTON_CLASS);\r\n                $button.prependTo(this._$pagesChooser)\r\n            } else {\r\n                $button.addClass(\"prev\" === direction ? PAGER_PREV_BUTTON_CLASS : PAGER_NEXT_BUTTON_CLASS);\r\n                $button.appendTo(this._$pagesChooser)\r\n            }\r\n        }\r\n    },\r\n    _renderContentImpl: function() {\r\n        this.$element().toggleClass(LIGHT_MODE_CLASS, this.option(\"lightModeEnabled\"));\r\n        this._toggleVisibility(this.option(\"visible\"));\r\n        this._updatePageSizes(true);\r\n        this._updatePages(true);\r\n        (0, _accessibility.restoreFocus)(this)\r\n    },\r\n    _initMarkup: function() {\r\n        var $element = this.$element();\r\n        $element.addClass(PAGER_CLASS);\r\n        var $pageSize = (0, _renderer.default)(\"<div>\").addClass(PAGER_PAGE_CLASS);\r\n        this._$pagesChooser = (0, _renderer.default)(\"<div>\").addClass(PAGER_PAGES_CLASS).append($pageSize).appendTo($element)\r\n    },\r\n    _render: function() {\r\n        this.option().lightModeEnabled = false;\r\n        this.callBase();\r\n        this._updateLightMode()\r\n    },\r\n    _updatePageSizes: function(forceRender) {\r\n        var lightModeEnabled = this.option(\"lightModeEnabled\");\r\n        var pageSize = this.option(\"pageSize\");\r\n        var pageSizes = this.option(\"pageSizes\");\r\n        if (lightModeEnabled) {\r\n            this._pageSizeEditor && this._pageSizeEditor.option({\r\n                value: pageSize,\r\n                dataSource: pageSizes,\r\n                width: this._calculateLightPageSizesWidth(pageSizes)\r\n            })\r\n        }\r\n        if (!lightModeEnabled || forceRender) {\r\n            this._renderPagesSizeChooser()\r\n        }\r\n    },\r\n    _updatePages: function(forceRender) {\r\n        var pageCount = this.option(\"pageCount\");\r\n        var pageIndex = this.option(\"pageIndex\");\r\n        var lightModeEnabled = this.option(\"lightModeEnabled\");\r\n        if (!lightModeEnabled) {\r\n            this._processSelectedPage(this.option(\"maxPagesCount\"), pageIndex, pageCount);\r\n            this._pages = this._getPages(this.selectedPage, pageCount);\r\n            this._selectPageByValue(pageIndex)\r\n        } else {\r\n            this._pageIndexEditor && this._pageIndexEditor.option({\r\n                value: pageIndex,\r\n                width: this._calculateLightPagesWidth(this._pageIndexEditor.$element(), pageCount)\r\n            })\r\n        }\r\n        if (!lightModeEnabled || forceRender) {\r\n            this._renderPagesChooser()\r\n        }\r\n        this._updateButtonsState(pageIndex)\r\n    },\r\n    _isPageIndexInvalid: function(direction, pageIndex) {\r\n        var isNextDirection = \"next\" === direction;\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        if (rtlEnabled && isNextDirection || !rtlEnabled && !isNextDirection) {\r\n            return pageIndex <= 1\r\n        }\r\n        return pageIndex >= this.option(\"pageCount\")\r\n    },\r\n    _updateButtonsState: function(pageIndex) {\r\n        var nextButton = this.$element().find(\".\" + PAGER_NEXT_BUTTON_CLASS);\r\n        var prevButton = this.$element().find(\".\" + PAGER_PREV_BUTTON_CLASS);\r\n        nextButton.toggleClass(PAGER_BUTTON_DISABLE_CLASS, this._isPageIndexInvalid(\"next\", pageIndex));\r\n        prevButton.toggleClass(PAGER_BUTTON_DISABLE_CLASS, this._isPageIndexInvalid(\"prev\", pageIndex))\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"visible\":\r\n                this._toggleVisibility(args.value);\r\n                break;\r\n            case \"pageIndex\":\r\n                var pageIndexChanged = this.option(\"pageIndexChanged\");\r\n                if (pageIndexChanged) {\r\n                    pageIndexChanged(args.value)\r\n                }\r\n                this._updatePages();\r\n                break;\r\n            case \"maxPagesCount\":\r\n            case \"pageCount\":\r\n            case \"totalCount\":\r\n            case \"hasKnownLastPage\":\r\n            case \"pagesNavigatorVisible\":\r\n            case \"showNavigationButtons\":\r\n                this._updatePages();\r\n                break;\r\n            case \"pageSize\":\r\n                var pageSizeChanged = this.option(\"pageSizeChanged\");\r\n                if (pageSizeChanged) {\r\n                    pageSizeChanged(args.value)\r\n                }\r\n                this._updatePageSizes();\r\n                break;\r\n            case \"pageSizes\":\r\n                this._updatePageSizes();\r\n                break;\r\n            case \"lightModeEnabled\":\r\n                this._renderContentImpl();\r\n                !args.value && this._updateLightMode();\r\n                break;\r\n            default:\r\n                this._invalidate()\r\n        }\r\n    },\r\n    _clean: function() {\r\n        if (this._$pagesChooser) {\r\n            _events_engine.default.off(this._$pagesChooser, (0, _index.addNamespace)([_pointer.default.up, _click.name], this.Name + \"Pages\"), PAGER_PAGE_CLASS_SELECTOR, this._pageClickHandler);\r\n            (0, _accessibility.registerKeyboardAction)(\"pager\", this, this._$pagesChooser, PAGER_PAGE_CLASS_SELECTOR, this._pageKeyDownHandler)\r\n        }\r\n        this.callBase()\r\n    },\r\n    _getMinPagerWidth: function() {\r\n        var pagesChooserWidth = (0, _type.isDefined)(this._pagesChooserWidth) ? this._pagesChooserWidth : 0;\r\n        var pagesSizeChooserWidth = (0, _type.isDefined)(this._pagesSizeChooserWidth) ? this._pagesSizeChooserWidth : 0;\r\n        return pagesChooserWidth + pagesSizeChooserWidth\r\n    },\r\n    _updatePagesChooserWidth: (0, _common.deferUpdater)(function() {\r\n        var lastPageWidth = this._pages && this._pages.length > 0 ? this._pages[this._pages.length - 1]._$page.width() : 0;\r\n        this._pagesChooserWidth = this._$pagesChooser.width() + lastPageWidth\r\n    }),\r\n    _updateLightMode: (0, _common.deferUpdater)(function() {\r\n        var that = this;\r\n        var width = this.$element().width();\r\n        var infoWidth = (0, _type.isDefined)(this._infoWidth) ? this._infoWidth : 0;\r\n        (0, _common.deferRender)(function() {\r\n            if (that._isInfoHide && width > that._getMinPagerWidth() + infoWidth) {\r\n                that._$info.show();\r\n                that._updatePagesChooserWidth();\r\n                that._isInfoHide = false\r\n            }\r\n            if (!that._isInfoHide && width > that._getMinPagerWidth() - infoWidth && width < that._getMinPagerWidth()) {\r\n                that._$info.hide();\r\n                that._updatePagesChooserWidth();\r\n                that._isInfoHide = true\r\n            }(0, _common.deferUpdate)(function() {\r\n                (0, _common.deferRender)(function() {\r\n                    if (that.option(\"lightModeEnabled\") && width > that._previousWidth) {\r\n                        that.option(\"lightModeEnabled\", false)\r\n                    } else {\r\n                        if (width < that._getMinPagerWidth()) {\r\n                            that.option(\"lightModeEnabled\", true)\r\n                        }\r\n                    }\r\n                    that._previousWidth = width\r\n                })\r\n            })\r\n        })\r\n    }),\r\n    _dimensionChanged: function() {\r\n        this._updateLightMode()\r\n    },\r\n    getHeight: function() {\r\n        return this.option(\"visible\") ? this.$element().outerHeight() : 0\r\n    }\r\n});\r\nvar _default = Pager;\r\nexports.default = _default;\r\n(0, _component_registrator.default)(\"dxPager\", Pager);\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.columns_resizing_reordering.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.TrackerView = exports.ColumnsResizerViewController = exports.TablePositionViewController = exports.ColumnsSeparatorView = exports.DraggingHeaderViewController = exports.DraggingHeaderView = void 0;\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.columns_resizing_reordering\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar DraggingHeaderView = _uiGrid_core.default.views.draggingHeaderView;\r\nexports.DraggingHeaderView = DraggingHeaderView;\r\nvar DraggingHeaderViewController = _uiGrid_core.default.controllers.draggingHeader;\r\nexports.DraggingHeaderViewController = DraggingHeaderViewController;\r\nvar ColumnsSeparatorView = _uiGrid_core.default.views.columnsSeparatorView;\r\nexports.ColumnsSeparatorView = ColumnsSeparatorView;\r\nvar TablePositionViewController = _uiGrid_core.default.controllers.tablePosition;\r\nexports.TablePositionViewController = TablePositionViewController;\r\nvar ColumnsResizerViewController = _uiGrid_core.default.controllers.columnsResizer;\r\nexports.ColumnsResizerViewController = ColumnsResizerViewController;\r\nvar TrackerView = _uiGrid_core.default.views.trackerView;\r\nexports.TrackerView = TrackerView;\r\n_uiData_grid.default.registerModule(\"columnsResizingReordering\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.columns_resizing_reordering.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _dom_adapter = _interopRequireDefault(require(\"../../core/dom_adapter\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _callbacks = _interopRequireDefault(require(\"../../core/utils/callbacks\"));\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _position = require(\"../../core/utils/position\");\r\nvar _index = require(\"../../events/utils/index\");\r\nvar _pointer = _interopRequireDefault(require(\"../../events/pointer\"));\r\nvar _drag = require(\"../../events/drag\");\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _uiGrid_core2 = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\nvar _fx = _interopRequireDefault(require(\"../../animation/fx\"));\r\nvar _swatch_container = _interopRequireDefault(require(\"../widget/swatch_container\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar COLUMNS_SEPARATOR_CLASS = \"columns-separator\";\r\nvar COLUMNS_SEPARATOR_TRANSPARENT = \"columns-separator-transparent\";\r\nvar DRAGGING_HEADER_CLASS = \"drag-header\";\r\nvar CELL_CONTENT_CLASS = \"text-content\";\r\nvar HEADERS_DRAG_ACTION_CLASS = \"drag-action\";\r\nvar TRACKER_CLASS = \"tracker\";\r\nvar HEADERS_DROP_HIGHLIGHT_CLASS = \"drop-highlight\";\r\nvar BLOCK_SEPARATOR_CLASS = \"dx-block-separator\";\r\nvar HEADER_ROW_CLASS = \"dx-header-row\";\r\nvar WIDGET_CLASS = \"dx-widget\";\r\nvar DRAGGING_COMMAND_CELL_CLASS = \"dx-drag-command-cell\";\r\nvar MODULE_NAMESPACE = \"dxDataGridResizingReordering\";\r\nvar COLUMNS_SEPARATOR_TOUCH_TRACKER_WIDTH = 10;\r\nvar DRAGGING_DELTA = 5;\r\nvar COLUMN_OPACITY = .5;\r\nvar allowResizing = function(that) {\r\n    return that.option(\"allowColumnResizing\") || that.getController(\"columns\").isColumnOptionUsed(\"allowResizing\")\r\n};\r\nvar allowReordering = function(that) {\r\n    return that.option(\"allowColumnReordering\") || that.getController(\"columns\").isColumnOptionUsed(\"allowReordering\")\r\n};\r\nvar TrackerView = _uiGrid_core.default.View.inherit({\r\n    _renderCore: function() {\r\n        this.callBase();\r\n        this.element().addClass(this.addWidgetPrefix(TRACKER_CLASS));\r\n        this.hide()\r\n    },\r\n    _unsubscribeFromCallback: function() {\r\n        if (this._positionChanged) {\r\n            this._tablePositionController.positionChanged.remove(this._positionChanged)\r\n        }\r\n    },\r\n    _subscribeToCallback: function() {\r\n        var that = this;\r\n        that._positionChanged = function(position) {\r\n            var $element = that.element();\r\n            if ($element && $element.hasClass(that.addWidgetPrefix(TRACKER_CLASS))) {\r\n                $element.css({\r\n                    top: position.top\r\n                });\r\n                $element.height(position.height)\r\n            }\r\n        };\r\n        this._tablePositionController.positionChanged.add(that._positionChanged)\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"allowColumnResizing\" === args.name) {\r\n            this._unsubscribeFromCallback();\r\n            if (args.value) {\r\n                this._subscribeToCallback();\r\n                this._invalidate()\r\n            }\r\n        }\r\n        this.callBase(args)\r\n    },\r\n    init: function() {\r\n        this.callBase();\r\n        this._tablePositionController = this.getController(\"tablePosition\");\r\n        this._subscribeToCallback()\r\n    },\r\n    isVisible: function() {\r\n        return allowResizing(this)\r\n    },\r\n    show: function() {\r\n        this.element().show()\r\n    },\r\n    hide: function() {\r\n        this.element() && this.element().hide()\r\n    },\r\n    setHeight: function(value) {\r\n        this.element().height(value)\r\n    },\r\n    dispose: function() {\r\n        this._unsubscribeFromCallback();\r\n        this.callBase()\r\n    }\r\n});\r\nvar SeparatorView = _uiGrid_core.default.View.inherit({\r\n    _renderSeparator: function() {},\r\n    _renderCore: function(options) {\r\n        this.callBase(options);\r\n        this._isShown = true;\r\n        this._renderSeparator();\r\n        this.hide()\r\n    },\r\n    show: function() {\r\n        this._isShown = true\r\n    },\r\n    hide: function() {\r\n        this._isShown = false\r\n    },\r\n    height: function(value) {\r\n        var $element = this.element();\r\n        if ($element) {\r\n            if ((0, _type.isDefined)(value)) {\r\n                $element.height(value)\r\n            } else {\r\n                return $element.height()\r\n            }\r\n        }\r\n    },\r\n    width: function(value) {\r\n        var $element = this.element();\r\n        if ($element) {\r\n            if ((0, _type.isDefined)(value)) {\r\n                $element.width(value)\r\n            } else {\r\n                return $element.width()\r\n            }\r\n        }\r\n    }\r\n});\r\nvar ColumnsSeparatorView = SeparatorView.inherit({\r\n    _renderSeparator: function() {\r\n        this.callBase();\r\n        var $element = this.element();\r\n        $element.addClass(this.addWidgetPrefix(COLUMNS_SEPARATOR_CLASS))\r\n    },\r\n    _subscribeToCallback: function() {\r\n        var that = this;\r\n        var $element;\r\n        that._positionChanged = function(position) {\r\n            $element = that.element();\r\n            if ($element) {\r\n                $element.css({\r\n                    top: position.top\r\n                });\r\n                $element.height(position.height)\r\n            }\r\n        };\r\n        that._tablePositionController.positionChanged.add(that._positionChanged)\r\n    },\r\n    _unsubscribeFromCallback: function() {\r\n        this._positionChanged && this._tablePositionController.positionChanged.remove(this._positionChanged)\r\n    },\r\n    _init: function() {\r\n        this._isTransparent = allowResizing(this);\r\n        if (this.isVisible()) {\r\n            this._subscribeToCallback()\r\n        }\r\n    },\r\n    isVisible: function() {\r\n        return this.option(\"showColumnHeaders\") && (allowReordering(this) || allowResizing(this))\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"allowColumnResizing\" === args.name) {\r\n            if (args.value) {\r\n                this._init();\r\n                this._invalidate();\r\n                this.hide(true)\r\n            } else {\r\n                this._unsubscribeFromCallback();\r\n                this._isTransparent = allowResizing(this);\r\n                this.hide(true)\r\n            }\r\n        }\r\n        this.callBase(args)\r\n    },\r\n    init: function() {\r\n        this.callBase();\r\n        this._tablePositionController = this.getController(\"tablePosition\");\r\n        this._init()\r\n    },\r\n    show: function() {\r\n        var that = this;\r\n        var $element = this.element();\r\n        if ($element && !that._isShown) {\r\n            if (that._isTransparent) {\r\n                $element.removeClass(that.addWidgetPrefix(COLUMNS_SEPARATOR_TRANSPARENT))\r\n            } else {\r\n                $element.show()\r\n            }\r\n        }\r\n        this.callBase()\r\n    },\r\n    hide: function(force) {\r\n        var $element = this.element();\r\n        var columnsSeparatorTransparent = this.addWidgetPrefix(COLUMNS_SEPARATOR_TRANSPARENT);\r\n        if ($element && (this._isShown || force)) {\r\n            if (this._isTransparent) {\r\n                $element.addClass(columnsSeparatorTransparent);\r\n                $element.css(\"left\", \"\");\r\n                $element.show()\r\n            } else {\r\n                if ($element.hasClass(columnsSeparatorTransparent)) {\r\n                    $element.removeClass(columnsSeparatorTransparent)\r\n                }\r\n                $element.hide()\r\n            }\r\n        }\r\n        this.callBase()\r\n    },\r\n    moveByX: function(outerX) {\r\n        var $element = this.element();\r\n        if ($element) {\r\n            $element.css(\"left\", outerX - this._parentElement().offset().left)\r\n        }\r\n    },\r\n    changeCursor: function(cursorName) {\r\n        cursorName = (0, _type.isDefined)(cursorName) ? cursorName : \"\";\r\n        var $element = this.element();\r\n        if ($element) {\r\n            $element.css(\"cursor\", cursorName)\r\n        }\r\n    },\r\n    dispose: function() {\r\n        this._unsubscribeFromCallback();\r\n        this.callBase()\r\n    }\r\n});\r\nvar BlockSeparatorView = SeparatorView.inherit({\r\n    init: function() {\r\n        var that = this;\r\n        this.callBase();\r\n        this.getController(\"data\").loadingChanged.add(function(isLoading) {\r\n            if (!isLoading) {\r\n                that.hide()\r\n            }\r\n        })\r\n    },\r\n    _renderSeparator: function() {\r\n        this.callBase();\r\n        this.element().addClass(BLOCK_SEPARATOR_CLASS).html(\"&nbsp;\")\r\n    },\r\n    hide: function() {\r\n        var that = this;\r\n        var $parent = this._parentElement();\r\n        var $element = this.element();\r\n        if ($element && this._isShown) {\r\n            $element.css(\"display\", \"none\")\r\n        }\r\n        if ($parent && !$parent.children(\".\" + BLOCK_SEPARATOR_CLASS).length) {\r\n            $parent.prepend(that.element())\r\n        }\r\n        that.callBase()\r\n    },\r\n    isVisible: function() {\r\n        var groupPanelOptions = this.option(\"groupPanel\");\r\n        var columnChooserOptions = this.option(\"columnChooser\");\r\n        return groupPanelOptions && groupPanelOptions.visible || columnChooserOptions && columnChooserOptions.enabled\r\n    },\r\n    show: function(targetLocation) {\r\n        var that = this;\r\n        var $element = this.element();\r\n        var startAnimate = function(toOptions) {\r\n            _fx.default.stop($element, true);\r\n            _fx.default.animate($element, {\r\n                type: \"slide\",\r\n                from: {\r\n                    width: 0,\r\n                    display: toOptions.display\r\n                },\r\n                to: toOptions,\r\n                duration: 300,\r\n                easing: \"swing\"\r\n            })\r\n        };\r\n        if ($element && !that._isShown) {\r\n            switch (targetLocation) {\r\n                case \"group\":\r\n                    startAnimate({\r\n                        width: \"50px\",\r\n                        display: \"inline-block\"\r\n                    });\r\n                    break;\r\n                case \"columnChooser\":\r\n                    startAnimate({\r\n                        width: \"100%\",\r\n                        display: \"block\"\r\n                    });\r\n                    break;\r\n                default:\r\n                    $element.css(\"display\", \"\")\r\n            }\r\n        }\r\n        that.callBase()\r\n    }\r\n});\r\nvar DraggingHeaderView = _uiGrid_core.default.View.inherit({\r\n    _isDragging: false,\r\n    isDragging: function() {\r\n        return this._isDragging\r\n    },\r\n    _getDraggingPanelByPos: function(pos) {\r\n        var that = this;\r\n        var result;\r\n        (0, _iterator.each)(that._dragOptions.draggingPanels, function(index, draggingPanel) {\r\n            if (draggingPanel) {\r\n                var boundingRect = draggingPanel.getBoundingRect();\r\n                if (boundingRect && (void 0 === boundingRect.bottom || pos.y < boundingRect.bottom) && (void 0 === boundingRect.top || pos.y > boundingRect.top) && (void 0 === boundingRect.left || pos.x > boundingRect.left) && (void 0 === boundingRect.right || pos.x < boundingRect.right)) {\r\n                    result = draggingPanel;\r\n                    return false\r\n                }\r\n            }\r\n        });\r\n        return result\r\n    },\r\n    _renderCore: function() {\r\n        this.element().addClass(this.addWidgetPrefix(DRAGGING_HEADER_CLASS) + \" \" + this.addWidgetPrefix(CELL_CONTENT_CLASS) + \" \" + WIDGET_CLASS).hide()\r\n    },\r\n    _resetTargetColumnOptions: function() {\r\n        var params = this._dropOptions;\r\n        params.targetColumnIndex = -1;\r\n        delete params.targetColumnElement;\r\n        delete params.isLast;\r\n        delete params.posX;\r\n        delete params.posY\r\n    },\r\n    _getVisibleIndexObject: function(rowIndex, visibleIndex) {\r\n        if ((0, _type.isDefined)(rowIndex)) {\r\n            return {\r\n                columnIndex: visibleIndex,\r\n                rowIndex: rowIndex\r\n            }\r\n        }\r\n        return visibleIndex\r\n    },\r\n    dispose: function() {\r\n        var element = this.element();\r\n        this._dragOptions = null;\r\n        element && element.parent().find(\".\" + this.addWidgetPrefix(DRAGGING_HEADER_CLASS)).remove()\r\n    },\r\n    isVisible: function() {\r\n        var columnsController = this.getController(\"columns\");\r\n        var commonColumnSettings = columnsController.getCommonSettings();\r\n        return this.option(\"showColumnHeaders\") && (allowReordering(this) || commonColumnSettings.allowGrouping || commonColumnSettings.allowHiding)\r\n    },\r\n    init: function() {\r\n        var that = this;\r\n        this.callBase();\r\n        this._controller = this.getController(\"draggingHeader\");\r\n        this._columnsResizerViewController = this.getController(\"columnsResizer\");\r\n        this.getController(\"data\").loadingChanged.add(function(isLoading) {\r\n            var element = that.element();\r\n            if (!isLoading && element) {\r\n                element.hide()\r\n            }\r\n        })\r\n    },\r\n    dragHeader: function(options) {\r\n        var that = this;\r\n        var columnElement = options.columnElement;\r\n        var isCommandColumn = !!options.sourceColumn.type;\r\n        that._isDragging = true;\r\n        that._dragOptions = options;\r\n        that._dropOptions = {\r\n            sourceIndex: options.index,\r\n            sourceColumnIndex: that._getVisibleIndexObject(options.rowIndex, options.columnIndex),\r\n            sourceColumnElement: options.columnElement,\r\n            sourceLocation: options.sourceLocation\r\n        };\r\n        var document = _dom_adapter.default.getDocument();\r\n        that._onSelectStart = document.onselectstart;\r\n        document.onselectstart = function() {\r\n            return false\r\n        };\r\n        that._controller.drag(that._dropOptions);\r\n        that.element().css({\r\n            textAlign: columnElement && columnElement.css(\"textAlign\"),\r\n            height: columnElement && (isCommandColumn && columnElement.get(0).clientHeight || columnElement.height()),\r\n            width: columnElement && (isCommandColumn && columnElement.get(0).clientWidth || columnElement.width()),\r\n            whiteSpace: columnElement && columnElement.css(\"whiteSpace\")\r\n        }).addClass(that.addWidgetPrefix(HEADERS_DRAG_ACTION_CLASS)).toggleClass(DRAGGING_COMMAND_CELL_CLASS, isCommandColumn).text(isCommandColumn ? \"\" : options.sourceColumn.caption);\r\n        that.element().appendTo(_swatch_container.default.getSwatchContainer(columnElement))\r\n    },\r\n    moveHeader: function(args) {\r\n        var e = args.event;\r\n        var that = e.data.that;\r\n        var eventData = (0, _index.eventData)(e);\r\n        var isResizing = that._columnsResizerViewController ? that._columnsResizerViewController.isResizing() : false;\r\n        var dragOptions = that._dragOptions;\r\n        if (that._isDragging && !isResizing) {\r\n            var $element = that.element();\r\n            var moveDeltaX = Math.abs(eventData.x - dragOptions.columnElement.offset().left - dragOptions.deltaX);\r\n            var moveDeltaY = Math.abs(eventData.y - dragOptions.columnElement.offset().top - dragOptions.deltaY);\r\n            if ($element.is(\":visible\") || moveDeltaX > DRAGGING_DELTA || moveDeltaY > DRAGGING_DELTA) {\r\n                $element.show();\r\n                var newLeft = eventData.x - dragOptions.deltaX;\r\n                var newTop = eventData.y - dragOptions.deltaY;\r\n                $element.css({\r\n                    left: newLeft,\r\n                    top: newTop\r\n                });\r\n                that.dockHeader(eventData)\r\n            }\r\n            e.preventDefault()\r\n        }\r\n    },\r\n    dockHeader: function(eventData) {\r\n        var that = this;\r\n        var targetDraggingPanel = that._getDraggingPanelByPos(eventData);\r\n        var controller = that._controller;\r\n        var params = that._dropOptions;\r\n        var dragOptions = that._dragOptions;\r\n        if (targetDraggingPanel) {\r\n            var rtlEnabled = that.option(\"rtlEnabled\");\r\n            var isVerticalOrientation = \"columnChooser\" === targetDraggingPanel.getName();\r\n            var axisName = isVerticalOrientation ? \"y\" : \"x\";\r\n            var targetLocation = targetDraggingPanel.getName();\r\n            var rowIndex = \"headers\" === targetLocation ? dragOptions.rowIndex : void 0;\r\n            var sourceColumn = dragOptions.sourceColumn;\r\n            var columnElements = targetDraggingPanel.getColumnElements(rowIndex, sourceColumn && sourceColumn.ownerBand) || [];\r\n            var pointsByTarget = dragOptions.pointsByTarget = dragOptions.pointsByTarget || {};\r\n            var pointsByColumns = \"columnChooser\" === targetLocation ? [] : pointsByTarget[targetLocation] || controller._generatePointsByColumns((0, _extend.extend)({}, dragOptions, {\r\n                targetDraggingPanel: targetDraggingPanel,\r\n                columns: targetDraggingPanel.getColumns(rowIndex),\r\n                columnElements: columnElements,\r\n                isVerticalOrientation: isVerticalOrientation,\r\n                startColumnIndex: \"headers\" === targetLocation && (0, _renderer.default)(columnElements[0]).index()\r\n            }));\r\n            pointsByTarget[targetLocation] = pointsByColumns;\r\n            params.targetLocation = targetLocation;\r\n            if (pointsByColumns.length > 0) {\r\n                for (var i = 0; i < pointsByColumns.length; i++) {\r\n                    var centerPosition = pointsByColumns[i + 1] && (pointsByColumns[i][axisName] + pointsByColumns[i + 1][axisName]) / 2;\r\n                    if (void 0 === centerPosition || (rtlEnabled && \"x\" === axisName ? eventData[axisName] > centerPosition : eventData[axisName] < centerPosition)) {\r\n                        params.targetColumnIndex = that._getVisibleIndexObject(rowIndex, pointsByColumns[i].columnIndex);\r\n                        if (columnElements[i]) {\r\n                            params.targetColumnElement = columnElements.eq(i);\r\n                            params.isLast = false\r\n                        } else {\r\n                            params.targetColumnElement = columnElements.last();\r\n                            params.isLast = true\r\n                        }\r\n                        params.posX = pointsByColumns[i].x;\r\n                        params.posY = pointsByColumns[i].y;\r\n                        controller.dock(params);\r\n                        break\r\n                    }\r\n                }\r\n            } else {\r\n                that._resetTargetColumnOptions();\r\n                controller.dock(params)\r\n            }\r\n        }\r\n    },\r\n    dropHeader: function(args) {\r\n        var e = args.event;\r\n        var that = e.data.that;\r\n        var controller = that._controller;\r\n        that.element().hide();\r\n        if (controller && that._isDragging) {\r\n            controller.drop(that._dropOptions)\r\n        }\r\n        that.element().appendTo(that._parentElement());\r\n        that._dragOptions = null;\r\n        that._dropOptions = null;\r\n        that._isDragging = false;\r\n        _dom_adapter.default.getDocument().onselectstart = that._onSelectStart || null\r\n    }\r\n});\r\nvar isNextColumnResizingMode = function(that) {\r\n    return \"widget\" !== that.option(\"columnResizingMode\")\r\n};\r\nvar ColumnsResizerViewController = _uiGrid_core.default.ViewController.inherit({\r\n    _isHeadersRowArea: function(posY) {\r\n        if (this._columnHeadersView) {\r\n            var element = this._columnHeadersView.element();\r\n            if (element) {\r\n                var offsetTop = element.offset().top;\r\n                var headersRowHeight = this._columnHeadersView.getHeadersRowHeight();\r\n                return posY >= offsetTop && posY <= offsetTop + headersRowHeight\r\n            }\r\n        }\r\n        return false\r\n    },\r\n    _isRtlParentStyle: function() {\r\n        var _this$_$parentContain;\r\n        return this.option(\"rtlEnabled\") && \"rtl\" === (null === (_this$_$parentContain = this._$parentContainer) || void 0 === _this$_$parentContain ? void 0 : _this$_$parentContain.parent().css(\"direction\"))\r\n    },\r\n    _pointCreated: function(point, cellsLength, columns) {\r\n        var isNextColumnMode = isNextColumnResizingMode(this);\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var isRtlParentStyle = this._isRtlParentStyle();\r\n        var firstPointColumnIndex = !isNextColumnMode && rtlEnabled && !isRtlParentStyle ? 0 : 1;\r\n        if (point.index >= firstPointColumnIndex && point.index < cellsLength + (!isNextColumnMode && (!rtlEnabled || isRtlParentStyle) ? 1 : 0)) {\r\n            point.columnIndex -= firstPointColumnIndex;\r\n            var currentColumn = columns[point.columnIndex] || {};\r\n            var nextColumn = columns[point.columnIndex + 1] || {};\r\n            return !(isNextColumnMode ? currentColumn.allowResizing && nextColumn.allowResizing : currentColumn.allowResizing)\r\n        }\r\n        return true\r\n    },\r\n    _getTargetPoint: function(pointsByColumns, currentX, deltaX) {\r\n        if (pointsByColumns) {\r\n            for (var i = 0; i < pointsByColumns.length; i++) {\r\n                if (pointsByColumns[i].x === pointsByColumns[0].x && pointsByColumns[i + 1] && pointsByColumns[i].x === pointsByColumns[i + 1].x) {\r\n                    continue\r\n                }\r\n                if (pointsByColumns[i].x - deltaX <= currentX && currentX <= pointsByColumns[i].x + deltaX) {\r\n                    return pointsByColumns[i]\r\n                }\r\n            }\r\n        }\r\n        return null\r\n    },\r\n    _moveSeparator: function(args) {\r\n        var e = args.event;\r\n        var that = e.data;\r\n        var columnsSeparatorWidth = that._columnsSeparatorView.width();\r\n        var isNextColumnMode = isNextColumnResizingMode(that);\r\n        var deltaX = columnsSeparatorWidth / 2;\r\n        var parentOffset = that._$parentContainer.offset();\r\n        var parentOffsetLeft = parentOffset.left;\r\n        var eventData = (0, _index.eventData)(e);\r\n        var rtlEnabled = that.option(\"rtlEnabled\");\r\n        var isRtlParentStyle = this._isRtlParentStyle();\r\n        if (that._isResizing && that._resizingInfo) {\r\n            if ((parentOffsetLeft <= eventData.x || !isNextColumnMode && isRtlParentStyle) && (!isNextColumnMode || eventData.x <= parentOffsetLeft + that._$parentContainer.width())) {\r\n                if (that._updateColumnsWidthIfNeeded(eventData.x)) {\r\n                    var $cell = that._columnHeadersView.getColumnElements().eq(that._resizingInfo.currentColumnIndex);\r\n                    var cell = $cell[0];\r\n                    if (cell) {\r\n                        var outerWidth = cell.getBoundingClientRect().width;\r\n                        that._columnsSeparatorView.moveByX($cell.offset().left + ((isNextColumnMode || isRtlParentStyle) && rtlEnabled ? 0 : outerWidth));\r\n                        that._tablePositionController.update(that._targetPoint.y);\r\n                        e.preventDefault()\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            if (that._isHeadersRowArea(eventData.y)) {\r\n                if (that._previousParentOffset) {\r\n                    if (that._previousParentOffset.left !== parentOffset.left || that._previousParentOffset.top !== parentOffset.top) {\r\n                        that.pointsByColumns(null)\r\n                    }\r\n                }\r\n                that._targetPoint = that._getTargetPoint(that.pointsByColumns(), eventData.x, columnsSeparatorWidth);\r\n                that._previousParentOffset = parentOffset;\r\n                that._isReadyResizing = false;\r\n                if (that._targetPoint) {\r\n                    that._columnsSeparatorView.changeCursor(\"col-resize\");\r\n                    that._columnsSeparatorView.moveByX(that._targetPoint.x - deltaX);\r\n                    that._tablePositionController.update(that._targetPoint.y);\r\n                    that._isReadyResizing = true;\r\n                    e.preventDefault()\r\n                } else {\r\n                    that._columnsSeparatorView.changeCursor()\r\n                }\r\n            } else {\r\n                that.pointsByColumns(null);\r\n                that._isReadyResizing = false;\r\n                that._columnsSeparatorView.changeCursor()\r\n            }\r\n        }\r\n    },\r\n    _endResizing: function(args) {\r\n        var e = args.event;\r\n        var that = e.data;\r\n        if (that._isResizing) {\r\n            that.pointsByColumns(null);\r\n            that._resizingInfo = null;\r\n            that._columnsSeparatorView.hide();\r\n            that._columnsSeparatorView.changeCursor();\r\n            that._trackerView.hide();\r\n            that._isReadyResizing = false;\r\n            that._isResizing = false\r\n        }\r\n    },\r\n    _getNextColumnIndex: function(currentColumnIndex) {\r\n        return currentColumnIndex + 1\r\n    },\r\n    _setupResizingInfo: function(posX) {\r\n        var that = this;\r\n        var currentColumnIndex = that._targetPoint.columnIndex;\r\n        var nextColumnIndex = that._getNextColumnIndex(currentColumnIndex);\r\n        var currentHeader = that._columnHeadersView.getHeaderElement(currentColumnIndex);\r\n        var nextHeader = that._columnHeadersView.getHeaderElement(nextColumnIndex);\r\n        that._resizingInfo = {\r\n            startPosX: posX,\r\n            currentColumnIndex: currentColumnIndex,\r\n            currentColumnWidth: currentHeader && currentHeader.length > 0 ? (0, _position.getBoundingRect)(currentHeader[0]).width : 0,\r\n            nextColumnIndex: nextColumnIndex,\r\n            nextColumnWidth: nextHeader && nextHeader.length > 0 ? (0, _position.getBoundingRect)(nextHeader[0]).width : 0\r\n        }\r\n    },\r\n    _startResizing: function(args) {\r\n        var e = args.event;\r\n        var that = e.data;\r\n        var eventData = (0, _index.eventData)(e);\r\n        if ((0, _index.isTouchEvent)(e)) {\r\n            if (that._isHeadersRowArea(eventData.y)) {\r\n                that._targetPoint = that._getTargetPoint(that.pointsByColumns(), eventData.x, COLUMNS_SEPARATOR_TOUCH_TRACKER_WIDTH);\r\n                if (that._targetPoint) {\r\n                    that._columnsSeparatorView.moveByX(that._targetPoint.x - that._columnsSeparatorView.width() / 2);\r\n                    that._isReadyResizing = true\r\n                }\r\n            } else {\r\n                that._isReadyResizing = false\r\n            }\r\n        }\r\n        if (that._isReadyResizing) {\r\n            that._setupResizingInfo(eventData.x);\r\n            that._isResizing = true;\r\n            that._tablePositionController.update(that._targetPoint.y);\r\n            that._columnsSeparatorView.show();\r\n            that._trackerView.show();\r\n            var scrollable = that.component.getScrollable();\r\n            if (scrollable && that._isRtlParentStyle()) {\r\n                that._scrollRight = scrollable.$content().width() - scrollable._container().width() - scrollable.scrollLeft()\r\n            }\r\n            e.preventDefault();\r\n            e.stopPropagation()\r\n        }\r\n        if (this.isResizing()) {\r\n            this.getController(\"editorFactory\").loseFocus()\r\n        }\r\n    },\r\n    _generatePointsByColumns: function() {\r\n        var that = this;\r\n        var columns = that._columnsController ? that._columnsController.getVisibleColumns() : [];\r\n        var cells = that._columnHeadersView.getColumnElements();\r\n        var pointsByColumns = [];\r\n        if (cells && cells.length > 0) {\r\n            pointsByColumns = _uiGrid_core2.default.getPointsByColumns(cells, function(point) {\r\n                return that._pointCreated(point, cells.length, columns)\r\n            })\r\n        }\r\n        that._pointsByColumns = pointsByColumns\r\n    },\r\n    _unsubscribeFromEvents: function() {\r\n        this._moveSeparatorHandler && _events_engine.default.off(_dom_adapter.default.getDocument(), (0, _index.addNamespace)(_pointer.default.move, MODULE_NAMESPACE), this._moveSeparatorHandler);\r\n        this._startResizingHandler && _events_engine.default.off(this._$parentContainer, (0, _index.addNamespace)(_pointer.default.down, MODULE_NAMESPACE), this._startResizingHandler);\r\n        if (this._endResizingHandler) {\r\n            _events_engine.default.off(this._columnsSeparatorView.element(), (0, _index.addNamespace)(_pointer.default.up, MODULE_NAMESPACE), this._endResizingHandler);\r\n            _events_engine.default.off(_dom_adapter.default.getDocument(), (0, _index.addNamespace)(_pointer.default.up, MODULE_NAMESPACE), this._endResizingHandler)\r\n        }\r\n    },\r\n    _subscribeToEvents: function() {\r\n        this._moveSeparatorHandler = this.createAction(this._moveSeparator);\r\n        this._startResizingHandler = this.createAction(this._startResizing);\r\n        this._endResizingHandler = this.createAction(this._endResizing);\r\n        _events_engine.default.on(_dom_adapter.default.getDocument(), (0, _index.addNamespace)(_pointer.default.move, MODULE_NAMESPACE), this, this._moveSeparatorHandler);\r\n        _events_engine.default.on(this._$parentContainer, (0, _index.addNamespace)(_pointer.default.down, MODULE_NAMESPACE), this, this._startResizingHandler);\r\n        _events_engine.default.on(this._columnsSeparatorView.element(), (0, _index.addNamespace)(_pointer.default.up, MODULE_NAMESPACE), this, this._endResizingHandler);\r\n        _events_engine.default.on(_dom_adapter.default.getDocument(), (0, _index.addNamespace)(_pointer.default.up, MODULE_NAMESPACE), this, this._endResizingHandler)\r\n    },\r\n    _updateColumnsWidthIfNeeded: function(posX) {\r\n        var deltaX;\r\n        var needUpdate = false;\r\n        var nextCellWidth;\r\n        var resizingInfo = this._resizingInfo;\r\n        var columnsController = this._columnsController;\r\n        var visibleColumns = columnsController.getVisibleColumns();\r\n        var columnsSeparatorWidth = this._columnsSeparatorView.width();\r\n        var contentWidth = this._rowsView.contentWidth();\r\n        var isNextColumnMode = isNextColumnResizingMode(this);\r\n        var adaptColumnWidthByRatio = isNextColumnMode && this.option(\"adaptColumnWidthByRatio\") && !this.option(\"columnAutoWidth\");\r\n        var minWidth;\r\n        var nextColumn;\r\n        var cellWidth;\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var isRtlParentStyle = this._isRtlParentStyle();\r\n\r\n        function isPercentWidth(width) {\r\n            return (0, _type.isString)(width) && \"%\" === width.slice(-1)\r\n        }\r\n\r\n        function setColumnWidth(column, columnWidth, contentWidth, adaptColumnWidthByRatio) {\r\n            if (column) {\r\n                var oldColumnWidth = column.width;\r\n                if (oldColumnWidth) {\r\n                    adaptColumnWidthByRatio = isPercentWidth(oldColumnWidth)\r\n                }\r\n                if (adaptColumnWidthByRatio) {\r\n                    column && columnsController.columnOption(column.index, \"visibleWidth\", columnWidth);\r\n                    column && columnsController.columnOption(column.index, \"width\", (columnWidth / contentWidth * 100).toFixed(3) + \"%\")\r\n                } else {\r\n                    column && columnsController.columnOption(column.index, \"visibleWidth\", null);\r\n                    column && columnsController.columnOption(column.index, \"width\", columnWidth)\r\n                }\r\n            }\r\n        }\r\n\r\n        function correctContentWidth(contentWidth, visibleColumns) {\r\n            var allColumnsHaveWidth = visibleColumns.every(function(column) {\r\n                return column.width\r\n            });\r\n            if (allColumnsHaveWidth) {\r\n                var totalPercent = visibleColumns.reduce(function(sum, column) {\r\n                    if (isPercentWidth(column.width)) {\r\n                        sum += parseFloat(column.width)\r\n                    }\r\n                    return sum\r\n                }, 0);\r\n                if (totalPercent > 100) {\r\n                    contentWidth = contentWidth / totalPercent * 100\r\n                }\r\n            }\r\n            return contentWidth\r\n        }\r\n        deltaX = posX - resizingInfo.startPosX;\r\n        if ((isNextColumnMode || isRtlParentStyle) && rtlEnabled) {\r\n            deltaX = -deltaX\r\n        }\r\n        cellWidth = resizingInfo.currentColumnWidth + deltaX;\r\n        var column = visibleColumns[resizingInfo.currentColumnIndex];\r\n        minWidth = column && column.minWidth || columnsSeparatorWidth;\r\n        needUpdate = cellWidth >= minWidth;\r\n        if (isNextColumnMode) {\r\n            nextCellWidth = resizingInfo.nextColumnWidth - deltaX;\r\n            nextColumn = visibleColumns[resizingInfo.nextColumnIndex];\r\n            minWidth = nextColumn && nextColumn.minWidth || columnsSeparatorWidth;\r\n            needUpdate = needUpdate && nextCellWidth >= minWidth\r\n        }\r\n        if (needUpdate) {\r\n            columnsController.beginUpdate();\r\n            cellWidth = Math.floor(cellWidth);\r\n            contentWidth = correctContentWidth(contentWidth, visibleColumns);\r\n            setColumnWidth(column, cellWidth, contentWidth, adaptColumnWidthByRatio);\r\n            if (isNextColumnMode) {\r\n                nextCellWidth = Math.floor(nextCellWidth);\r\n                setColumnWidth(nextColumn, nextCellWidth, contentWidth, adaptColumnWidthByRatio)\r\n            } else {\r\n                var columnWidths = this._columnHeadersView.getColumnWidths();\r\n                columnWidths[resizingInfo.currentColumnIndex] = cellWidth;\r\n                var hasScroll = columnWidths.reduce(function(totalWidth, width) {\r\n                    return totalWidth + width\r\n                }, 0) > this._rowsView.contentWidth();\r\n                if (!hasScroll) {\r\n                    var lastColumnIndex = _uiGrid_core2.default.getLastResizableColumnIndex(visibleColumns);\r\n                    if (lastColumnIndex >= 0) {\r\n                        columnsController.columnOption(visibleColumns[lastColumnIndex].index, \"visibleWidth\", \"auto\")\r\n                    }\r\n                }\r\n                for (var i = 0; i < columnWidths.length; i++) {\r\n                    if (visibleColumns[i] && visibleColumns[i] !== column && void 0 === visibleColumns[i].width) {\r\n                        columnsController.columnOption(visibleColumns[i].index, \"width\", columnWidths[i])\r\n                    }\r\n                }\r\n            }\r\n            columnsController.endUpdate();\r\n            if (!isNextColumnMode) {\r\n                this.component.updateDimensions();\r\n                var scrollable = this.component.getScrollable();\r\n                if (scrollable && isRtlParentStyle) {\r\n                    var left = scrollable.$content().width() - scrollable._container().width() - this._scrollRight;\r\n                    scrollable.scrollTo({\r\n                        left: left\r\n                    })\r\n                }\r\n            }\r\n        }\r\n        return needUpdate\r\n    },\r\n    _subscribeToCallback: function(callback, handler) {\r\n        callback.add(handler);\r\n        this._subscribesToCallbacks.push({\r\n            callback: callback,\r\n            handler: handler\r\n        })\r\n    },\r\n    _unsubscribeFromCallbacks: function() {\r\n        for (var i = 0; i < this._subscribesToCallbacks.length; i++) {\r\n            var subscribe = this._subscribesToCallbacks[i];\r\n            subscribe.callback.remove(subscribe.handler)\r\n        }\r\n        this._subscribesToCallbacks = []\r\n    },\r\n    _unsubscribes: function() {\r\n        this._unsubscribeFromEvents();\r\n        this._unsubscribeFromCallbacks()\r\n    },\r\n    _init: function() {\r\n        var that = this;\r\n        var generatePointsByColumnsHandler = function() {\r\n            if (!that._isResizing) {\r\n                that.pointsByColumns(null)\r\n            }\r\n        };\r\n        var generatePointsByColumnsScrollHandler = function(offset) {\r\n            if (that._scrollLeft !== offset.left) {\r\n                that._scrollLeft = offset.left;\r\n                that.pointsByColumns(null)\r\n            }\r\n        };\r\n        that._columnsSeparatorView = that.getView(\"columnsSeparatorView\");\r\n        that._columnHeadersView = that.getView(\"columnHeadersView\");\r\n        that._trackerView = that.getView(\"trackerView\");\r\n        that._rowsView = that.getView(\"rowsView\");\r\n        that._columnsController = that.getController(\"columns\");\r\n        that._tablePositionController = that.getController(\"tablePosition\");\r\n        that._$parentContainer = that.component.$element();\r\n        that._subscribeToCallback(that._columnHeadersView.renderCompleted, generatePointsByColumnsHandler);\r\n        that._subscribeToCallback(that._columnHeadersView.resizeCompleted, generatePointsByColumnsHandler);\r\n        that._subscribeToCallback(that._columnsSeparatorView.renderCompleted, function() {\r\n            that._unsubscribeFromEvents();\r\n            that._subscribeToEvents()\r\n        });\r\n        that._subscribeToCallback(that._rowsView.renderCompleted, function() {\r\n            that._rowsView.scrollChanged.remove(generatePointsByColumnsScrollHandler);\r\n            that._rowsView.scrollChanged.add(generatePointsByColumnsScrollHandler)\r\n        });\r\n        var previousScrollbarVisibility = 0 !== that._rowsView.getScrollbarWidth();\r\n        var previousTableHeight = 0;\r\n        that._subscribeToCallback(that.getController(\"tablePosition\").positionChanged, function(e) {\r\n            if (that._isResizing && !that._rowsView.isResizing) {\r\n                var scrollbarVisibility = 0 !== that._rowsView.getScrollbarWidth();\r\n                if (previousScrollbarVisibility !== scrollbarVisibility || previousTableHeight && previousTableHeight !== e.height) {\r\n                    previousScrollbarVisibility = scrollbarVisibility;\r\n                    previousTableHeight = e.height;\r\n                    that.component.updateDimensions()\r\n                } else {\r\n                    that._rowsView.updateFreeSpaceRowHeight()\r\n                }\r\n            }\r\n            previousTableHeight = e.height\r\n        })\r\n    },\r\n    optionChanged: function(args) {\r\n        this.callBase(args);\r\n        if (\"allowColumnResizing\" === args.name) {\r\n            if (args.value) {\r\n                this._init();\r\n                this._subscribeToEvents()\r\n            } else {\r\n                this._unsubscribes()\r\n            }\r\n        }\r\n    },\r\n    isResizing: function() {\r\n        return this._isResizing\r\n    },\r\n    init: function() {\r\n        this._subscribesToCallbacks = [];\r\n        if (allowResizing(this)) {\r\n            this._init()\r\n        }\r\n    },\r\n    pointsByColumns: function(value) {\r\n        if (void 0 !== value) {\r\n            this._pointsByColumns = value\r\n        } else {\r\n            if (!this._pointsByColumns) {\r\n                this._generatePointsByColumns()\r\n            }\r\n            return this._pointsByColumns\r\n        }\r\n    },\r\n    dispose: function() {\r\n        this._unsubscribes();\r\n        this.callBase()\r\n    }\r\n});\r\nvar TablePositionViewController = _uiGrid_core.default.ViewController.inherit({\r\n    update: function(top) {\r\n        var that = this;\r\n        var params = {};\r\n        var $element = that._columnHeadersView.element();\r\n        var offset = $element && $element.offset();\r\n        var offsetTop = offset && offset.top || 0;\r\n        var diffOffsetTop = (0, _type.isDefined)(top) ? Math.abs(top - offsetTop) : 0;\r\n        var columnsHeadersHeight = that._columnHeadersView ? that._columnHeadersView.getHeight() : 0;\r\n        var scrollBarWidth = that._rowsView.getScrollbarWidth(true);\r\n        var rowsHeight = that._rowsView ? that._rowsView.height() - scrollBarWidth : 0;\r\n        var columnsResizerController = that.component.getController(\"columnsResizer\");\r\n        var draggingHeaderView = that.component.getView(\"draggingHeaderView\");\r\n        params.height = columnsHeadersHeight;\r\n        var isDraggingOrResizing = false !== columnsResizerController.isResizing() || draggingHeaderView.isDragging();\r\n        if (isDraggingOrResizing) {\r\n            params.height += rowsHeight - diffOffsetTop\r\n        }\r\n        if (null !== top && $element && $element.length) {\r\n            params.top = $element[0].offsetTop + diffOffsetTop\r\n        }\r\n        that.positionChanged.fire(params)\r\n    },\r\n    init: function() {\r\n        var that = this;\r\n        that.callBase();\r\n        that._columnHeadersView = this.getView(\"columnHeadersView\");\r\n        that._rowsView = this.getView(\"rowsView\");\r\n        that._pagerView = this.getView(\"pagerView\");\r\n        that._rowsView.resizeCompleted.add(function() {\r\n            if (that.option(\"allowColumnResizing\")) {\r\n                var targetPoint = that.getController(\"columnsResizer\")._targetPoint;\r\n                that.update(targetPoint ? targetPoint.y : null)\r\n            }\r\n        })\r\n    },\r\n    ctor: function(component) {\r\n        this.callBase(component);\r\n        this.positionChanged = (0, _callbacks.default)()\r\n    }\r\n});\r\nvar DraggingHeaderViewController = _uiGrid_core.default.ViewController.inherit({\r\n    _generatePointsByColumns: function(options) {\r\n        var that = this;\r\n        return _uiGrid_core2.default.getPointsByColumns(options.columnElements, function(point) {\r\n            return that._pointCreated(point, options.columns, options.targetDraggingPanel.getName(), options.sourceColumn)\r\n        }, options.isVerticalOrientation, options.startColumnIndex)\r\n    },\r\n    _pointCreated: function(point, columns, location, sourceColumn) {\r\n        var targetColumn = columns[point.columnIndex];\r\n        var prevColumn = columns[point.columnIndex - 1];\r\n        switch (location) {\r\n            case \"columnChooser\":\r\n                return true;\r\n            case \"headers\":\r\n                return sourceColumn && !sourceColumn.allowReordering || (!targetColumn || !targetColumn.allowReordering) && (!prevColumn || !prevColumn.allowReordering);\r\n            default:\r\n                return 0 === columns.length\r\n        }\r\n    },\r\n    _subscribeToEvents: function(draggingHeader, draggingPanels) {\r\n        var that = this;\r\n        (0, _iterator.each)(draggingPanels, function(_, draggingPanel) {\r\n            if (draggingPanel) {\r\n                var columns;\r\n                var rowCount = draggingPanel.getRowCount ? draggingPanel.getRowCount() : 1;\r\n                var nameDraggingPanel = draggingPanel.getName();\r\n                var subscribeToEvents = function(index, columnElement) {\r\n                    if (!columnElement) {\r\n                        return\r\n                    }\r\n                    var $columnElement = (0, _renderer.default)(columnElement);\r\n                    var column = columns[index];\r\n                    if (draggingPanel.allowDragging(column, nameDraggingPanel, draggingPanels)) {\r\n                        $columnElement.addClass(that.addWidgetPrefix(HEADERS_DRAG_ACTION_CLASS));\r\n                        _events_engine.default.on($columnElement, (0, _index.addNamespace)(_drag.start, MODULE_NAMESPACE), that.createAction(function(args) {\r\n                            var e = args.event;\r\n                            var eventData = (0, _index.eventData)(e);\r\n                            draggingHeader.dragHeader({\r\n                                deltaX: eventData.x - (0, _renderer.default)(e.currentTarget).offset().left,\r\n                                deltaY: eventData.y - (0, _renderer.default)(e.currentTarget).offset().top,\r\n                                sourceColumn: column,\r\n                                index: column.index,\r\n                                columnIndex: index,\r\n                                columnElement: $columnElement,\r\n                                sourceLocation: nameDraggingPanel,\r\n                                draggingPanels: draggingPanels,\r\n                                rowIndex: that._columnsController.getRowIndex(column.index, true)\r\n                            })\r\n                        }));\r\n                        _events_engine.default.on($columnElement, (0, _index.addNamespace)(_drag.move, MODULE_NAMESPACE), {\r\n                            that: draggingHeader\r\n                        }, that.createAction(draggingHeader.moveHeader));\r\n                        _events_engine.default.on($columnElement, (0, _index.addNamespace)(_drag.end, MODULE_NAMESPACE), {\r\n                            that: draggingHeader\r\n                        }, that.createAction(draggingHeader.dropHeader))\r\n                    }\r\n                };\r\n                for (var i = 0; i < rowCount; i++) {\r\n                    var columnElements = draggingPanel.getColumnElements(i) || [];\r\n                    if (columnElements.length) {\r\n                        columns = draggingPanel.getColumns(i) || [];\r\n                        (0, _iterator.each)(columnElements, subscribeToEvents)\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    },\r\n    _unsubscribeFromEvents: function(draggingHeader, draggingPanels) {\r\n        var that = this;\r\n        (0, _iterator.each)(draggingPanels, function(_, draggingPanel) {\r\n            if (draggingPanel) {\r\n                var columnElements = draggingPanel.getColumnElements() || [];\r\n                (0, _iterator.each)(columnElements, function(index, columnElement) {\r\n                    var $columnElement = (0, _renderer.default)(columnElement);\r\n                    _events_engine.default.off($columnElement, (0, _index.addNamespace)(_drag.start, MODULE_NAMESPACE));\r\n                    _events_engine.default.off($columnElement, (0, _index.addNamespace)(_drag.move, MODULE_NAMESPACE));\r\n                    _events_engine.default.off($columnElement, (0, _index.addNamespace)(_drag.end, MODULE_NAMESPACE));\r\n                    $columnElement.removeClass(that.addWidgetPrefix(HEADERS_DRAG_ACTION_CLASS))\r\n                })\r\n            }\r\n        })\r\n    },\r\n    _getSeparator: function(targetLocation) {\r\n        return \"headers\" === targetLocation ? this._columnsSeparatorView : this._blockSeparatorView\r\n    },\r\n    hideSeparators: function(type) {\r\n        var blockSeparator = this._blockSeparatorView;\r\n        var columnsSeparator = this._columnsSeparatorView;\r\n        this._animationColumnIndex = null;\r\n        blockSeparator && blockSeparator.hide();\r\n        \"block\" !== type && columnsSeparator && columnsSeparator.hide()\r\n    },\r\n    init: function() {\r\n        var that = this;\r\n        that.callBase();\r\n        that._columnsController = that.getController(\"columns\");\r\n        that._columnHeadersView = that.getView(\"columnHeadersView\");\r\n        that._columnsSeparatorView = that.getView(\"columnsSeparatorView\");\r\n        that._draggingHeaderView = that.getView(\"draggingHeaderView\");\r\n        that._rowsView = that.getView(\"rowsView\");\r\n        that._blockSeparatorView = that.getView(\"blockSeparatorView\");\r\n        that._headerPanelView = that.getView(\"headerPanel\");\r\n        that._columnChooserView = that.getView(\"columnChooserView\");\r\n        var subscribeToEvents = function() {\r\n            if (that._draggingHeaderView) {\r\n                var draggingPanels = [that._columnChooserView, that._columnHeadersView, that._headerPanelView];\r\n                that._unsubscribeFromEvents(that._draggingHeaderView, draggingPanels);\r\n                that._subscribeToEvents(that._draggingHeaderView, draggingPanels)\r\n            }\r\n        };\r\n        that._columnHeadersView.renderCompleted.add(subscribeToEvents);\r\n        that._headerPanelView && that._headerPanelView.renderCompleted.add(subscribeToEvents);\r\n        that._columnChooserView && that._columnChooserView.renderCompleted.add(subscribeToEvents)\r\n    },\r\n    allowDrop: function(parameters) {\r\n        return this._columnsController.allowMoveColumn(parameters.sourceColumnIndex, parameters.targetColumnIndex, parameters.sourceLocation, parameters.targetLocation)\r\n    },\r\n    drag: function(parameters) {\r\n        var sourceIndex = parameters.sourceIndex;\r\n        var sourceLocation = parameters.sourceLocation;\r\n        var sourceColumnElement = parameters.sourceColumnElement;\r\n        var headersView = this._columnHeadersView;\r\n        var rowsView = this._rowsView;\r\n        if (sourceColumnElement) {\r\n            sourceColumnElement.css({\r\n                opacity: COLUMN_OPACITY\r\n            });\r\n            if (\"headers\" === sourceLocation) {\r\n                headersView && headersView.setRowsOpacity(sourceIndex, COLUMN_OPACITY);\r\n                rowsView && rowsView.setRowsOpacity(sourceIndex, COLUMN_OPACITY)\r\n            }\r\n        }\r\n    },\r\n    dock: function(parameters) {\r\n        var that = this;\r\n        var targetColumnIndex = (0, _type.isObject)(parameters.targetColumnIndex) ? parameters.targetColumnIndex.columnIndex : parameters.targetColumnIndex;\r\n        var sourceLocation = parameters.sourceLocation;\r\n        var targetLocation = parameters.targetLocation;\r\n        var separator = that._getSeparator(targetLocation);\r\n        var hasTargetVisibleIndex = targetColumnIndex >= 0;\r\n        var showSeparator = function() {\r\n            if (that._animationColumnIndex !== targetColumnIndex) {\r\n                that.hideSeparators();\r\n                separator.element()[parameters.isLast ? \"insertAfter\" : \"insertBefore\"](parameters.targetColumnElement);\r\n                that._animationColumnIndex = targetColumnIndex;\r\n                separator.show(targetLocation)\r\n            }\r\n        };\r\n        that._columnHeadersView.element().find(\".\" + HEADER_ROW_CLASS).toggleClass(that.addWidgetPrefix(HEADERS_DROP_HIGHLIGHT_CLASS), \"headers\" !== sourceLocation && \"headers\" === targetLocation && !hasTargetVisibleIndex);\r\n        if (separator) {\r\n            if (that.allowDrop(parameters) && hasTargetVisibleIndex) {\r\n                if (\"group\" === targetLocation || \"columnChooser\" === targetLocation) {\r\n                    showSeparator()\r\n                } else {\r\n                    that.hideSeparators(\"block\");\r\n                    that.getController(\"tablePosition\").update(parameters.posY);\r\n                    separator.moveByX(parameters.posX - separator.width());\r\n                    separator.show()\r\n                }\r\n            } else {\r\n                that.hideSeparators()\r\n            }\r\n        }\r\n    },\r\n    drop: function(parameters) {\r\n        var sourceColumnElement = parameters.sourceColumnElement;\r\n        if (sourceColumnElement) {\r\n            sourceColumnElement.css({\r\n                opacity: \"\"\r\n            });\r\n            this._columnHeadersView.setRowsOpacity(parameters.sourceIndex, \"\");\r\n            this._rowsView.setRowsOpacity(parameters.sourceIndex, \"\");\r\n            this._columnHeadersView.element().find(\".\" + HEADER_ROW_CLASS).removeClass(this.addWidgetPrefix(HEADERS_DROP_HIGHLIGHT_CLASS))\r\n        }\r\n        if (this.allowDrop(parameters)) {\r\n            var separator = this._getSeparator(parameters.targetLocation);\r\n            if (separator) {\r\n                separator.hide()\r\n            }\r\n            this._columnsController.moveColumn(parameters.sourceColumnIndex, parameters.targetColumnIndex, parameters.sourceLocation, parameters.targetLocation)\r\n        }\r\n    },\r\n    dispose: function() {\r\n        if (this._draggingHeaderView) {\r\n            this._unsubscribeFromEvents(this._draggingHeaderView, [this._columnChooserView, this._columnHeadersView, this._headerPanelView])\r\n        }\r\n    }\r\n});\r\nvar _default = {\r\n    views: {\r\n        columnsSeparatorView: ColumnsSeparatorView,\r\n        blockSeparatorView: BlockSeparatorView,\r\n        draggingHeaderView: DraggingHeaderView,\r\n        trackerView: TrackerView\r\n    },\r\n    controllers: {\r\n        draggingHeader: DraggingHeaderViewController,\r\n        tablePosition: TablePositionViewController,\r\n        columnsResizer: ColumnsResizerViewController\r\n    },\r\n    extenders: {\r\n        views: {\r\n            rowsView: {\r\n                _needUpdateRowHeight: function(itemCount) {\r\n                    var wordWrapEnabled = this.option(\"wordWrapEnabled\");\r\n                    var columnsResizerController = this.getController(\"columnsResizer\");\r\n                    var isResizing = columnsResizerController.isResizing();\r\n                    return this.callBase.apply(this, arguments) || itemCount > 0 && wordWrapEnabled && isResizing\r\n                }\r\n            }\r\n        },\r\n        controllers: {\r\n            editorFactory: {\r\n                renderFocusOverlay: function() {\r\n                    if (this.getController(\"columnsResizer\").isResizing()) {\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.keyboard_navigation.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.keyboard_navigation\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"keyboardNavigation\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.keyboard_navigation.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _dom_adapter = _interopRequireDefault(require(\"../../core/dom_adapter\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _uiGrid_core2 = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _array = require(\"../../core/utils/array\");\r\nvar _selectors = require(\"../widget/selectors\");\r\nvar _index = require(\"../../events/utils/index\");\r\nvar _pointer = _interopRequireDefault(require(\"../../events/pointer\"));\r\nvar _click = require(\"../../events/click\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar accessibility = _interopRequireWildcard(require(\"../shared/accessibility\"));\r\nvar _browser = _interopRequireDefault(require(\"../../core/utils/browser\"));\r\nvar _short = require(\"../../events/short\");\r\nvar _devices = _interopRequireDefault(require(\"../../core/devices\"));\r\n\r\nfunction _getRequireWildcardCache() {\r\n    if (\"function\" !== typeof WeakMap) {\r\n        return null\r\n    }\r\n    var cache = new WeakMap;\r\n    _getRequireWildcardCache = function() {\r\n        return cache\r\n    };\r\n    return cache\r\n}\r\n\r\nfunction _interopRequireWildcard(obj) {\r\n    if (obj && obj.__esModule) {\r\n        return obj\r\n    }\r\n    if (null === obj || \"object\" !== _typeof(obj) && \"function\" !== typeof obj) {\r\n        return {\r\n            \"default\": obj\r\n        }\r\n    }\r\n    var cache = _getRequireWildcardCache();\r\n    if (cache && cache.has(obj)) {\r\n        return cache.get(obj)\r\n    }\r\n    var newObj = {};\r\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\r\n    for (var key in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\r\n            if (desc && (desc.get || desc.set)) {\r\n                Object.defineProperty(newObj, key, desc)\r\n            } else {\r\n                newObj[key] = obj[key]\r\n            }\r\n        }\r\n    }\r\n    newObj.default = obj;\r\n    if (cache) {\r\n        cache.set(obj, newObj)\r\n    }\r\n    return newObj\r\n}\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar ROWS_VIEW_CLASS = \"rowsview\";\r\nvar EDIT_FORM_CLASS = \"edit-form\";\r\nvar GROUP_FOOTER_CLASS = \"group-footer\";\r\nvar ROW_CLASS = \"dx-row\";\r\nvar DATA_ROW_CLASS = \"dx-data-row\";\r\nvar GROUP_ROW_CLASS = \"dx-group-row\";\r\nvar HEADER_ROW_CLASS = \"dx-header-row\";\r\nvar EDIT_FORM_ITEM_CLASS = \"edit-form-item\";\r\nvar MASTER_DETAIL_ROW_CLASS = \"dx-master-detail-row\";\r\nvar FREESPACE_ROW_CLASS = \"dx-freespace-row\";\r\nvar VIRTUAL_ROW_CLASS = \"dx-virtual-row\";\r\nvar MASTER_DETAIL_CELL_CLASS = \"dx-master-detail-cell\";\r\nvar EDITOR_CELL_CLASS = \"dx-editor-cell\";\r\nvar DROPDOWN_EDITOR_OVERLAY_CLASS = \"dx-dropdowneditor-overlay\";\r\nvar COMMAND_EXPAND_CLASS = \"dx-command-expand\";\r\nvar COMMAND_SELECT_CLASS = \"dx-command-select\";\r\nvar COMMAND_EDIT_CLASS = \"dx-command-edit\";\r\nvar COMMAND_CELL_SELECTOR = \"[class^=dx-command]\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar DATEBOX_WIDGET_NAME = \"dxDateBox\";\r\nvar FOCUS_STATE_CLASS = \"dx-state-focused\";\r\nvar WIDGET_CLASS = \"dx-widget\";\r\nvar REVERT_BUTTON_CLASS = \"dx-revert-button\";\r\nvar FAST_EDITING_DELETE_KEY = \"delete\";\r\nvar INTERACTIVE_ELEMENTS_SELECTOR = \"input:not([type='hidden']), textarea, a, select, button, [tabindex]\";\r\nvar EDIT_MODE_ROW = \"row\";\r\nvar EDIT_MODE_FORM = \"form\";\r\nvar EDIT_MODE_BATCH = \"batch\";\r\nvar EDIT_MODE_CELL = \"cell\";\r\nvar FOCUS_TYPE_ROW = \"row\";\r\nvar FOCUS_TYPE_CELL = \"cell\";\r\nvar COLUMN_HEADERS_VIEW = \"columnHeadersView\";\r\n\r\nfunction isGroupRow($row) {\r\n    return $row && $row.hasClass(GROUP_ROW_CLASS)\r\n}\r\n\r\nfunction isDetailRow($row) {\r\n    return $row && $row.hasClass(MASTER_DETAIL_ROW_CLASS)\r\n}\r\n\r\nfunction isDataRow($row) {\r\n    return $row && !isGroupRow($row) && !isDetailRow($row)\r\n}\r\n\r\nfunction isNotFocusedRow($row) {\r\n    return !$row || $row.hasClass(FREESPACE_ROW_CLASS) || $row.hasClass(VIRTUAL_ROW_CLASS)\r\n}\r\n\r\nfunction isCellElement($element) {\r\n    return $element.length && \"TD\" === $element[0].tagName\r\n}\r\n\r\nfunction isEditorCell(that, $cell) {\r\n    return !that._isRowEditMode() && $cell && !$cell.hasClass(COMMAND_SELECT_CLASS) && $cell.hasClass(EDITOR_CELL_CLASS)\r\n}\r\n\r\nfunction isElementDefined($element) {\r\n    return (0, _type.isDefined)($element) && $element.length > 0\r\n}\r\n\r\nfunction isMobile() {\r\n    return \"desktop\" !== _devices.default.current().deviceType\r\n}\r\n\r\nfunction isCellInHeaderRow($cell) {\r\n    return !!$cell.parent(\".\".concat(HEADER_ROW_CLASS)).length\r\n}\r\n\r\nfunction isFixedColumnIndexOffsetRequired(that, column) {\r\n    var rtlEnabled = that.option(\"rtlEnabled\");\r\n    var result = false;\r\n    if (rtlEnabled) {\r\n        result = !(\"right\" === column.fixedPosition || (0, _type.isDefined)(column.command) && !(0, _type.isDefined)(column.fixedPosition))\r\n    } else {\r\n        result = !(!(0, _type.isDefined)(column.fixedPosition) || \"left\" === column.fixedPosition)\r\n    }\r\n    return result\r\n}\r\nvar KeyboardNavigationController = _uiGrid_core.default.ViewController.inherit({\r\n    init: function() {\r\n        var _this = this;\r\n        this._dataController = this.getController(\"data\");\r\n        this._selectionController = this.getController(\"selection\");\r\n        this._editingController = this.getController(\"editing\");\r\n        this._headerPanel = this.getView(\"headerPanel\");\r\n        this._columnsController = this.getController(\"columns\");\r\n        this._editorFactory = this.getController(\"editorFactory\");\r\n        if (this.isKeyboardEnabled()) {\r\n            accessibility.subscribeVisibilityChange();\r\n            this._updateFocusTimeout = null;\r\n            this._fastEditingStarted = false;\r\n            this._focusedCellPosition = {};\r\n            this._canceledCellPosition = null;\r\n            var elementFocused = function($element) {\r\n                _this.setupFocusedView();\r\n                if (_this._isNeedScroll) {\r\n                    if ($element.is(\":visible\") && _this._focusedView && _this._focusedView.getScrollable) {\r\n                        _this._focusedView._scrollToElement($element);\r\n                        _this._isNeedScroll = false\r\n                    }\r\n                }\r\n            };\r\n            this._editorFactory.focused.add(elementFocused);\r\n            this._initViewHandlers();\r\n            this._initDocumentHandlers();\r\n            this.createAction(\"onKeyDown\")\r\n        }\r\n    },\r\n    _initViewHandlers: function() {\r\n        var _this2 = this;\r\n        var rowsView = this.getView(\"rowsView\");\r\n        var rowsViewFocusHandler = function(event) {\r\n            var $element = (0, _renderer.default)(event.target);\r\n            var isRelatedTargetInRowsView = (0, _renderer.default)(event.relatedTarget).closest(rowsView.element()).length;\r\n            var isCommandButton = $element.hasClass(\"dx-link\");\r\n            if (isCommandButton && !isRelatedTargetInRowsView) {\r\n                var $focusedCell = _this2._getFocusedCell();\r\n                $focusedCell = !isElementDefined($focusedCell) ? rowsView.getCellElements(0).filter(\"[tabindex]\").eq(0) : $focusedCell;\r\n                if (!$element.closest($focusedCell).length) {\r\n                    event.preventDefault();\r\n                    _events_engine.default.trigger($focusedCell, \"focus\")\r\n                }\r\n            }\r\n        };\r\n        rowsView.renderCompleted.add(function(e) {\r\n            var $rowsView = rowsView.element();\r\n            var isFullUpdate = !e || \"refresh\" === e.changeType;\r\n            var isFocusedViewCorrect = _this2._focusedView && _this2._focusedView.name === rowsView.name;\r\n            var needUpdateFocus = false;\r\n            var isAppend = e && (\"append\" === e.changeType || \"prepend\" === e.changeType);\r\n            var $focusedElement = (0, _renderer.default)(\":focus\");\r\n            var isFocusedElementCorrect = !$focusedElement.length || $focusedElement.closest($rowsView).length || _browser.default.msie && $focusedElement.is(\"body\");\r\n            _events_engine.default.off($rowsView, \"focusin\", rowsViewFocusHandler);\r\n            _events_engine.default.on($rowsView, \"focusin\", rowsViewFocusHandler);\r\n            _this2._initPointerEventHandler();\r\n            _this2._initKeyDownHandler();\r\n            _this2._setRowsViewAttributes();\r\n            if (isFocusedViewCorrect && isFocusedElementCorrect) {\r\n                needUpdateFocus = _this2._isNeedFocus ? !isAppend : _this2._isHiddenFocus && isFullUpdate;\r\n                needUpdateFocus && _this2._updateFocus(true)\r\n            }\r\n        })\r\n    },\r\n    _initDocumentHandlers: function() {\r\n        var _this3 = this;\r\n        var document = _dom_adapter.default.getDocument();\r\n        this._documentClickHandler = this.createAction(function(e) {\r\n            var $target = (0, _renderer.default)(e.event.target);\r\n            var isCurrentRowsViewClick = _this3._isEventInCurrentGrid(e.event) && $target.closest(\".\".concat(_this3.addWidgetPrefix(ROWS_VIEW_CLASS))).length;\r\n            var isEditorOverlay = $target.closest(\".\".concat(DROPDOWN_EDITOR_OVERLAY_CLASS)).length;\r\n            var columnsResizerController = _this3.getController(\"columnsResizer\");\r\n            var isColumnResizing = !!columnsResizerController && columnsResizerController.isResizing();\r\n            if (!isCurrentRowsViewClick && !isEditorOverlay && !isColumnResizing) {\r\n                _this3._resetFocusedView()\r\n            }\r\n        });\r\n        _events_engine.default.on(document, (0, _index.addNamespace)(_pointer.default.down, \"dxDataGridKeyboardNavigation\"), this._documentClickHandler)\r\n    },\r\n    _setRowsViewAttributes: function() {\r\n        var $rowsView = this._getRowsViewElement();\r\n        var isGridEmpty = !this._dataController.getVisibleRows().length;\r\n        if (isGridEmpty) {\r\n            this._applyTabIndexToElement($rowsView)\r\n        }\r\n    },\r\n    _initPointerEventHandler: function() {\r\n        var pointerEventName = !isMobile() ? _pointer.default.down : _click.name;\r\n        var clickSelector = \".\".concat(ROW_CLASS, \" > td, .\").concat(ROW_CLASS);\r\n        var $rowsView = this._getRowsViewElement();\r\n        if (!(0, _type.isDefined)(this._pointerEventAction)) {\r\n            this._pointerEventAction = this.createAction(this._pointerEventHandler)\r\n        }\r\n        _events_engine.default.off($rowsView, (0, _index.addNamespace)(pointerEventName, \"dxDataGridKeyboardNavigation\"), this._pointerEventAction);\r\n        _events_engine.default.on($rowsView, (0, _index.addNamespace)(pointerEventName, \"dxDataGridKeyboardNavigation\"), clickSelector, this._pointerEventAction)\r\n    },\r\n    _initKeyDownHandler: function() {\r\n        var _this4 = this;\r\n        var $rowsView = this._getRowsViewElement();\r\n        _short.keyboard.off(this._keyDownListener);\r\n        this._keyDownListener = _short.keyboard.on($rowsView, null, function(e) {\r\n            return _this4._keyDownHandler(e)\r\n        })\r\n    },\r\n    dispose: function() {\r\n        this.callBase();\r\n        this._resetFocusedView();\r\n        _short.keyboard.off(this._keyDownListener);\r\n        _events_engine.default.off(_dom_adapter.default.getDocument(), (0, _index.addNamespace)(_pointer.default.down, \"dxDataGridKeyboardNavigation\"), this._documentClickHandler);\r\n        clearTimeout(this._updateFocusTimeout);\r\n        accessibility.unsubscribeVisibilityChange()\r\n    },\r\n    optionChanged: function(args) {\r\n        var that = this;\r\n        switch (args.name) {\r\n            case \"keyboardNavigation\":\r\n            case \"useLegacyKeyboardNavigation\":\r\n                args.handled = true;\r\n                break;\r\n            default:\r\n                that.callBase(args)\r\n        }\r\n    },\r\n    isRowFocusType: function() {\r\n        return this.focusType === FOCUS_TYPE_ROW\r\n    },\r\n    isCellFocusType: function() {\r\n        return this.focusType === FOCUS_TYPE_CELL\r\n    },\r\n    setRowFocusType: function() {\r\n        if (this.option(\"focusedRowEnabled\")) {\r\n            this.focusType = FOCUS_TYPE_ROW\r\n        }\r\n    },\r\n    setCellFocusType: function() {\r\n        this.focusType = FOCUS_TYPE_CELL\r\n    },\r\n    _keyDownHandler: function(e) {\r\n        var isEditing = this._editingController.isEditing();\r\n        var needStopPropagation = true;\r\n        var originalEvent = e.originalEvent;\r\n        var isHandled = this._processOnKeyDown(e);\r\n        if (originalEvent.isDefaultPrevented()) {\r\n            return\r\n        }\r\n        this._isNeedFocus = true;\r\n        this._isNeedScroll = true;\r\n        this._updateFocusedCellPositionByTarget(originalEvent.target);\r\n        if (!isHandled) {\r\n            switch (e.keyName) {\r\n                case \"leftArrow\":\r\n                case \"rightArrow\":\r\n                    this._leftRightKeysHandler(e, isEditing);\r\n                    break;\r\n                case \"upArrow\":\r\n                case \"downArrow\":\r\n                    if (e.ctrl) {\r\n                        accessibility.selectView(\"rowsView\", this, originalEvent)\r\n                    } else {\r\n                        this._upDownKeysHandler(e, isEditing)\r\n                    }\r\n                    break;\r\n                case \"pageUp\":\r\n                case \"pageDown\":\r\n                    this._pageUpDownKeyHandler(e);\r\n                    break;\r\n                case \"space\":\r\n                    this._spaceKeyHandler(e, isEditing);\r\n                    break;\r\n                case \"A\":\r\n                    if (e.ctrl) {\r\n                        this._ctrlAKeyHandler(e, isEditing)\r\n                    } else {\r\n                        this._beginFastEditing(e.originalEvent)\r\n                    }\r\n                    break;\r\n                case \"tab\":\r\n                    this._tabKeyHandler(e, isEditing);\r\n                    break;\r\n                case \"enter\":\r\n                    this._enterKeyHandler(e, isEditing);\r\n                    break;\r\n                case \"escape\":\r\n                    this._escapeKeyHandler(e, isEditing);\r\n                    break;\r\n                case \"F\":\r\n                    if (e.ctrl) {\r\n                        this._ctrlFKeyHandler(e)\r\n                    } else {\r\n                        this._beginFastEditing(e.originalEvent)\r\n                    }\r\n                    break;\r\n                case \"F2\":\r\n                    this._f2KeyHandler();\r\n                    break;\r\n                case \"del\":\r\n                case \"backspace\":\r\n                    if (this._isFastEditingAllowed() && !this._isFastEditingStarted()) {\r\n                        this._beginFastEditing(originalEvent, true)\r\n                    }\r\n                    break;\r\n                default:\r\n                    if (!this._beginFastEditing(originalEvent)) {\r\n                        this._isNeedFocus = false;\r\n                        this._isNeedScroll = false;\r\n                        needStopPropagation = false\r\n                    }\r\n            }\r\n            if (needStopPropagation) {\r\n                originalEvent.stopPropagation()\r\n            }\r\n        }\r\n    },\r\n    _processOnKeyDown: function(eventArgs) {\r\n        var originalEvent = eventArgs.originalEvent;\r\n        var args = {\r\n            handled: false,\r\n            event: originalEvent\r\n        };\r\n        this.executeAction(\"onKeyDown\", args);\r\n        eventArgs.ctrl = originalEvent.ctrlKey;\r\n        eventArgs.alt = originalEvent.altKey;\r\n        eventArgs.shift = originalEvent.shiftKey;\r\n        return !!args.handled\r\n    },\r\n    _closeEditCell: function() {\r\n        var _this5 = this;\r\n        setTimeout(function() {\r\n            _this5._editingController.closeEditCell()\r\n        })\r\n    },\r\n    _leftRightKeysHandler: function(eventArgs, isEditing) {\r\n        var rowIndex = this.getVisibleRowIndex();\r\n        var $event = eventArgs.originalEvent;\r\n        var $row = this._focusedView && this._focusedView.getRow(rowIndex);\r\n        var directionCode = this._getDirectionCodeByKey(eventArgs.keyName);\r\n        var isEditingNavigationMode = this._isFastEditingStarted();\r\n        var allowNavigate = (!isEditing || isEditingNavigationMode) && isDataRow($row);\r\n        if (allowNavigate) {\r\n            this.setCellFocusType();\r\n            isEditingNavigationMode && this._closeEditCell();\r\n            if (this._isVirtualColumnRender()) {\r\n                this._processVirtualHorizontalPosition(directionCode)\r\n            }\r\n            var $cell = this._getNextCell(directionCode);\r\n            if (isElementDefined($cell)) {\r\n                this._arrowKeysHandlerFocusCell($event, $cell, directionCode)\r\n            }\r\n            $event && $event.preventDefault()\r\n        }\r\n    },\r\n    _upDownKeysHandler: function(eventArgs, isEditing) {\r\n        var rowIndex = this._focusedCellPosition.rowIndex;\r\n        var visibleRowIndex = this.getVisibleRowIndex();\r\n        var $row = this._focusedView && this._focusedView.getRow(visibleRowIndex);\r\n        var $event = eventArgs.originalEvent;\r\n        var isUpArrow = \"upArrow\" === eventArgs.keyName;\r\n        var dataSource = this._dataController.dataSource();\r\n        var isEditingNavigationMode = this._isFastEditingStarted();\r\n        var allowNavigate = (!isEditing || isEditingNavigationMode) && $row && !isDetailRow($row);\r\n        if (allowNavigate) {\r\n            isEditingNavigationMode && this._closeEditCell();\r\n            if (!this._navigateNextCell($event, eventArgs.keyName)) {\r\n                if (this._isVirtualRowRender() && isUpArrow && dataSource && !dataSource.isLoading()) {\r\n                    var rowHeight = $row.outerHeight();\r\n                    rowIndex = this._focusedCellPosition.rowIndex - 1;\r\n                    this._scrollBy(0, -rowHeight, rowIndex, $event)\r\n                }\r\n            }\r\n            $event && $event.preventDefault()\r\n        }\r\n    },\r\n    _pageUpDownKeyHandler: function(eventArgs) {\r\n        var pageIndex = this._dataController.pageIndex();\r\n        var pageCount = this._dataController.pageCount();\r\n        var pagingEnabled = this.option(\"paging.enabled\");\r\n        var isPageUp = \"pageUp\" === eventArgs.keyName;\r\n        var pageStep = isPageUp ? -1 : 1;\r\n        var scrollable = this.getView(\"rowsView\").getScrollable();\r\n        if (pagingEnabled && !this._isVirtualScrolling()) {\r\n            if ((isPageUp ? pageIndex > 0 : pageIndex < pageCount - 1) && !this._isVirtualScrolling()) {\r\n                this._dataController.pageIndex(pageIndex + pageStep);\r\n                eventArgs.originalEvent.preventDefault()\r\n            }\r\n        } else {\r\n            if (scrollable && scrollable._container().height() < scrollable.$content().height()) {\r\n                this._scrollBy(0, scrollable._container().height() * pageStep);\r\n                eventArgs.originalEvent.preventDefault()\r\n            }\r\n        }\r\n    },\r\n    _spaceKeyHandler: function(eventArgs, isEditing) {\r\n        var rowIndex = this.getVisibleRowIndex();\r\n        var $target = (0, _renderer.default)(eventArgs.originalEvent && eventArgs.originalEvent.target);\r\n        if (this.option(\"selection\") && \"none\" !== this.option(\"selection\").mode && !isEditing) {\r\n            var isFocusedRowElement = \"row\" === this._getElementType($target) && this.isRowFocusType() && isDataRow($target);\r\n            var isFocusedSelectionCell = $target.hasClass(COMMAND_SELECT_CLASS);\r\n            if (isFocusedSelectionCell && \"onClick\" === this.option(\"selection.showCheckBoxesMode\")) {\r\n                this._selectionController.startSelectionWithCheckboxes()\r\n            }\r\n            if (isFocusedRowElement || $target.parent().hasClass(DATA_ROW_CLASS) || $target.hasClass(this.addWidgetPrefix(ROWS_VIEW_CLASS))) {\r\n                this._selectionController.changeItemSelection(rowIndex, {\r\n                    shift: eventArgs.shift,\r\n                    control: eventArgs.ctrl\r\n                });\r\n                eventArgs.originalEvent.preventDefault()\r\n            }\r\n        } else {\r\n            this._beginFastEditing(eventArgs.originalEvent)\r\n        }\r\n    },\r\n    _ctrlAKeyHandler: function(eventArgs, isEditing) {\r\n        if (!isEditing && eventArgs.ctrl && !eventArgs.alt && \"multiple\" === this.option(\"selection.mode\") && this.option(\"selection.allowSelectAll\")) {\r\n            this._selectionController.selectAll();\r\n            eventArgs.originalEvent.preventDefault()\r\n        }\r\n    },\r\n    _tabKeyHandler: function(eventArgs, isEditing) {\r\n        var editingOptions = this.option(\"editing\");\r\n        var direction = eventArgs.shift ? \"previous\" : \"next\";\r\n        var isCellPositionDefined = (0, _type.isDefined)(this._focusedCellPosition) && !(0, _type.isEmptyObject)(this._focusedCellPosition);\r\n        var isOriginalHandlerRequired = !isCellPositionDefined || !eventArgs.shift && this._isLastValidCell(this._focusedCellPosition) || eventArgs.shift && this._isFirstValidCell(this._focusedCellPosition);\r\n        var eventTarget = eventArgs.originalEvent.target;\r\n        var focusedViewElement = this._focusedView && this._focusedView.element();\r\n        if (this._handleTabKeyOnMasterDetailCell(eventTarget, direction)) {\r\n            return\r\n        }(0, _renderer.default)(focusedViewElement).addClass(FOCUS_STATE_CLASS);\r\n        if (editingOptions && eventTarget && !isOriginalHandlerRequired) {\r\n            if ((0, _renderer.default)(eventTarget).hasClass(this.addWidgetPrefix(ROWS_VIEW_CLASS))) {\r\n                this._resetFocusedCell()\r\n            }\r\n            if (this._isVirtualColumnRender()) {\r\n                this._processVirtualHorizontalPosition(direction)\r\n            }\r\n            if (isEditing) {\r\n                if (!this._editingCellTabHandler(eventArgs, direction)) {\r\n                    return\r\n                }\r\n            } else {\r\n                if (this._targetCellTabHandler(eventArgs, direction)) {\r\n                    isOriginalHandlerRequired = true\r\n                }\r\n            }\r\n        }\r\n        if (isOriginalHandlerRequired) {\r\n            this._editorFactory.loseFocus();\r\n            if (this._editingController.isEditing() && !this._isRowEditMode()) {\r\n                this._resetFocusedView();\r\n                this._closeEditCell()\r\n            }\r\n        } else {\r\n            eventArgs.originalEvent.preventDefault()\r\n        }\r\n    },\r\n    _getMaxHorizontalOffset: function() {\r\n        var scrollable = this.component.getScrollable();\r\n        var rowsView = this.getView(\"rowsView\");\r\n        var offset = scrollable ? scrollable.scrollWidth() - (0, _renderer.default)(rowsView.element()).width() : 0;\r\n        return offset\r\n    },\r\n    _isColumnRendered: function(columnIndex) {\r\n        var allVisibleColumns = this._columnsController.getVisibleColumns(null, true);\r\n        var renderedVisibleColumns = this._columnsController.getVisibleColumns();\r\n        var column = allVisibleColumns[columnIndex];\r\n        var result = false;\r\n        if (column) {\r\n            result = renderedVisibleColumns.indexOf(column) >= 0\r\n        }\r\n        return result\r\n    },\r\n    _isFixedColumn: function(columnIndex) {\r\n        var allVisibleColumns = this._columnsController.getVisibleColumns(null, true);\r\n        var column = allVisibleColumns[columnIndex];\r\n        return !!column && !!column.fixed\r\n    },\r\n    _isColumnVirtual: function(columnIndex) {\r\n        var localColumnIndex = columnIndex - this._columnsController.getColumnIndexOffset();\r\n        var visibleColumns = this._columnsController.getVisibleColumns();\r\n        var column = visibleColumns[localColumnIndex];\r\n        return !!column && \"virtual\" === column.command\r\n    },\r\n    _processVirtualHorizontalPosition: function(direction) {\r\n        var scrollable = this.component.getScrollable();\r\n        var columnIndex = this.getColumnIndex();\r\n        var nextColumnIndex;\r\n        var horizontalScrollPosition = 0;\r\n        var needToScroll = false;\r\n        switch (direction) {\r\n            case \"next\":\r\n            case \"nextInRow\":\r\n                var columnsCount = this._getVisibleColumnCount();\r\n                nextColumnIndex = columnIndex + 1;\r\n                horizontalScrollPosition = this.option(\"rtlEnabled\") ? this._getMaxHorizontalOffset() : 0;\r\n                if (\"next\" === direction) {\r\n                    needToScroll = columnsCount === nextColumnIndex || this._isFixedColumn(columnIndex) && !this._isColumnRendered(nextColumnIndex)\r\n                } else {\r\n                    needToScroll = columnsCount > nextColumnIndex && this._isFixedColumn(columnIndex) && !this._isColumnRendered(nextColumnIndex)\r\n                }\r\n                break;\r\n            case \"previous\":\r\n            case \"previousInRow\":\r\n                nextColumnIndex = columnIndex - 1;\r\n                horizontalScrollPosition = this.option(\"rtlEnabled\") ? 0 : this._getMaxHorizontalOffset();\r\n                if (\"previous\" === direction) {\r\n                    var columnIndexOffset = this._columnsController.getColumnIndexOffset();\r\n                    var leftEdgePosition = nextColumnIndex < 0 && 0 === columnIndexOffset;\r\n                    needToScroll = leftEdgePosition || this._isFixedColumn(columnIndex) && !this._isColumnRendered(nextColumnIndex)\r\n                } else {\r\n                    needToScroll = nextColumnIndex >= 0 && this._isFixedColumn(columnIndex) && !this._isColumnRendered(nextColumnIndex)\r\n                }\r\n        }\r\n        if (needToScroll) {\r\n            scrollable.scrollTo({\r\n                left: horizontalScrollPosition\r\n            })\r\n        } else {\r\n            if ((0, _type.isDefined)(nextColumnIndex) && (0, _type.isDefined)(direction) && this._isColumnVirtual(nextColumnIndex)) {\r\n                horizontalScrollPosition = this._getHorizontalScrollPositionOffset(direction);\r\n                0 !== horizontalScrollPosition && scrollable.scrollBy({\r\n                    left: horizontalScrollPosition,\r\n                    top: 0\r\n                })\r\n            }\r\n        }\r\n    },\r\n    _getHorizontalScrollPositionOffset: function(direction) {\r\n        var positionOffset = 0;\r\n        var $currentCell = this._getCell(this._focusedCellPosition);\r\n        var currentCellWidth = $currentCell && $currentCell.outerWidth();\r\n        if (currentCellWidth > 0) {\r\n            var rtlMultiplier = this.option(\"rtlEnabled\") ? -1 : 1;\r\n            positionOffset = \"nextInRow\" === direction || \"next\" === direction ? currentCellWidth * rtlMultiplier : currentCellWidth * rtlMultiplier * -1\r\n        }\r\n        return positionOffset\r\n    },\r\n    _editingCellTabHandler: function(eventArgs, direction) {\r\n        var eventTarget = eventArgs.originalEvent.target;\r\n        var $cell = this._getCellElementFromTarget(eventTarget);\r\n        var isEditingAllowed;\r\n        var $event = eventArgs.originalEvent;\r\n        var elementType = this._getElementType(eventTarget);\r\n        if ($cell.is(COMMAND_CELL_SELECTOR)) {\r\n            return !this._targetCellTabHandler(eventArgs, direction)\r\n        }\r\n        this._updateFocusedCellPosition($cell);\r\n        var nextCellInfo = this._getNextCellByTabKey($event, direction, elementType);\r\n        $cell = nextCellInfo.$cell;\r\n        if (!$cell || this._handleTabKeyOnMasterDetailCell($cell, direction)) {\r\n            return false\r\n        }\r\n        var columnsController = this._columnsController;\r\n        var cellIndex = this.getView(\"rowsView\").getCellIndex($cell);\r\n        var columnIndex = cellIndex + columnsController.getColumnIndexOffset();\r\n        var column = columnsController.getVisibleColumns(null, true)[columnIndex];\r\n        var $row = $cell && $cell.parent();\r\n        var rowIndex = this._getRowIndex($row);\r\n        var row = this._dataController.items()[rowIndex];\r\n        var editingController = this._editingController;\r\n        if (column && column.allowEditing) {\r\n            var _isDataRow = !row || \"data\" === row.rowType;\r\n            isEditingAllowed = editingController.allowUpdating({\r\n                row: row\r\n            }) ? _isDataRow : row && row.isNewRow\r\n        }\r\n        if (!isEditingAllowed) {\r\n            this._closeEditCell()\r\n        }\r\n        if (this._focusCell($cell, !nextCellInfo.isHighlighted)) {\r\n            if (!this._isRowEditMode() && isEditingAllowed) {\r\n                this._editFocusedCell()\r\n            } else {\r\n                this._focusInteractiveElement($cell, eventArgs.shift)\r\n            }\r\n        }\r\n        return true\r\n    },\r\n    _targetCellTabHandler: function(eventArgs, direction) {\r\n        var $event = eventArgs.originalEvent;\r\n        var eventTarget = $event.target;\r\n        var $cell = this._getCellElementFromTarget(eventTarget);\r\n        var $lastInteractiveElement = this._getInteractiveElement($cell, !eventArgs.shift);\r\n        var isOriginalHandlerRequired = false;\r\n        var elementType;\r\n        if (!isEditorCell(this, $cell) && $lastInteractiveElement.length && eventTarget !== $lastInteractiveElement.get(0)) {\r\n            isOriginalHandlerRequired = true\r\n        } else {\r\n            if (void 0 === this._focusedCellPosition.rowIndex && (0, _renderer.default)(eventTarget).hasClass(ROW_CLASS)) {\r\n                this._updateFocusedCellPosition($cell)\r\n            }\r\n            elementType = this._getElementType(eventTarget);\r\n            if (this.isRowFocusType()) {\r\n                this.setCellFocusType();\r\n                if (\"row\" === elementType && isDataRow((0, _renderer.default)(eventTarget))) {\r\n                    eventTarget = this.getFirstValidCellInRow((0, _renderer.default)(eventTarget));\r\n                    elementType = this._getElementType(eventTarget)\r\n                }\r\n            }\r\n            var nextCellInfo = this._getNextCellByTabKey($event, direction, elementType);\r\n            $cell = nextCellInfo.$cell;\r\n            if (!$cell) {\r\n                return false\r\n            }\r\n            $cell = this._checkNewLineTransition($event, $cell);\r\n            if (!$cell) {\r\n                return false\r\n            }\r\n            this._focusCell($cell, !nextCellInfo.isHighlighted);\r\n            if (!isEditorCell(this, $cell)) {\r\n                this._focusInteractiveElement($cell, eventArgs.shift)\r\n            }\r\n        }\r\n        return isOriginalHandlerRequired\r\n    },\r\n    _getNextCellByTabKey: function($event, direction, elementType) {\r\n        var $cell = this._getNextCell(direction, elementType);\r\n        var args = $cell && this._fireFocusedCellChanging($event, $cell, true);\r\n        if (!args || args.cancel) {\r\n            return {}\r\n        }\r\n        if (args.$newCellElement) {\r\n            $cell = args.$newCellElement\r\n        }\r\n        return {\r\n            $cell: $cell,\r\n            isHighlighted: args.isHighlighted\r\n        }\r\n    },\r\n    _checkNewLineTransition: function($event, $cell) {\r\n        var rowIndex = this.getVisibleRowIndex();\r\n        var $row = $cell.parent();\r\n        if (rowIndex !== this._getRowIndex($row)) {\r\n            var cellPosition = this._getCellPosition($cell);\r\n            var args = this._fireFocusedRowChanging($event, $row);\r\n            if (args.cancel) {\r\n                return\r\n            }\r\n            if (args.rowIndexChanged) {\r\n                this.setFocusedColumnIndex(cellPosition.columnIndex);\r\n                $cell = this._getFocusedCell()\r\n            }\r\n        }\r\n        return $cell\r\n    },\r\n    _enterKeyHandler: function(eventArgs, isEditing) {\r\n        var $cell = this._getFocusedCell();\r\n        var rowIndex = this.getVisibleRowIndex();\r\n        var $row = this._focusedView && this._focusedView.getRow(rowIndex);\r\n        if (this.option(\"grouping.allowCollapsing\") && isGroupRow($row) || this.option(\"masterDetail.enabled\") && $cell && $cell.hasClass(COMMAND_EXPAND_CLASS)) {\r\n            var key = this._dataController.getKeyByRowIndex(rowIndex);\r\n            var item = this._dataController.items()[rowIndex];\r\n            if (void 0 !== key && item && item.data && !item.data.isContinuation) {\r\n                this._dataController.changeRowExpand(key)\r\n            }\r\n        } else {\r\n            this._processEnterKeyForDataCell(eventArgs, isEditing)\r\n        }\r\n    },\r\n    _processEnterKeyForDataCell: function(eventArgs, isEditing) {\r\n        var direction = this._getEnterKeyDirection(eventArgs);\r\n        var allowEditingOnEnterKey = this._allowEditingOnEnterKey();\r\n        if (isEditing || !allowEditingOnEnterKey && direction) {\r\n            this._handleEnterKeyEditingCell(eventArgs.originalEvent);\r\n            if (\"next\" === direction || \"previous\" === direction) {\r\n                this._targetCellTabHandler(eventArgs, direction)\r\n            } else {\r\n                if (\"upArrow\" === direction || \"downArrow\" === direction) {\r\n                    this._navigateNextCell(eventArgs.originalEvent, direction)\r\n                }\r\n            }\r\n        } else {\r\n            if (allowEditingOnEnterKey) {\r\n                this._startEditing(eventArgs)\r\n            }\r\n        }\r\n    },\r\n    _getEnterKeyDirection: function(eventArgs) {\r\n        var enterKeyDirection = this.option(\"keyboardNavigation.enterKeyDirection\");\r\n        var isShift = eventArgs.shift;\r\n        if (\"column\" === enterKeyDirection) {\r\n            return isShift ? \"upArrow\" : \"downArrow\"\r\n        }\r\n        if (\"row\" === enterKeyDirection) {\r\n            return isShift ? \"previous\" : \"next\"\r\n        }\r\n    },\r\n    _handleEnterKeyEditingCell: function(event) {\r\n        var target = event.target;\r\n        var $cell = this._getCellElementFromTarget(target);\r\n        var isRowEditMode = this._isRowEditMode();\r\n        this._updateFocusedCellPosition($cell);\r\n        if (isRowEditMode) {\r\n            this._focusEditFormCell($cell);\r\n            setTimeout(this._editingController.saveEditData.bind(this._editingController))\r\n        } else {\r\n            _events_engine.default.trigger((0, _renderer.default)(target), \"change\");\r\n            this._closeEditCell();\r\n            event.preventDefault()\r\n        }\r\n    },\r\n    _escapeKeyHandler: function(eventArgs, isEditing) {\r\n        var $cell = this._getCellElementFromTarget(eventArgs.originalEvent.target);\r\n        if (isEditing) {\r\n            this._updateFocusedCellPosition($cell);\r\n            if (!this._isRowEditMode()) {\r\n                if (\"cell\" === this._editingController.getEditMode()) {\r\n                    this._editingController.cancelEditData()\r\n                } else {\r\n                    this._closeEditCell()\r\n                }\r\n            } else {\r\n                this._focusEditFormCell($cell);\r\n                this._editingController.cancelEditData();\r\n                if (0 === this._dataController.items().length) {\r\n                    this._resetFocusedCell();\r\n                    this._editorFactory.loseFocus()\r\n                }\r\n            }\r\n            eventArgs.originalEvent.preventDefault()\r\n        }\r\n    },\r\n    _ctrlFKeyHandler: function(eventArgs) {\r\n        if (this.option(\"searchPanel.visible\")) {\r\n            var searchTextEditor = this._headerPanel.getSearchTextEditor();\r\n            if (searchTextEditor) {\r\n                searchTextEditor.focus();\r\n                eventArgs.originalEvent.preventDefault()\r\n            }\r\n        }\r\n    },\r\n    _f2KeyHandler: function() {\r\n        var isEditing = this._editingController.isEditing();\r\n        var rowIndex = this.getVisibleRowIndex();\r\n        var $row = this._focusedView && this._focusedView.getRow(rowIndex);\r\n        if (!isEditing && isDataRow($row)) {\r\n            this._startEditing()\r\n        }\r\n    },\r\n    _navigateNextCell: function($event, keyCode) {\r\n        var $cell = this._getNextCell(keyCode);\r\n        var directionCode = this._getDirectionCodeByKey(keyCode);\r\n        var isCellValid = $cell && this._isCellValid($cell);\r\n        var result = isCellValid ? this._arrowKeysHandlerFocusCell($event, $cell, directionCode) : false;\r\n        return result\r\n    },\r\n    _arrowKeysHandlerFocusCell: function($event, $nextCell, direction) {\r\n        var isVerticalDirection = \"prevRow\" === direction || \"nextRow\" === direction;\r\n        var args = this._fireFocusChangingEvents($event, $nextCell, isVerticalDirection, true);\r\n        $nextCell = args.$newCellElement;\r\n        if (!args.cancel && this._isCellValid($nextCell)) {\r\n            this._focus($nextCell, !args.isHighlighted);\r\n            return true\r\n        }\r\n        return false\r\n    },\r\n    _beginFastEditing: function(originalEvent, isDeleting) {\r\n        if (!this._isFastEditingAllowed() || originalEvent.altKey || originalEvent.ctrlKey || this._editingController.isEditing()) {\r\n            return false\r\n        }\r\n        if (isDeleting) {\r\n            this._startEditing(originalEvent, FAST_EDITING_DELETE_KEY)\r\n        } else {\r\n            var key = originalEvent.key;\r\n            var keyCode = originalEvent.keyCode || originalEvent.which;\r\n            var fastEditingKey = key || keyCode && String.fromCharCode(keyCode);\r\n            if (fastEditingKey && (1 === fastEditingKey.length || fastEditingKey === FAST_EDITING_DELETE_KEY)) {\r\n                this._startEditing(originalEvent, fastEditingKey)\r\n            }\r\n        }\r\n        return true\r\n    },\r\n    _pointerEventHandler: function(e) {\r\n        var event = e.event || e;\r\n        var $target = (0, _renderer.default)(event.currentTarget);\r\n        var rowsView = this.getView(\"rowsView\");\r\n        var focusedViewElement = rowsView && rowsView.element();\r\n        var $parent = $target.parent();\r\n        var isInteractiveElement = (0, _renderer.default)(event.target).is(INTERACTIVE_ELEMENTS_SELECTOR);\r\n        var isRevertButton = !!(0, _renderer.default)(event.target).closest(\".\".concat(REVERT_BUTTON_CLASS)).length;\r\n        var isExpandCommandCell = $target.hasClass(COMMAND_EXPAND_CLASS);\r\n        if (!isRevertButton && this._isEventInCurrentGrid(event) && (this._isCellValid($target, !isInteractiveElement) || isExpandCommandCell)) {\r\n            $target = this._isInsideEditForm($target) ? (0, _renderer.default)(event.target) : $target;\r\n            this._focusView();\r\n            (0, _renderer.default)(focusedViewElement).removeClass(FOCUS_STATE_CLASS);\r\n            if ($parent.hasClass(FREESPACE_ROW_CLASS)) {\r\n                this._updateFocusedCellPosition($target);\r\n                this._applyTabIndexToElement(this._focusedView.element());\r\n                this._focusedView.focus()\r\n            } else {\r\n                if (!this._isMasterDetailCell($target)) {\r\n                    this._clickTargetCellHandler(event, $target)\r\n                } else {\r\n                    this._updateFocusedCellPosition($target)\r\n                }\r\n            }\r\n        } else {\r\n            if ($target.is(\"td\")) {\r\n                this._resetFocusedCell()\r\n            }\r\n        }\r\n    },\r\n    _clickTargetCellHandler: function(event, $cell) {\r\n        var columnIndex = this.getView(\"rowsView\").getCellIndex($cell);\r\n        var column = this._columnsController.getVisibleColumns()[columnIndex];\r\n        var isCellEditMode = this._isCellEditMode();\r\n        this.setCellFocusType();\r\n        var args = this._fireFocusChangingEvents(event, $cell, true);\r\n        $cell = args.$newCellElement;\r\n        if (!args.cancel) {\r\n            if (args.resetFocusedRow) {\r\n                this.getController(\"focus\")._resetFocusedRow();\r\n                return\r\n            }\r\n            if (args.rowIndexChanged) {\r\n                $cell = this._getFocusedCell()\r\n            }\r\n            if (!args.isHighlighted && !isCellEditMode) {\r\n                this.setRowFocusType()\r\n            }\r\n            this._updateFocusedCellPosition($cell);\r\n            if (this._allowRowUpdating() && isCellEditMode && column && column.allowEditing) {\r\n                this._isNeedFocus = false;\r\n                this._isHiddenFocus = false\r\n            } else {\r\n                var $target = event && (0, _renderer.default)(event.target).closest(INTERACTIVE_ELEMENTS_SELECTOR + \", td\");\r\n                var isInteractiveTarget = $target && $target.not($cell).is(INTERACTIVE_ELEMENTS_SELECTOR);\r\n                var isEditor = !!column && !column.command && $cell.hasClass(EDITOR_CELL_CLASS);\r\n                var isDisabled = !isEditor && (!args.isHighlighted || isInteractiveTarget);\r\n                this._focus($cell, isDisabled, isInteractiveTarget)\r\n            }\r\n        } else {\r\n            this.setRowFocusType();\r\n            this.setFocusedRowIndex(args.prevRowIndex);\r\n            $cell = this._getFocusedCell();\r\n            if (this._editingController.isEditing() && isCellEditMode) {\r\n                this._closeEditCell()\r\n            }\r\n        }\r\n    },\r\n    _allowRowUpdating: function() {\r\n        var rowIndex = this.getVisibleRowIndex();\r\n        var row = this._dataController.items()[rowIndex];\r\n        return this._editingController.allowUpdating({\r\n            row: row\r\n        }, \"click\")\r\n    },\r\n    focus: function(element) {\r\n        var activeElementSelector;\r\n        var focusedRowEnabled = this.option(\"focusedRowEnabled\");\r\n        var isHighlighted = isCellElement((0, _renderer.default)(element));\r\n        if (!element) {\r\n            activeElementSelector = \".dx-datagrid-rowsview .dx-row[tabindex]\";\r\n            if (!focusedRowEnabled) {\r\n                activeElementSelector += \", .dx-datagrid-rowsview .dx-row > td[tabindex]\"\r\n            }\r\n            element = this.component.$element().find(activeElementSelector).first()\r\n        }\r\n        element && this._focusElement((0, _renderer.default)(element), isHighlighted)\r\n    },\r\n    getFocusedView: function() {\r\n        return this._focusedView\r\n    },\r\n    setupFocusedView: function() {\r\n        if (this.isKeyboardEnabled() && !(0, _type.isDefined)(this._focusedView)) {\r\n            this._focusView()\r\n        }\r\n    },\r\n    _focusElement: function($element, isHighlighted) {\r\n        var rowsViewElement = (0, _renderer.default)(this._getRowsViewElement());\r\n        var $focusedView = $element.closest(rowsViewElement);\r\n        var isRowFocusType = this.isRowFocusType();\r\n        var args = {};\r\n        if (!$focusedView.length || isCellElement($element) && !this._isCellValid($element)) {\r\n            return\r\n        }\r\n        this._focusView();\r\n        this._isNeedFocus = true;\r\n        this._isNeedScroll = true;\r\n        if (isCellElement($element) || isGroupRow($element)) {\r\n            this.setCellFocusType();\r\n            args = this._fireFocusChangingEvents(null, $element, false, isHighlighted);\r\n            $element = args.$newCellElement;\r\n            if (isRowFocusType && !args.isHighlighted) {\r\n                this.setRowFocusType()\r\n            }\r\n        }\r\n        if (!args.cancel) {\r\n            this._focus($element, !args.isHighlighted);\r\n            this._focusInteractiveElement($element)\r\n        }\r\n    },\r\n    _getFocusedViewByElement: function($element) {\r\n        var view = this.getFocusedView();\r\n        var $view = view && (0, _renderer.default)(view.element());\r\n        return $element && 0 !== $element.closest($view).length\r\n    },\r\n    _focusView: function() {\r\n        this._focusedView = this.getView(\"rowsView\")\r\n    },\r\n    _resetFocusedView: function() {\r\n        var $cell = this._getFocusedCell();\r\n        this._resetFocusedCell($cell, true);\r\n        this.setRowFocusType();\r\n        this._focusedView = null\r\n    },\r\n    _focusInteractiveElement: function($cell, isLast) {\r\n        if (!$cell) {\r\n            return\r\n        }\r\n        var $focusedElement = this._getInteractiveElement($cell, isLast);\r\n        _uiGrid_core2.default.focusAndSelectElement(this, $focusedElement)\r\n    },\r\n    _focus: function($cell, disableFocus, isInteractiveElement) {\r\n        var $row = $cell && !$cell.hasClass(ROW_CLASS) ? $cell.closest(\".\".concat(ROW_CLASS)) : $cell;\r\n        if ($row && isNotFocusedRow($row)) {\r\n            return\r\n        }\r\n        var focusedView = this._focusedView;\r\n        var $focusViewElement = focusedView && focusedView.element();\r\n        var $focusElement;\r\n        this._isHiddenFocus = disableFocus;\r\n        if (isGroupRow($row) || this.isRowFocusType()) {\r\n            $focusElement = $row;\r\n            if (focusedView) {\r\n                this.setFocusedRowIndex(this._getRowIndex($row))\r\n            }\r\n        } else {\r\n            if (isCellElement($cell)) {\r\n                $focusElement = $cell;\r\n                this._updateFocusedCellPosition($cell)\r\n            }\r\n        }\r\n        if ($focusElement) {\r\n            if ($focusViewElement) {\r\n                $focusViewElement.find(\".dx-row[tabindex], .dx-row > td[tabindex]\").not($focusElement).removeClass(CELL_FOCUS_DISABLED_CLASS).removeAttr(\"tabindex\")\r\n            }\r\n            _events_engine.default.one($focusElement, \"blur\", function(e) {\r\n                if (e.relatedTarget) {\r\n                    $focusElement.removeClass(CELL_FOCUS_DISABLED_CLASS)\r\n                }\r\n            });\r\n            if (!isInteractiveElement) {\r\n                this._applyTabIndexToElement($focusElement);\r\n                _events_engine.default.trigger($focusElement, \"focus\")\r\n            }\r\n            if (disableFocus) {\r\n                $focusElement.addClass(CELL_FOCUS_DISABLED_CLASS)\r\n            } else {\r\n                this._editorFactory.focus($focusElement)\r\n            }\r\n        }\r\n    },\r\n    _updateFocus: function(isRenderView) {\r\n        var _this6 = this;\r\n        this._updateFocusTimeout = setTimeout(function() {\r\n            var $cell = _this6._getFocusedCell();\r\n            var isEditing = _this6._editingController.isEditing();\r\n            if ($cell && !(_this6._isMasterDetailCell($cell) && !_this6._isRowEditMode())) {\r\n                if (_this6._hasSkipRow($cell.parent())) {\r\n                    var direction = _this6._focusedCellPosition && _this6._focusedCellPosition.rowIndex > 0 ? \"upArrow\" : \"downArrow\";\r\n                    $cell = _this6._getNextCell(direction)\r\n                }\r\n                if (isElementDefined($cell)) {\r\n                    if (isRenderView && !isEditing && _this6._checkCellOverlapped($cell)) {\r\n                        return\r\n                    }\r\n                    if ($cell.is(\"td\") || $cell.hasClass(_this6.addWidgetPrefix(EDIT_FORM_ITEM_CLASS))) {\r\n                        var isCommandCell = $cell.is(COMMAND_CELL_SELECTOR);\r\n                        if ((isRenderView || !isCommandCell) && _this6._editorFactory.focus()) {\r\n                            var $focusedElementInsideCell = $cell.find(\":focus\");\r\n                            var isFocusedElementDefined = isElementDefined($focusedElementInsideCell);\r\n                            if (isCommandCell && isFocusedElementDefined) {\r\n                                _uiGrid_core2.default.focusAndSelectElement(_this6, $focusedElementInsideCell);\r\n                                return\r\n                            }!isFocusedElementDefined && _this6._focus($cell)\r\n                        } else {\r\n                            if (_this6._isNeedFocus || _this6._isHiddenFocus) {\r\n                                _this6._focus($cell, _this6._isHiddenFocus)\r\n                            }\r\n                        }\r\n                        if (isEditing) {\r\n                            _this6._focusInteractiveElement.bind(_this6)($cell)\r\n                        }\r\n                    } else {\r\n                        _events_engine.default.trigger($cell, \"focus\")\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    },\r\n    _checkCellOverlapped: function($cell) {\r\n        var cellOffset = $cell.offset();\r\n        var hasScrollable = this.component.getScrollable && this.component.getScrollable();\r\n        var isOverlapped = false;\r\n        if (hasScrollable) {\r\n            if (cellOffset.left < 0) {\r\n                isOverlapped = $cell.width() + cellOffset.left <= 0\r\n            } else {\r\n                if (cellOffset.top < 0) {\r\n                    isOverlapped = $cell.height() + cellOffset.top <= 0\r\n                }\r\n            }\r\n        }\r\n        return isOverlapped\r\n    },\r\n    _getFocusedCell: function() {\r\n        return (0, _renderer.default)(this._getCell(this._focusedCellPosition))\r\n    },\r\n    _updateFocusedCellPositionByTarget: function(target) {\r\n        var _this$_focusedCellPos;\r\n        var elementType = this._getElementType(target);\r\n        if (\"row\" === elementType && (0, _type.isDefined)(null === (_this$_focusedCellPos = this._focusedCellPosition) || void 0 === _this$_focusedCellPos ? void 0 : _this$_focusedCellPos.columnIndex)) {\r\n            var $row = (0, _renderer.default)(target);\r\n            this._focusedView && isGroupRow($row) && this.setFocusedRowIndex(this._getRowIndex($row))\r\n        } else {\r\n            this._updateFocusedCellPosition(this._getCellElementFromTarget(target))\r\n        }\r\n    },\r\n    _updateFocusedCellPosition: function($cell, direction) {\r\n        var position = this._getCellPosition($cell, direction);\r\n        if (position) {\r\n            if (!$cell.length || position.rowIndex >= 0 && position.columnIndex >= 0) {\r\n                this.setFocusedCellPosition(position.rowIndex, position.columnIndex)\r\n            }\r\n        }\r\n        return position\r\n    },\r\n    _getFocusedColumnIndexOffset: function(columnIndex) {\r\n        var offset = 0;\r\n        var column = this._columnsController.getVisibleColumns()[columnIndex];\r\n        if (column && column.fixed) {\r\n            offset = this._getFixedColumnIndexOffset(column)\r\n        } else {\r\n            if (columnIndex >= 0) {\r\n                offset = this._columnsController.getColumnIndexOffset()\r\n            }\r\n        }\r\n        return offset\r\n    },\r\n    _getFixedColumnIndexOffset: function(column) {\r\n        var offset = isFixedColumnIndexOffsetRequired(this, column) ? this._getVisibleColumnCount() - this._columnsController.getVisibleColumns().length : 0;\r\n        return offset\r\n    },\r\n    _getCellPosition: function($cell, direction) {\r\n        var columnIndex;\r\n        var $row = isElementDefined($cell) && $cell.closest(\"tr\");\r\n        var rowsView = this.getView(\"rowsView\");\r\n        if (isElementDefined($row)) {\r\n            var rowIndex = this._getRowIndex($row);\r\n            columnIndex = rowsView.getCellIndex($cell, rowIndex);\r\n            columnIndex += this._getFocusedColumnIndexOffset(columnIndex);\r\n            if (direction) {\r\n                columnIndex = \"previous\" === direction ? columnIndex - 1 : columnIndex + 1;\r\n                columnIndex = this._applyColumnIndexBoundaries(columnIndex)\r\n            }\r\n            return {\r\n                rowIndex: rowIndex,\r\n                columnIndex: columnIndex\r\n            }\r\n        }\r\n    },\r\n    _focusCell: function($cell, isDisabled) {\r\n        if (this._isCellValid($cell)) {\r\n            this._focus($cell, isDisabled);\r\n            return true\r\n        }\r\n    },\r\n    _focusEditFormCell: function($cell) {\r\n        if ($cell.hasClass(MASTER_DETAIL_CELL_CLASS)) {\r\n            this._editorFactory.focus($cell, true)\r\n        }\r\n    },\r\n    _resetFocusedCell: function($cellElement, preventScroll) {\r\n        var _this$_focusedView;\r\n        var $cell = isElementDefined($cellElement) ? $cellElement : this._getFocusedCell();\r\n        isElementDefined($cell) && $cell.removeAttr(\"tabindex\");\r\n        this._isNeedFocus = false;\r\n        this._isNeedScroll = false;\r\n        this._focusedCellPosition = {};\r\n        clearTimeout(this._updateFocusTimeout);\r\n        null === (_this$_focusedView = this._focusedView) || void 0 === _this$_focusedView ? void 0 : _this$_focusedView.renderFocusState(preventScroll)\r\n    },\r\n    restoreFocusableElement: function(rowIndex, $event) {\r\n        var that = this;\r\n        var args;\r\n        var $rowElement;\r\n        var isUpArrow = (0, _type.isDefined)(rowIndex);\r\n        var rowsView = that.getView(\"rowsView\");\r\n        var $rowsViewElement = rowsView.element();\r\n        var columnIndex = that._focusedCellPosition.columnIndex;\r\n        var rowIndexOffset = that._dataController.getRowIndexOffset();\r\n        rowIndex = isUpArrow ? rowIndex : rowsView.getTopVisibleItemIndex() + rowIndexOffset;\r\n        if (!isUpArrow) {\r\n            that._editorFactory.loseFocus();\r\n            that._applyTabIndexToElement($rowsViewElement);\r\n            _events_engine.default.trigger($rowsViewElement, \"focus\")\r\n        } else {\r\n            $rowElement = rowsView.getRow(rowIndex - rowIndexOffset);\r\n            args = that._fireFocusedRowChanging($event, $rowElement);\r\n            if (!args.cancel && args.rowIndexChanged) {\r\n                rowIndex = args.newRowIndex\r\n            }\r\n        }\r\n        if (!isUpArrow || !args.cancel) {\r\n            that.setFocusedCellPosition(rowIndex, columnIndex)\r\n        }\r\n        isUpArrow && that._updateFocus()\r\n    },\r\n    _getNewPositionByCode: function(cellPosition, elementType, code) {\r\n        var columnIndex = cellPosition.columnIndex;\r\n        var rowIndex = cellPosition.rowIndex;\r\n        var visibleColumnsCount;\r\n        if (void 0 === cellPosition.rowIndex && \"next\" === code) {\r\n            return {\r\n                columnIndex: 0,\r\n                rowIndex: 0\r\n            }\r\n        }\r\n        switch (code) {\r\n            case \"nextInRow\":\r\n            case \"next\":\r\n                visibleColumnsCount = this._getVisibleColumnCount();\r\n                if (columnIndex < visibleColumnsCount - 1 && \"row\" !== elementType && this._hasValidCellAfterPosition({\r\n                        columnIndex: columnIndex,\r\n                        rowIndex: rowIndex\r\n                    })) {\r\n                    columnIndex++\r\n                } else {\r\n                    if (!this._isLastRow(rowIndex) && \"next\" === code) {\r\n                        columnIndex = 0;\r\n                        rowIndex++\r\n                    }\r\n                }\r\n                break;\r\n            case \"previousInRow\":\r\n            case \"previous\":\r\n                if (columnIndex > 0 && \"row\" !== elementType && this._hasValidCellBeforePosition({\r\n                        columnIndex: columnIndex,\r\n                        rowIndex: rowIndex\r\n                    })) {\r\n                    columnIndex--\r\n                } else {\r\n                    if (rowIndex > 0 && \"previous\" === code) {\r\n                        rowIndex--;\r\n                        visibleColumnsCount = this._getVisibleColumnCount();\r\n                        columnIndex = visibleColumnsCount - 1\r\n                    }\r\n                }\r\n                break;\r\n            case \"upArrow\":\r\n                rowIndex = rowIndex > 0 ? rowIndex - 1 : rowIndex;\r\n                break;\r\n            case \"downArrow\":\r\n                rowIndex = !this._isLastRow(rowIndex) ? rowIndex + 1 : rowIndex\r\n        }\r\n        return {\r\n            columnIndex: columnIndex,\r\n            rowIndex: rowIndex\r\n        }\r\n    },\r\n    setFocusedCellPosition: function(rowIndex, columnIndex) {\r\n        this.setFocusedRowIndex(rowIndex);\r\n        this.setFocusedColumnIndex(columnIndex)\r\n    },\r\n    setFocusedRowIndex: function(rowIndex) {\r\n        if (!this._focusedCellPosition) {\r\n            this._focusedCellPosition = {}\r\n        }\r\n        this._focusedCellPosition.rowIndex = rowIndex\r\n    },\r\n    setFocusedColumnIndex: function(columnIndex) {\r\n        if (!this._focusedCellPosition) {\r\n            this._focusedCellPosition = {}\r\n        }\r\n        this._focusedCellPosition.columnIndex = columnIndex\r\n    },\r\n    getRowIndex: function() {\r\n        return this._focusedCellPosition ? this._focusedCellPosition.rowIndex : -1\r\n    },\r\n    getColumnIndex: function() {\r\n        return this._focusedCellPosition ? this._focusedCellPosition.columnIndex : -1\r\n    },\r\n    getVisibleRowIndex: function() {\r\n        var rowIndex = this._focusedCellPosition && this._focusedCellPosition.rowIndex;\r\n        if (!(0, _type.isDefined)(rowIndex)) {\r\n            return -1\r\n        }\r\n        return rowIndex - this._dataController.getRowIndexOffset()\r\n    },\r\n    getVisibleColumnIndex: function() {\r\n        var columnIndex = this._focusedCellPosition && this._focusedCellPosition.columnIndex;\r\n        if (!(0, _type.isDefined)(columnIndex)) {\r\n            return -1\r\n        }\r\n        return columnIndex - this._columnsController.getColumnIndexOffset()\r\n    },\r\n    _applyColumnIndexBoundaries: function(columnIndex) {\r\n        var visibleColumnsCount = this._getVisibleColumnCount();\r\n        if (columnIndex < 0) {\r\n            columnIndex = 0\r\n        } else {\r\n            if (columnIndex >= visibleColumnsCount) {\r\n                columnIndex = visibleColumnsCount - 1\r\n            }\r\n        }\r\n        return columnIndex\r\n    },\r\n    _isCellByPositionValid: function(cellPosition) {\r\n        var $cell = (0, _renderer.default)(this._getCell(cellPosition));\r\n        return this._isCellValid($cell)\r\n    },\r\n    _isLastRow: function(rowIndex) {\r\n        if (this._isVirtualRowRender()) {\r\n            return rowIndex >= this._dataController.totalItemsCount() - 1\r\n        }\r\n        return rowIndex === this._dataController.items().length - 1\r\n    },\r\n    _isFirstValidCell: function(cellPosition) {\r\n        var isFirstValidCell = false;\r\n        if (0 === cellPosition.rowIndex && cellPosition.columnIndex >= 0) {\r\n            isFirstValidCell = isFirstValidCell || !this._hasValidCellBeforePosition(cellPosition)\r\n        }\r\n        return isFirstValidCell\r\n    },\r\n    _hasValidCellBeforePosition: function(cellPosition) {\r\n        var columnIndex = cellPosition.columnIndex;\r\n        var hasValidCells = false;\r\n        while (columnIndex > 0 && !hasValidCells) {\r\n            var checkingPosition = {\r\n                columnIndex: --columnIndex,\r\n                rowIndex: cellPosition.rowIndex\r\n            };\r\n            hasValidCells = this._isCellByPositionValid(checkingPosition)\r\n        }\r\n        return hasValidCells\r\n    },\r\n    _hasValidCellAfterPosition: function(cellPosition) {\r\n        var columnIndex = cellPosition.columnIndex;\r\n        var hasValidCells = false;\r\n        var visibleColumnCount = this._getVisibleColumnCount();\r\n        while (columnIndex < visibleColumnCount - 1 && !hasValidCells) {\r\n            var checkingPosition = {\r\n                columnIndex: ++columnIndex,\r\n                rowIndex: cellPosition.rowIndex\r\n            };\r\n            hasValidCells = this._isCellByPositionValid(checkingPosition)\r\n        }\r\n        return hasValidCells\r\n    },\r\n    _isLastValidCell: function(cellPosition) {\r\n        var nextColumnIndex = cellPosition.columnIndex >= 0 ? cellPosition.columnIndex + 1 : 0;\r\n        var rowIndex = cellPosition.rowIndex;\r\n        var checkingPosition = {\r\n            columnIndex: nextColumnIndex,\r\n            rowIndex: rowIndex\r\n        };\r\n        var visibleRows = this._dataController.getVisibleRows();\r\n        var row = visibleRows && visibleRows[rowIndex];\r\n        var isLastRow = this._isLastRow(rowIndex);\r\n        if (!isLastRow) {\r\n            return false\r\n        }\r\n        if (row && \"group\" === row.rowType && cellPosition.columnIndex > 0) {\r\n            return true\r\n        }\r\n        if (cellPosition.columnIndex === this._getVisibleColumnCount() - 1) {\r\n            return true\r\n        }\r\n        if (this._isCellByPositionValid(checkingPosition)) {\r\n            return false\r\n        }\r\n        return this._isLastValidCell(checkingPosition)\r\n    },\r\n    _isCellValid: function($cell, isClick) {\r\n        if (isElementDefined($cell)) {\r\n            var rowsView = this.getView(\"rowsView\");\r\n            var $row = $cell.parent();\r\n            var columnsController = this._columnsController;\r\n            var columnIndex = rowsView.getCellIndex($cell) + columnsController.getColumnIndexOffset();\r\n            var column = columnsController.getVisibleColumns(null, true)[columnIndex];\r\n            var visibleColumnCount = this._getVisibleColumnCount();\r\n            var editingController = this._editingController;\r\n            var isMasterDetailRow = isDetailRow($row);\r\n            var isShowWhenGrouped = column && column.showWhenGrouped;\r\n            var isDataCell = column && !$cell.hasClass(COMMAND_EXPAND_CLASS) && isDataRow($row);\r\n            var isValidGroupSpaceColumn = function() {\r\n                return !isMasterDetailRow && column && (!(0, _type.isDefined)(column.groupIndex) || isShowWhenGrouped && isDataCell) || parseInt($cell.attr(\"colspan\")) > 1\r\n            };\r\n            if (this._isMasterDetailCell($cell)) {\r\n                return true\r\n            }\r\n            if (visibleColumnCount > columnIndex && isValidGroupSpaceColumn()) {\r\n                var rowItems = this._dataController.items();\r\n                var visibleRowIndex = rowsView.getRowIndex($row);\r\n                var row = rowItems[visibleRowIndex];\r\n                var isCellEditing = editingController && this._isCellEditMode() && editingController.isEditing();\r\n                var isRowEditingInCurrentRow = editingController && editingController.isEditRow(visibleRowIndex);\r\n                var isEditing = isRowEditingInCurrentRow || isCellEditing;\r\n                if (column.command) {\r\n                    if (this._isLegacyNavigation()) {\r\n                        return !isEditing && \"expand\" === column.command\r\n                    }\r\n                    if (isCellEditing) {\r\n                        return false\r\n                    }\r\n                    if (isRowEditingInCurrentRow) {\r\n                        return \"select\" !== column.command\r\n                    }\r\n                    return !isEditing\r\n                }\r\n                if (isCellEditing && row && \"data\" !== row.rowType) {\r\n                    return false\r\n                }\r\n                return !isEditing || column.allowEditing || isClick\r\n            }\r\n        }\r\n    },\r\n    getFirstValidCellInRow: function($row, columnIndex) {\r\n        var that = this;\r\n        var $cells = $row.find(\"> td\");\r\n        var $cell;\r\n        var $result;\r\n        columnIndex = columnIndex || 0;\r\n        for (var i = columnIndex; i < $cells.length; ++i) {\r\n            $cell = $cells.eq(i);\r\n            if (that._isCellValid($cell)) {\r\n                $result = $cell;\r\n                break\r\n            }\r\n        }\r\n        return $result\r\n    },\r\n    _getNextCell: function(keyCode, elementType, cellPosition) {\r\n        var focusedCellPosition = cellPosition || this._focusedCellPosition;\r\n        var isRowFocusType = this.isRowFocusType();\r\n        var includeCommandCells = isRowFocusType || (0, _array.inArray)(keyCode, [\"next\", \"previous\"]) > -1;\r\n        var $cell;\r\n        var $row;\r\n        if (this._focusedView && focusedCellPosition) {\r\n            var newFocusedCellPosition = this._getNewPositionByCode(focusedCellPosition, elementType, keyCode);\r\n            $cell = (0, _renderer.default)(this._getCell(newFocusedCellPosition));\r\n            var isLastCellOnDirection = \"previous\" === keyCode ? this._isFirstValidCell(newFocusedCellPosition) : this._isLastValidCell(newFocusedCellPosition);\r\n            if (isElementDefined($cell) && !this._isCellValid($cell) && this._isCellInRow(newFocusedCellPosition, includeCommandCells) && !isLastCellOnDirection) {\r\n                if (isRowFocusType) {\r\n                    $cell = this.getFirstValidCellInRow($cell.parent(), newFocusedCellPosition.columnIndex)\r\n                } else {\r\n                    $cell = this._getNextCell(keyCode, \"cell\", newFocusedCellPosition)\r\n                }\r\n            }\r\n            $row = isElementDefined($cell) && $cell.parent();\r\n            if (this._hasSkipRow($row)) {\r\n                var rowIndex = this._getRowIndex($row);\r\n                if (!this._isLastRow(rowIndex)) {\r\n                    $cell = this._getNextCell(keyCode, \"row\", {\r\n                        columnIndex: focusedCellPosition.columnIndex,\r\n                        rowIndex: rowIndex\r\n                    })\r\n                } else {\r\n                    return null\r\n                }\r\n            }\r\n            return isElementDefined($cell) ? $cell : null\r\n        }\r\n        return null\r\n    },\r\n    _startEditing: function(eventArgs, fastEditingKey) {\r\n        var focusedCellPosition = this._focusedCellPosition;\r\n        var visibleRowIndex = this.getVisibleRowIndex();\r\n        var visibleColumnIndex = this.getVisibleColumnIndex();\r\n        var row = this._dataController.items()[visibleRowIndex];\r\n        var column = this._columnsController.getVisibleColumns()[visibleColumnIndex];\r\n        if (this._isAllowEditing(row, column)) {\r\n            if (this._isRowEditMode()) {\r\n                this._editingController.editRow(visibleRowIndex)\r\n            } else {\r\n                if (focusedCellPosition) {\r\n                    this._startEditCell(eventArgs, fastEditingKey)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _isAllowEditing: function(row, column) {\r\n        return this._editingController.allowUpdating({\r\n            row: row\r\n        }) && column && column.allowEditing\r\n    },\r\n    _editFocusedCell: function() {\r\n        var rowIndex = this.getVisibleRowIndex();\r\n        var colIndex = this.getVisibleColumnIndex();\r\n        return this._editingController.editCell(rowIndex, colIndex)\r\n    },\r\n    _startEditCell: function(eventArgs, fastEditingKey) {\r\n        var _this7 = this;\r\n        this._fastEditingStarted = (0, _type.isDefined)(fastEditingKey);\r\n        var editResult = this._editFocusedCell();\r\n        if (this._isFastEditingStarted()) {\r\n            if (true === editResult) {\r\n                this._editingCellHandler(eventArgs, fastEditingKey)\r\n            } else {\r\n                if (editResult && editResult.done) {\r\n                    var editorValue = fastEditingKey !== FAST_EDITING_DELETE_KEY ? fastEditingKey : \"\";\r\n                    editResult.done(function() {\r\n                        return _this7._editingCellHandler(eventArgs, editorValue)\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _editingCellHandler: function(eventArgs, editorValue) {\r\n        var $input = this._getFocusedCell().find(\".dx-texteditor-input\").eq(0);\r\n        var keyDownEvent = (0, _index.createEvent)(eventArgs, {\r\n            type: \"keydown\",\r\n            target: $input.get(0)\r\n        });\r\n        var keyPressEvent = (0, _index.createEvent)(eventArgs, {\r\n            type: \"keypress\",\r\n            target: $input.get(0)\r\n        });\r\n        var inputEvent = (0, _index.createEvent)(eventArgs, {\r\n            type: \"input\",\r\n            target: $input.get(0)\r\n        });\r\n        _events_engine.default.trigger($input, keyDownEvent);\r\n        if (!keyDownEvent.isDefaultPrevented()) {\r\n            _events_engine.default.trigger($input, keyPressEvent);\r\n            if (!keyPressEvent.isDefaultPrevented()) {\r\n                var timeout = _browser.default.mozilla ? 25 : 0;\r\n                setTimeout(function() {\r\n                    $input.val(editorValue);\r\n                    var $widgetContainer = $input.closest(\".\".concat(WIDGET_CLASS));\r\n                    _events_engine.default.off($widgetContainer, \"focusout\");\r\n                    _events_engine.default.one($widgetContainer, \"focusout\", function() {\r\n                        _events_engine.default.trigger($input, \"change\")\r\n                    });\r\n                    _events_engine.default.trigger($input, inputEvent)\r\n                }, timeout)\r\n            }\r\n        }\r\n    },\r\n    _fireFocusChangingEvents: function($event, $cell, fireRowEvent, isHighlighted) {\r\n        var args = {};\r\n        var cellPosition = this._getCellPosition($cell) || {};\r\n        if (this.isCellFocusType()) {\r\n            args = this._fireFocusedCellChanging($event, $cell, isHighlighted);\r\n            if (!args.cancel) {\r\n                cellPosition.columnIndex = args.newColumnIndex;\r\n                cellPosition.rowIndex = args.newRowIndex;\r\n                isHighlighted = args.isHighlighted;\r\n                $cell = (0, _renderer.default)(this._getCell(cellPosition))\r\n            }\r\n        }\r\n        if (!args.cancel && fireRowEvent && $cell) {\r\n            args = this._fireFocusedRowChanging($event, $cell.parent());\r\n            if (!args.cancel) {\r\n                cellPosition.rowIndex = args.newRowIndex;\r\n                args.isHighlighted = isHighlighted\r\n            }\r\n        }\r\n        args.$newCellElement = (0, _renderer.default)(this._getCell(cellPosition));\r\n        if (!args.$newCellElement.length) {\r\n            args.$newCellElement = $cell\r\n        }\r\n        return args\r\n    },\r\n    _fireFocusedCellChanging: function($event, $cellElement, isHighlighted) {\r\n        var that = this;\r\n        var prevCellIndex = that.option(\"focusedColumnIndex\");\r\n        var prevRowIndex = that.option(\"focusedRowIndex\");\r\n        var cellPosition = that._getCellPosition($cellElement);\r\n        var columnIndex = cellPosition ? cellPosition.columnIndex : -1;\r\n        var rowIndex = cellPosition ? cellPosition.rowIndex : -1;\r\n        var args = {\r\n            cellElement: $cellElement,\r\n            prevColumnIndex: prevCellIndex,\r\n            prevRowIndex: prevRowIndex,\r\n            newColumnIndex: columnIndex,\r\n            newRowIndex: rowIndex,\r\n            rows: that._dataController.getVisibleRows(),\r\n            columns: that._columnsController.getVisibleColumns(),\r\n            event: $event,\r\n            isHighlighted: isHighlighted || false,\r\n            cancel: false\r\n        };\r\n        this._canceledCellPosition = null;\r\n        that.executeAction(\"onFocusedCellChanging\", args);\r\n        if (args.newColumnIndex !== columnIndex || args.newRowIndex !== rowIndex) {\r\n            args.$newCellElement = (0, _renderer.default)(this._getCell({\r\n                columnIndex: args.newColumnIndex,\r\n                rowIndex: args.newRowIndex\r\n            }))\r\n        }\r\n        if (args.cancel) {\r\n            this._canceledCellPosition = {\r\n                rowIndex: rowIndex,\r\n                columnIndex: columnIndex\r\n            }\r\n        }\r\n        return args\r\n    },\r\n    _fireFocusedCellChanged: function($cellElement, prevCellIndex, prevRowIndex) {\r\n        var that = this;\r\n        var dataController = that._dataController;\r\n        var columnIndex = that.getView(\"rowsView\").getCellIndex($cellElement);\r\n        var rowIndex = this._getRowIndex($cellElement && $cellElement.parent());\r\n        var localRowIndex = Math.min(rowIndex - dataController.getRowIndexOffset(), dataController.items().length - 1);\r\n        var isEditingCell = that._editingController.isEditCell(localRowIndex, columnIndex);\r\n        var row = dataController.items()[localRowIndex];\r\n        if (!isEditingCell && (prevCellIndex !== columnIndex || prevRowIndex !== rowIndex)) {\r\n            that.executeAction(\"onFocusedCellChanged\", {\r\n                cellElement: $cellElement,\r\n                columnIndex: columnIndex,\r\n                rowIndex: rowIndex,\r\n                row: row,\r\n                column: that._columnsController.getVisibleColumns()[columnIndex]\r\n            })\r\n        }\r\n    },\r\n    _fireFocusedRowChanging: function(eventArgs, $newFocusedRow) {\r\n        var newRowIndex = this._getRowIndex($newFocusedRow);\r\n        var dataController = this._dataController;\r\n        var prevFocusedRowIndex = this.option(\"focusedRowIndex\");\r\n        var loadingOperationTypes = dataController.loadingOperationTypes();\r\n        var args = {\r\n            rowElement: $newFocusedRow,\r\n            prevRowIndex: prevFocusedRowIndex,\r\n            newRowIndex: newRowIndex,\r\n            event: eventArgs,\r\n            rows: dataController.getVisibleRows(),\r\n            cancel: false\r\n        };\r\n        if (!dataController || dataController.isLoading() && (loadingOperationTypes.reload || loadingOperationTypes.paging)) {\r\n            args.cancel = true;\r\n            return args\r\n        }\r\n        if (this.option(\"focusedRowEnabled\")) {\r\n            this.executeAction(\"onFocusedRowChanging\", args);\r\n            if (!args.cancel && args.newRowIndex !== newRowIndex) {\r\n                args.resetFocusedRow = args.newRowIndex < 0;\r\n                if (!args.resetFocusedRow) {\r\n                    this.setFocusedRowIndex(args.newRowIndex)\r\n                }\r\n                args.rowIndexChanged = true\r\n            }\r\n        }\r\n        return args\r\n    },\r\n    _fireFocusedRowChanged: function($rowElement) {\r\n        var row;\r\n        var focusedRowKey = this.option(\"focusedRowKey\");\r\n        var focusController = this.getController(\"focus\");\r\n        var focusedRowIndex = null === focusController || void 0 === focusController ? void 0 : focusController.getFocusedRowIndexByKey(focusedRowKey);\r\n        if (this.option(\"focusedRowEnabled\")) {\r\n            if (focusedRowIndex >= 0) {\r\n                var dataController = this._dataController;\r\n                row = focusedRowIndex >= 0 && dataController.getVisibleRows()[focusedRowIndex - dataController.getRowIndexOffset()]\r\n            }\r\n            this.executeAction(\"onFocusedRowChanged\", {\r\n                rowElement: $rowElement,\r\n                rowIndex: focusedRowIndex,\r\n                row: row\r\n            })\r\n        }\r\n    },\r\n    _isEventInCurrentGrid: function(event) {\r\n        return _uiGrid_core2.default.isElementInCurrentGrid(this, (0, _renderer.default)(event.target))\r\n    },\r\n    _isRowEditMode: function() {\r\n        var editMode = this._editingController.getEditMode();\r\n        return editMode === EDIT_MODE_ROW || editMode === EDIT_MODE_FORM\r\n    },\r\n    _isCellEditMode: function() {\r\n        var editMode = this._editingController.getEditMode();\r\n        return editMode === EDIT_MODE_CELL || editMode === EDIT_MODE_BATCH\r\n    },\r\n    _isFastEditingAllowed: function() {\r\n        return this._isCellEditMode() && this.option(\"keyboardNavigation.editOnKeyPress\")\r\n    },\r\n    _getInteractiveElement: function($cell, isLast) {\r\n        var $focusedElement = $cell.find(INTERACTIVE_ELEMENTS_SELECTOR).filter(\":visible\");\r\n        return isLast ? $focusedElement.last() : $focusedElement.first()\r\n    },\r\n    _applyTabIndexToElement: function($element) {\r\n        var tabIndex = this.option(\"tabIndex\") || 0;\r\n        $element.attr(\"tabindex\", (0, _type.isDefined)(tabIndex) ? tabIndex : 0)\r\n    },\r\n    _getCell: function(cellPosition) {\r\n        if (this._focusedView && cellPosition) {\r\n            var rowIndexOffset = this._dataController.getRowIndexOffset();\r\n            var column = this._columnsController.getVisibleColumns(null, true)[cellPosition.columnIndex];\r\n            var columnIndexOffset = column && column.fixed ? this._getFixedColumnIndexOffset(column) : this._columnsController.getColumnIndexOffset();\r\n            var rowIndex = cellPosition.rowIndex >= 0 ? cellPosition.rowIndex - rowIndexOffset : -1;\r\n            var columnIndex = cellPosition.columnIndex >= 0 ? cellPosition.columnIndex - columnIndexOffset : -1;\r\n            return this._focusedView.getCell({\r\n                rowIndex: rowIndex,\r\n                columnIndex: columnIndex\r\n            })\r\n        }\r\n    },\r\n    _getRowIndex: function($row) {\r\n        var rowsView = this.getView(\"rowsView\");\r\n        var rowIndex = rowsView.getRowIndex($row);\r\n        if (rowIndex >= 0) {\r\n            rowIndex += this._dataController.getRowIndexOffset()\r\n        }\r\n        return rowIndex\r\n    },\r\n    _hasSkipRow: function($row) {\r\n        var row = $row && $row.get(0);\r\n        return row && (\"none\" === row.style.display || $row.hasClass(this.addWidgetPrefix(GROUP_FOOTER_CLASS)) || isDetailRow($row) && !$row.hasClass(this.addWidgetPrefix(EDIT_FORM_CLASS)))\r\n    },\r\n    _allowEditingOnEnterKey: function() {\r\n        return \"startEdit\" === this.option(\"keyboardNavigation.enterKeyAction\")\r\n    },\r\n    _isLegacyNavigation: function() {\r\n        return this.option(\"useLegacyKeyboardNavigation\")\r\n    },\r\n    _getDirectionCodeByKey: function(key) {\r\n        var directionCode;\r\n        switch (key) {\r\n            case \"upArrow\":\r\n                directionCode = \"prevRow\";\r\n                break;\r\n            case \"downArrow\":\r\n                directionCode = \"nextRow\";\r\n                break;\r\n            case \"leftArrow\":\r\n                directionCode = this.option(\"rtlEnabled\") ? \"nextInRow\" : \"previousInRow\";\r\n                break;\r\n            case \"rightArrow\":\r\n                directionCode = this.option(\"rtlEnabled\") ? \"previousInRow\" : \"nextInRow\"\r\n        }\r\n        return directionCode\r\n    },\r\n    _isVirtualScrolling: function() {\r\n        var scrollingMode = this.option(\"scrolling.mode\");\r\n        return \"virtual\" === scrollingMode || \"infinite\" === scrollingMode\r\n    },\r\n    _isVirtualRowRender: function() {\r\n        return this._isVirtualScrolling() || \"virtual\" === this.option(\"scrolling.rowRenderingMode\")\r\n    },\r\n    _isVirtualColumnRender: function() {\r\n        return \"virtual\" === this.option(\"scrolling.columnRenderingMode\")\r\n    },\r\n    _scrollBy: function(left, top, rowIndex, $event) {\r\n        var that = this;\r\n        var scrollable = this.getView(\"rowsView\").getScrollable();\r\n        if (that._focusedCellPosition) {\r\n            var scrollHandler = function scrollHandler() {\r\n                scrollable.off(\"scroll\", scrollHandler);\r\n                setTimeout(that.restoreFocusableElement.bind(that, rowIndex, $event))\r\n            };\r\n            scrollable.on(\"scroll\", scrollHandler)\r\n        }\r\n        return scrollable.scrollBy({\r\n            left: left,\r\n            top: top\r\n        })\r\n    },\r\n    _isInsideEditForm: function(element) {\r\n        return (0, _renderer.default)(element).closest(\".\" + this.addWidgetPrefix(EDIT_FORM_CLASS)).length > 0\r\n    },\r\n    _isMasterDetailCell: function(element) {\r\n        var $masterDetailCell = (0, _renderer.default)(element).closest(\".\" + MASTER_DETAIL_CELL_CLASS);\r\n        var $masterDetailGrid = $masterDetailCell.closest(\".\" + this.getWidgetContainerClass()).parent();\r\n        return $masterDetailCell.length && $masterDetailGrid.is(this.component.$element())\r\n    },\r\n    _processNextCellInMasterDetail: function($nextCell) {\r\n        if (!this._isInsideEditForm($nextCell) && $nextCell) {\r\n            this._applyTabIndexToElement($nextCell)\r\n        }\r\n    },\r\n    _handleTabKeyOnMasterDetailCell: function(target, direction) {\r\n        if (this._isMasterDetailCell(target)) {\r\n            this._updateFocusedCellPosition((0, _renderer.default)(target), direction);\r\n            var $nextCell = this._getNextCell(direction, \"row\");\r\n            this._processNextCellInMasterDetail($nextCell);\r\n            return true\r\n        }\r\n        return false\r\n    },\r\n    _getElementType: function(target) {\r\n        return (0, _renderer.default)(target).is(\"tr\") ? \"row\" : \"cell\"\r\n    },\r\n    _isFastEditingStarted: function() {\r\n        return this._isFastEditingAllowed() && this._fastEditingStarted\r\n    },\r\n    _getVisibleColumnCount: function() {\r\n        return this._columnsController.getVisibleColumns(null, true).length\r\n    },\r\n    _isCellInRow: function(cellPosition, includeCommandCells) {\r\n        var columnIndex = cellPosition.columnIndex;\r\n        var visibleColumnsCount = this._getVisibleColumnCount();\r\n        return includeCommandCells ? columnIndex >= 0 && columnIndex <= visibleColumnsCount - 1 : columnIndex > 0 && columnIndex < visibleColumnsCount - 1\r\n    },\r\n    _getCellElementFromTarget: function(target) {\r\n        var elementType = this._getElementType(target);\r\n        var $targetElement = (0, _renderer.default)(target);\r\n        var $cell;\r\n        if (\"cell\" === elementType) {\r\n            $cell = $targetElement.closest(\".\".concat(ROW_CLASS, \" > td\"))\r\n        } else {\r\n            $cell = $targetElement.children().not(\".\" + COMMAND_EXPAND_CLASS).first()\r\n        }\r\n        return $cell\r\n    },\r\n    _getRowsViewElement: function() {\r\n        var rowsView = this.getView(\"rowsView\");\r\n        return rowsView && rowsView.element()\r\n    },\r\n    isKeyboardEnabled: function() {\r\n        return this.option(\"keyboardNavigation.enabled\")\r\n    },\r\n    _processCanceledEditCellPosition: function(rowIndex, columnIndex) {\r\n        if (this._canceledCellPosition) {\r\n            var isCanceled = this._canceledCellPosition.rowIndex === rowIndex && this._canceledCellPosition.columnIndex === columnIndex;\r\n            this._canceledCellPosition = null;\r\n            return isCanceled\r\n        }\r\n    }\r\n});\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            useLegacyKeyboardNavigation: false,\r\n            keyboardNavigation: {\r\n                enabled: true,\r\n                enterKeyAction: \"startEdit\",\r\n                enterKeyDirection: \"none\",\r\n                editOnKeyPress: false\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        keyboardNavigation: KeyboardNavigationController\r\n    },\r\n    extenders: {\r\n        views: {\r\n            rowsView: {\r\n                _rowClick: function(e) {\r\n                    var editRowIndex = this.getController(\"editing\").getEditRowIndex();\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    if (editRowIndex === e.rowIndex) {\r\n                        keyboardController.setCellFocusType()\r\n                    }\r\n                    var needTriggerPointerEventHandler = isMobile() && this.option(\"focusedRowEnabled\");\r\n                    if (needTriggerPointerEventHandler) {\r\n                        this._triggerPointerDownEventHandler(e)\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _triggerPointerDownEventHandler: function(e) {\r\n                    var originalEvent = e.event.originalEvent;\r\n                    if (originalEvent) {\r\n                        var keyboardController = this.getController(\"keyboardNavigation\");\r\n                        var $cell = (0, _renderer.default)(originalEvent.target);\r\n                        var columnIndex = this.getCellIndex($cell);\r\n                        var column = this.getController(\"columns\").getVisibleColumns()[columnIndex];\r\n                        var row = this.getController(\"data\").items()[e.rowIndex];\r\n                        if (keyboardController._isAllowEditing(row, column)) {\r\n                            var eventArgs = (0, _index.createEvent)(originalEvent, {\r\n                                currentTarget: originalEvent.target\r\n                            });\r\n                            keyboardController._pointerEventHandler(eventArgs)\r\n                        }\r\n                    }\r\n                },\r\n                renderFocusState: function(preventScroll) {\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    var $rowsViewElement = this.element();\r\n                    if ($rowsViewElement && !(0, _selectors.focused)($rowsViewElement)) {\r\n                        $rowsViewElement.attr(\"tabindex\", null)\r\n                    }\r\n                    var rowIndex = keyboardController.getVisibleRowIndex();\r\n                    if (!(0, _type.isDefined)(rowIndex) || rowIndex < 0) {\r\n                        rowIndex = 0\r\n                    }\r\n                    var cellElements = this.getCellElements(rowIndex);\r\n                    if (keyboardController.isKeyboardEnabled() && cellElements.length) {\r\n                        this.updateFocusElementTabIndex(cellElements, preventScroll)\r\n                    }\r\n                },\r\n                updateFocusElementTabIndex: function(cellElements) {\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    var $row = cellElements.eq(0).parent();\r\n                    if (isGroupRow($row)) {\r\n                        keyboardController._applyTabIndexToElement($row)\r\n                    } else {\r\n                        var columnIndex = keyboardController.getColumnIndex();\r\n                        if (!(0, _type.isDefined)(columnIndex) || columnIndex < 0) {\r\n                            columnIndex = 0\r\n                        }\r\n                        this._updateFocusedCellTabIndex(cellElements, columnIndex)\r\n                    }\r\n                },\r\n                _updateFocusedCellTabIndex: function(cellElements, columnIndex) {\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    var cellElementsLength = cellElements ? cellElements.length : -1;\r\n                    var updateCellTabIndex = function($cell) {\r\n                        var isMasterDetailCell = keyboardController._isMasterDetailCell($cell);\r\n                        var isValidCell = keyboardController._isCellValid($cell);\r\n                        if (!isMasterDetailCell && isValidCell && isCellElement($cell)) {\r\n                            keyboardController._applyTabIndexToElement($cell);\r\n                            keyboardController.setCellFocusType();\r\n                            return true\r\n                        }\r\n                    };\r\n                    var $cell = cellElements.filter(\"[aria-colindex='\".concat(columnIndex + 1, \"']\"));\r\n                    if ($cell.length) {\r\n                        updateCellTabIndex($cell)\r\n                    } else {\r\n                        if (cellElementsLength <= columnIndex) {\r\n                            columnIndex = cellElementsLength - 1\r\n                        }\r\n                        for (var i = columnIndex; i < cellElementsLength; ++i) {\r\n                            if (updateCellTabIndex((0, _renderer.default)(cellElements[i]))) {\r\n                                break\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                renderDelayedTemplates: function(change) {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (!change || !change.repaintChangesOnly) {\r\n                        this.renderFocusState()\r\n                    }\r\n                },\r\n                _renderCore: function(change) {\r\n                    this.callBase(change);\r\n                    if (!change || !change.repaintChangesOnly) {\r\n                        this.renderFocusState()\r\n                    }\r\n                },\r\n                _editCellPrepared: function($cell) {\r\n                    var editorInstance = this._getEditorInstance($cell);\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    var isEditingNavigationMode = keyboardController && keyboardController._isFastEditingStarted();\r\n                    if (editorInstance && isEditingNavigationMode) {\r\n                        this._handleEditingNavigationMode(editorInstance)\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _handleEditingNavigationMode: function(editorInstance) {\r\n                    [\"downArrow\", \"upArrow\"].forEach(function(keyName) {\r\n                        var originalKeyHandler = editorInstance._supportedKeys()[keyName];\r\n                        editorInstance.registerKeyHandler(keyName, function(e) {\r\n                            var isDropDownOpened = \"true\" === editorInstance._input().attr(\"aria-expanded\");\r\n                            if (isDropDownOpened) {\r\n                                return originalKeyHandler && originalKeyHandler.call(editorInstance, e)\r\n                            }\r\n                        })\r\n                    });\r\n                    editorInstance.registerKeyHandler(\"leftArrow\", _common.noop);\r\n                    editorInstance.registerKeyHandler(\"rightArrow\", _common.noop);\r\n                    var isDateBoxWithMask = editorInstance.NAME === DATEBOX_WIDGET_NAME && editorInstance.option(\"useMaskBehavior\");\r\n                    if (isDateBoxWithMask) {\r\n                        editorInstance.registerKeyHandler(\"enter\", _common.noop)\r\n                    }\r\n                },\r\n                _getEditorInstance: function($cell) {\r\n                    var $editor = $cell.find(\".dx-texteditor\").eq(0);\r\n                    return _uiGrid_core2.default.getWidgetInstance($editor)\r\n                }\r\n            }\r\n        },\r\n        controllers: {\r\n            editing: {\r\n                editCell: function(rowIndex, columnIndex) {\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    if (keyboardController._processCanceledEditCellPosition(rowIndex, columnIndex)) {\r\n                        return false\r\n                    }\r\n                    var isCellEditing = this.callBase(rowIndex, columnIndex);\r\n                    if (isCellEditing) {\r\n                        keyboardController.setupFocusedView()\r\n                    }\r\n                    return isCellEditing\r\n                },\r\n                editRow: function(rowIndex) {\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    var visibleColumnIndex = keyboardController.getVisibleColumnIndex();\r\n                    var column = this._columnsController.getVisibleColumns()[visibleColumnIndex];\r\n                    if (column && column.type || this.option(\"editing.mode\") === EDIT_MODE_FORM) {\r\n                        keyboardController._resetFocusedCell()\r\n                    }\r\n                    this.callBase(rowIndex)\r\n                },\r\n                addRow: function(parentKey) {\r\n                    this.getController(\"keyboardNavigation\").setupFocusedView();\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                getFocusedCellInRow: function(rowIndex) {\r\n                    var keyboardNavigationController = this.getController(\"keyboardNavigation\");\r\n                    var $cell = this.callBase(rowIndex);\r\n                    if (keyboardNavigationController.isKeyboardEnabled() && keyboardNavigationController._focusedCellPosition.rowIndex === rowIndex) {\r\n                        var $focusedCell = keyboardNavigationController._getFocusedCell();\r\n                        if (isElementDefined($focusedCell) && !$focusedCell.hasClass(COMMAND_EDIT_CLASS)) {\r\n                            $cell = $focusedCell\r\n                        }\r\n                    }\r\n                    return $cell\r\n                },\r\n                _processCanceledEditingCell: function() {\r\n                    var _this8 = this;\r\n                    this.closeEditCell().done(function() {\r\n                        var keyboardNavigation = _this8.getController(\"keyboardNavigation\");\r\n                        keyboardNavigation._updateFocus()\r\n                    })\r\n                },\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._keyboardNavigationController = this.getController(\"keyboardNavigation\")\r\n                },\r\n                closeEditCell: function() {\r\n                    var keyboardNavigation = this.getController(\"keyboardNavigation\");\r\n                    keyboardNavigation._fastEditingStarted = false;\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    keyboardNavigation._updateFocus();\r\n                    return result\r\n                },\r\n                _delayedInputFocus: function() {\r\n                    this._keyboardNavigationController._isNeedScroll = true;\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _isEditingStart: function() {\r\n                    var keyboardNavigation = this.getController(\"keyboardNavigation\");\r\n                    var cancel = this.callBase.apply(this, arguments);\r\n                    if (cancel && !keyboardNavigation._isNeedFocus) {\r\n                        var $cell = keyboardNavigation._getFocusedCell();\r\n                        keyboardNavigation._focus($cell, true)\r\n                    }\r\n                    return cancel\r\n                }\r\n            },\r\n            data: {\r\n                _correctRowIndices: function(getRowIndexCorrection) {\r\n                    var that = this;\r\n                    var keyboardNavigationController = that.getController(\"keyboardNavigation\");\r\n                    var editorFactory = that.getController(\"editorFactory\");\r\n                    var focusedCellPosition = keyboardNavigationController._focusedCellPosition;\r\n                    that.callBase.apply(that, arguments);\r\n                    if (focusedCellPosition && focusedCellPosition.rowIndex >= 0) {\r\n                        var focusedRowIndexCorrection = getRowIndexCorrection(focusedCellPosition.rowIndex);\r\n                        if (focusedRowIndexCorrection) {\r\n                            focusedCellPosition.rowIndex += focusedRowIndexCorrection;\r\n                            editorFactory.refocus()\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            adaptiveColumns: {\r\n                _showHiddenCellsInView: function(_ref) {\r\n                    var viewName = _ref.viewName,\r\n                        $cells = _ref.$cells,\r\n                        isCommandColumn = _ref.isCommandColumn;\r\n                    this.callBase.apply(this, arguments);\r\n                    viewName === COLUMN_HEADERS_VIEW && !isCommandColumn && $cells.each(function(_, cellElement) {\r\n                        var $cell = (0, _renderer.default)(cellElement);\r\n                        isCellInHeaderRow($cell) && $cell.attr(\"tabindex\", 0)\r\n                    })\r\n                },\r\n                _hideVisibleCellInView: function(_ref2) {\r\n                    var viewName = _ref2.viewName,\r\n                        $cell = _ref2.$cell,\r\n                        isCommandColumn = _ref2.isCommandColumn;\r\n                    this.callBase.apply(this, arguments);\r\n                    if (viewName === COLUMN_HEADERS_VIEW && !isCommandColumn && isCellInHeaderRow($cell)) {\r\n                        $cell.removeAttr(\"tabindex\")\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.summary.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.FooterView = exports.renderSummaryCell = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _data = require(\"../../core/utils/data\");\r\nvar _ui = _interopRequireDefault(require(\"../widget/ui.errors\"));\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _uiData_grid2 = _interopRequireDefault(require(\"./ui.data_grid.data_source_adapter\"));\r\nvar _uiGrid_core = require(\"../grid_core/ui.grid_core.columns_view\");\r\nvar _aggregate_calculator = _interopRequireDefault(require(\"./aggregate_calculator\"));\r\nvar _query = _interopRequireDefault(require(\"../../data/query\"));\r\nvar _store_helper = _interopRequireDefault(require(\"../../data/store_helper\"));\r\nvar _utils = _interopRequireDefault(require(\"../../data/utils\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar DATAGRID_TOTAL_FOOTER_CLASS = \"dx-datagrid-total-footer\";\r\nvar DATAGRID_SUMMARY_ITEM_CLASS = \"dx-datagrid-summary-item\";\r\nvar DATAGRID_TEXT_CONTENT_CLASS = \"dx-datagrid-text-content\";\r\nvar DATAGRID_GROUP_FOOTER_CLASS = \"dx-datagrid-group-footer\";\r\nvar DATAGRID_GROUP_TEXT_CONTENT_CLASS = \"dx-datagrid-group-text-content\";\r\nvar DATAGRID_NOWRAP_CLASS = \"dx-datagrid-nowrap\";\r\nvar DATAGRID_GROUP_FOOTER_ROW_TYPE = \"groupFooter\";\r\nvar renderSummaryCell = function(cell, options) {\r\n    var $cell = (0, _renderer.default)(cell);\r\n    var column = options.column;\r\n    var summaryItems = options.summaryItems;\r\n    var $summaryItems = [];\r\n    if (!column.command && summaryItems) {\r\n        for (var i = 0; i < summaryItems.length; i++) {\r\n            var summaryItem = summaryItems[i];\r\n            $summaryItems.push((0, _renderer.default)(\"<div>\").css(\"textAlign\", summaryItem.alignment || column.alignment).addClass(DATAGRID_SUMMARY_ITEM_CLASS).addClass(DATAGRID_TEXT_CONTENT_CLASS).addClass(summaryItem.cssClass).toggleClass(DATAGRID_GROUP_TEXT_CONTENT_CLASS, \"group\" === options.rowType).text(_uiData_grid.default.getSummaryText(summaryItem, options.summaryTexts)))\r\n        }\r\n        $cell.append($summaryItems)\r\n    }\r\n};\r\nexports.renderSummaryCell = renderSummaryCell;\r\nvar getSummaryCellOptions = function(that, options) {\r\n    var summaryTexts = that.option(\"summary.texts\") || {};\r\n    return {\r\n        totalItem: options.row,\r\n        summaryItems: options.row.summaryCells[options.columnIndex],\r\n        summaryTexts: summaryTexts\r\n    }\r\n};\r\nvar getGroupAggregates = function(data) {\r\n    return data.summary || data.aggregates || []\r\n};\r\nvar recalculateWhileEditing = function(that) {\r\n    return that.option(\"summary.recalculateWhileEditing\")\r\n};\r\nvar FooterView = _uiGrid_core.ColumnsView.inherit(function() {\r\n    return {\r\n        _getRows: function() {\r\n            return this._dataController.footerItems()\r\n        },\r\n        _getCellOptions: function(options) {\r\n            return (0, _extend.extend)(this.callBase(options), getSummaryCellOptions(this, options))\r\n        },\r\n        _renderCellContent: function($cell, options) {\r\n            renderSummaryCell($cell, options);\r\n            this.callBase($cell, options)\r\n        },\r\n        _renderCore: function(change) {\r\n            var totalItem = this._dataController.footerItems()[0];\r\n            if (!change || !change.columnIndices) {\r\n                this.element().empty().addClass(DATAGRID_TOTAL_FOOTER_CLASS).toggleClass(DATAGRID_NOWRAP_CLASS, !this.option(\"wordWrapEnabled\"))\r\n            }\r\n            if (totalItem && totalItem.summaryCells && totalItem.summaryCells.length) {\r\n                this._updateContent(this._renderTable({\r\n                    change: change\r\n                }), change)\r\n            }\r\n        },\r\n        _updateContent: function($newTable, change) {\r\n            if (change && \"update\" === change.changeType && change.columnIndices) {\r\n                var $row = this._getTableElement().find(\".dx-row\");\r\n                var $newRow = $newTable.find(\".dx-row\");\r\n                this._updateCells($row, $newRow, change.columnIndices[0])\r\n            } else {\r\n                return this.callBase.apply(this, arguments)\r\n            }\r\n        },\r\n        _rowClick: function(e) {\r\n            var item = this._dataController.footerItems()[e.rowIndex] || {};\r\n            this.executeAction(\"onRowClick\", (0, _extend.extend)({}, e, item))\r\n        },\r\n        _columnOptionChanged: function(e) {\r\n            var optionNames = e.optionNames;\r\n            if (e.changeTypes.grouping) {\r\n                return\r\n            }\r\n            if (optionNames.width || optionNames.visibleWidth) {\r\n                this.callBase(e)\r\n            }\r\n        },\r\n        _handleDataChanged: function(e) {\r\n            var changeType = e.changeType;\r\n            if (\"update\" === e.changeType && e.repaintChangesOnly) {\r\n                if (!e.totalColumnIndices) {\r\n                    this.render()\r\n                } else {\r\n                    if (e.totalColumnIndices.length) {\r\n                        this.render(null, {\r\n                            changeType: \"update\",\r\n                            columnIndices: [e.totalColumnIndices]\r\n                        })\r\n                    }\r\n                }\r\n            } else {\r\n                if (\"refresh\" === changeType || \"append\" === changeType || \"prepend\" === changeType) {\r\n                    this.render()\r\n                }\r\n            }\r\n        },\r\n        getHeight: function() {\r\n            return this.getElementHeight()\r\n        },\r\n        isVisible: function() {\r\n            return !!this._dataController.footerItems().length\r\n        }\r\n    }\r\n}());\r\nexports.FooterView = FooterView;\r\nvar SummaryDataSourceAdapterExtender = function() {\r\n    function forEachGroup(groups, groupCount, callback, path) {\r\n        path = path || [];\r\n        for (var i = 0; i < groups.length; i++) {\r\n            path.push(groups[i].key);\r\n            if (1 === groupCount) {\r\n                callback(path, groups[i].items)\r\n            } else {\r\n                forEachGroup(groups[i].items, groupCount - 1, callback, path)\r\n            }\r\n            path.pop()\r\n        }\r\n    }\r\n    return {\r\n        init: function() {\r\n            this.callBase.apply(this, arguments);\r\n            this._totalAggregates = [];\r\n            this._summaryGetter = _common.noop\r\n        },\r\n        summaryGetter: function(_summaryGetter) {\r\n            if (!arguments.length) {\r\n                return this._summaryGetter\r\n            }\r\n            if ((0, _type.isFunction)(_summaryGetter)) {\r\n                this._summaryGetter = _summaryGetter\r\n            }\r\n        },\r\n        summary: function(_summary) {\r\n            if (!arguments.length) {\r\n                return this._summaryGetter()\r\n            }\r\n            this._summaryGetter = function() {\r\n                return _summary\r\n            }\r\n        },\r\n        totalAggregates: function() {\r\n            return this._totalAggregates\r\n        },\r\n        isLastLevelGroupItemsPagingLocal: function() {\r\n            var summary = this.summary();\r\n            var sortByGroupsInfo = summary && summary.sortByGroups();\r\n            return sortByGroupsInfo && sortByGroupsInfo.length\r\n        },\r\n        sortLastLevelGroupItems: function(items, groups, paths) {\r\n            var groupedItems = _store_helper.default.multiLevelGroup((0, _query.default)(items), groups).toArray();\r\n            var result = [];\r\n            paths.forEach(function(path) {\r\n                forEachGroup(groupedItems, groups.length, function(itemsPath, items) {\r\n                    if (path.toString() === itemsPath.toString()) {\r\n                        result = result.concat(items)\r\n                    }\r\n                })\r\n            });\r\n            return result\r\n        }\r\n    }\r\n}();\r\nvar SummaryDataSourceAdapterClientExtender = function() {\r\n    var applyAddedData = function applyAddedData(data, insertedData, groupLevel) {\r\n        if (groupLevel) {\r\n            return applyAddedData(data, insertedData.map(function(item) {\r\n                return {\r\n                    items: [item]\r\n                }\r\n            }, groupLevel - 1))\r\n        }\r\n        return data.concat(insertedData)\r\n    };\r\n    var applyRemovedData = function applyRemovedData(data, removedData, groupLevel) {\r\n        if (groupLevel) {\r\n            return data.map(function(data) {\r\n                var updatedData = {};\r\n                var updatedItems = applyRemovedData(data.items || [], removedData, groupLevel - 1);\r\n                Object.defineProperty(updatedData, \"aggregates\", {\r\n                    get: function() {\r\n                        return data.aggregates\r\n                    },\r\n                    set: function(value) {\r\n                        data.aggregates = value\r\n                    }\r\n                });\r\n                return (0, _extend.extend)(updatedData, data, {\r\n                    items: updatedItems\r\n                })\r\n            })\r\n        }\r\n        return data.filter(function(data) {\r\n            return removedData.indexOf(data) < 0\r\n        })\r\n    };\r\n    var calculateAggregates = function(that, summary, data, groupLevel) {\r\n        var calculator;\r\n        if (recalculateWhileEditing(that)) {\r\n            var editingController = that.getController(\"editing\");\r\n            if (editingController) {\r\n                var insertedData = editingController.getInsertedData();\r\n                if (insertedData.length) {\r\n                    data = applyAddedData(data, insertedData, groupLevel)\r\n                }\r\n                var removedData = editingController.getRemovedData();\r\n                if (removedData.length) {\r\n                    data = applyRemovedData(data, removedData, groupLevel)\r\n                }\r\n            }\r\n        }\r\n        if (summary) {\r\n            calculator = new _aggregate_calculator.default({\r\n                totalAggregates: summary.totalAggregates,\r\n                groupAggregates: summary.groupAggregates,\r\n                data: data,\r\n                groupLevel: groupLevel\r\n            });\r\n            calculator.calculate()\r\n        }\r\n        return calculator ? calculator.totalAggregates() : []\r\n    };\r\n    var sortGroupsBySummaryCore = function sortGroupsBySummaryCore(items, groups, sortByGroups) {\r\n        if (!items || !groups.length) {\r\n            return items\r\n        }\r\n        var group = groups[0];\r\n        var sorts = sortByGroups[0];\r\n        var query;\r\n        if (group && sorts && sorts.length) {\r\n            query = (0, _query.default)(items);\r\n            (0, _iterator.each)(sorts, function(index) {\r\n                if (0 === index) {\r\n                    query = query.sortBy(this.selector, this.desc)\r\n                } else {\r\n                    query = query.thenBy(this.selector, this.desc)\r\n                }\r\n            });\r\n            query.enumerate().done(function(sortedItems) {\r\n                items = sortedItems\r\n            })\r\n        }\r\n        groups = groups.slice(1);\r\n        sortByGroups = sortByGroups.slice(1);\r\n        if (groups.length && sortByGroups.length) {\r\n            (0, _iterator.each)(items, function() {\r\n                this.items = sortGroupsBySummaryCore(this.items, groups, sortByGroups)\r\n            })\r\n        }\r\n        return items\r\n    };\r\n    var sortGroupsBySummary = function(data, group, summary) {\r\n        var sortByGroups = summary && summary.sortByGroups && summary.sortByGroups();\r\n        if (sortByGroups && sortByGroups.length) {\r\n            return sortGroupsBySummaryCore(data, group, sortByGroups)\r\n        }\r\n        return data\r\n    };\r\n    return {\r\n        _customizeRemoteOperations: function(options) {\r\n            var summary = this.summary();\r\n            if (summary) {\r\n                if (options.remoteOperations.summary) {\r\n                    if (!options.isCustomLoading || options.storeLoadOptions.isLoadingAll) {\r\n                        if (options.storeLoadOptions.group) {\r\n                            if (options.remoteOperations.grouping) {\r\n                                options.storeLoadOptions.groupSummary = summary.groupAggregates\r\n                            } else {\r\n                                if (summary.groupAggregates.length) {\r\n                                    options.remoteOperations.paging = false\r\n                                }\r\n                            }\r\n                        }\r\n                        options.storeLoadOptions.totalSummary = summary.totalAggregates\r\n                    }\r\n                } else {\r\n                    if (summary.totalAggregates.length || summary.groupAggregates.length && options.storeLoadOptions.group) {\r\n                        options.remoteOperations.paging = false\r\n                    }\r\n                }\r\n            }\r\n            this.callBase.apply(this, arguments);\r\n            var cachedExtra = options.cachedPagesData.extra;\r\n            if (cachedExtra && cachedExtra.summary && !options.isCustomLoading) {\r\n                options.storeLoadOptions.totalSummary = void 0\r\n            }\r\n        },\r\n        _handleDataLoadedCore: function(options) {\r\n            var that = this;\r\n            var groups = _utils.default.normalizeSortingInfo(options.storeLoadOptions.group || options.loadOptions.group || []);\r\n            var remoteOperations = options.remoteOperations || {};\r\n            var summary = that.summaryGetter()(remoteOperations);\r\n            var totalAggregates;\r\n            if (!options.isCustomLoading || options.storeLoadOptions.isLoadingAll) {\r\n                if (remoteOperations.summary) {\r\n                    if (!remoteOperations.paging && groups.length && summary) {\r\n                        if (!remoteOperations.grouping) {\r\n                            calculateAggregates(that, {\r\n                                groupAggregates: summary.groupAggregates\r\n                            }, options.data, groups.length)\r\n                        }\r\n                        options.data = sortGroupsBySummary(options.data, groups, summary)\r\n                    }\r\n                } else {\r\n                    if (!remoteOperations.paging) {\r\n                        totalAggregates = calculateAggregates(that, summary, options.data, groups.length);\r\n                        options.data = sortGroupsBySummary(options.data, groups, summary);\r\n                        options.extra = (0, _type.isPlainObject)(options.extra) ? options.extra : {};\r\n                        options.extra.summary = totalAggregates\r\n                    }\r\n                }\r\n            }\r\n            if (!options.isCustomLoading) {\r\n                that._totalAggregates = options.extra && options.extra.summary || that._totalAggregates\r\n            }\r\n            that.callBase(options)\r\n        }\r\n    }\r\n}();\r\n_uiData_grid2.default.extend(SummaryDataSourceAdapterExtender);\r\n_uiData_grid2.default.extend(SummaryDataSourceAdapterClientExtender);\r\n_uiData_grid.default.registerModule(\"summary\", {\r\n    defaultOptions: function() {\r\n        return {\r\n            summary: {\r\n                groupItems: void 0,\r\n                totalItems: void 0,\r\n                calculateCustomSummary: void 0,\r\n                skipEmptyValues: true,\r\n                recalculateWhileEditing: false,\r\n                texts: {\r\n                    sum: _message.default.getFormatter(\"dxDataGrid-summarySum\"),\r\n                    sumOtherColumn: _message.default.getFormatter(\"dxDataGrid-summarySumOtherColumn\"),\r\n                    min: _message.default.getFormatter(\"dxDataGrid-summaryMin\"),\r\n                    minOtherColumn: _message.default.getFormatter(\"dxDataGrid-summaryMinOtherColumn\"),\r\n                    max: _message.default.getFormatter(\"dxDataGrid-summaryMax\"),\r\n                    maxOtherColumn: _message.default.getFormatter(\"dxDataGrid-summaryMaxOtherColumn\"),\r\n                    avg: _message.default.getFormatter(\"dxDataGrid-summaryAvg\"),\r\n                    avgOtherColumn: _message.default.getFormatter(\"dxDataGrid-summaryAvgOtherColumn\"),\r\n                    count: _message.default.getFormatter(\"dxDataGrid-summaryCount\")\r\n                }\r\n            },\r\n            sortByGroupSummaryInfo: void 0\r\n        }\r\n    },\r\n    views: {\r\n        footerView: FooterView\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: function() {\r\n                return {\r\n                    _isDataColumn: function(column) {\r\n                        return column && (!(0, _type.isDefined)(column.groupIndex) || column.showWhenGrouped)\r\n                    },\r\n                    _isGroupFooterVisible: function() {\r\n                        var groupItems = this.option(\"summary.groupItems\") || [];\r\n                        for (var i = 0; i < groupItems.length; i++) {\r\n                            var groupItem = groupItems[i];\r\n                            var column = this._columnsController.columnOption(groupItem.showInColumn || groupItem.column);\r\n                            if (groupItem.showInGroupFooter && this._isDataColumn(column)) {\r\n                                return true\r\n                            }\r\n                        }\r\n                        return false\r\n                    },\r\n                    _processGroupItems: function(items, groupCount, options) {\r\n                        var data = options && options.data;\r\n                        var result = this.callBase.apply(this, arguments);\r\n                        if (options) {\r\n                            if (void 0 === options.isGroupFooterVisible) {\r\n                                options.isGroupFooterVisible = this._isGroupFooterVisible()\r\n                            }\r\n                            if (data && data.items && options.isGroupFooterVisible && (options.collectContinuationItems || !data.isContinuationOnNextPage)) {\r\n                                result.push({\r\n                                    rowType: DATAGRID_GROUP_FOOTER_ROW_TYPE,\r\n                                    key: options.path.slice(),\r\n                                    data: data,\r\n                                    groupIndex: options.path.length - 1,\r\n                                    values: []\r\n                                })\r\n                            }\r\n                        }\r\n                        return result\r\n                    },\r\n                    _processGroupItem: function(groupItem, options) {\r\n                        var that = this;\r\n                        if (!options.summaryGroupItems) {\r\n                            options.summaryGroupItems = that.option(\"summary.groupItems\") || []\r\n                        }\r\n                        if (\"group\" === groupItem.rowType) {\r\n                            var groupColumnIndex = -1;\r\n                            var afterGroupColumnIndex = -1;\r\n                            (0, _iterator.each)(options.visibleColumns, function(visibleIndex) {\r\n                                var prevColumn = options.visibleColumns[visibleIndex - 1];\r\n                                if (groupItem.groupIndex === this.groupIndex) {\r\n                                    groupColumnIndex = this.index\r\n                                }\r\n                                if (visibleIndex > 0 && \"expand\" === prevColumn.command && \"expand\" !== this.command) {\r\n                                    afterGroupColumnIndex = this.index\r\n                                }\r\n                            });\r\n                            groupItem.summaryCells = this._calculateSummaryCells(options.summaryGroupItems, getGroupAggregates(groupItem.data), options.visibleColumns, function(summaryItem, column) {\r\n                                if (summaryItem.showInGroupFooter) {\r\n                                    return -1\r\n                                }\r\n                                if (summaryItem.alignByColumn && column && !(0, _type.isDefined)(column.groupIndex) && column.index !== afterGroupColumnIndex) {\r\n                                    return column.index\r\n                                } else {\r\n                                    return groupColumnIndex\r\n                                }\r\n                            })\r\n                        }\r\n                        if (groupItem.rowType === DATAGRID_GROUP_FOOTER_ROW_TYPE) {\r\n                            groupItem.summaryCells = this._calculateSummaryCells(options.summaryGroupItems, getGroupAggregates(groupItem.data), options.visibleColumns, function(summaryItem, column) {\r\n                                return summaryItem.showInGroupFooter && that._isDataColumn(column) ? column.index : -1\r\n                            })\r\n                        }\r\n                        return groupItem\r\n                    },\r\n                    _calculateSummaryCells: function(summaryItems, aggregates, visibleColumns, calculateTargetColumnIndex) {\r\n                        var that = this;\r\n                        var summaryCells = [];\r\n                        var summaryCellsByColumns = {};\r\n                        (0, _iterator.each)(summaryItems, function(summaryIndex, summaryItem) {\r\n                            var column = that._columnsController.columnOption(summaryItem.column);\r\n                            var showInColumn = summaryItem.showInColumn && that._columnsController.columnOption(summaryItem.showInColumn) || column;\r\n                            var columnIndex = calculateTargetColumnIndex(summaryItem, showInColumn);\r\n                            if (columnIndex >= 0) {\r\n                                if (!summaryCellsByColumns[columnIndex]) {\r\n                                    summaryCellsByColumns[columnIndex] = []\r\n                                }\r\n                                var aggregate = aggregates[summaryIndex];\r\n                                if (aggregate === aggregate) {\r\n                                    var valueFormat;\r\n                                    if ((0, _type.isDefined)(summaryItem.valueFormat)) {\r\n                                        valueFormat = summaryItem.valueFormat\r\n                                    } else {\r\n                                        if (\"count\" !== summaryItem.summaryType) {\r\n                                            valueFormat = _uiData_grid.default.getFormatByDataType(column && column.dataType)\r\n                                        }\r\n                                    }\r\n                                    summaryCellsByColumns[columnIndex].push((0, _extend.extend)({}, summaryItem, {\r\n                                        value: (0, _type.isString)(aggregate) && column && column.deserializeValue ? column.deserializeValue(aggregate) : aggregate,\r\n                                        valueFormat: valueFormat,\r\n                                        columnCaption: column && column.index !== columnIndex ? column.caption : void 0\r\n                                    }))\r\n                                }\r\n                            }\r\n                        });\r\n                        if (!(0, _type.isEmptyObject)(summaryCellsByColumns)) {\r\n                            (0, _iterator.each)(visibleColumns, function() {\r\n                                summaryCells.push(summaryCellsByColumns[this.index] || [])\r\n                            })\r\n                        }\r\n                        return summaryCells\r\n                    },\r\n                    _getSummaryCells: function(summaryTotalItems, totalAggregates) {\r\n                        var that = this;\r\n                        var columnsController = that._columnsController;\r\n                        return that._calculateSummaryCells(summaryTotalItems, totalAggregates, columnsController.getVisibleColumns(), function(summaryItem, column) {\r\n                            return that._isDataColumn(column) ? column.index : -1\r\n                        })\r\n                    },\r\n                    _updateItemsCore: function(change) {\r\n                        var that = this;\r\n                        var summaryCells;\r\n                        var dataSource = that._dataSource;\r\n                        var footerItems = that._footerItems;\r\n                        var oldSummaryCells = footerItems && footerItems[0] && footerItems[0].summaryCells;\r\n                        var summaryTotalItems = that.option(\"summary.totalItems\");\r\n                        that._footerItems = [];\r\n                        if (dataSource && summaryTotalItems && summaryTotalItems.length) {\r\n                            var totalAggregates = dataSource.totalAggregates();\r\n                            summaryCells = that._getSummaryCells(summaryTotalItems, totalAggregates);\r\n                            if (change && change.repaintChangesOnly && oldSummaryCells) {\r\n                                change.totalColumnIndices = summaryCells.map(function(summaryCell, index) {\r\n                                    if (JSON.stringify(summaryCell) !== JSON.stringify(oldSummaryCells[index])) {\r\n                                        return index\r\n                                    }\r\n                                    return -1\r\n                                }).filter(function(index) {\r\n                                    return index >= 0\r\n                                })\r\n                            }\r\n                            if (summaryCells.length) {\r\n                                that._footerItems.push({\r\n                                    rowType: \"totalFooter\",\r\n                                    summaryCells: summaryCells\r\n                                })\r\n                            }\r\n                        }\r\n                        that.callBase(change)\r\n                    },\r\n                    _prepareUnsavedDataSelector: function(selector) {\r\n                        var that = this;\r\n                        if (recalculateWhileEditing(that)) {\r\n                            var editingController = that.getController(\"editing\");\r\n                            if (editingController) {\r\n                                return function(data) {\r\n                                    data = editingController.getUpdatedData(data);\r\n                                    return selector(data)\r\n                                }\r\n                            }\r\n                        }\r\n                        return selector\r\n                    },\r\n                    _prepareAggregateSelector: function(selector, aggregator) {\r\n                        selector = this._prepareUnsavedDataSelector(selector);\r\n                        if (\"avg\" === aggregator || \"sum\" === aggregator) {\r\n                            return function(data) {\r\n                                var value = selector(data);\r\n                                return (0, _type.isDefined)(value) ? Number(value) : value\r\n                            }\r\n                        }\r\n                        return selector\r\n                    },\r\n                    _getAggregates: function(summaryItems, remoteOperations) {\r\n                        var that = this;\r\n                        var columnsController = that.getController(\"columns\");\r\n                        var calculateCustomSummary = that.option(\"summary.calculateCustomSummary\");\r\n                        var commonSkipEmptyValues = that.option(\"summary.skipEmptyValues\");\r\n                        return (0, _iterator.map)(summaryItems || [], function(summaryItem) {\r\n                            var column = columnsController.columnOption(summaryItem.column);\r\n                            var calculateCellValue = column && column.calculateCellValue ? column.calculateCellValue.bind(column) : (0, _data.compileGetter)(column ? column.dataField : summaryItem.column);\r\n                            var aggregator = summaryItem.summaryType || \"count\";\r\n                            var selector = summaryItem.column;\r\n                            var skipEmptyValues = (0, _type.isDefined)(summaryItem.skipEmptyValues) ? summaryItem.skipEmptyValues : commonSkipEmptyValues;\r\n                            if (remoteOperations) {\r\n                                return {\r\n                                    selector: summaryItem.column,\r\n                                    summaryType: aggregator\r\n                                }\r\n                            } else {\r\n                                selector = that._prepareAggregateSelector(calculateCellValue, aggregator);\r\n                                if (\"custom\" === aggregator) {\r\n                                    if (!calculateCustomSummary) {\r\n                                        _ui.default.log(\"E1026\");\r\n                                        calculateCustomSummary = function() {}\r\n                                    }\r\n                                    var options = {\r\n                                        component: that.component,\r\n                                        name: summaryItem.name\r\n                                    };\r\n                                    calculateCustomSummary(options);\r\n                                    options.summaryProcess = \"calculate\";\r\n                                    aggregator = {\r\n                                        seed: function(groupIndex) {\r\n                                            options.summaryProcess = \"start\";\r\n                                            options.totalValue = void 0;\r\n                                            options.groupIndex = groupIndex;\r\n                                            delete options.value;\r\n                                            calculateCustomSummary(options);\r\n                                            return options.totalValue\r\n                                        },\r\n                                        step: function(totalValue, value) {\r\n                                            options.summaryProcess = \"calculate\";\r\n                                            options.totalValue = totalValue;\r\n                                            options.value = value;\r\n                                            calculateCustomSummary(options);\r\n                                            return options.totalValue\r\n                                        },\r\n                                        finalize: function(totalValue) {\r\n                                            options.summaryProcess = \"finalize\";\r\n                                            options.totalValue = totalValue;\r\n                                            delete options.value;\r\n                                            calculateCustomSummary(options);\r\n                                            return options.totalValue\r\n                                        }\r\n                                    }\r\n                                }\r\n                                return {\r\n                                    selector: selector,\r\n                                    aggregator: aggregator,\r\n                                    skipEmptyValues: skipEmptyValues\r\n                                }\r\n                            }\r\n                        })\r\n                    },\r\n                    _addSortInfo: function(sortByGroups, groupColumn, selector, sortOrder) {\r\n                        if (groupColumn) {\r\n                            var groupIndex = groupColumn.groupIndex;\r\n                            sortOrder = sortOrder || groupColumn.sortOrder;\r\n                            if ((0, _type.isDefined)(groupIndex)) {\r\n                                sortByGroups[groupIndex] = sortByGroups[groupIndex] || [];\r\n                                sortByGroups[groupIndex].push({\r\n                                    selector: selector,\r\n                                    desc: \"desc\" === sortOrder\r\n                                })\r\n                            }\r\n                        }\r\n                    },\r\n                    _findSummaryItem: function(summaryItems, name) {\r\n                        var summaryItemIndex = -1;\r\n                        var getFullName = function(summaryItem) {\r\n                            var summaryType = summaryItem.summaryType;\r\n                            var column = summaryItem.column;\r\n                            return summaryType && column && summaryType + \"_\" + column\r\n                        };\r\n                        if ((0, _type.isDefined)(name)) {\r\n                            (0, _iterator.each)(summaryItems || [], function(index) {\r\n                                if (this.name === name || index === name || this.summaryType === name || this.column === name || getFullName(this) === name) {\r\n                                    summaryItemIndex = index;\r\n                                    return false\r\n                                }\r\n                            })\r\n                        }\r\n                        return summaryItemIndex\r\n                    },\r\n                    _getSummarySortByGroups: function(sortByGroupSummaryInfo, groupSummaryItems) {\r\n                        var that = this;\r\n                        var columnsController = that._columnsController;\r\n                        var groupColumns = columnsController.getGroupColumns();\r\n                        var sortByGroups = [];\r\n                        if (!groupSummaryItems || !groupSummaryItems.length) {\r\n                            return\r\n                        }(0, _iterator.each)(sortByGroupSummaryInfo || [], function() {\r\n                            var sortOrder = this.sortOrder;\r\n                            var groupColumn = this.groupColumn;\r\n                            var summaryItemIndex = that._findSummaryItem(groupSummaryItems, this.summaryItem);\r\n                            if (summaryItemIndex < 0) {\r\n                                return\r\n                            }\r\n                            var selector = function(data) {\r\n                                return getGroupAggregates(data)[summaryItemIndex]\r\n                            };\r\n                            if ((0, _type.isDefined)(groupColumn)) {\r\n                                groupColumn = columnsController.columnOption(groupColumn);\r\n                                that._addSortInfo(sortByGroups, groupColumn, selector, sortOrder)\r\n                            } else {\r\n                                (0, _iterator.each)(groupColumns, function(groupIndex, groupColumn) {\r\n                                    that._addSortInfo(sortByGroups, groupColumn, selector, sortOrder)\r\n                                })\r\n                            }\r\n                        });\r\n                        return sortByGroups\r\n                    },\r\n                    _createDataSourceAdapterCore: function(dataSource, remoteOperations) {\r\n                        var that = this;\r\n                        var dataSourceAdapter = this.callBase(dataSource, remoteOperations);\r\n                        dataSourceAdapter.summaryGetter(function(currentRemoteOperations) {\r\n                            return that._getSummaryOptions(currentRemoteOperations || remoteOperations)\r\n                        });\r\n                        return dataSourceAdapter\r\n                    },\r\n                    _getSummaryOptions: function(remoteOperations) {\r\n                        var that = this;\r\n                        var groupSummaryItems = that.option(\"summary.groupItems\");\r\n                        var totalSummaryItems = that.option(\"summary.totalItems\");\r\n                        var sortByGroupSummaryInfo = that.option(\"sortByGroupSummaryInfo\");\r\n                        var groupAggregates = that._getAggregates(groupSummaryItems, remoteOperations && remoteOperations.grouping && remoteOperations.summary);\r\n                        var totalAggregates = that._getAggregates(totalSummaryItems, remoteOperations && remoteOperations.summary);\r\n                        var sortByGroups = function() {\r\n                            return that._getSummarySortByGroups(sortByGroupSummaryInfo, groupSummaryItems)\r\n                        };\r\n                        if (groupAggregates.length || totalAggregates.length) {\r\n                            return {\r\n                                groupAggregates: groupAggregates,\r\n                                totalAggregates: totalAggregates,\r\n                                sortByGroups: sortByGroups\r\n                            }\r\n                        }\r\n                    },\r\n                    publicMethods: function() {\r\n                        var methods = this.callBase();\r\n                        methods.push(\"getTotalSummaryValue\");\r\n                        return methods\r\n                    },\r\n                    getTotalSummaryValue: function(summaryItemName) {\r\n                        var summaryItemIndex = this._findSummaryItem(this.option(\"summary.totalItems\"), summaryItemName);\r\n                        var aggregates = this._dataSource.totalAggregates();\r\n                        if (aggregates.length && summaryItemIndex > -1) {\r\n                            return aggregates[summaryItemIndex]\r\n                        }\r\n                    },\r\n                    optionChanged: function(args) {\r\n                        if (\"summary\" === args.name || \"sortByGroupSummaryInfo\" === args.name) {\r\n                            args.name = \"dataSource\"\r\n                        }\r\n                        this.callBase(args)\r\n                    },\r\n                    init: function() {\r\n                        this._footerItems = [];\r\n                        this.callBase()\r\n                    },\r\n                    footerItems: function() {\r\n                        return this._footerItems\r\n                    }\r\n                }\r\n            }(),\r\n            editing: function() {\r\n                return {\r\n                    _refreshSummary: function() {\r\n                        if (recalculateWhileEditing(this) && !this.isSaving()) {\r\n                            this._dataController.refresh({\r\n                                load: true,\r\n                                changesOnly: true\r\n                            })\r\n                        }\r\n                    },\r\n                    _addChange: function(params) {\r\n                        var result = this.callBase.apply(this, arguments);\r\n                        if (params.type) {\r\n                            this._refreshSummary()\r\n                        }\r\n                        return result\r\n                    },\r\n                    _removeChange: function() {\r\n                        var result = this.callBase.apply(this, arguments);\r\n                        this._refreshSummary();\r\n                        return result\r\n                    },\r\n                    cancelEditData: function() {\r\n                        var result = this.callBase.apply(this, arguments);\r\n                        this._refreshSummary();\r\n                        return result\r\n                    }\r\n                }\r\n            }()\r\n        },\r\n        views: {\r\n            rowsView: function() {\r\n                return {\r\n                    _createRow: function(row) {\r\n                        var $row = this.callBase(row);\r\n                        row && $row.addClass(row.rowType === DATAGRID_GROUP_FOOTER_ROW_TYPE ? DATAGRID_GROUP_FOOTER_CLASS : \"\");\r\n                        return $row\r\n                    },\r\n                    _renderCells: function($row, options) {\r\n                        this.callBase.apply(this, arguments);\r\n                        if (\"group\" === options.row.rowType && options.row.summaryCells && options.row.summaryCells.length) {\r\n                            this._renderGroupSummaryCells($row, options)\r\n                        }\r\n                    },\r\n                    _hasAlignByColumnSummaryItems: function(columnIndex, options) {\r\n                        return !(0, _type.isDefined)(options.columns[columnIndex].groupIndex) && options.row.summaryCells[columnIndex].length\r\n                    },\r\n                    _getAlignByColumnCellCount: function(groupCellColSpan, options) {\r\n                        var alignByColumnCellCount = 0;\r\n                        for (var i = 1; i < groupCellColSpan; i++) {\r\n                            var columnIndex = options.row.summaryCells.length - i;\r\n                            alignByColumnCellCount = this._hasAlignByColumnSummaryItems(columnIndex, options) ? i : alignByColumnCellCount\r\n                        }\r\n                        return alignByColumnCellCount\r\n                    },\r\n                    _renderGroupSummaryCells: function($row, options) {\r\n                        var $groupCell = $row.children().last();\r\n                        var groupCellColSpan = Number($groupCell.attr(\"colSpan\")) || 1;\r\n                        var alignByColumnCellCount = this._getAlignByColumnCellCount(groupCellColSpan, options);\r\n                        this._renderGroupSummaryCellsCore($groupCell, options, groupCellColSpan, alignByColumnCellCount)\r\n                    },\r\n                    _renderGroupSummaryCellsCore: function($groupCell, options, groupCellColSpan, alignByColumnCellCount) {\r\n                        if (alignByColumnCellCount > 0) {\r\n                            $groupCell.attr(\"colSpan\", groupCellColSpan - alignByColumnCellCount);\r\n                            for (var i = 0; i < alignByColumnCellCount; i++) {\r\n                                var columnIndex = options.columns.length - alignByColumnCellCount + i;\r\n                                this._renderCell($groupCell.parent(), (0, _extend.extend)({\r\n                                    column: options.columns[columnIndex],\r\n                                    columnIndex: this._getSummaryCellIndex(columnIndex, options.columns)\r\n                                }, options))\r\n                            }\r\n                        }\r\n                    },\r\n                    _getSummaryCellIndex: function(columnIndex) {\r\n                        return columnIndex\r\n                    },\r\n                    _getCellTemplate: function(options) {\r\n                        if (!options.column.command && !(0, _type.isDefined)(options.column.groupIndex) && options.summaryItems && options.summaryItems.length) {\r\n                            return renderSummaryCell\r\n                        } else {\r\n                            return this.callBase(options)\r\n                        }\r\n                    },\r\n                    _getCellOptions: function(options) {\r\n                        var that = this;\r\n                        var parameters = that.callBase(options);\r\n                        if (options.row.summaryCells) {\r\n                            return (0, _extend.extend)(parameters, getSummaryCellOptions(that, options))\r\n                        } else {\r\n                            return parameters\r\n                        }\r\n                    }\r\n                }\r\n            }()\r\n        }\r\n    }\r\n});\r\n","/**\r\n * DevExtreme (ui/data_grid/aggregate_calculator.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _class = _interopRequireDefault(require(\"../../core/class\"));\r\nvar _data = require(\"../../core/utils/data\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _errors = _interopRequireDefault(require(\"../../data/errors\"));\r\nvar _utils = _interopRequireDefault(require(\"../../data/utils\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction depthFirstSearch(i, depth, root, callback) {\r\n    var j = 0;\r\n    if (i < depth) {\r\n        for (; j < root.items.length; j++) {\r\n            depthFirstSearch(i + 1, depth, root.items[j], callback)\r\n        }\r\n    }\r\n    if (i === depth) {\r\n        callback(root)\r\n    }\r\n}\r\n\r\nfunction map(array, callback) {\r\n    var i;\r\n    if (\"map\" in array) {\r\n        return array.map(callback)\r\n    }\r\n    var result = new Array(array.length);\r\n    for (i in array) {\r\n        result[i] = callback(array[i], i)\r\n    }\r\n    return result\r\n}\r\n\r\nfunction isEmpty(x) {\r\n    return x !== x || \"\" === x || null === x || void 0 === x\r\n}\r\n\r\nfunction isCount(aggregator) {\r\n    return aggregator === _utils.default.aggregators.count\r\n}\r\n\r\nfunction normalizeAggregate(aggregate) {\r\n    var selector = (0, _data.compileGetter)(aggregate.selector);\r\n    var skipEmptyValues = \"skipEmptyValues\" in aggregate ? aggregate.skipEmptyValues : true;\r\n    var aggregator = aggregate.aggregator;\r\n    if (\"string\" === typeof aggregator) {\r\n        aggregator = _utils.default.aggregators[aggregator];\r\n        if (!aggregator) {\r\n            throw _errors.default.errors.Error(\"E4001\", aggregate.aggregator)\r\n        }\r\n    }\r\n    return {\r\n        selector: selector,\r\n        aggregator: aggregator,\r\n        skipEmptyValues: skipEmptyValues\r\n    }\r\n}\r\nvar _default = _class.default.inherit({\r\n    ctor: function(options) {\r\n        this._data = options.data;\r\n        this._groupLevel = options.groupLevel || 0;\r\n        this._totalAggregates = map(options.totalAggregates || [], normalizeAggregate);\r\n        this._groupAggregates = map(options.groupAggregates || [], normalizeAggregate);\r\n        this._totals = []\r\n    },\r\n    calculate: function() {\r\n        if (this._totalAggregates.length) {\r\n            this._calculateTotals(0, {\r\n                items: this._data\r\n            })\r\n        }\r\n        if (this._groupAggregates.length && this._groupLevel > 0) {\r\n            this._calculateGroups({\r\n                items: this._data\r\n            })\r\n        }\r\n    },\r\n    totalAggregates: function() {\r\n        return this._totals\r\n    },\r\n    _aggregate: function(aggregates, data, container) {\r\n        var length = data.items ? data.items.length : 0;\r\n        for (var i = 0; i < aggregates.length; i++) {\r\n            if (isCount(aggregates[i].aggregator)) {\r\n                container[i] = (container[i] || 0) + length;\r\n                continue\r\n            }\r\n            for (var j = 0; j < length; j++) {\r\n                this._accumulate(i, aggregates[i], container, data.items[j])\r\n            }\r\n        }\r\n    },\r\n    _calculateTotals: function(level, data) {\r\n        if (0 === level) {\r\n            this._totals = this._seed(this._totalAggregates)\r\n        }\r\n        if (level === this._groupLevel) {\r\n            this._aggregate(this._totalAggregates, data, this._totals)\r\n        } else {\r\n            for (var i = 0; i < data.items.length; i++) {\r\n                this._calculateTotals(level + 1, data.items[i])\r\n            }\r\n        }\r\n        if (0 === level) {\r\n            this._totals = this._finalize(this._totalAggregates, this._totals)\r\n        }\r\n    },\r\n    _calculateGroups: function(root) {\r\n        var maxLevel = this._groupLevel;\r\n        var currentLevel = maxLevel + 1;\r\n        var seedFn = this._seed.bind(this, this._groupAggregates);\r\n        var stepFn = this._aggregate.bind(this, this._groupAggregates);\r\n        var finalizeFn = this._finalize.bind(this, this._groupAggregates);\r\n\r\n        function aggregator(node) {\r\n            node.aggregates = seedFn(currentLevel - 1);\r\n            if (currentLevel === maxLevel) {\r\n                stepFn(node, node.aggregates)\r\n            } else {\r\n                depthFirstSearch(currentLevel, maxLevel, node, function(innerNode) {\r\n                    stepFn(innerNode, node.aggregates)\r\n                })\r\n            }\r\n            node.aggregates = finalizeFn(node.aggregates)\r\n        }\r\n        while (--currentLevel > 0) {\r\n            depthFirstSearch(0, currentLevel, root, aggregator)\r\n        }\r\n    },\r\n    _seed: function(aggregates, groupIndex) {\r\n        return map(aggregates, function(aggregate) {\r\n            var aggregator = aggregate.aggregator;\r\n            var seed = \"seed\" in aggregator ? (0, _type.isFunction)(aggregator.seed) ? aggregator.seed(groupIndex) : aggregator.seed : NaN;\r\n            return seed\r\n        })\r\n    },\r\n    _accumulate: function(aggregateIndex, aggregate, results, item) {\r\n        var value = aggregate.selector(item);\r\n        var aggregator = aggregate.aggregator;\r\n        var skipEmptyValues = aggregate.skipEmptyValues;\r\n        if (skipEmptyValues && isEmpty(value)) {\r\n            return\r\n        }\r\n        if (results[aggregateIndex] !== results[aggregateIndex]) {\r\n            results[aggregateIndex] = value\r\n        } else {\r\n            results[aggregateIndex] = aggregator.step(results[aggregateIndex], value)\r\n        }\r\n    },\r\n    _finalize: function(aggregates, results) {\r\n        return map(aggregates, function(aggregate, index) {\r\n            var fin = aggregate.aggregator.finalize;\r\n            return fin ? fin(results[index]) : results[index]\r\n        })\r\n    }\r\n});\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.column_fixing.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.column_fixing\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"columnFixing\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.column_fixing.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _wheel = require(\"../../events/core/wheel\");\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.utils\"));\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _browser = _interopRequireDefault(require(\"../../core/utils/browser\"));\r\nvar _position = require(\"../../core/utils/position\");\r\nvar _translator = require(\"../../animation/translator\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar CONTENT_CLASS = \"content\";\r\nvar CONTENT_FIXED_CLASS = \"content-fixed\";\r\nvar MASTER_DETAIL_CELL_CLASS = \"dx-master-detail-cell\";\r\nvar FIRST_CELL_CLASS = \"dx-first-cell\";\r\nvar LAST_CELL_CLASS = \"dx-last-cell\";\r\nvar HOVER_STATE_CLASS = \"dx-state-hover\";\r\nvar FIXED_COL_CLASS = \"dx-col-fixed\";\r\nvar FIXED_COLUMNS_CLASS = \"dx-fixed-columns\";\r\nvar POINTER_EVENTS_NONE_CLASS = \"dx-pointer-events-none\";\r\nvar COMMAND_TRANSPARENT = \"transparent\";\r\nvar GROUP_ROW_CLASS = \"dx-group-row\";\r\nvar getTransparentColumnIndex = function(fixedColumns) {\r\n    var transparentColumnIndex = -1;\r\n    (0, _iterator.each)(fixedColumns, function(index, column) {\r\n        if (column.command === COMMAND_TRANSPARENT) {\r\n            transparentColumnIndex = index;\r\n            return false\r\n        }\r\n    });\r\n    return transparentColumnIndex\r\n};\r\nvar normalizeColumnWidths = function(fixedColumns, widths, fixedWidths) {\r\n    var fixedColumnIndex = 0;\r\n    if (fixedColumns && widths && fixedWidths) {\r\n        for (var i = 0; i < fixedColumns.length; i++) {\r\n            if (fixedColumns[i].command === COMMAND_TRANSPARENT) {\r\n                fixedColumnIndex += fixedColumns[i].colspan\r\n            } else {\r\n                if (widths[fixedColumnIndex] < fixedWidths[i]) {\r\n                    widths[fixedColumnIndex] = fixedWidths[i]\r\n                }\r\n                fixedColumnIndex++\r\n            }\r\n        }\r\n    }\r\n    return widths\r\n};\r\nvar baseFixedColumns = {\r\n    init: function() {\r\n        this.callBase();\r\n        this._isFixedTableRendering = false;\r\n        this._isFixedColumns = false\r\n    },\r\n    _createCol: function(column) {\r\n        return this.callBase(column).toggleClass(FIXED_COL_CLASS, !!(this._isFixedTableRendering && (column.fixed || column.command && column.command !== COMMAND_TRANSPARENT)))\r\n    },\r\n    _correctColumnIndicesForFixedColumns: function(fixedColumns, change) {\r\n        var transparentColumnIndex = getTransparentColumnIndex(fixedColumns);\r\n        var transparentColspan = fixedColumns[transparentColumnIndex].colspan;\r\n        var columnIndices = change && change.columnIndices;\r\n        if (columnIndices) {\r\n            change.columnIndices = columnIndices.map(function(columnIndices) {\r\n                if (columnIndices) {\r\n                    return columnIndices.map(function(columnIndex) {\r\n                        if (columnIndex < transparentColumnIndex) {\r\n                            return columnIndex\r\n                        } else {\r\n                            if (columnIndex >= transparentColumnIndex + transparentColspan) {\r\n                                return columnIndex - transparentColspan + 1\r\n                            }\r\n                        }\r\n                        return -1\r\n                    }).filter(function(columnIndex) {\r\n                        return columnIndex >= 0\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    },\r\n    _renderTable: function(options) {\r\n        var that = this;\r\n        var $fixedTable;\r\n        var fixedColumns = that.getFixedColumns();\r\n        that._isFixedColumns = !!fixedColumns.length;\r\n        var $table = that.callBase(options);\r\n        if (that._isFixedColumns) {\r\n            that._isFixedTableRendering = true;\r\n            var change = options && options.change;\r\n            var columnIndices = change && change.columnIndices;\r\n            that._correctColumnIndicesForFixedColumns(fixedColumns, change);\r\n            $fixedTable = that._createTable(fixedColumns);\r\n            that._renderRows($fixedTable, (0, _extend.extend)({}, options, {\r\n                columns: fixedColumns\r\n            }));\r\n            that._updateContent($fixedTable, change);\r\n            if (columnIndices) {\r\n                change.columnIndices = columnIndices\r\n            }\r\n            that._isFixedTableRendering = false\r\n        } else {\r\n            that._fixedTableElement && that._fixedTableElement.parent().remove();\r\n            that._fixedTableElement = null\r\n        }\r\n        return $table\r\n    },\r\n    _renderRow: function($table, options) {\r\n        var fixedCorrection;\r\n        var cells = options.row.cells;\r\n        this.callBase.apply(this, arguments);\r\n        if (this._isFixedTableRendering && cells && cells.length) {\r\n            fixedCorrection = 0;\r\n            var fixedCells = options.row.cells || [];\r\n            cells = cells.slice();\r\n            options.row.cells = cells;\r\n            for (var i = 0; i < fixedCells.length; i++) {\r\n                if (fixedCells[i].column && fixedCells[i].column.command === COMMAND_TRANSPARENT) {\r\n                    fixedCorrection = (fixedCells[i].column.colspan || 1) - 1;\r\n                    continue\r\n                }\r\n                cells[i + fixedCorrection] = fixedCells[i]\r\n            }\r\n        }\r\n    },\r\n    _createCell: function(options) {\r\n        var that = this;\r\n        var column = options.column;\r\n        var columnCommand = column && column.command;\r\n        var rowType = options.rowType;\r\n        var $cell = that.callBase.apply(that, arguments);\r\n        var fixedColumns;\r\n        var prevFixedColumn;\r\n        var transparentColumnIndex;\r\n        if (that._isFixedTableRendering || \"filter\" === rowType) {\r\n            fixedColumns = that.getFixedColumns();\r\n            transparentColumnIndex = getTransparentColumnIndex(fixedColumns);\r\n            prevFixedColumn = fixedColumns[transparentColumnIndex - 1]\r\n        }\r\n        if (that._isFixedTableRendering) {\r\n            if (columnCommand === COMMAND_TRANSPARENT) {\r\n                $cell.addClass(POINTER_EVENTS_NONE_CLASS).toggleClass(FIRST_CELL_CLASS, 0 === transparentColumnIndex || prevFixedColumn && \"expand\" === prevFixedColumn.command).toggleClass(LAST_CELL_CLASS, fixedColumns.length && transparentColumnIndex === fixedColumns.length - 1);\r\n                if (\"freeSpace\" !== rowType) {\r\n                    _uiGrid_core.default.setEmptyText($cell)\r\n                }\r\n            }\r\n        } else {\r\n            if (\"filter\" === rowType) {\r\n                $cell.toggleClass(FIRST_CELL_CLASS, options.columnIndex === transparentColumnIndex)\r\n            }\r\n        }\r\n        var isRowAltStyle = that.option(\"rowAlternationEnabled\") && options.isAltRow;\r\n        if (_browser.default.mozilla && options.column.fixed && \"group\" !== options.rowType && !isRowAltStyle) {\r\n            $cell.addClass(FIXED_COL_CLASS)\r\n        }\r\n        return $cell\r\n    },\r\n    _wrapTableInScrollContainer: function() {\r\n        var $scrollContainer = this.callBase.apply(this, arguments);\r\n        if (this._isFixedTableRendering) {\r\n            $scrollContainer.addClass(this.addWidgetPrefix(CONTENT_FIXED_CLASS))\r\n        }\r\n        return $scrollContainer\r\n    },\r\n    _renderCellContent: function($cell, options) {\r\n        var that = this;\r\n        var isEmptyCell;\r\n        var column = options.column;\r\n        var isFixedTableRendering = that._isFixedTableRendering;\r\n        var isGroupCell = \"group\" === options.rowType && (0, _type.isDefined)(column.groupIndex);\r\n        if (isFixedTableRendering && isGroupCell && !column.command && !column.groupCellTemplate) {\r\n            $cell.css(\"pointerEvents\", \"none\")\r\n        }\r\n        if (!isFixedTableRendering && that._isFixedColumns) {\r\n            isEmptyCell = column.fixed || column.command && false !== column.fixed;\r\n            if (isGroupCell) {\r\n                isEmptyCell = false;\r\n                if (options.row.summaryCells && options.row.summaryCells.length) {\r\n                    var columns = that._columnsController.getVisibleColumns();\r\n                    var alignByFixedColumnCellCount = that._getAlignByColumnCellCount ? that._getAlignByColumnCellCount(column.colspan, {\r\n                        columns: columns,\r\n                        row: options.row,\r\n                        isFixed: true\r\n                    }) : 0;\r\n                    if (alignByFixedColumnCellCount > 0) {\r\n                        var transparentColumnIndex = getTransparentColumnIndex(that._columnsController.getFixedColumns());\r\n                        isEmptyCell = columns.length - alignByFixedColumnCellCount < transparentColumnIndex\r\n                    }\r\n                }\r\n            }\r\n            if (isEmptyCell) {\r\n                if (that.option(\"legacyRendering\") || column.command && \"buttons\" !== column.type || \"group\" === options.rowType) {\r\n                    $cell.html(\"&nbsp;\").addClass(column.cssClass);\r\n                    return\r\n                } else {\r\n                    $cell.addClass(\"dx-hidden-cell\")\r\n                }\r\n            }\r\n        }\r\n        if (column.command !== COMMAND_TRANSPARENT) {\r\n            that.callBase($cell, options)\r\n        }\r\n    },\r\n    _getCellElementsCore: function(rowIndex) {\r\n        var that = this;\r\n        var cellElements = that.callBase(rowIndex);\r\n        var isGroupRow = cellElements.parent().hasClass(GROUP_ROW_CLASS);\r\n        var index = \"columnHeadersView\" === that.name ? rowIndex : void 0;\r\n        if (that._fixedTableElement && cellElements) {\r\n            var fixedColumns = that.getFixedColumns(index);\r\n            var fixedCellElements = that._getRowElements(that._fixedTableElement).eq(rowIndex).children(\"td\");\r\n            (0, _iterator.each)(fixedCellElements, function(columnIndex, cell) {\r\n                if (isGroupRow) {\r\n                    if (cellElements[columnIndex] && \"hidden\" !== cell.style.visibility) {\r\n                        cellElements[columnIndex] = cell\r\n                    }\r\n                } else {\r\n                    var fixedColumn = fixedColumns[columnIndex];\r\n                    if (fixedColumn) {\r\n                        if (fixedColumn.command === COMMAND_TRANSPARENT) {\r\n                            if (fixedCellElements.eq(columnIndex).hasClass(MASTER_DETAIL_CELL_CLASS)) {\r\n                                cellElements[columnIndex] = cell || cellElements[columnIndex]\r\n                            }\r\n                        } else {\r\n                            var fixedColumnIndex = that._columnsController.getVisibleIndex(fixedColumn.index, index);\r\n                            cellElements[fixedColumnIndex] = cell || cellElements[fixedColumnIndex]\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        }\r\n        return cellElements\r\n    },\r\n    getColumnWidths: function() {\r\n        var that = this;\r\n        var fixedWidths;\r\n        var result = that.callBase();\r\n        var fixedColumns = that.getFixedColumns();\r\n        if (that._fixedTableElement && result.length) {\r\n            fixedWidths = that.callBase(that._fixedTableElement)\r\n        }\r\n        return normalizeColumnWidths(fixedColumns, result, fixedWidths)\r\n    },\r\n    _getTableElement: function() {\r\n        var tableElement = this._isFixedTableRendering ? this._fixedTableElement : this.callBase();\r\n        return tableElement\r\n    },\r\n    _setTableElement: function(tableElement) {\r\n        if (this._isFixedTableRendering) {\r\n            this._fixedTableElement = tableElement.addClass(POINTER_EVENTS_NONE_CLASS)\r\n        } else {\r\n            this.callBase(tableElement)\r\n        }\r\n    },\r\n    getColumns: function(rowIndex, $tableElement) {\r\n        $tableElement = $tableElement || this._getTableElement();\r\n        if (this._isFixedTableRendering || $tableElement && $tableElement.closest(\"table\").parent(\".\" + this.addWidgetPrefix(CONTENT_FIXED_CLASS)).length) {\r\n            return this.getFixedColumns(rowIndex)\r\n        }\r\n        return this.callBase(rowIndex, $tableElement)\r\n    },\r\n    getRowIndex: function($row) {\r\n        var $fixedTable = this._fixedTableElement;\r\n        if ($fixedTable && $fixedTable.find($row).length) {\r\n            return this._getRowElements($fixedTable).index($row)\r\n        }\r\n        return this.callBase($row)\r\n    },\r\n    getTableElements: function() {\r\n        var result = this.callBase.apply(this, arguments);\r\n        if (this._fixedTableElement) {\r\n            result = (0, _renderer.default)([result.get(0), this._fixedTableElement.get(0)])\r\n        }\r\n        return result\r\n    },\r\n    getFixedColumns: function(rowIndex) {\r\n        return this._columnsController.getFixedColumns(rowIndex)\r\n    },\r\n    getFixedColumnsOffset: function() {\r\n        var offset = {\r\n            left: 0,\r\n            right: 0\r\n        };\r\n        var $transparentColumn;\r\n        if (this._fixedTableElement) {\r\n            $transparentColumn = this.getTransparentColumnElement();\r\n            var positionTransparentColumn = $transparentColumn.position();\r\n            offset = {\r\n                left: positionTransparentColumn.left,\r\n                right: this.element().outerWidth(true) - ($transparentColumn.outerWidth(true) + positionTransparentColumn.left)\r\n            }\r\n        }\r\n        return offset\r\n    },\r\n    getTransparentColumnElement: function() {\r\n        return this._fixedTableElement && this._fixedTableElement.find(\".\" + POINTER_EVENTS_NONE_CLASS).first()\r\n    },\r\n    getFixedTableElement: function() {\r\n        return this._fixedTableElement\r\n    },\r\n    isFixedColumns: function() {\r\n        return this._isFixedColumns\r\n    },\r\n    _resizeCore: function() {\r\n        this.callBase();\r\n        this.synchronizeRows()\r\n    },\r\n    setColumnWidths: function(options) {\r\n        var columns;\r\n        var visibleColumns = this._columnsController.getVisibleColumns();\r\n        var widths = options.widths;\r\n        var isWidthsSynchronized = widths && widths.length && (0, _type.isDefined)(visibleColumns[0].visibleWidth);\r\n        var optionNames = options.optionNames;\r\n        var isColumnWidthChanged = optionNames && optionNames.width;\r\n        var useVisibleColumns = false;\r\n        this.callBase.apply(this, arguments);\r\n        if (this._fixedTableElement) {\r\n            if (this.option(\"legacyRendering\")) {\r\n                useVisibleColumns = widths && widths.length && !this.isScrollbarVisible(true)\r\n            } else {\r\n                var hasAutoWidth = widths && widths.some(function(width) {\r\n                    return \"auto\" === width\r\n                });\r\n                useVisibleColumns = hasAutoWidth && (!isWidthsSynchronized || !this.isScrollbarVisible(true))\r\n            }\r\n            if (useVisibleColumns) {\r\n                columns = visibleColumns\r\n            }\r\n            this.callBase((0, _extend.extend)({}, options, {\r\n                $tableElement: this._fixedTableElement,\r\n                columns: columns,\r\n                fixed: true\r\n            }))\r\n        }\r\n        if (isWidthsSynchronized || isColumnWidthChanged && this.option(\"wordWrapEnabled\")) {\r\n            this.synchronizeRows()\r\n        }\r\n    },\r\n    _createColGroup: function(columns) {\r\n        if (!this.option(\"legacyRendering\") && this._isFixedTableRendering && !this.option(\"columnAutoWidth\")) {\r\n            var visibleColumns = this._columnsController.getVisibleColumns();\r\n            var useVisibleColumns = visibleColumns.filter(function(column) {\r\n                return !column.width\r\n            }).length;\r\n            if (useVisibleColumns) {\r\n                columns = visibleColumns\r\n            }\r\n        }\r\n        return this.callBase(columns)\r\n    },\r\n    _getClientHeight: function(element) {\r\n        var boundingClientRectElement = element.getBoundingClientRect && (0, _position.getBoundingRect)(element);\r\n        return boundingClientRectElement && boundingClientRectElement.height ? boundingClientRectElement.height : element.clientHeight\r\n    },\r\n    synchronizeRows: function() {\r\n        var that = this;\r\n        var rowHeights = [];\r\n        var fixedRowHeights = [];\r\n        var rowIndex;\r\n        var $rowElements;\r\n        var $fixedRowElements;\r\n        var $contentElement;\r\n        if (that._isFixedColumns && that._tableElement && that._fixedTableElement) {\r\n            var heightTable = that._getClientHeight(that._tableElement.get(0));\r\n            var heightFixedTable = that._getClientHeight(that._fixedTableElement.get(0));\r\n            $rowElements = that._getRowElements(that._tableElement);\r\n            $fixedRowElements = that._getRowElements(that._fixedTableElement);\r\n            $contentElement = that._findContentElement();\r\n            if (heightTable !== heightFixedTable) {\r\n                $contentElement && $contentElement.css(\"height\", heightTable);\r\n                $rowElements.css(\"height\", \"\");\r\n                $fixedRowElements.css(\"height\", \"\");\r\n                for (rowIndex = 0; rowIndex < $rowElements.length; rowIndex++) {\r\n                    rowHeights.push(that._getClientHeight($rowElements.get(rowIndex)));\r\n                    fixedRowHeights.push(that._getClientHeight($fixedRowElements.get(rowIndex)))\r\n                }\r\n                for (rowIndex = 0; rowIndex < $rowElements.length; rowIndex++) {\r\n                    var rowHeight = rowHeights[rowIndex];\r\n                    var fixedRowHeight = fixedRowHeights[rowIndex];\r\n                    if (rowHeight > fixedRowHeight) {\r\n                        $fixedRowElements.eq(rowIndex).css(\"height\", rowHeight)\r\n                    } else {\r\n                        if (rowHeight < fixedRowHeight) {\r\n                            $rowElements.eq(rowIndex).css(\"height\", fixedRowHeight)\r\n                        }\r\n                    }\r\n                }\r\n                $contentElement && $contentElement.css(\"height\", \"\")\r\n            }\r\n        }\r\n    },\r\n    setScrollerSpacing: function(width) {\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        this.callBase(width);\r\n        this.element().children(\".\" + this.addWidgetPrefix(CONTENT_FIXED_CLASS)).css({\r\n            paddingLeft: rtlEnabled ? width : \"\",\r\n            paddingRight: !rtlEnabled ? width : \"\"\r\n        })\r\n    }\r\n};\r\nvar ColumnHeadersViewFixedColumnsExtender = (0, _extend.extend)({}, baseFixedColumns, {\r\n    _getRowVisibleColumns: function(rowIndex) {\r\n        if (this._isFixedTableRendering) {\r\n            return this.getFixedColumns(rowIndex)\r\n        }\r\n        return this.callBase(rowIndex)\r\n    },\r\n    getContextMenuItems: function(options) {\r\n        var that = this;\r\n        var column = options.column;\r\n        var columnFixingOptions = that.option(\"columnFixing\");\r\n        var items = that.callBase(options);\r\n        if (options.row && \"header\" === options.row.rowType) {\r\n            if (column && column.allowFixing) {\r\n                var onItemClick = function(params) {\r\n                    switch (params.itemData.value) {\r\n                        case \"none\":\r\n                            that._columnsController.columnOption(column.index, \"fixed\", false);\r\n                            break;\r\n                        case \"left\":\r\n                            that._columnsController.columnOption(column.index, {\r\n                                fixed: true,\r\n                                fixedPosition: \"left\"\r\n                            });\r\n                            break;\r\n                        case \"right\":\r\n                            that._columnsController.columnOption(column.index, {\r\n                                fixed: true,\r\n                                fixedPosition: \"right\"\r\n                            })\r\n                    }\r\n                };\r\n                items = items || [];\r\n                items.push({\r\n                    text: columnFixingOptions.texts.fix,\r\n                    beginGroup: true,\r\n                    items: [{\r\n                        text: columnFixingOptions.texts.leftPosition,\r\n                        value: \"left\",\r\n                        disabled: column.fixed && (!column.fixedPosition || \"left\" === column.fixedPosition),\r\n                        onItemClick: onItemClick\r\n                    }, {\r\n                        text: columnFixingOptions.texts.rightPosition,\r\n                        value: \"right\",\r\n                        disabled: column.fixed && \"right\" === column.fixedPosition,\r\n                        onItemClick: onItemClick\r\n                    }]\r\n                }, {\r\n                    text: columnFixingOptions.texts.unfix,\r\n                    value: \"none\",\r\n                    disabled: !column.fixed,\r\n                    onItemClick: onItemClick\r\n                })\r\n            }\r\n        }\r\n        return items\r\n    },\r\n    getFixedColumnElements: function(rowIndex) {\r\n        var that = this;\r\n        if ((0, _type.isDefined)(rowIndex)) {\r\n            return this._fixedTableElement && this._getRowElements(this._fixedTableElement).eq(rowIndex).children()\r\n        }\r\n        var columnElements = that.getColumnElements();\r\n        var $transparentColumnElement = that.getTransparentColumnElement();\r\n        if (columnElements && $transparentColumnElement && $transparentColumnElement.length) {\r\n            var transparentColumnIndex = getTransparentColumnIndex(that.getFixedColumns());\r\n            columnElements.splice(transparentColumnIndex, $transparentColumnElement.get(0).colSpan, $transparentColumnElement.get(0))\r\n        }\r\n        return columnElements\r\n    },\r\n    getColumnWidths: function() {\r\n        var that = this;\r\n        var fixedWidths;\r\n        var result = that.callBase();\r\n        var $fixedColumnElements = that.getFixedColumnElements();\r\n        var fixedColumns = that.getFixedColumns();\r\n        if (that._fixedTableElement) {\r\n            if ($fixedColumnElements && $fixedColumnElements.length) {\r\n                fixedWidths = that._getWidths($fixedColumnElements)\r\n            } else {\r\n                fixedWidths = that.callBase(that._fixedTableElement)\r\n            }\r\n        }\r\n        return normalizeColumnWidths(fixedColumns, result, fixedWidths)\r\n    }\r\n});\r\nvar RowsViewFixedColumnsExtender = (0, _extend.extend)({}, baseFixedColumns, {\r\n    _detachHoverEvents: function() {\r\n        this._fixedTableElement && _events_engine.default.off(this._fixedTableElement, \"mouseover mouseout\", \".dx-data-row\");\r\n        this._tableElement && _events_engine.default.off(this._tableElement, \"mouseover mouseout\", \".dx-data-row\")\r\n    },\r\n    _attachHoverEvents: function() {\r\n        var that = this;\r\n        var attachHoverEvent = function($table) {\r\n            _events_engine.default.on($table, \"mouseover mouseout\", \".dx-data-row\", that.createAction(function(args) {\r\n                var event = args.event;\r\n                var rowIndex = that.getRowIndex((0, _renderer.default)(event.target).closest(\".dx-row\"));\r\n                var isHover = \"mouseover\" === event.type;\r\n                if (rowIndex >= 0) {\r\n                    that._tableElement && that._getRowElements(that._tableElement).eq(rowIndex).toggleClass(HOVER_STATE_CLASS, isHover);\r\n                    that._fixedTableElement && that._getRowElements(that._fixedTableElement).eq(rowIndex).toggleClass(HOVER_STATE_CLASS, isHover)\r\n                }\r\n            }))\r\n        };\r\n        if (that._fixedTableElement && that._tableElement) {\r\n            attachHoverEvent(that._fixedTableElement);\r\n            attachHoverEvent(that._tableElement)\r\n        }\r\n    },\r\n    _findContentElement: function() {\r\n        var that = this;\r\n        var $content;\r\n        var scrollTop;\r\n        var contentClass = that.addWidgetPrefix(CONTENT_CLASS);\r\n        var element = that.element();\r\n        var scrollDelay = _browser.default.mozilla ? 60 : 0;\r\n        if (element && that._isFixedTableRendering) {\r\n            $content = element.children(\".\" + contentClass);\r\n            var scrollable = that.getScrollable();\r\n            if (!$content.length && scrollable) {\r\n                $content = (0, _renderer.default)(\"<div>\").addClass(contentClass);\r\n                _events_engine.default.on($content, \"scroll\", function(e) {\r\n                    clearTimeout(that._fixedScrollTimeout);\r\n                    that._fixedScrollTimeout = setTimeout(function() {\r\n                        scrollTop = (0, _renderer.default)(e.target).scrollTop();\r\n                        scrollable.scrollTo({\r\n                            y: scrollTop\r\n                        })\r\n                    }, scrollDelay)\r\n                });\r\n                _events_engine.default.on($content, _wheel.name, function(e) {\r\n                    var $nearestScrollable = (0, _renderer.default)(e.target).closest(\".dx-scrollable\");\r\n                    if (scrollable && scrollable.$element().is($nearestScrollable)) {\r\n                        scrollTop = scrollable.scrollTop();\r\n                        scrollable.scrollTo({\r\n                            y: scrollTop - e.delta\r\n                        });\r\n                        if (scrollable.scrollTop() > 0 && scrollable.scrollTop() + scrollable.clientHeight() < scrollable.scrollHeight() + that.getScrollbarWidth()) {\r\n                            return false\r\n                        }\r\n                    }\r\n                });\r\n                $content.appendTo(element)\r\n            }\r\n            return $content\r\n        }\r\n        return that.callBase()\r\n    },\r\n    _updateScrollable: function() {\r\n        this.callBase();\r\n        var scrollable = this.getScrollable();\r\n        var scrollTop = scrollable && scrollable.scrollOffset().top;\r\n        this._updateFixedTablePosition(scrollTop)\r\n    },\r\n    _renderContent: function(contentElement, tableElement) {\r\n        if (this._isFixedTableRendering) {\r\n            return contentElement.empty().addClass(this.addWidgetPrefix(CONTENT_CLASS) + \" \" + this.addWidgetPrefix(CONTENT_FIXED_CLASS)).append(tableElement)\r\n        }\r\n        return this.callBase(contentElement, tableElement)\r\n    },\r\n    _getGroupCellOptions: function(options) {\r\n        if (this._isFixedTableRendering) {\r\n            return this.callBase((0, _extend.extend)({}, options, {\r\n                columns: this._columnsController.getVisibleColumns()\r\n            }))\r\n        }\r\n        return this.callBase(options)\r\n    },\r\n    _renderGroupedCells: function($row, options) {\r\n        return this.callBase($row, (0, _extend.extend)({}, options, {\r\n            columns: this._columnsController.getVisibleColumns()\r\n        }))\r\n    },\r\n    _renderGroupSummaryCells: function($row, options) {\r\n        if (this._isFixedTableRendering) {\r\n            this.callBase($row, (0, _extend.extend)({}, options, {\r\n                columns: this._columnsController.getVisibleColumns()\r\n            }))\r\n        } else {\r\n            this.callBase($row, options)\r\n        }\r\n    },\r\n    _hasAlignByColumnSummaryItems: function(columnIndex, options) {\r\n        var result = this.callBase.apply(this, arguments);\r\n        var column = options.columns[columnIndex];\r\n        if (options.isFixed) {\r\n            return column.fixed && (result || \"right\" === column.fixedPosition)\r\n        }\r\n        return result && !column.fixed\r\n    },\r\n    _renderGroupSummaryCellsCore: function($groupCell, options, groupCellColSpan, alignByColumnCellCount) {\r\n        var alignByFixedColumnCellCount;\r\n        if (this._isFixedTableRendering) {\r\n            options.isFixed = true;\r\n            alignByFixedColumnCellCount = this._getAlignByColumnCellCount(groupCellColSpan, options);\r\n            options.isFixed = false;\r\n            var startColumnIndex = options.columns.length - alignByFixedColumnCellCount;\r\n            options = (0, _extend.extend)({}, options, {\r\n                columns: this.getFixedColumns()\r\n            });\r\n            var transparentColumnIndex = getTransparentColumnIndex(options.columns);\r\n            if (startColumnIndex < transparentColumnIndex) {\r\n                alignByFixedColumnCellCount -= options.columns[transparentColumnIndex].colspan - 1 || 0;\r\n                groupCellColSpan -= options.columns[transparentColumnIndex].colspan - 1 || 0\r\n            } else {\r\n                if (alignByColumnCellCount > 0) {\r\n                    $groupCell.css(\"visibility\", \"hidden\")\r\n                }\r\n            }\r\n            alignByColumnCellCount = alignByFixedColumnCellCount\r\n        }\r\n        this.callBase($groupCell, options, groupCellColSpan, alignByColumnCellCount)\r\n    },\r\n    _getSummaryCellIndex: function(columnIndex, columns) {\r\n        if (this._isFixedTableRendering) {\r\n            var transparentColumnIndex = getTransparentColumnIndex(columns);\r\n            if (columnIndex > transparentColumnIndex) {\r\n                columnIndex += columns[transparentColumnIndex].colspan - 1\r\n            }\r\n            return columnIndex\r\n        }\r\n        return this.callBase.apply(this, arguments)\r\n    },\r\n    _renderCore: function(change) {\r\n        this._detachHoverEvents();\r\n        this.callBase(change);\r\n        var isFixedColumns = this._isFixedColumns;\r\n        this.element().toggleClass(FIXED_COLUMNS_CLASS, isFixedColumns);\r\n        if (this.option(\"hoverStateEnabled\") && isFixedColumns) {\r\n            this._attachHoverEvents()\r\n        }\r\n    },\r\n    setRowsOpacity: function(columnIndex, value) {\r\n        this.callBase(columnIndex, value);\r\n        var $rows = this._getRowElements(this._fixedTableElement);\r\n        this._setRowsOpacityCore($rows, this.getFixedColumns(), columnIndex, value)\r\n    },\r\n    optionChanged: function(args) {\r\n        var that = this;\r\n        that.callBase(args);\r\n        if (\"hoverStateEnabled\" === args.name && that._isFixedColumns) {\r\n            args.value ? this._attachHoverEvents() : this._detachHoverEvents()\r\n        }\r\n    },\r\n    getCellIndex: function($cell) {\r\n        var $fixedTable = this._fixedTableElement;\r\n        var cellIndex = 0;\r\n        if ($fixedTable && $cell.is(\"td\") && $cell.closest($fixedTable).length) {\r\n            var columns = this.getFixedColumns();\r\n            (0, _iterator.each)(columns, function(index, column) {\r\n                if (index === $cell[0].cellIndex) {\r\n                    return false\r\n                }\r\n                if (column.colspan) {\r\n                    cellIndex += column.colspan;\r\n                    return\r\n                }\r\n                cellIndex++\r\n            });\r\n            return cellIndex\r\n        }\r\n        return this.callBase.apply(this, arguments)\r\n    },\r\n    _updateFixedTablePosition: function(scrollTop, needFocus) {\r\n        if (this._fixedTableElement && this._tableElement) {\r\n            var $focusedElement;\r\n            var editorFactory = this.getController(\"editorFactory\");\r\n            this._fixedTableElement.parent().scrollTop(scrollTop);\r\n            if (needFocus && editorFactory) {\r\n                $focusedElement = editorFactory.focus();\r\n                $focusedElement && editorFactory.focus($focusedElement)\r\n            }\r\n        }\r\n    },\r\n    setScrollerSpacing: function(vWidth, hWidth) {\r\n        var that = this;\r\n        var styles = {\r\n            marginBottom: 0\r\n        };\r\n        var $fixedContent = that.element().children(\".\" + this.addWidgetPrefix(CONTENT_FIXED_CLASS));\r\n        if ($fixedContent.length && that._fixedTableElement) {\r\n            $fixedContent.css(styles);\r\n            that._fixedTableElement.css(styles);\r\n            styles[that.option(\"rtlEnabled\") ? \"marginLeft\" : \"marginRight\"] = vWidth;\r\n            styles.marginBottom = hWidth;\r\n            var useNativeScrolling = that._scrollable && that._scrollable.option(\"useNative\");\r\n            (useNativeScrolling ? $fixedContent : that._fixedTableElement).css(styles)\r\n        }\r\n    },\r\n    _getElasticScrollTop: function(e) {\r\n        var elasticScrollTop = 0;\r\n        var scrollbarWidth = this.getScrollbarWidth(true);\r\n        if (e.scrollOffset.top < 0) {\r\n            elasticScrollTop = -e.scrollOffset.top\r\n        } else {\r\n            if (e.reachedBottom) {\r\n                var scrollableContent = this._findContentElement();\r\n                var scrollableContainer = e.component._container();\r\n                var maxScrollTop = Math.max(scrollableContent.height() + scrollbarWidth - scrollableContainer.height(), 0);\r\n                elasticScrollTop = maxScrollTop - e.scrollOffset.top\r\n            }\r\n        }\r\n        return elasticScrollTop\r\n    },\r\n    _applyElasticScrolling: function(e) {\r\n        if (this._fixedTableElement) {\r\n            var elasticScrollTop = this._getElasticScrollTop(e);\r\n            if (0 !== Math.ceil(elasticScrollTop)) {\r\n                (0, _translator.move)(this._fixedTableElement, {\r\n                    top: elasticScrollTop\r\n                })\r\n            } else {\r\n                this._fixedTableElement.css(\"transform\", \"\")\r\n            }\r\n        }\r\n    },\r\n    _handleScroll: function(e) {\r\n        this._updateFixedTablePosition(e.scrollOffset.top, true);\r\n        this._applyElasticScrolling(e);\r\n        this.callBase(e)\r\n    },\r\n    _updateContentPosition: function(isRender) {\r\n        this.callBase.apply(this, arguments);\r\n        if (!isRender) {\r\n            this._updateFixedTablePosition(this._scrollTop)\r\n        }\r\n    },\r\n    _afterRowPrepared: function(e) {\r\n        if (this._isFixedTableRendering) {\r\n            return\r\n        }\r\n        this.callBase(e)\r\n    },\r\n    _scrollToElement: function($element) {\r\n        this.callBase($element, this.getFixedColumnsOffset())\r\n    },\r\n    dispose: function() {\r\n        this.callBase.apply(this, arguments);\r\n        clearTimeout(this._fixedScrollTimeout)\r\n    }\r\n});\r\nvar FooterViewFixedColumnsExtender = baseFixedColumns;\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            columnFixing: {\r\n                enabled: false,\r\n                texts: {\r\n                    fix: _message.default.format(\"dxDataGrid-columnFixingFix\"),\r\n                    unfix: _message.default.format(\"dxDataGrid-columnFixingUnfix\"),\r\n                    leftPosition: _message.default.format(\"dxDataGrid-columnFixingLeftPosition\"),\r\n                    rightPosition: _message.default.format(\"dxDataGrid-columnFixingRightPosition\")\r\n                }\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        views: {\r\n            columnHeadersView: ColumnHeadersViewFixedColumnsExtender,\r\n            rowsView: RowsViewFixedColumnsExtender,\r\n            footerView: FooterViewFixedColumnsExtender\r\n        },\r\n        controllers: function() {\r\n            var normalizeColumnIndicesByPoints = function(columns, fixedColumns, pointsByColumns) {\r\n                var transparentColumnIndex = getTransparentColumnIndex(fixedColumns);\r\n                var correctIndex = columns.length - fixedColumns.length;\r\n                (0, _iterator.each)(pointsByColumns, function(_, point) {\r\n                    if (point.index > transparentColumnIndex) {\r\n                        point.columnIndex += correctIndex;\r\n                        point.index += correctIndex\r\n                    }\r\n                });\r\n                return pointsByColumns\r\n            };\r\n            return {\r\n                draggingHeader: {\r\n                    _generatePointsByColumns: function(options) {\r\n                        var visibleColumns = options.columns;\r\n                        var targetDraggingPanel = options.targetDraggingPanel;\r\n                        if (targetDraggingPanel && \"headers\" === targetDraggingPanel.getName() && targetDraggingPanel.isFixedColumns()) {\r\n                            if (options.sourceColumn.fixed) {\r\n                                if (!options.rowIndex) {\r\n                                    options.columnElements = targetDraggingPanel.getFixedColumnElements(0)\r\n                                }\r\n                                options.columns = targetDraggingPanel.getFixedColumns(options.rowIndex);\r\n                                var pointsByColumns = this.callBase(options);\r\n                                normalizeColumnIndicesByPoints(visibleColumns, options.columns, pointsByColumns);\r\n                                return pointsByColumns\r\n                            }\r\n                        }\r\n                        return this.callBase(options)\r\n                    },\r\n                    _pointCreated: function(point, columns, location, sourceColumn) {\r\n                        var result = this.callBase.apply(this, arguments);\r\n                        var $transparentColumn = this._columnHeadersView.getTransparentColumnElement();\r\n                        if (!result && \"headers\" === location && $transparentColumn && $transparentColumn.length) {\r\n                            var boundingRect = (0, _position.getBoundingRect)($transparentColumn.get(0));\r\n                            if (sourceColumn && sourceColumn.fixed) {\r\n                                return \"right\" === sourceColumn.fixedPosition ? point.x < boundingRect.right : point.x > boundingRect.left\r\n                            } else {\r\n                                return point.x < boundingRect.left || point.x > boundingRect.right\r\n                            }\r\n                        }\r\n                        return result\r\n                    }\r\n                },\r\n                columnsResizer: {\r\n                    _generatePointsByColumns: function() {\r\n                        var that = this;\r\n                        var columnsController = that._columnsController;\r\n                        var columns = columnsController && that._columnsController.getVisibleColumns();\r\n                        var fixedColumns = columnsController && that._columnsController.getFixedColumns();\r\n                        var cells = that._columnHeadersView.getFixedColumnElements();\r\n                        var pointsByFixedColumns = [];\r\n                        that.callBase();\r\n                        if (cells && cells.length > 0) {\r\n                            pointsByFixedColumns = _uiGrid_core.default.getPointsByColumns(cells, function(point) {\r\n                                return that._pointCreated(point, cells.length, fixedColumns)\r\n                            });\r\n                            that._pointsByFixedColumns = normalizeColumnIndicesByPoints(columns, fixedColumns, pointsByFixedColumns)\r\n                        }\r\n                    },\r\n                    _pointCreated: function(point, cellsLength, columns) {\r\n                        var isWidgetResizingMode = \"widget\" === this.option(\"columnResizingMode\");\r\n                        if (point.index > 0 && point.index < cellsLength) {\r\n                            var currentColumn = columns[point.columnIndex - 1] || {};\r\n                            var nextColumn = columns[point.columnIndex] || {};\r\n                            if (currentColumn.fixed || nextColumn.fixed) {\r\n                                point.columnIndex -= 1;\r\n                                return !((currentColumn.allowResizing || currentColumn.command === COMMAND_TRANSPARENT) && (isWidgetResizingMode || nextColumn.allowResizing || nextColumn.command === COMMAND_TRANSPARENT))\r\n                            }\r\n                        }\r\n                        return this.callBase.apply(this, arguments)\r\n                    },\r\n                    _getTargetPoint: function(pointsByColumns, currentX, deltaX) {\r\n                        var $transparentColumn = this._columnHeadersView.getTransparentColumnElement();\r\n                        if ($transparentColumn && $transparentColumn.length) {\r\n                            var boundingRect = (0, _position.getBoundingRect)($transparentColumn.get(0));\r\n                            if (currentX <= boundingRect.left || currentX >= boundingRect.right) {\r\n                                return this.callBase(this._pointsByFixedColumns, currentX, deltaX)\r\n                            }\r\n                        }\r\n                        return this.callBase(pointsByColumns, currentX, deltaX)\r\n                    }\r\n                }\r\n            }\r\n        }()\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.adaptivity.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.adaptivity\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"adaptivity\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.adaptivity.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _index = require(\"../../events/utils/index\");\r\nvar _click = require(\"../../events/click\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _browser = _interopRequireDefault(require(\"../../core/utils/browser\"));\r\nvar _guid = _interopRequireDefault(require(\"../../core/guid\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _form = _interopRequireDefault(require(\"../form\"));\r\nvar _uiGrid_core2 = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\nvar _themes = require(\"../themes\");\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar COLUMN_HEADERS_VIEW = \"columnHeadersView\";\r\nvar ROWS_VIEW = \"rowsView\";\r\nvar FOOTER_VIEW = \"footerView\";\r\nvar COLUMN_VIEWS = [COLUMN_HEADERS_VIEW, ROWS_VIEW, FOOTER_VIEW];\r\nvar ADAPTIVE_NAMESPACE = \"dxDataGridAdaptivity\";\r\nvar HIDDEN_COLUMNS_WIDTH = \"adaptiveHidden\";\r\nvar ADAPTIVE_ROW_TYPE = \"detailAdaptive\";\r\nvar FORM_ITEM_CONTENT_CLASS = \"dx-field-item-content\";\r\nvar FORM_ITEM_MODIFIED = \"dx-item-modified\";\r\nvar HIDDEN_COLUMN_CLASS = \"hidden-column\";\r\nvar ADAPTIVE_COLUMN_BUTTON_CLASS = \"adaptive-more\";\r\nvar ADAPTIVE_COLUMN_NAME_CLASS = \"dx-command-adaptive\";\r\nvar COMMAND_ADAPTIVE_HIDDEN_CLASS = \"dx-command-adaptive-hidden\";\r\nvar ADAPTIVE_DETAIL_ROW_CLASS = \"dx-adaptive-detail-row\";\r\nvar ADAPTIVE_ITEM_TEXT_CLASS = \"dx-adaptive-item-text\";\r\nvar MASTER_DETAIL_CELL_CLASS = \"dx-master-detail-cell\";\r\nvar LAST_DATA_CELL_CLASS = \"dx-last-data-cell\";\r\nvar ADAPTIVE_COLUMN_NAME = \"adaptive\";\r\nvar EDIT_MODE_BATCH = \"batch\";\r\nvar EDIT_MODE_ROW = \"row\";\r\nvar EDIT_MODE_FORM = \"form\";\r\nvar EDIT_MODE_POPUP = \"popup\";\r\nvar REVERT_TOOLTIP_CLASS = \"revert-tooltip\";\r\nvar GROUP_CELL_CLASS = \"dx-group-cell\";\r\nvar GROUP_ROW_CLASS = \"dx-group-row\";\r\n\r\nfunction getColumnId(that, column) {\r\n    return that._columnsController.getColumnId(column)\r\n}\r\n\r\nfunction getDataCellElements($row) {\r\n    return $row.find(\"td:not(.dx-datagrid-hidden-column):not([class*='dx-command-'])\")\r\n}\r\n\r\nfunction adaptiveCellTemplate(container, options) {\r\n    var $adaptiveColumnButton;\r\n    var $container = (0, _renderer.default)(container);\r\n    var adaptiveColumnsController = options.component.getController(\"adaptiveColumns\");\r\n    if (\"data\" === options.rowType) {\r\n        $adaptiveColumnButton = (0, _renderer.default)(\"<span>\").addClass(adaptiveColumnsController.addWidgetPrefix(ADAPTIVE_COLUMN_BUTTON_CLASS));\r\n        _events_engine.default.on($adaptiveColumnButton, (0, _index.addNamespace)(_click.name, ADAPTIVE_NAMESPACE), adaptiveColumnsController.createAction(function() {\r\n            adaptiveColumnsController.toggleExpandAdaptiveDetailRow(options.key)\r\n        }));\r\n        $adaptiveColumnButton.appendTo($container)\r\n    } else {\r\n        _uiGrid_core2.default.setEmptyText($container)\r\n    }\r\n}\r\nvar AdaptiveColumnsController = _uiGrid_core.default.ViewController.inherit({\r\n    _isRowEditMode: function() {\r\n        var editMode = this._getEditMode();\r\n        return editMode === EDIT_MODE_ROW\r\n    },\r\n    _isItemModified: function(item, cellOptions) {\r\n        var columnIndex = this._columnsController.getVisibleIndex(item.column.index);\r\n        var rowIndex = this._dataController.getRowIndexByKey(cellOptions.key);\r\n        var row = this._dataController.items()[rowIndex + 1];\r\n        return row && row.modifiedValues && (0, _type.isDefined)(row.modifiedValues[columnIndex])\r\n    },\r\n    _renderFormViewTemplate: function(item, cellOptions, $container) {\r\n        var that = this;\r\n        var column = item.column;\r\n        var focusAction = that.createAction(function() {\r\n            _events_engine.default.trigger($container, _click.name)\r\n        });\r\n        var value = column.calculateCellValue(cellOptions.data);\r\n        var displayValue = _uiGrid_core2.default.getDisplayValue(column, value, cellOptions.data, cellOptions.rowType);\r\n        var text = _uiGrid_core2.default.formatValue(displayValue, column);\r\n        var isCellOrBatchEditMode = this._editingController.isCellOrBatchEditMode();\r\n        var rowsView = that._rowsView;\r\n        if (column.allowEditing && that.getController(\"keyboardNavigation\").isKeyboardEnabled()) {\r\n            $container.attr(\"tabIndex\", that.option(\"tabIndex\"));\r\n            if (isCellOrBatchEditMode) {\r\n                _events_engine.default.off($container, \"focus\", focusAction);\r\n                _events_engine.default.on($container, \"focus\", focusAction)\r\n            }\r\n        }\r\n        if (column.cellTemplate) {\r\n            var templateOptions = (0, _extend.extend)({}, cellOptions, {\r\n                value: value,\r\n                displayValue: displayValue,\r\n                text: text,\r\n                column: column\r\n            });\r\n            var isDomElement = !!$container.closest((0, _window.getWindow)().document).length;\r\n            rowsView.renderTemplate($container, column.cellTemplate, templateOptions, isDomElement).done(function() {\r\n                rowsView._cellPrepared($container, cellOptions)\r\n            })\r\n        } else {\r\n            var container = $container.get(0);\r\n            if (column.encodeHtml) {\r\n                container.textContent = text\r\n            } else {\r\n                container.innerHTML = text\r\n            }\r\n            $container.addClass(ADAPTIVE_ITEM_TEXT_CLASS);\r\n            if (!(0, _type.isDefined)(text) || \"\" === text) {\r\n                $container.html(\"&nbsp;\")\r\n            }\r\n            if (!that._isRowEditMode()) {\r\n                if (that._isItemModified(item, cellOptions)) {\r\n                    $container.addClass(FORM_ITEM_MODIFIED)\r\n                }\r\n            }\r\n            rowsView._cellPrepared($container, cellOptions)\r\n        }\r\n    },\r\n    _getTemplate: function(item, cellOptions) {\r\n        var that = this;\r\n        var column = item.column;\r\n        var editingController = this.getController(\"editing\");\r\n        return function(options, container) {\r\n            var $container = (0, _renderer.default)(container);\r\n            var columnIndex = that._columnsController.getVisibleIndex(column.visibleIndex);\r\n            var templateOptions = (0, _extend.extend)({}, cellOptions);\r\n            var renderFormTemplate = function() {\r\n                var isItemEdited = that._isItemEdited(item);\r\n                templateOptions.value = cellOptions.row.values[columnIndex];\r\n                if (isItemEdited || column.showEditorAlways) {\r\n                    editingController.renderFormEditTemplate(templateOptions, item, options.component, $container, !isItemEdited)\r\n                } else {\r\n                    templateOptions.column = column;\r\n                    templateOptions.columnIndex = columnIndex;\r\n                    that._renderFormViewTemplate(item, templateOptions, $container)\r\n                }\r\n            };\r\n            renderFormTemplate();\r\n            templateOptions.watch && templateOptions.watch(function() {\r\n                return {\r\n                    isItemEdited: that._isItemEdited(item),\r\n                    value: cellOptions.row.values[columnIndex]\r\n                }\r\n            }, function() {\r\n                $container.contents().remove();\r\n                $container.removeClass(ADAPTIVE_ITEM_TEXT_CLASS);\r\n                renderFormTemplate()\r\n            })\r\n        }\r\n    },\r\n    _isVisibleColumnsValid: function(visibleColumns) {\r\n        var getCommandColumnsCount = function() {\r\n            var result = 0;\r\n            for (var j = 0; j < visibleColumns.length; j++) {\r\n                var visibleColumn = visibleColumns[j];\r\n                if (visibleColumn.command) {\r\n                    result++\r\n                }\r\n            }\r\n            return result\r\n        };\r\n        if (visibleColumns < 2) {\r\n            return false\r\n        }\r\n        if (visibleColumns.length - getCommandColumnsCount() <= 1) {\r\n            return false\r\n        }\r\n        return true\r\n    },\r\n    _calculatePercentWidths: function(widths, visibleColumns) {\r\n        var that = this;\r\n        var percentWidths = 0;\r\n        visibleColumns.forEach(function(item, index) {\r\n            if (widths[index] !== HIDDEN_COLUMNS_WIDTH) {\r\n                percentWidths += that._getItemPercentWidth(item)\r\n            }\r\n        });\r\n        return percentWidths\r\n    },\r\n    _isPercentWidth: function(width) {\r\n        return (0, _type.isString)(width) && \"%\" === width.slice(-1)\r\n    },\r\n    _isColumnHidden: function(column) {\r\n        return this._hiddenColumns.filter(function(hiddenColumn) {\r\n            return hiddenColumn.index === column.index\r\n        }).length > 0\r\n    },\r\n    _getAverageColumnsWidth: function(containerWidth, columns, columnsCanFit) {\r\n        var that = this;\r\n        var fixedColumnsWidth = 0;\r\n        var columnsWithoutFixedWidthCount = 0;\r\n        columns.forEach(function(column) {\r\n            if (!that._isColumnHidden(column)) {\r\n                var width = column.width;\r\n                if ((0, _type.isDefined)(width) && !isNaN(parseFloat(width))) {\r\n                    fixedColumnsWidth += that._isPercentWidth(width) ? that._calculatePercentWidth({\r\n                        visibleIndex: column.visibleIndex,\r\n                        columnsCount: columns.length,\r\n                        columnsCanFit: columnsCanFit,\r\n                        bestFitWidth: column.bestFitWidth,\r\n                        columnWidth: width,\r\n                        containerWidth: containerWidth\r\n                    }) : parseFloat(width)\r\n                } else {\r\n                    columnsWithoutFixedWidthCount++\r\n                }\r\n            }\r\n        });\r\n        return (containerWidth - fixedColumnsWidth) / columnsWithoutFixedWidthCount\r\n    },\r\n    _calculateColumnWidth: function(column, containerWidth, contentColumns, columnsCanFit) {\r\n        var columnId = getColumnId(this, column);\r\n        var widthOption = this._columnsController.columnOption(columnId, \"width\");\r\n        var bestFitWidth = this._columnsController.columnOption(columnId, \"bestFitWidth\");\r\n        var columnsCount = contentColumns.length;\r\n        var colWidth;\r\n        if (widthOption && \"auto\" !== widthOption) {\r\n            if (this._isPercentWidth(widthOption)) {\r\n                colWidth = this._calculatePercentWidth({\r\n                    visibleIndex: column.visibleIndex,\r\n                    columnsCount: columnsCount,\r\n                    columnsCanFit: columnsCanFit,\r\n                    bestFitWidth: bestFitWidth,\r\n                    columnWidth: widthOption,\r\n                    containerWidth: containerWidth\r\n                })\r\n            } else {\r\n                return widthOption\r\n            }\r\n        } else {\r\n            var columnAutoWidth = this.option(\"columnAutoWidth\");\r\n            colWidth = columnAutoWidth || !!column.command ? bestFitWidth : this._getAverageColumnsWidth(containerWidth, contentColumns, columnsCanFit)\r\n        }\r\n        return colWidth\r\n    },\r\n    _calculatePercentWidth: function(options) {\r\n        var columnFitted = options.visibleIndex < options.columnsCount - 1 && options.columnsCanFit;\r\n        var partialWidth = options.containerWidth * parseFloat(options.columnWidth) / 100;\r\n        var resultWidth = options.columnsCanFit && partialWidth < options.bestFitWidth ? options.bestFitWidth : partialWidth;\r\n        return columnFitted ? options.containerWidth * parseFloat(options.columnWidth) / 100 : resultWidth\r\n    },\r\n    _getNotTruncatedColumnWidth: function(column, containerWidth, contentColumns, columnsCanFit) {\r\n        var columnId = getColumnId(this, column);\r\n        var widthOption = this._columnsController.columnOption(columnId, \"width\");\r\n        var bestFitWidth = this._columnsController.columnOption(columnId, \"bestFitWidth\");\r\n        if (widthOption && \"auto\" !== widthOption && !this._isPercentWidth(widthOption)) {\r\n            return parseFloat(widthOption)\r\n        }\r\n        var colWidth = this._calculateColumnWidth(column, containerWidth, contentColumns, columnsCanFit);\r\n        return colWidth < bestFitWidth ? null : colWidth\r\n    },\r\n    _getItemPercentWidth: function(item) {\r\n        var result = 0;\r\n        if (item.width && this._isPercentWidth(item.width)) {\r\n            result = parseFloat(item.width)\r\n        }\r\n        return result\r\n    },\r\n    _getCommandColumnsWidth: function() {\r\n        var that = this;\r\n        var columns = that._columnsController.getVisibleColumns();\r\n        var colWidth = 0;\r\n        (0, _iterator.each)(columns, function(index, column) {\r\n            if (column.index < 0 || column.command) {\r\n                colWidth += that._columnsController.columnOption(getColumnId(that, column), \"bestFitWidth\") || 0\r\n            }\r\n        });\r\n        return colWidth\r\n    },\r\n    _isItemEdited: function(item) {\r\n        if (this.isFormEditMode()) {\r\n            return false\r\n        }\r\n        if (this._isRowEditMode()) {\r\n            var editRowKey = this.option(\"editing.editRowKey\");\r\n            if ((0, _common.equalByValue)(editRowKey, this._dataController.adaptiveExpandedKey())) {\r\n                return true\r\n            }\r\n        } else {\r\n            var rowIndex = this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey()) + 1;\r\n            var columnIndex = this._columnsController.getVisibleIndex(item.column.index);\r\n            return this._editingController.isEditCell(rowIndex, columnIndex)\r\n        }\r\n    },\r\n    _getFormItemsByHiddenColumns: function(hiddenColumns) {\r\n        var items = [];\r\n        (0, _iterator.each)(hiddenColumns, function(_, column) {\r\n            items.push({\r\n                column: column,\r\n                name: column.name,\r\n                dataField: column.dataField,\r\n                visibleIndex: column.visibleIndex\r\n            })\r\n        });\r\n        return items\r\n    },\r\n    _getAdaptiveColumnVisibleIndex: function(visibleColumns) {\r\n        for (var i = 0; i < visibleColumns.length; i++) {\r\n            var column = visibleColumns[i];\r\n            if (column.command === ADAPTIVE_COLUMN_NAME) {\r\n                return i\r\n            }\r\n        }\r\n    },\r\n    _hideAdaptiveColumn: function(resultWidths, visibleColumns) {\r\n        var visibleIndex = this._getAdaptiveColumnVisibleIndex(visibleColumns);\r\n        if ((0, _type.isDefined)(visibleIndex)) {\r\n            resultWidths[visibleIndex] = HIDDEN_COLUMNS_WIDTH;\r\n            this._hideVisibleColumn({\r\n                isCommandColumn: true,\r\n                visibleIndex: visibleIndex\r\n            })\r\n        }\r\n    },\r\n    _showHiddenCellsInView: function(_ref) {\r\n        var $cells = _ref.$cells,\r\n            isCommandColumn = _ref.isCommandColumn;\r\n        var cssClassNameToRemove = isCommandColumn ? COMMAND_ADAPTIVE_HIDDEN_CLASS : this.addWidgetPrefix(HIDDEN_COLUMN_CLASS);\r\n        $cells.removeClass(cssClassNameToRemove)\r\n    },\r\n    _showHiddenColumns: function() {\r\n        for (var i = 0; i < COLUMN_VIEWS.length; i++) {\r\n            var view = this.getView(COLUMN_VIEWS[i]);\r\n            if (view && view.isVisible() && view.element()) {\r\n                var viewName = view.name;\r\n                var $hiddenCommandCells = view.element().find(\".\" + COMMAND_ADAPTIVE_HIDDEN_CLASS);\r\n                this._showHiddenCellsInView({\r\n                    viewName: viewName,\r\n                    $cells: $hiddenCommandCells,\r\n                    isCommandColumn: true\r\n                });\r\n                var $hiddenCells = view.element().find(\".\" + this.addWidgetPrefix(HIDDEN_COLUMN_CLASS));\r\n                this._showHiddenCellsInView({\r\n                    viewName: viewName,\r\n                    $cells: $hiddenCells\r\n                })\r\n            }\r\n        }\r\n    },\r\n    _isCellValid: function($cell) {\r\n        return $cell && $cell.length && !$cell.hasClass(MASTER_DETAIL_CELL_CLASS) && !$cell.hasClass(GROUP_CELL_CLASS)\r\n    },\r\n    _hideVisibleColumn: function(_ref2) {\r\n        var isCommandColumn = _ref2.isCommandColumn,\r\n            visibleIndex = _ref2.visibleIndex;\r\n        var that = this;\r\n        COLUMN_VIEWS.forEach(function(viewName) {\r\n            var view = that.getView(viewName);\r\n            view && that._hideVisibleColumnInView({\r\n                view: view,\r\n                isCommandColumn: isCommandColumn,\r\n                visibleIndex: visibleIndex\r\n            })\r\n        })\r\n    },\r\n    _hideVisibleColumnInView: function(_ref3) {\r\n        var view = _ref3.view,\r\n            isCommandColumn = _ref3.isCommandColumn,\r\n            visibleIndex = _ref3.visibleIndex;\r\n        var viewName = view.name;\r\n        var $cellElement;\r\n        var column = this._columnsController.getVisibleColumns()[visibleIndex];\r\n        var editFormRowIndex = this._editingController && this._editingController.getEditFormRowIndex();\r\n        if (view && view.isVisible() && column) {\r\n            var rowsCount = view.getRowsCount();\r\n            var $rowElements = view._getRowElements();\r\n            for (var rowIndex = 0; rowIndex < rowsCount; rowIndex++) {\r\n                var cancelClassAdding = rowIndex === editFormRowIndex && viewName === ROWS_VIEW && \"popup\" !== this.option(\"editing.mode\");\r\n                if (!cancelClassAdding) {\r\n                    var currentVisibleIndex = viewName === COLUMN_HEADERS_VIEW ? this._columnsController.getVisibleIndex(column.index, rowIndex) : visibleIndex;\r\n                    if (currentVisibleIndex >= 0) {\r\n                        var $rowElement = $rowElements.eq(rowIndex);\r\n                        $cellElement = this._findCellElementInRow($rowElement, currentVisibleIndex);\r\n                        this._isCellValid($cellElement) && this._hideVisibleCellInView({\r\n                            viewName: viewName,\r\n                            isCommandColumn: isCommandColumn,\r\n                            $cell: $cellElement\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _findCellElementInRow: function($rowElement, visibleColumnIndex) {\r\n        var $rowCells = $rowElement.children();\r\n        var visibleIndex = visibleColumnIndex;\r\n        var cellIsInsideGroup = false;\r\n        if ($rowElement.hasClass(GROUP_ROW_CLASS)) {\r\n            var $groupCell = $rowElement.find(\".\".concat(GROUP_CELL_CLASS));\r\n            var colSpan = $groupCell.attr(\"colspan\");\r\n            if ($groupCell.length && (0, _type.isDefined)(colSpan)) {\r\n                var groupCellLength = parseInt(colSpan);\r\n                var endGroupIndex = $groupCell.index() + groupCellLength - 1;\r\n                if (visibleColumnIndex > endGroupIndex) {\r\n                    visibleIndex = visibleColumnIndex - groupCellLength + 1\r\n                } else {\r\n                    cellIsInsideGroup = true\r\n                }\r\n            }\r\n        }\r\n        var $cellElement = !cellIsInsideGroup ? $rowCells.eq(visibleIndex) : void 0;\r\n        return $cellElement\r\n    },\r\n    _hideVisibleCellInView: function(_ref4) {\r\n        var $cell = _ref4.$cell,\r\n            isCommandColumn = _ref4.isCommandColumn;\r\n        var cssClassNameToAdd = isCommandColumn ? COMMAND_ADAPTIVE_HIDDEN_CLASS : this.addWidgetPrefix(HIDDEN_COLUMN_CLASS);\r\n        $cell.addClass(cssClassNameToAdd)\r\n    },\r\n    _getEditMode: function() {\r\n        return this._editingController.getEditMode()\r\n    },\r\n    isFormEditMode: function() {\r\n        var editMode = this._getEditMode();\r\n        return editMode === EDIT_MODE_FORM || editMode === EDIT_MODE_POPUP\r\n    },\r\n    hideRedundantColumns: function(resultWidths, visibleColumns, hiddenQueue) {\r\n        var that = this;\r\n        this._hiddenColumns = [];\r\n        if (that._isVisibleColumnsValid(visibleColumns) && hiddenQueue.length) {\r\n            var totalWidth = 0;\r\n            var $rootElement = that.component.$element();\r\n            var rootElementWidth = $rootElement.width() - that._getCommandColumnsWidth();\r\n            var getVisibleContentColumns = function() {\r\n                var _this = this;\r\n                return visibleColumns.filter(function(item) {\r\n                    return !item.command && 0 === _this._hiddenColumns.filter(function(i) {\r\n                        return i.index === item.index\r\n                    }).length\r\n                })\r\n            }.bind(this);\r\n            var visibleContentColumns = getVisibleContentColumns();\r\n            var contentColumnsCount = visibleContentColumns.length;\r\n            var i;\r\n            var hasHiddenColumns;\r\n            var needHideColumn;\r\n            do {\r\n                needHideColumn = false;\r\n                totalWidth = 0;\r\n                var percentWidths = that._calculatePercentWidths(resultWidths, visibleColumns);\r\n                var columnsCanFit = percentWidths < 100 && 0 !== percentWidths;\r\n                for (i = 0; i < visibleColumns.length; i++) {\r\n                    var visibleColumn = visibleColumns[i];\r\n                    var columnWidth = that._getNotTruncatedColumnWidth(visibleColumn, rootElementWidth, visibleContentColumns, columnsCanFit);\r\n                    var columnId = getColumnId(that, visibleColumn);\r\n                    var widthOption = that._columnsController.columnOption(columnId, \"width\");\r\n                    var minWidth = that._columnsController.columnOption(columnId, \"minWidth\");\r\n                    var columnBestFitWidth = that._columnsController.columnOption(columnId, \"bestFitWidth\");\r\n                    if (resultWidths[i] === HIDDEN_COLUMNS_WIDTH) {\r\n                        hasHiddenColumns = true;\r\n                        continue\r\n                    }\r\n                    if (!columnWidth && !visibleColumn.command && !visibleColumn.fixed) {\r\n                        needHideColumn = true;\r\n                        break\r\n                    }\r\n                    if (!widthOption || \"auto\" === widthOption) {\r\n                        columnWidth = Math.max(columnBestFitWidth || 0, minWidth || 0)\r\n                    }\r\n                    if (visibleColumn.command !== ADAPTIVE_COLUMN_NAME || hasHiddenColumns) {\r\n                        totalWidth += columnWidth\r\n                    }\r\n                }\r\n                needHideColumn = needHideColumn || totalWidth > $rootElement.width();\r\n                if (needHideColumn) {\r\n                    var column = hiddenQueue.pop();\r\n                    var visibleIndex = that._columnsController.getVisibleIndex(column.index);\r\n                    rootElementWidth += that._calculateColumnWidth(column, rootElementWidth, visibleContentColumns, columnsCanFit);\r\n                    that._hideVisibleColumn({\r\n                        visibleIndex: visibleIndex\r\n                    });\r\n                    resultWidths[visibleIndex] = HIDDEN_COLUMNS_WIDTH;\r\n                    this._hiddenColumns.push(column);\r\n                    visibleContentColumns = getVisibleContentColumns()\r\n                }\r\n            } while (needHideColumn && visibleContentColumns.length > 1 && hiddenQueue.length);\r\n            if (contentColumnsCount === visibleContentColumns.length) {\r\n                that._hideAdaptiveColumn(resultWidths, visibleColumns)\r\n            }\r\n        } else {\r\n            that._hideAdaptiveColumn(resultWidths, visibleColumns)\r\n        }\r\n    },\r\n    getItemContentByColumnIndex: function(visibleColumnIndex) {\r\n        var $itemContent;\r\n        for (var i = 0; i < this._$itemContents.length; i++) {\r\n            $itemContent = this._$itemContents.eq(i);\r\n            var item = $itemContent.data(\"dx-form-item\");\r\n            if (item && item.column && this._columnsController.getVisibleIndex(item.column.index) === visibleColumnIndex) {\r\n                return $itemContent\r\n            }\r\n        }\r\n    },\r\n    toggleExpandAdaptiveDetailRow: function(key, alwaysExpanded) {\r\n        if (!(this.isFormEditMode() && this._editingController.isEditing())) {\r\n            this.getController(\"data\").toggleExpandAdaptiveDetailRow(key, alwaysExpanded)\r\n        }\r\n    },\r\n    createFormByHiddenColumns: function(container, options) {\r\n        var that = this;\r\n        var $container = (0, _renderer.default)(container);\r\n        var userFormOptions = {\r\n            items: that._getFormItemsByHiddenColumns(that._hiddenColumns),\r\n            formID: \"dx-\" + new _guid.default\r\n        };\r\n        var defaultFormOptions = (0, _themes.isMaterial)() ? {\r\n            colCount: 2\r\n        } : {};\r\n        this.executeAction(\"onAdaptiveDetailRowPreparing\", {\r\n            formOptions: userFormOptions\r\n        });\r\n        that._$itemContents = null;\r\n        that._form = that._createComponent((0, _renderer.default)(\"<div>\").appendTo($container), _form.default, (0, _extend.extend)(defaultFormOptions, userFormOptions, {\r\n            customizeItem: function(item) {\r\n                var column = item.column || that._columnsController.columnOption(item.name || item.dataField);\r\n                if (column) {\r\n                    item.label = item.label || {};\r\n                    item.label.text = item.label.text || column.caption;\r\n                    item.column = column;\r\n                    item.template = that._getTemplate(item, options, that.updateForm.bind(that))\r\n                }\r\n                userFormOptions.customizeItem && userFormOptions.customizeItem.call(this, item)\r\n            },\r\n            onContentReady: function(e) {\r\n                userFormOptions.onContentReady && userFormOptions.onContentReady.call(this, e);\r\n                that._$itemContents = $container.find(\".\" + FORM_ITEM_CONTENT_CLASS)\r\n            }\r\n        }))\r\n    },\r\n    hasAdaptiveDetailRowExpanded: function() {\r\n        return (0, _type.isDefined)(this._dataController.adaptiveExpandedKey())\r\n    },\r\n    updateForm: function(hiddenColumns) {\r\n        if (this.hasAdaptiveDetailRowExpanded()) {\r\n            if (this._form && (0, _type.isDefined)(this._form._contentReadyAction)) {\r\n                if (hiddenColumns && hiddenColumns.length) {\r\n                    this._form.option(\"items\", this._getFormItemsByHiddenColumns(hiddenColumns))\r\n                } else {\r\n                    this._form.repaint()\r\n                }\r\n            }\r\n        }\r\n    },\r\n    updateHidingQueue: function(columns) {\r\n        var that = this;\r\n        var hideableColumns = columns.filter(function(column) {\r\n            return column.visible && !column.type && !column.fixed && !((0, _type.isDefined)(column.groupIndex) && column.groupIndex >= 0)\r\n        });\r\n        var columnsHasHidingPriority;\r\n        var i;\r\n        that._hidingColumnsQueue = [];\r\n        if (that.option(\"allowColumnResizing\") && \"widget\" === that.option(\"columnResizingMode\")) {\r\n            return that._hidingColumnsQueue\r\n        }\r\n        for (i = 0; i < hideableColumns.length; i++) {\r\n            if ((0, _type.isDefined)(hideableColumns[i].hidingPriority) && hideableColumns[i].hidingPriority >= 0) {\r\n                columnsHasHidingPriority = true;\r\n                that._hidingColumnsQueue[hideableColumns[i].hidingPriority] = hideableColumns[i]\r\n            }\r\n        }\r\n        if (columnsHasHidingPriority) {\r\n            that._hidingColumnsQueue.reverse()\r\n        } else {\r\n            if (that.option(\"columnHidingEnabled\")) {\r\n                for (i = 0; i < hideableColumns.length; i++) {\r\n                    var visibleIndex = that._columnsController.getVisibleIndex(hideableColumns[i].index);\r\n                    that._hidingColumnsQueue[visibleIndex] = hideableColumns[i]\r\n                }\r\n            }\r\n        }\r\n        that._hidingColumnsQueue = that._hidingColumnsQueue.filter(Object);\r\n        return that._hidingColumnsQueue\r\n    },\r\n    getHiddenColumns: function() {\r\n        return this._hiddenColumns\r\n    },\r\n    hasHiddenColumns: function() {\r\n        return this._hiddenColumns.length > 0\r\n    },\r\n    getHidingColumnsQueue: function() {\r\n        return this._hidingColumnsQueue\r\n    },\r\n    init: function() {\r\n        var that = this;\r\n        that._columnsController = that.getController(\"columns\");\r\n        that._dataController = that.getController(\"data\");\r\n        that._rowsView = that.getView(\"rowsView\");\r\n        that._columnsController.addCommandColumn({\r\n            type: ADAPTIVE_COLUMN_NAME,\r\n            command: ADAPTIVE_COLUMN_NAME,\r\n            visible: true,\r\n            adaptiveHidden: true,\r\n            cssClass: ADAPTIVE_COLUMN_NAME_CLASS,\r\n            alignment: \"center\",\r\n            width: \"auto\",\r\n            cellTemplate: adaptiveCellTemplate,\r\n            fixedPosition: \"right\"\r\n        });\r\n        that._columnsController.columnsChanged.add(function() {\r\n            var isAdaptiveVisible = !!that.updateHidingQueue(that._columnsController.getColumns()).length;\r\n            that._columnsController.columnOption(\"command:adaptive\", \"adaptiveHidden\", !isAdaptiveVisible, true)\r\n        });\r\n        that._editingController = that.getController(\"editing\");\r\n        that._hidingColumnsQueue = [];\r\n        that._hiddenColumns = [];\r\n        that.createAction(\"onAdaptiveDetailRowPreparing\");\r\n        that.callBase()\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"columnHidingEnabled\" === args.name) {\r\n            this._columnsController.columnOption(\"command:adaptive\", \"adaptiveHidden\", !args.value)\r\n        }\r\n        this.callBase(args)\r\n    },\r\n    publicMethods: function() {\r\n        return [\"isAdaptiveDetailRowExpanded\", \"expandAdaptiveDetailRow\", \"collapseAdaptiveDetailRow\"]\r\n    },\r\n    isAdaptiveDetailRowExpanded: function(key) {\r\n        return this._dataController.adaptiveExpandedKey() && (0, _common.equalByValue)(this._dataController.adaptiveExpandedKey(), key)\r\n    },\r\n    expandAdaptiveDetailRow: function(key) {\r\n        if (!this.hasAdaptiveDetailRowExpanded()) {\r\n            this.toggleExpandAdaptiveDetailRow(key)\r\n        }\r\n    },\r\n    collapseAdaptiveDetailRow: function() {\r\n        if (this.hasAdaptiveDetailRowExpanded()) {\r\n            this.toggleExpandAdaptiveDetailRow()\r\n        }\r\n    }\r\n});\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            columnHidingEnabled: false,\r\n            onAdaptiveDetailRowPreparing: null\r\n        }\r\n    },\r\n    controllers: {\r\n        adaptiveColumns: AdaptiveColumnsController\r\n    },\r\n    extenders: {\r\n        views: {\r\n            rowsView: {\r\n                _getCellTemplate: function(options) {\r\n                    var that = this;\r\n                    var column = options.column;\r\n                    if (options.rowType === ADAPTIVE_ROW_TYPE && \"detail\" === column.command) {\r\n                        return function(container, options) {\r\n                            that._adaptiveColumnsController.createFormByHiddenColumns((0, _renderer.default)(container), options)\r\n                        }\r\n                    }\r\n                    return that.callBase(options)\r\n                },\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase(row);\r\n                    if (row && row.rowType === ADAPTIVE_ROW_TYPE && row.key === this._dataController.adaptiveExpandedKey()) {\r\n                        $row.addClass(ADAPTIVE_DETAIL_ROW_CLASS)\r\n                    }\r\n                    return $row\r\n                },\r\n                _renderCells: function($row, options) {\r\n                    this.callBase($row, options);\r\n                    var hidingColumnsQueueLength = this._adaptiveColumnsController.getHidingColumnsQueue().length;\r\n                    var hiddenColumnsLength = this._adaptiveColumnsController.getHiddenColumns().length;\r\n                    if (hidingColumnsQueueLength && !hiddenColumnsLength) {\r\n                        getDataCellElements($row).last().addClass(LAST_DATA_CELL_CLASS)\r\n                    }\r\n                },\r\n                _getColumnIndexByElementCore: function($element) {\r\n                    var $itemContent = $element.closest(\".\" + FORM_ITEM_CONTENT_CLASS);\r\n                    if ($itemContent.length && $itemContent.closest(this.component.$element()).length) {\r\n                        var formItem = $itemContent.length ? $itemContent.first().data(\"dx-form-item\") : null;\r\n                        return formItem && formItem.column && this._columnsController.getVisibleIndex(formItem.column.index)\r\n                    } else {\r\n                        return this.callBase($element)\r\n                    }\r\n                },\r\n                _cellPrepared: function($cell, options) {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (options.row.rowType !== ADAPTIVE_ROW_TYPE && options.column.visibleWidth === HIDDEN_COLUMNS_WIDTH) {\r\n                        $cell.addClass(this.addWidgetPrefix(HIDDEN_COLUMN_CLASS))\r\n                    }\r\n                },\r\n                _getCellElement: function(rowIndex, columnIdentifier) {\r\n                    var item = this._dataController.items()[rowIndex];\r\n                    if (item && item.rowType === ADAPTIVE_ROW_TYPE) {\r\n                        return this._adaptiveColumnsController.getItemContentByColumnIndex(columnIdentifier)\r\n                    } else {\r\n                        return this.callBase(rowIndex, columnIdentifier)\r\n                    }\r\n                },\r\n                getContextMenuItems: function(options) {\r\n                    if (options.row && \"detailAdaptive\" === options.row.rowType) {\r\n                        var view = this.component.getView(\"columnHeadersView\");\r\n                        var formItem = (0, _renderer.default)(options.targetElement).closest(\".dx-field-item-label\").next().data(\"dx-form-item\");\r\n                        options.column = formItem ? formItem.column : options.column;\r\n                        return view.getContextMenuItems && view.getContextMenuItems(options)\r\n                    }\r\n                    return this.callBase && this.callBase(options)\r\n                },\r\n                isClickableElement: function($target) {\r\n                    var isClickable = this.callBase ? this.callBase($target) : false;\r\n                    return isClickable || !!$target.closest(\".\" + ADAPTIVE_COLUMN_NAME_CLASS).length\r\n                },\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._adaptiveColumnsController = this.getController(\"adaptiveColumns\")\r\n                }\r\n            }\r\n        },\r\n        controllers: {\r\n            \"export\": {\r\n                _updateColumnWidth: function(column, width) {\r\n                    this.callBase(column, column.visibleWidth === HIDDEN_COLUMNS_WIDTH ? column.bestFitWidth : width)\r\n                }\r\n            },\r\n            columnsResizer: {\r\n                _pointCreated: function(point, cellsLength, columns) {\r\n                    var result = this.callBase(point, cellsLength, columns);\r\n                    var currentColumn = columns[point.columnIndex] || {};\r\n                    var nextColumnIndex = this._getNextColumnIndex(point.columnIndex);\r\n                    var nextColumn = columns[nextColumnIndex] || {};\r\n                    var hasHiddenColumnsOnly = nextColumnIndex !== point.columnIndex + 1 && nextColumn.command;\r\n                    var hasAdaptiveHiddenWidth = currentColumn.visibleWidth === HIDDEN_COLUMNS_WIDTH || hasHiddenColumnsOnly;\r\n                    return result || hasAdaptiveHiddenWidth\r\n                },\r\n                _getNextColumnIndex: function(currentColumnIndex) {\r\n                    var visibleColumns = this._columnsController.getVisibleColumns();\r\n                    var index = this.callBase(currentColumnIndex);\r\n                    while (visibleColumns[index] && visibleColumns[index].visibleWidth === HIDDEN_COLUMNS_WIDTH) {\r\n                        index++\r\n                    }\r\n                    return index\r\n                }\r\n            },\r\n            draggingHeader: {\r\n                _pointCreated: function(point, columns, location, sourceColumn) {\r\n                    var result = this.callBase(point, columns, location, sourceColumn);\r\n                    var column = columns[point.columnIndex - 1] || {};\r\n                    var hasAdaptiveHiddenWidth = column.visibleWidth === HIDDEN_COLUMNS_WIDTH;\r\n                    return result || hasAdaptiveHiddenWidth\r\n                }\r\n            },\r\n            editing: {\r\n                _isRowEditMode: function() {\r\n                    return this.getEditMode() === EDIT_MODE_ROW\r\n                },\r\n                _getFormEditItemTemplate: function(cellOptions, column) {\r\n                    if (this.getEditMode() !== EDIT_MODE_ROW && \"detailAdaptive\" === cellOptions.rowType) {\r\n                        cellOptions.columnIndex = this._columnsController.getVisibleIndex(column.index);\r\n                        return this.getColumnTemplate(cellOptions)\r\n                    }\r\n                    return this.callBase(cellOptions, column)\r\n                },\r\n                _closeEditItem: function($targetElement) {\r\n                    var $itemContents = $targetElement.closest(\".\" + FORM_ITEM_CONTENT_CLASS);\r\n                    var rowIndex = this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey()) + 1;\r\n                    var formItem = $itemContents.length ? $itemContents.first().data(\"dx-form-item\") : null;\r\n                    var columnIndex = formItem && formItem.column && this._columnsController.getVisibleIndex(formItem.column.index);\r\n                    if (!this.isEditCell(rowIndex, columnIndex)) {\r\n                        this.callBase($targetElement)\r\n                    }\r\n                },\r\n                _beforeUpdateItems: function(rowIndices, rowIndex) {\r\n                    if (!this._adaptiveController.isFormEditMode() && this._adaptiveController.hasHiddenColumns()) {\r\n                        var items = this._dataController.items();\r\n                        var item = items[rowIndex];\r\n                        var oldExpandRowIndex = _uiGrid_core2.default.getIndexByKey(this._dataController.adaptiveExpandedKey(), items);\r\n                        this._isForceRowAdaptiveExpand = !this._adaptiveController.hasAdaptiveDetailRowExpanded();\r\n                        if (oldExpandRowIndex >= 0) {\r\n                            rowIndices.push(oldExpandRowIndex + 1)\r\n                        }\r\n                        rowIndices.push(rowIndex + 1);\r\n                        this._dataController.adaptiveExpandedKey(item.key)\r\n                    }\r\n                },\r\n                _afterInsertRow: function(options) {\r\n                    this.callBase(options);\r\n                    if (this._adaptiveController.hasHiddenColumns()) {\r\n                        this._adaptiveController.toggleExpandAdaptiveDetailRow(options.key, this.isRowEditMode());\r\n                        this._isForceRowAdaptiveExpand = true\r\n                    }\r\n                },\r\n                _collapseAdaptiveDetailRow: function() {\r\n                    if (this._isRowEditMode() && this._isForceRowAdaptiveExpand) {\r\n                        this._adaptiveController.collapseAdaptiveDetailRow();\r\n                        this._isForceRowAdaptiveExpand = false\r\n                    }\r\n                },\r\n                _cancelEditAdaptiveDetailRow: function() {\r\n                    if (this._adaptiveController.hasHiddenColumns()) {\r\n                        this._collapseAdaptiveDetailRow()\r\n                    }\r\n                },\r\n                _afterSaveEditData: function() {\r\n                    var _this2 = this;\r\n                    this.callBase.apply(this, arguments);\r\n                    var deferred = new _deferred.Deferred;\r\n                    if (this._isRowEditMode() && this._adaptiveController.hasHiddenColumns()) {\r\n                        (0, _deferred.when)(this.getController(\"validating\").validate(true)).done(function(isValid) {\r\n                            if (isValid) {\r\n                                _this2._cancelEditAdaptiveDetailRow()\r\n                            }\r\n                            deferred.resolve()\r\n                        })\r\n                    } else {\r\n                        deferred.resolve()\r\n                    }\r\n                    return deferred.promise()\r\n                },\r\n                _beforeCancelEditData: function() {\r\n                    this.callBase();\r\n                    this._cancelEditAdaptiveDetailRow()\r\n                },\r\n                _getRowIndicesForCascadeUpdating: function(row) {\r\n                    var rowIndices = this.callBase.apply(this, arguments);\r\n                    if (this._adaptiveController.isAdaptiveDetailRowExpanded(row.key)) {\r\n                        rowIndices.push(row.rowType === ADAPTIVE_ROW_TYPE ? row.rowIndex - 1 : row.rowIndex + 1)\r\n                    }\r\n                    return rowIndices\r\n                },\r\n                _beforeCloseEditCellInBatchMode: function(rowIndices) {\r\n                    var expandedKey = this._dataController._adaptiveExpandedKey;\r\n                    if (expandedKey) {\r\n                        var rowIndex = _uiGrid_core2.default.getIndexByKey(expandedKey, this._dataController.items());\r\n                        if (rowIndex > -1) {\r\n                            rowIndices.unshift(rowIndex)\r\n                        }\r\n                    }\r\n                },\r\n                editRow: function(rowIndex) {\r\n                    if (this._adaptiveController.isFormEditMode()) {\r\n                        this._adaptiveController.collapseAdaptiveDetailRow()\r\n                    }\r\n                    this.callBase(rowIndex)\r\n                },\r\n                deleteRow: function(rowIndex) {\r\n                    var rowKey = this._dataController.getKeyByRowIndex(rowIndex);\r\n                    if (this.getEditMode() === EDIT_MODE_BATCH && this._adaptiveController.isAdaptiveDetailRowExpanded(rowKey)) {\r\n                        this._adaptiveController.collapseAdaptiveDetailRow()\r\n                    }\r\n                    this.callBase(rowIndex)\r\n                },\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._adaptiveController = this.getController(\"adaptiveColumns\")\r\n                }\r\n            },\r\n            resizing: {\r\n                _needBestFit: function() {\r\n                    return this.callBase() || !!this._adaptiveColumnsController.getHidingColumnsQueue().length\r\n                },\r\n                _updateScrollableForIE: function() {\r\n                    var that = this;\r\n                    if (_browser.default.msie && parseInt(_browser.default.version) <= 11) {\r\n                        this._updateScrollableTimeoutID = setTimeout(function() {\r\n                            that.getView(\"rowsView\")._updateScrollable()\r\n                        })\r\n                    }\r\n                },\r\n                _correctColumnWidths: function(resultWidths, visibleColumns) {\r\n                    var adaptiveController = this._adaptiveColumnsController;\r\n                    var columnAutoWidth = this.option(\"columnAutoWidth\");\r\n                    var oldHiddenColumns = adaptiveController.getHiddenColumns();\r\n                    var hidingColumnsQueue = adaptiveController.updateHidingQueue(this._columnsController.getColumns());\r\n                    adaptiveController.hideRedundantColumns(resultWidths, visibleColumns, hidingColumnsQueue);\r\n                    var hiddenColumns = adaptiveController.getHiddenColumns();\r\n                    if (adaptiveController.hasAdaptiveDetailRowExpanded()) {\r\n                        if (oldHiddenColumns.length !== hiddenColumns.length) {\r\n                            adaptiveController.updateForm(hiddenColumns)\r\n                        }\r\n                    }!hiddenColumns.length && adaptiveController.collapseAdaptiveDetailRow();\r\n                    if (columnAutoWidth && hidingColumnsQueue.length && !hiddenColumns.length) {\r\n                        this._updateScrollableForIE()\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _toggleBestFitMode: function(isBestFit) {\r\n                    isBestFit && this._adaptiveColumnsController._showHiddenColumns();\r\n                    this.callBase(isBestFit)\r\n                },\r\n                _needStretch: function() {\r\n                    var adaptiveColumnsController = this._adaptiveColumnsController;\r\n                    return this.callBase.apply(this, arguments) || adaptiveColumnsController.getHidingColumnsQueue().length || adaptiveColumnsController.hasHiddenColumns()\r\n                },\r\n                init: function() {\r\n                    this._adaptiveColumnsController = this.getController(\"adaptiveColumns\");\r\n                    this.callBase()\r\n                },\r\n                dispose: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    clearTimeout(this._updateScrollableTimeoutID)\r\n                }\r\n            },\r\n            data: {\r\n                _processItems: function(items, change) {\r\n                    var that = this;\r\n                    var changeType = change.changeType;\r\n                    items = that.callBase.apply(that, arguments);\r\n                    if (\"loadingAll\" === changeType || !(0, _type.isDefined)(that._adaptiveExpandedKey)) {\r\n                        return items\r\n                    }\r\n                    var expandRowIndex = _uiGrid_core2.default.getIndexByKey(that._adaptiveExpandedKey, items);\r\n                    if (expandRowIndex >= 0) {\r\n                        var item = items[expandRowIndex];\r\n                        items.splice(expandRowIndex + 1, 0, {\r\n                            visible: true,\r\n                            rowType: ADAPTIVE_ROW_TYPE,\r\n                            key: item.key,\r\n                            data: item.data,\r\n                            node: item.node,\r\n                            modifiedValues: item.modifiedValues,\r\n                            isNewRow: item.isNewRow,\r\n                            values: item.values\r\n                        })\r\n                    } else {\r\n                        if (\"refresh\" === changeType) {\r\n                            that._adaptiveExpandedKey = void 0\r\n                        }\r\n                    }\r\n                    return items\r\n                },\r\n                _getRowIndicesForExpand: function(key) {\r\n                    var rowIndices = this.callBase.apply(this, arguments);\r\n                    if (this.getController(\"adaptiveColumns\").isAdaptiveDetailRowExpanded(key)) {\r\n                        var lastRowIndex = rowIndices[rowIndices.length - 1];\r\n                        rowIndices.push(lastRowIndex + 1)\r\n                    }\r\n                    return rowIndices\r\n                },\r\n                adaptiveExpandedKey: function(value) {\r\n                    if ((0, _type.isDefined)(value)) {\r\n                        this._adaptiveExpandedKey = value\r\n                    } else {\r\n                        return this._adaptiveExpandedKey\r\n                    }\r\n                },\r\n                toggleExpandAdaptiveDetailRow: function(key, alwaysExpanded) {\r\n                    var that = this;\r\n                    var oldExpandLoadedRowIndex = _uiGrid_core2.default.getIndexByKey(that._adaptiveExpandedKey, that._items);\r\n                    var newExpandLoadedRowIndex = _uiGrid_core2.default.getIndexByKey(key, that._items);\r\n                    if (oldExpandLoadedRowIndex >= 0 && oldExpandLoadedRowIndex === newExpandLoadedRowIndex && !alwaysExpanded) {\r\n                        key = void 0;\r\n                        newExpandLoadedRowIndex = -1\r\n                    }\r\n                    that._adaptiveExpandedKey = key;\r\n                    if (oldExpandLoadedRowIndex >= 0) {\r\n                        oldExpandLoadedRowIndex++\r\n                    }\r\n                    if (newExpandLoadedRowIndex >= 0) {\r\n                        newExpandLoadedRowIndex++\r\n                    }\r\n                    var rowIndexDelta = that.getRowIndexDelta();\r\n                    that.updateItems({\r\n                        allowInvisibleRowIndices: true,\r\n                        changeType: \"update\",\r\n                        rowIndices: [oldExpandLoadedRowIndex - rowIndexDelta, newExpandLoadedRowIndex - rowIndexDelta]\r\n                    })\r\n                },\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._adaptiveExpandedKey = void 0\r\n                }\r\n            },\r\n            editorFactory: {\r\n                _getFocusCellSelector: function() {\r\n                    return this.callBase() + \", .dx-adaptive-detail-row .dx-field-item > .dx-field-item-content\"\r\n                },\r\n                _getTooltipsSelector: function() {\r\n                    return this.callBase() + \", .dx-field-item-content .\" + this.addWidgetPrefix(REVERT_TOOLTIP_CLASS)\r\n                }\r\n            },\r\n            columns: {\r\n                _isColumnVisible: function(column) {\r\n                    return this.callBase(column) && !column.adaptiveHidden\r\n                }\r\n            },\r\n            keyboardNavigation: {\r\n                _isCellValid: function($cell) {\r\n                    return this.callBase.apply(this, arguments) && !$cell.hasClass(this.addWidgetPrefix(HIDDEN_COLUMN_CLASS))\r\n                },\r\n                _processNextCellInMasterDetail: function($nextCell) {\r\n                    this.callBase($nextCell);\r\n                    var isCellOrBatchMode = this._editingController.isCellOrBatchEditMode();\r\n                    if (!this._isInsideEditForm($nextCell) && $nextCell && isCellOrBatchMode) {\r\n                        var focusHandler = function focusHandler() {\r\n                            _events_engine.default.off($nextCell, \"focus\", focusHandler);\r\n                            _events_engine.default.trigger($nextCell, \"dxclick\")\r\n                        };\r\n                        _events_engine.default.on($nextCell, \"focus\", focusHandler)\r\n                    }\r\n                },\r\n                _handleTabKeyOnMasterDetailCell: function(eventTarget, direction) {\r\n                    var result = this.callBase(eventTarget, direction);\r\n                    var $currentCell = this._getFocusedCell();\r\n                    var $row = $currentCell && $currentCell.parent();\r\n                    if (!result && $row && $row.length) {\r\n                        var $dataCells = getDataCellElements($row);\r\n                        var $targetCell = \"next\" === direction ? $dataCells.last() : $dataCells.first();\r\n                        var rowIndex = $row.get(0).rowIndex;\r\n                        var adaptiveController = this._adaptiveController;\r\n                        var key = this._dataController.getKeyByRowIndex(\"next\" === direction ? rowIndex : rowIndex - 1);\r\n                        var isCellElementsEquals = $currentCell && $targetCell && $currentCell.get(0) === $targetCell.get(0);\r\n                        return adaptiveController.isAdaptiveDetailRowExpanded(key) && isCellElementsEquals\r\n                    }\r\n                    return result\r\n                },\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._adaptiveController = this.getController(\"adaptiveColumns\")\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.virtual_columns.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.virtual_columns\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"virtualColumns\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.virtual_columns.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _uiGrid_core = require(\"./ui.grid_core.virtual_columns_core\");\r\nvar DEFAULT_COLUMN_WIDTH = 50;\r\nvar VirtualScrollingRowsViewExtender = {\r\n    _resizeCore: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._columnsController.resize()\r\n    },\r\n    _handleScroll: function(e) {\r\n        var that = this;\r\n        var scrollable = this.getScrollable();\r\n        var left = e.scrollOffset.left;\r\n        that.callBase.apply(that, arguments);\r\n        if (that.option(\"rtlEnabled\") && scrollable) {\r\n            left = scrollable.$content().width() - scrollable.$element().width() - left\r\n        }\r\n        that._columnsController.setScrollPosition(left)\r\n    }\r\n};\r\nvar HeaderFooterViewExtender = {\r\n    _renderCore: function() {\r\n        var that = this;\r\n        var scrollLeft = that._scrollLeft;\r\n        that.callBase.apply(that, arguments);\r\n        if (that._columnsController.isVirtualMode() && scrollLeft >= 0) {\r\n            that._scrollLeft = 0;\r\n            that.scrollTo({\r\n                left: scrollLeft\r\n            })\r\n        }\r\n    }\r\n};\r\nvar ColumnsControllerExtender = function() {\r\n    var getWidths = function(columns) {\r\n        return columns.map(function(column) {\r\n            return column.visibleWidth || parseFloat(column.width) || DEFAULT_COLUMN_WIDTH\r\n        })\r\n    };\r\n    var members = {\r\n        init: function() {\r\n            var that = this;\r\n            that.callBase();\r\n            that._beginPageIndex = 0;\r\n            that._endPageIndex = 0;\r\n            that._position = 0;\r\n            that._virtualVisibleColumns = {}\r\n        },\r\n        resetColumnsCache: function() {\r\n            this.callBase();\r\n            this._virtualVisibleColumns = {}\r\n        },\r\n        getBeginPageIndex: function(position) {\r\n            var visibleColumns = this.getVisibleColumns(void 0, true);\r\n            var widths = getWidths(visibleColumns);\r\n            var currentPosition = 0;\r\n            for (var index = 0; index < widths.length; index++) {\r\n                if (currentPosition >= position) {\r\n                    return Math.floor(index / this.getColumnPageSize())\r\n                }\r\n                currentPosition += widths[index]\r\n            }\r\n            return 0\r\n        },\r\n        getTotalWidth: function() {\r\n            var width = this.option(\"width\");\r\n            if (\"number\" === typeof width) {\r\n                return width\r\n            }\r\n            return this.getController(\"resizing\")._lastWidth || this.component.$element().outerWidth()\r\n        },\r\n        getEndPageIndex: function(position) {\r\n            var visibleColumns = this.getVisibleColumns(void 0, true);\r\n            var widths = getWidths(visibleColumns);\r\n            var currentPosition = 0;\r\n            position += this.getTotalWidth();\r\n            for (var index = 0; index < widths.length; index++) {\r\n                if (currentPosition >= position) {\r\n                    return Math.ceil(index / this.getColumnPageSize())\r\n                }\r\n                currentPosition += widths[index]\r\n            }\r\n            return Math.ceil(widths.length / this.getColumnPageSize())\r\n        },\r\n        getColumnPageSize: function() {\r\n            return this.option(\"scrolling.columnPageSize\")\r\n        },\r\n        _fireColumnsChanged: function() {\r\n            var date = new Date;\r\n            this.columnsChanged.fire({\r\n                optionNames: {\r\n                    all: true,\r\n                    length: 1\r\n                },\r\n                changeTypes: {\r\n                    columns: true,\r\n                    length: 1\r\n                }\r\n            });\r\n            this._renderTime = new Date - date\r\n        },\r\n        setScrollPosition: function(position) {\r\n            var that = this;\r\n            var renderingThreshold = that.option(\"scrolling.columnRenderingThreshold\");\r\n            if (that._renderTime > renderingThreshold) {\r\n                clearTimeout(that._changedTimeout);\r\n                that._changedTimeout = setTimeout(function() {\r\n                    that._setScrollPositionCore(position)\r\n                }, that.option(\"scrolling.timeout\"))\r\n            } else {\r\n                that._setScrollPositionCore(position)\r\n            }\r\n        },\r\n        isVirtualMode: function() {\r\n            return (0, _window.hasWindow)() && \"virtual\" === this.option(\"scrolling.columnRenderingMode\")\r\n        },\r\n        resize: function() {\r\n            this._setScrollPositionCore(this._position)\r\n        },\r\n        _setScrollPositionCore: function(position) {\r\n            var that = this;\r\n            if (that.isVirtualMode()) {\r\n                var beginPageIndex = that.getBeginPageIndex(position);\r\n                var endPageIndex = that.getEndPageIndex(position);\r\n                var needColumnsChanged = position < that._position ? that._beginPageIndex > beginPageIndex : that._endPageIndex < endPageIndex;\r\n                that._position = position;\r\n                if (needColumnsChanged) {\r\n                    that._beginPageIndex = beginPageIndex;\r\n                    that._endPageIndex = endPageIndex;\r\n                    that._fireColumnsChanged()\r\n                }\r\n            }\r\n        },\r\n        getFixedColumns: function(rowIndex, isBase) {\r\n            var fixedColumns = this.callBase(rowIndex);\r\n            if (this.isVirtualMode() && !isBase && fixedColumns.length) {\r\n                var transparentColumnIndex = fixedColumns.map(function(c) {\r\n                    return c.command\r\n                }).indexOf(\"transparent\");\r\n                fixedColumns[transparentColumnIndex].colspan = this.getVisibleColumns().length - this.callBase().length + 1;\r\n                return fixedColumns\r\n            }\r\n            return fixedColumns\r\n        },\r\n        getVisibleColumns: function(rowIndex, isBase) {\r\n            if (isBase || !this.isVirtualMode()) {\r\n                return this.callBase(rowIndex)\r\n            }\r\n            if (!this._beginPageIndex && !this._endPageIndex) {\r\n                this._beginPageIndex = this.getBeginPageIndex(this._position);\r\n                this._endPageIndex = this.getEndPageIndex(this._position)\r\n            }\r\n            var beginPageIndex = this._beginPageIndex;\r\n            var endPageIndex = this._endPageIndex;\r\n            var visibleColumnsHash = rowIndex + \"-\" + beginPageIndex + \"-\" + endPageIndex;\r\n            if (this._virtualVisibleColumns[visibleColumnsHash]) {\r\n                return this._virtualVisibleColumns[visibleColumnsHash]\r\n            }\r\n            var visibleColumns = this.callBase();\r\n            var rowCount = this.getRowCount();\r\n            var pageSize = this.getColumnPageSize();\r\n            var startIndex = beginPageIndex * pageSize;\r\n            var endIndex = endPageIndex * pageSize;\r\n            var fixedColumns = this.getFixedColumns(void 0, true);\r\n            var transparentColumnIndex = fixedColumns.map(function(c) {\r\n                return c.command\r\n            }).indexOf(\"transparent\");\r\n            var beginFixedColumnCount = fixedColumns.length ? transparentColumnIndex : 0;\r\n            var beginFixedColumns = visibleColumns.slice(0, beginFixedColumnCount);\r\n            var beginColumns = visibleColumns.slice(beginFixedColumnCount, startIndex);\r\n            var beginWidth = getWidths(beginColumns).reduce(function(a, b) {\r\n                return a + b\r\n            }, 0);\r\n            if (!beginWidth) {\r\n                startIndex = 0\r\n            }\r\n            var endFixedColumnCount = fixedColumns.length ? fixedColumns.length - transparentColumnIndex - 1 : 0;\r\n            var endFixedColumns = visibleColumns.slice(visibleColumns.length - endFixedColumnCount);\r\n            var endColumns = visibleColumns.slice(endIndex, visibleColumns.length - endFixedColumnCount);\r\n            var endWidth = getWidths(endColumns).reduce(function(a, b) {\r\n                return a + b\r\n            }, 0);\r\n            if (!endWidth) {\r\n                endIndex = visibleColumns.length\r\n            }\r\n            if (rowCount > 1 && \"number\" === typeof rowIndex) {\r\n                var columnsInfo = [];\r\n                for (var i = 0; i < rowCount; i++) {\r\n                    columnsInfo.push(this.callBase(i))\r\n                }\r\n                beginFixedColumns = (0, _uiGrid_core.createColumnsInfo)(columnsInfo, 0, beginFixedColumns.length)[rowIndex] || [];\r\n                endFixedColumns = (0, _uiGrid_core.createColumnsInfo)(columnsInfo, visibleColumns.length - endFixedColumns.length, visibleColumns.length)[rowIndex] || [];\r\n                visibleColumns = (0, _uiGrid_core.createColumnsInfo)(columnsInfo, startIndex, endIndex)[rowIndex] || []\r\n            } else {\r\n                visibleColumns = visibleColumns.slice(startIndex, endIndex)\r\n            }\r\n            if (beginWidth) {\r\n                visibleColumns.unshift({\r\n                    command: \"virtual\",\r\n                    width: beginWidth\r\n                });\r\n                visibleColumns = beginFixedColumns.concat(visibleColumns)\r\n            }\r\n            if (endWidth) {\r\n                visibleColumns.push({\r\n                    command: \"virtual\",\r\n                    width: endWidth\r\n                });\r\n                visibleColumns = visibleColumns.concat(endFixedColumns)\r\n            }\r\n            this._virtualVisibleColumns[visibleColumnsHash] = visibleColumns;\r\n            return visibleColumns\r\n        },\r\n        getColumnIndexOffset: function() {\r\n            var offset = 0;\r\n            if (this._beginPageIndex > 0) {\r\n                var fixedColumns = this.getFixedColumns();\r\n                var transparentColumnIndex = fixedColumns.map(function(c) {\r\n                    return c.command\r\n                }).indexOf(\"transparent\");\r\n                var leftFixedColumnCount = transparentColumnIndex >= 0 ? transparentColumnIndex : 0;\r\n                offset = this._beginPageIndex * this.getColumnPageSize() - leftFixedColumnCount - 1\r\n            }\r\n            return offset > 0 ? offset : 0\r\n        },\r\n        dispose: function() {\r\n            clearTimeout(this._changedTimeout);\r\n            this.callBase.apply(this, arguments)\r\n        }\r\n    };\r\n    return members\r\n}();\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            scrolling: {\r\n                columnRenderingMode: \"standard\",\r\n                columnPageSize: 5,\r\n                columnRenderingThreshold: 300\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            columns: ColumnsControllerExtender\r\n        },\r\n        views: {\r\n            columnHeadersView: HeaderFooterViewExtender,\r\n            footerView: HeaderFooterViewExtender,\r\n            rowsView: VirtualScrollingRowsViewExtender\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.virtual_columns_core.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.foreachColumnInfo = foreachColumnInfo;\r\nexports.createColumnsInfo = createColumnsInfo;\r\nvar _extend = require(\"../../core/utils/extend\");\r\n\r\nfunction foreachColumnInfo(info, callback, rowIndex, offsets, columnCount, lastProcessedIndexes) {\r\n    rowIndex = rowIndex || 0;\r\n    offsets = offsets || [];\r\n    lastProcessedIndexes = lastProcessedIndexes || [];\r\n    offsets[rowIndex] = offsets[rowIndex] || 0;\r\n    var row = info[rowIndex];\r\n    var startIndex = lastProcessedIndexes[rowIndex] + 1 || 0;\r\n    var processedColumnCount = 0;\r\n    var colIndex;\r\n    if (!row) {\r\n        return\r\n    }\r\n    for (colIndex = startIndex; colIndex < row.length; colIndex++) {\r\n        var cell = row[colIndex];\r\n        var visibleIndex = colIndex + offsets[rowIndex];\r\n        var colspan = cell.colspan || 1;\r\n        foreachColumnInfo(info, callback, rowIndex + (cell.rowspan || 1), offsets, colspan, lastProcessedIndexes);\r\n        offsets[rowIndex] += colspan - 1;\r\n        processedColumnCount += colspan;\r\n        if (cell.rowspan) {\r\n            for (var i = rowIndex + 1; i < rowIndex + cell.rowspan; i++) {\r\n                offsets[i] = offsets[i] || 0;\r\n                offsets[i] += cell.colspan || 1\r\n            }\r\n        }\r\n        if (false === callback(cell, visibleIndex, rowIndex, colIndex)) {\r\n            break\r\n        }\r\n        if (void 0 !== columnCount && processedColumnCount >= columnCount) {\r\n            break\r\n        }\r\n    }\r\n    lastProcessedIndexes[rowIndex] = colIndex\r\n}\r\n\r\nfunction createColumnsInfo(info, startIndex, endIndex) {\r\n    var newInfo = [];\r\n    foreachColumnInfo(info, function(columnInfo, visibleIndex, rowIndex) {\r\n        var cell = columnInfo;\r\n        var colspan;\r\n        var cellColspan = cell.colspan || 1;\r\n        var isVisible = visibleIndex + cellColspan - 1 >= startIndex && visibleIndex < endIndex;\r\n        newInfo[rowIndex] = newInfo[rowIndex] || [];\r\n        if (isVisible) {\r\n            if (visibleIndex < startIndex) {\r\n                colspan = cellColspan - (startIndex - visibleIndex);\r\n                visibleIndex = startIndex\r\n            } else {\r\n                colspan = cellColspan\r\n            }\r\n            if (visibleIndex + colspan > endIndex) {\r\n                colspan = endIndex - visibleIndex\r\n            }\r\n            if (colspan !== cellColspan) {\r\n                cell = (0, _extend.extend)({}, cell, {\r\n                    colspan: colspan\r\n                })\r\n            }\r\n            newInfo[rowIndex].push(cell)\r\n        } else {\r\n            if (visibleIndex > endIndex) {\r\n                return false\r\n            }\r\n        }\r\n    });\r\n    for (var i = 0; i < newInfo.length; i++) {\r\n        newInfo[i] = newInfo[i] || []\r\n    }\r\n    return newInfo\r\n}\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.export.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.ExportController = exports.DataProvider = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _class = _interopRequireDefault(require(\"../../core/class\"));\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _position = require(\"../../core/utils/position\");\r\nvar _array = require(\"../../core/utils/array\");\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.export_mixin\"));\r\nvar _exporter = require(\"../../exporter\");\r\nvar _message = _interopRequireDefault(require(\"../../localization/message\"));\r\nvar _button = _interopRequireDefault(require(\"../button\"));\r\nvar _list = _interopRequireDefault(require(\"../list\"));\r\nvar _context_menu = _interopRequireDefault(require(\"../context_menu\"));\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar DATAGRID_EXPORT_MENU_CLASS = \"dx-datagrid-export-menu\";\r\nvar DATAGRID_EXPORT_BUTTON_CLASS = \"dx-datagrid-export-button\";\r\nvar DATAGRID_EXPORT_ICON = \"export-to\";\r\nvar DATAGRID_EXPORT_EXCEL_ICON = \"xlsxfile\";\r\nvar DATAGRID_EXPORT_SELECTED_ICON = \"exportselected\";\r\nvar DATAGRID_EXPORT_EXCEL_BUTTON_ICON = \"export-excel-button\";\r\nvar TOOLBAR_ITEM_AUTO_HIDE_CLASS = \"dx-toolbar-item-auto-hide\";\r\nvar TOOLBAR_HIDDEN_BUTTON_CLASS = \"dx-toolbar-hidden-button\";\r\nvar BUTTON_CLASS = \"dx-button\";\r\nvar DATA_STYLE_OFFSET = 3;\r\nvar DataProvider = _class.default.inherit({\r\n    _getGroupValue: function(item) {\r\n        var key = item.key,\r\n            data = item.data,\r\n            rowType = item.rowType,\r\n            groupIndex = item.groupIndex,\r\n            summaryCells = item.summaryCells;\r\n        var groupColumn = this._options.groupColumns[groupIndex];\r\n        var value = _uiData_grid.default.getDisplayValue(groupColumn, groupColumn.deserializeValue ? groupColumn.deserializeValue(key[groupIndex]) : key[groupIndex], data, rowType);\r\n        var result = groupColumn.caption + \": \" + _uiData_grid.default.formatValue(value, groupColumn);\r\n        if (summaryCells && summaryCells[0] && summaryCells[0].length) {\r\n            result += \" \" + _uiData_grid.default.getGroupRowSummaryText(summaryCells[0], this._options.summaryTexts)\r\n        }\r\n        return result\r\n    },\r\n    _correctCellIndex: function(cellIndex) {\r\n        return cellIndex\r\n    },\r\n    _initOptions: function() {\r\n        var exportController = this._exportController;\r\n        var groupColumns = exportController._columnsController.getGroupColumns();\r\n        var excelWrapTextEnabled = exportController.option(\"export.excelWrapTextEnabled\");\r\n        this._options = {\r\n            columns: exportController._getColumns(this._initialColumnWidthsByColumnIndex),\r\n            groupColumns: groupColumns,\r\n            items: this._selectedRowsOnly || exportController._selectionOnly ? exportController._getSelectedItems() : exportController._getAllItems(),\r\n            getVisibleIndex: exportController._columnsController.getVisibleIndex.bind(exportController._columnsController),\r\n            isHeadersVisible: exportController.option(\"showColumnHeaders\"),\r\n            summaryTexts: exportController.option(\"summary.texts\"),\r\n            customizeExportData: exportController.option(\"customizeExportData\"),\r\n            rtlEnabled: exportController.option(\"rtlEnabled\"),\r\n            wrapTextEnabled: (0, _type.isDefined)(excelWrapTextEnabled) ? excelWrapTextEnabled : !!exportController.option(\"wordWrapEnabled\"),\r\n            customizeExcelCell: exportController.option(\"export.customizeExcelCell\")\r\n        }\r\n    },\r\n    hasCustomizeExcelCell: function() {\r\n        return (0, _type.isDefined)(this._options.customizeExcelCell)\r\n    },\r\n    customizeExcelCell: function(e, cellSourceData) {\r\n        if (this._options.customizeExcelCell) {\r\n            e.gridCell = cellSourceData;\r\n            if ((0, _type.isDefined)(this._exportController) && (0, _type.isDefined)(this._exportController.component)) {\r\n                e.component = this._exportController.component\r\n            }\r\n            this._options.customizeExcelCell(e)\r\n        }\r\n    },\r\n    ctor: function(exportController, initialColumnWidthsByColumnIndex, selectedRowsOnly) {\r\n        this._exportController = exportController;\r\n        this._initialColumnWidthsByColumnIndex = initialColumnWidthsByColumnIndex;\r\n        this._selectedRowsOnly = selectedRowsOnly\r\n    },\r\n    getStyles: function() {\r\n        var wrapTextEnabled = this._options.wrapTextEnabled;\r\n        var styles = [\"center\", \"left\", \"right\"].map(function(alignment) {\r\n            return {\r\n                bold: true,\r\n                alignment: alignment,\r\n                wrapText: true\r\n            }\r\n        });\r\n        this.getColumns().forEach(function(column) {\r\n            styles.push({\r\n                alignment: column.alignment || \"left\",\r\n                format: column.format,\r\n                wrapText: wrapTextEnabled,\r\n                dataType: column.dataType\r\n            })\r\n        });\r\n        styles.push({\r\n            bold: true,\r\n            wrapText: false,\r\n            alignment: (0, _position.getDefaultAlignment)(this._options.rtlEnabled)\r\n        });\r\n        return styles\r\n    },\r\n    _getTotalCellStyleId: function(cellIndex) {\r\n        var alignment = this.getColumns()[cellIndex] && this.getColumns()[cellIndex].alignment || \"right\";\r\n        return [\"center\", \"left\", \"right\"].indexOf(alignment)\r\n    },\r\n    getStyleId: function(rowIndex, cellIndex) {\r\n        if (rowIndex < this.getHeaderRowCount()) {\r\n            return 0\r\n        } else {\r\n            if (this.isTotalCell(rowIndex - this.getHeaderRowCount(), cellIndex)) {\r\n                return this._getTotalCellStyleId(cellIndex)\r\n            } else {\r\n                if (this.isGroupRow(rowIndex - this.getHeaderRowCount())) {\r\n                    return DATA_STYLE_OFFSET + this.getColumns().length\r\n                } else {\r\n                    return cellIndex + DATA_STYLE_OFFSET\r\n                }\r\n            }\r\n        }\r\n    },\r\n    getColumns: function(getColumnsByAllRows) {\r\n        var columns = this._options.columns;\r\n        return getColumnsByAllRows ? columns : columns[columns.length - 1]\r\n    },\r\n    getColumnsWidths: function() {\r\n        var columns = this.getColumns();\r\n        return (0, _type.isDefined)(columns) ? columns.map(function(c) {\r\n            return c.width\r\n        }) : void 0\r\n    },\r\n    getRowsCount: function() {\r\n        return this._options.items.length + this.getHeaderRowCount()\r\n    },\r\n    getHeaderRowCount: function() {\r\n        if (this.isHeadersVisible()) {\r\n            return this._options.columns.length - 1\r\n        }\r\n        return 0\r\n    },\r\n    isGroupRow: function(rowIndex) {\r\n        return rowIndex < this._options.items.length && \"group\" === this._options.items[rowIndex].rowType\r\n    },\r\n    getGroupLevel: function(rowIndex) {\r\n        var item = this._options.items[rowIndex - this.getHeaderRowCount()];\r\n        var groupIndex = item && item.groupIndex;\r\n        if (item && \"totalFooter\" === item.rowType) {\r\n            return 0\r\n        }\r\n        return (0, _type.isDefined)(groupIndex) ? groupIndex : this._options.groupColumns.length\r\n    },\r\n    getCellType: function(rowIndex, cellIndex) {\r\n        var columns = this.getColumns();\r\n        if (rowIndex < this.getHeaderRowCount()) {\r\n            return \"string\"\r\n        } else {\r\n            rowIndex -= this.getHeaderRowCount()\r\n        }\r\n        if (cellIndex < columns.length) {\r\n            var item = this._options.items.length && this._options.items[rowIndex];\r\n            var column = columns[cellIndex];\r\n            if (item && \"data\" === item.rowType) {\r\n                if (isFinite(item.values[this._correctCellIndex(cellIndex)]) && !(0, _type.isDefined)(column.customizeText)) {\r\n                    return (0, _type.isDefined)(column.lookup) ? column.lookup.dataType : column.dataType\r\n                }\r\n            }\r\n            return \"string\"\r\n        }\r\n    },\r\n    ready: function() {\r\n        var that = this;\r\n        that._initOptions();\r\n        var options = that._options;\r\n        return (0, _deferred.when)(options.items).done(function(items) {\r\n            options.customizeExportData && options.customizeExportData(that.getColumns(that.getHeaderRowCount() > 1), items);\r\n            options.items = items\r\n        }).fail(function() {\r\n            options.items = []\r\n        })\r\n    },\r\n    _convertFromGridGroupSummaryItems: function(gridGroupSummaryItems) {\r\n        if ((0, _type.isDefined)(gridGroupSummaryItems) && gridGroupSummaryItems.length > 0) {\r\n            return gridGroupSummaryItems.map(function(item) {\r\n                return {\r\n                    value: item.value,\r\n                    name: item.name\r\n                }\r\n            })\r\n        }\r\n    },\r\n    getCellData: function(rowIndex, cellIndex, isExcelJS) {\r\n        var result = {\r\n            cellSourceData: {},\r\n            value: value\r\n        };\r\n        var column;\r\n        var value;\r\n        var columns = this.getColumns();\r\n        var correctedCellIndex = this._correctCellIndex(cellIndex);\r\n        if (rowIndex < this.getHeaderRowCount()) {\r\n            var columnsRow = this.getColumns(true)[rowIndex];\r\n            column = columnsRow[cellIndex];\r\n            result.cellSourceData.rowType = \"header\";\r\n            result.cellSourceData.column = column && column.gridColumn;\r\n            result.value = column && column.caption\r\n        } else {\r\n            rowIndex -= this.getHeaderRowCount();\r\n            var item = this._options.items.length && this._options.items[rowIndex];\r\n            if (item) {\r\n                var itemValues = item.values;\r\n                result.cellSourceData.rowType = item.rowType;\r\n                result.cellSourceData.column = columns[cellIndex] && columns[cellIndex].gridColumn;\r\n                switch (item.rowType) {\r\n                    case \"groupFooter\":\r\n                    case \"totalFooter\":\r\n                        if (correctedCellIndex < itemValues.length) {\r\n                            value = itemValues[correctedCellIndex];\r\n                            if ((0, _type.isDefined)(value)) {\r\n                                result.cellSourceData.value = value.value;\r\n                                result.cellSourceData.totalSummaryItemName = value.name;\r\n                                result.value = _uiData_grid.default.getSummaryText(value, this._options.summaryTexts)\r\n                            } else {\r\n                                result.cellSourceData.value = void 0\r\n                            }\r\n                        }\r\n                        break;\r\n                    case \"group\":\r\n                        result.cellSourceData.groupIndex = item.groupIndex;\r\n                        if (cellIndex < 1) {\r\n                            result.cellSourceData.column = this._options.groupColumns[item.groupIndex];\r\n                            result.cellSourceData.value = item.key[item.groupIndex];\r\n                            result.cellSourceData.groupSummaryItems = this._convertFromGridGroupSummaryItems(item.summaryCells[0]);\r\n                            result.value = this._getGroupValue(item)\r\n                        } else {\r\n                            var summaryItems = item.values[correctedCellIndex];\r\n                            if (Array.isArray(summaryItems)) {\r\n                                result.cellSourceData.groupSummaryItems = this._convertFromGridGroupSummaryItems(summaryItems);\r\n                                value = \"\";\r\n                                for (var i = 0; i < summaryItems.length; i++) {\r\n                                    value += (i > 0 ? isExcelJS ? \"\\n\" : \" \\n \" : \"\") + _uiData_grid.default.getSummaryText(summaryItems[i], this._options.summaryTexts)\r\n                                }\r\n                                result.value = value\r\n                            } else {\r\n                                result.cellSourceData.value = void 0\r\n                            }\r\n                        }\r\n                        break;\r\n                    default:\r\n                        column = columns[cellIndex];\r\n                        if (column) {\r\n                            var _value = itemValues[correctedCellIndex];\r\n                            var displayValue = _uiData_grid.default.getDisplayValue(column, _value, item.data, item.rowType);\r\n                            if (!isFinite(displayValue) || (0, _type.isDefined)(column.customizeText)) {\r\n                                if (isExcelJS && (0, _type.isDefined)(column.customizeText) && column.customizeText === this._exportController._columnsController.getCustomizeTextByDataType(\"boolean\")) {\r\n                                    result.value = displayValue\r\n                                } else {\r\n                                    result.value = _uiData_grid.default.formatValue(displayValue, column)\r\n                                }\r\n                            } else {\r\n                                result.value = displayValue\r\n                            }\r\n                            result.cellSourceData.value = _value\r\n                        }\r\n                        result.cellSourceData.data = item.data\r\n                }\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    isHeadersVisible: function() {\r\n        return this._options.isHeadersVisible\r\n    },\r\n    isTotalCell: function(rowIndex, cellIndex) {\r\n        var items = this._options.items;\r\n        var item = items[rowIndex];\r\n        var correctCellIndex = this._correctCellIndex(cellIndex);\r\n        var isSummaryAlignByColumn = item.summaryCells && item.summaryCells[correctCellIndex] && item.summaryCells[correctCellIndex].length > 0 && item.summaryCells[correctCellIndex][0].alignByColumn;\r\n        return item && \"groupFooter\" === item.rowType || \"totalFooter\" === item.rowType || isSummaryAlignByColumn\r\n    },\r\n    getCellMerging: function(rowIndex, cellIndex) {\r\n        var columns = this._options.columns;\r\n        var column = columns[rowIndex] && columns[rowIndex][cellIndex];\r\n        return column ? {\r\n            colspan: (column.exportColspan || 1) - 1,\r\n            rowspan: (column.rowspan || 1) - 1\r\n        } : {\r\n            colspan: 0,\r\n            rowspan: 0\r\n        }\r\n    },\r\n    getFrozenArea: function() {\r\n        var that = this;\r\n        return {\r\n            x: 0,\r\n            y: that.getHeaderRowCount()\r\n        }\r\n    }\r\n});\r\nexports.DataProvider = DataProvider;\r\nvar ExportController = _uiData_grid.default.ViewController.inherit({}).include(_uiGrid_core.default).inherit({\r\n    _getEmptyCell: function() {\r\n        return {\r\n            caption: \"\",\r\n            colspan: 1,\r\n            rowspan: 1\r\n        }\r\n    },\r\n    _updateColumnWidth: function(column, width) {\r\n        column.width = width\r\n    },\r\n    _getColumns: function(initialColumnWidthsByColumnIndex) {\r\n        var result = [];\r\n        var i;\r\n        var columns;\r\n        var columnsController = this._columnsController;\r\n        var rowCount = columnsController.getRowCount();\r\n        for (i = 0; i <= rowCount; i++) {\r\n            var currentHeaderRow = [];\r\n            columns = columnsController.getVisibleColumns(i, true);\r\n            var columnWidthsByColumnIndex = void 0;\r\n            if (i === rowCount) {\r\n                if (this._updateLockCount) {\r\n                    columnWidthsByColumnIndex = initialColumnWidthsByColumnIndex\r\n                } else {\r\n                    var columnWidths = this._getColumnWidths(this._headersView, this._rowsView);\r\n                    if (columnWidths && columnWidths.length) {\r\n                        columnWidthsByColumnIndex = {};\r\n                        for (var _i = 0; _i < columns.length; _i++) {\r\n                            columnWidthsByColumnIndex[columns[_i].index] = columnWidths[_i]\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            for (var j = 0; j < columns.length; j++) {\r\n                var column = (0, _extend.extend)({}, columns[j], {\r\n                    dataType: \"datetime\" === columns[j].dataType ? \"date\" : columns[j].dataType,\r\n                    gridColumn: columns[j]\r\n                });\r\n                if (this._needColumnExporting(column)) {\r\n                    var currentColspan = this._calculateExportColspan(column);\r\n                    if ((0, _type.isDefined)(currentColspan)) {\r\n                        column.exportColspan = currentColspan\r\n                    }\r\n                    if (columnWidthsByColumnIndex) {\r\n                        this._updateColumnWidth(column, columnWidthsByColumnIndex[column.index])\r\n                    }\r\n                    currentHeaderRow.push(column)\r\n                }\r\n            }\r\n            result.push(currentHeaderRow)\r\n        }\r\n        columns = result[rowCount];\r\n        result = this._prepareItems(result.slice(0, -1));\r\n        result.push(columns);\r\n        return result\r\n    },\r\n    _calculateExportColspan: function(column) {\r\n        var _this = this;\r\n        if (!column.isBand) {\r\n            return\r\n        }\r\n        var childColumns = this._columnsController.getChildrenByBandColumn(column.index, true);\r\n        if (!(0, _type.isDefined)(childColumns)) {\r\n            return\r\n        }\r\n        return childColumns.reduce(function(result, childColumn) {\r\n            if (_this._needColumnExporting(childColumn)) {\r\n                return result + (_this._calculateExportColspan(childColumn) || 1)\r\n            } else {\r\n                return result\r\n            }\r\n        }, 0)\r\n    },\r\n    _needColumnExporting: function(column) {\r\n        return !column.command && (column.allowExporting || void 0 === column.allowExporting)\r\n    },\r\n    _getFooterSummaryItems: function(summaryCells, isTotal) {\r\n        var result = [];\r\n        var estimatedItemsCount = 1;\r\n        var i = 0;\r\n        do {\r\n            var values = [];\r\n            for (var j = 0; j < summaryCells.length; j++) {\r\n                var summaryCell = summaryCells[j];\r\n                var itemsLength = summaryCell.length;\r\n                if (estimatedItemsCount < itemsLength) {\r\n                    estimatedItemsCount = itemsLength\r\n                }\r\n                values.push(summaryCell[i])\r\n            }\r\n            result.push({\r\n                values: values,\r\n                rowType: isTotal ? \"totalFooter\" : \"groupFooter\"\r\n            })\r\n        } while (i++ < estimatedItemsCount - 1);\r\n        return result\r\n    },\r\n    _hasSummaryGroupFooters: function() {\r\n        var groupItems = this.option(\"summary.groupItems\");\r\n        if ((0, _type.isDefined)(groupItems)) {\r\n            for (var i = 0; i < groupItems.length; i++) {\r\n                if (groupItems[i].showInGroupFooter) {\r\n                    return true\r\n                }\r\n            }\r\n        }\r\n        return false\r\n    },\r\n    _getItemsWithSummaryGroupFooters: function(sourceItems) {\r\n        var result = [];\r\n        var beforeGroupFooterItems = [];\r\n        var groupFooterItems = [];\r\n        for (var i = 0; i < sourceItems.length; i++) {\r\n            var item = sourceItems[i];\r\n            if (\"groupFooter\" === item.rowType) {\r\n                groupFooterItems = this._getFooterSummaryItems(item.summaryCells);\r\n                result = result.concat(beforeGroupFooterItems, groupFooterItems);\r\n                beforeGroupFooterItems = []\r\n            } else {\r\n                beforeGroupFooterItems.push(item)\r\n            }\r\n        }\r\n        return result.length ? result : beforeGroupFooterItems\r\n    },\r\n    _updateGroupValuesWithSummaryByColumn: function(sourceItems) {\r\n        var summaryValues = [];\r\n        for (var i = 0; i < sourceItems.length; i++) {\r\n            var item = sourceItems[i];\r\n            var summaryCells = item.summaryCells;\r\n            if (\"group\" === item.rowType && summaryCells && summaryCells.length > 1) {\r\n                var groupColumnCount = item.values.length;\r\n                for (var j = 1; j < summaryCells.length; j++) {\r\n                    for (var k = 0; k < summaryCells[j].length; k++) {\r\n                        var summaryItem = summaryCells[j][k];\r\n                        if (summaryItem && summaryItem.alignByColumn) {\r\n                            if (!Array.isArray(summaryValues[j - groupColumnCount])) {\r\n                                summaryValues[j - groupColumnCount] = []\r\n                            }\r\n                            summaryValues[j - groupColumnCount].push(summaryItem)\r\n                        }\r\n                    }\r\n                }\r\n                if (summaryValues.length > 0) {\r\n                    (0, _array.merge)(item.values, summaryValues);\r\n                    summaryValues = []\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _processUnExportedItems: function(items) {\r\n        var columns = this._columnsController.getVisibleColumns(null, true);\r\n        var groupColumns = this._columnsController.getGroupColumns();\r\n        var values;\r\n        var summaryCells;\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            var isDetailExpandColumn = false;\r\n            values = [];\r\n            summaryCells = [];\r\n            for (var j = 0; j < columns.length; j++) {\r\n                var column = columns[j];\r\n                isDetailExpandColumn = isDetailExpandColumn || \"detailExpand\" === column.type;\r\n                if (this._needColumnExporting(column)) {\r\n                    if (item.values) {\r\n                        if (\"group\" === item.rowType && !values.length) {\r\n                            values.push(item.key[item.groupIndex])\r\n                        } else {\r\n                            values.push(item.values[j])\r\n                        }\r\n                    }\r\n                    if (item.summaryCells) {\r\n                        if (\"group\" === item.rowType && !summaryCells.length) {\r\n                            var index = j - groupColumns.length + item.groupIndex;\r\n                            summaryCells.push(item.summaryCells[isDetailExpandColumn ? index - 1 : index])\r\n                        } else {\r\n                            summaryCells.push(item.summaryCells[j])\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (values.length) {\r\n                item.values = values\r\n            }\r\n            if (summaryCells.length) {\r\n                item.summaryCells = summaryCells\r\n            }\r\n        }\r\n    },\r\n    _getAllItems: function(data) {\r\n        var that = this;\r\n        var d = new _deferred.Deferred;\r\n        var dataController = this.getController(\"data\");\r\n        var footerItems = dataController.footerItems();\r\n        var totalItem = footerItems.length && footerItems[0];\r\n        var summaryTotalItems = that.option(\"summary.totalItems\");\r\n        var summaryCells;\r\n        (0, _deferred.when)(data).done(function(data) {\r\n            dataController.loadAll(data).done(function(sourceItems, totalAggregates) {\r\n                that._updateGroupValuesWithSummaryByColumn(sourceItems);\r\n                if (that._hasSummaryGroupFooters()) {\r\n                    sourceItems = that._getItemsWithSummaryGroupFooters(sourceItems)\r\n                }\r\n                summaryCells = totalItem && totalItem.summaryCells;\r\n                if ((0, _type.isDefined)(totalAggregates) && summaryTotalItems) {\r\n                    summaryCells = that._getSummaryCells(summaryTotalItems, totalAggregates)\r\n                }\r\n                var summaryItems = totalItem && that._getFooterSummaryItems(summaryCells, true);\r\n                if (summaryItems) {\r\n                    sourceItems = sourceItems.concat(summaryItems)\r\n                }\r\n                that._processUnExportedItems(sourceItems);\r\n                d.resolve(sourceItems)\r\n            }).fail(d.reject)\r\n        }).fail(d.reject);\r\n        return d\r\n    },\r\n    _getSummaryCells: function(summaryTotalItems, totalAggregates) {\r\n        var dataController = this.getController(\"data\");\r\n        var columnsController = dataController._columnsController;\r\n        return dataController._calculateSummaryCells(summaryTotalItems, totalAggregates, columnsController.getVisibleColumns(null, true), function(summaryItem, column) {\r\n            return dataController._isDataColumn(column) ? column.index : -1\r\n        })\r\n    },\r\n    _getSelectedItems: function() {\r\n        var selectionController = this.getController(\"selection\");\r\n        var selectedRowData = selectionController.getSelectedRowsData();\r\n        return this._getAllItems(selectedRowData)\r\n    },\r\n    _getColumnWidths: function(headersView, rowsView) {\r\n        return headersView && headersView.isVisible() ? headersView.getColumnWidths() : rowsView.getColumnWidths()\r\n    },\r\n    init: function() {\r\n        this._columnsController = this.getController(\"columns\");\r\n        this._rowsView = this.getView(\"rowsView\");\r\n        this._headersView = this.getView(\"columnHeadersView\");\r\n        this.createAction(\"onExporting\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        });\r\n        this.createAction(\"onExported\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        });\r\n        this.createAction(\"onFileSaving\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    callbackNames: function() {\r\n        return [\"selectionOnlyChanged\"]\r\n    },\r\n    getExportFormat: function() {\r\n        return [\"EXCEL\"]\r\n    },\r\n    getDataProvider: function(selectedRowsOnly) {\r\n        var columnWidths = this._getColumnWidths(this._headersView, this._rowsView);\r\n        var initialColumnWidthsByColumnIndex;\r\n        if (columnWidths && columnWidths.length) {\r\n            initialColumnWidthsByColumnIndex = {};\r\n            var columnsLastRowVisibleColumns = this._columnsController.getVisibleColumns(this._columnsController.getRowCount(), true);\r\n            for (var i = 0; i < columnsLastRowVisibleColumns.length; i++) {\r\n                initialColumnWidthsByColumnIndex[columnsLastRowVisibleColumns[i].index] = columnWidths[i]\r\n            }\r\n        }\r\n        return new DataProvider(this, initialColumnWidthsByColumnIndex, selectedRowsOnly)\r\n    },\r\n    exportToExcel: function(selectionOnly) {\r\n        var that = this;\r\n        that._selectionOnly = selectionOnly;\r\n        (0, _exporter.export)(that.component.getDataProvider(), {\r\n            fileName: that.option(\"export.fileName\"),\r\n            proxyUrl: that.option(\"export.proxyUrl\"),\r\n            format: \"EXCEL\",\r\n            autoFilterEnabled: !!that.option(\"export.excelFilterEnabled\"),\r\n            rtlEnabled: that.option(\"rtlEnabled\"),\r\n            ignoreErrors: that.option(\"export.ignoreExcelErrors\"),\r\n            exportingAction: that.getAction(\"onExporting\"),\r\n            exportedAction: that.getAction(\"onExported\"),\r\n            fileSavingAction: that.getAction(\"onFileSaving\")\r\n        }, _exporter.excel.getData)\r\n    },\r\n    publicMethods: function() {\r\n        return [\"getDataProvider\", \"getExportFormat\", \"exportToExcel\"]\r\n    },\r\n    selectionOnly: function(value) {\r\n        if ((0, _type.isDefined)(value)) {\r\n            this._isSelectedRows = value;\r\n            this.selectionOnlyChanged.fire()\r\n        } else {\r\n            return this._isSelectedRows\r\n        }\r\n    }\r\n});\r\nexports.ExportController = ExportController;\r\n_uiData_grid.default.registerModule(\"export\", {\r\n    defaultOptions: function() {\r\n        return {\r\n            \"export\": {\r\n                enabled: false,\r\n                fileName: \"DataGrid\",\r\n                excelFilterEnabled: false,\r\n                excelWrapTextEnabled: void 0,\r\n                proxyUrl: void 0,\r\n                allowExportSelectedData: false,\r\n                ignoreExcelErrors: true,\r\n                texts: {\r\n                    exportTo: _message.default.format(\"dxDataGrid-exportTo\"),\r\n                    exportAll: _message.default.format(\"dxDataGrid-exportAll\"),\r\n                    exportSelectedRows: _message.default.format(\"dxDataGrid-exportSelectedRows\")\r\n                }\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        \"export\": ExportController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            editing: {\r\n                callbackNames: function() {\r\n                    var callbackList = this.callBase();\r\n                    return (0, _type.isDefined)(callbackList) ? callbackList.push(\"editingChanged\") : [\"editingChanged\"]\r\n                },\r\n                _updateEditButtons: function() {\r\n                    this.callBase();\r\n                    this.editingChanged.fire(this.hasChanges())\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            headerPanel: {\r\n                _getToolbarItems: function() {\r\n                    var items = this.callBase();\r\n                    return this._appendExportItems(items)\r\n                },\r\n                _appendExportItems: function(items) {\r\n                    var that = this;\r\n                    var exportOptions = that.option(\"export\");\r\n                    if (exportOptions.enabled) {\r\n                        var exportItems = [];\r\n                        if (exportOptions.allowExportSelectedData) {\r\n                            exportItems.push({\r\n                                template: function(data, index, container) {\r\n                                    var $container = (0, _renderer.default)(container);\r\n                                    that._renderButton(data, $container);\r\n                                    that._renderExportMenu($container)\r\n                                },\r\n                                menuItemTemplate: function(data, index, container) {\r\n                                    that._renderList(data, (0, _renderer.default)(container))\r\n                                },\r\n                                name: \"exportButton\",\r\n                                allowExportSelected: true,\r\n                                location: \"after\",\r\n                                locateInMenu: \"auto\",\r\n                                sortIndex: 30\r\n                            })\r\n                        } else {\r\n                            exportItems.push({\r\n                                template: function(data, index, container) {\r\n                                    that._renderButton(data, (0, _renderer.default)(container))\r\n                                },\r\n                                menuItemTemplate: function(data, index, container) {\r\n                                    that._renderButton(data, (0, _renderer.default)(container), true)\r\n                                },\r\n                                name: \"exportButton\",\r\n                                location: \"after\",\r\n                                locateInMenu: \"auto\",\r\n                                sortIndex: 30\r\n                            })\r\n                        }\r\n                        items = items.concat(exportItems);\r\n                        that._correctItemsPosition(items)\r\n                    }\r\n                    return items\r\n                },\r\n                _renderButton: function(data, $container, withText) {\r\n                    var that = this;\r\n                    var buttonOptions = that._getButtonOptions(data.allowExportSelected);\r\n                    var $buttonContainer = that._getButtonContainer().addClass(DATAGRID_EXPORT_BUTTON_CLASS).appendTo($container);\r\n                    if (withText) {\r\n                        var wrapperNode = (0, _renderer.default)(\"<div>\").addClass(TOOLBAR_ITEM_AUTO_HIDE_CLASS);\r\n                        $container.wrapInner(wrapperNode).parent().addClass(\"dx-toolbar-menu-action dx-toolbar-menu-button \" + TOOLBAR_HIDDEN_BUTTON_CLASS);\r\n                        buttonOptions.text = buttonOptions.hint\r\n                    }\r\n                    that._createComponent($buttonContainer, _button.default, buttonOptions)\r\n                },\r\n                _renderList: function(data, $container) {\r\n                    var that = this;\r\n                    var texts = that.option(\"export.texts\");\r\n                    var items = [{\r\n                        template: function(data, index, container) {\r\n                            that._renderFakeButton(data, (0, _renderer.default)(container), DATAGRID_EXPORT_EXCEL_ICON)\r\n                        },\r\n                        text: texts.exportAll\r\n                    }, {\r\n                        template: function(data, index, container) {\r\n                            that._renderFakeButton(data, (0, _renderer.default)(container), DATAGRID_EXPORT_SELECTED_ICON)\r\n                        },\r\n                        text: texts.exportSelectedRows,\r\n                        exportSelected: true\r\n                    }];\r\n                    that._createComponent($container, _list.default, {\r\n                        items: items,\r\n                        onItemClick: function(e) {\r\n                            that._exportController.exportToExcel(e.itemData.exportSelected)\r\n                        },\r\n                        scrollingEnabled: false\r\n                    })\r\n                },\r\n                _renderFakeButton: function(data, $container, iconName) {\r\n                    var $icon = (0, _renderer.default)(\"<div>\").addClass(\"dx-icon dx-icon-\" + iconName);\r\n                    var $text = (0, _renderer.default)(\"<span>\").addClass(\"dx-button-text\").text(data.text);\r\n                    var $content = (0, _renderer.default)(\"<div>\").addClass(\"dx-button-content\").append($icon).append($text);\r\n                    var $button = (0, _renderer.default)(\"<div>\").addClass(BUTTON_CLASS + \" dx-button-has-text dx-button-has-icon dx-datagrid-toolbar-button\").append($content);\r\n                    var $toolbarItem = (0, _renderer.default)(\"<div>\").addClass(TOOLBAR_ITEM_AUTO_HIDE_CLASS).append($button);\r\n                    $container.append($toolbarItem).parent().addClass(\"dx-toolbar-menu-custom \" + TOOLBAR_HIDDEN_BUTTON_CLASS)\r\n                },\r\n                _correctItemsPosition: function(items) {\r\n                    items.sort(function(itemA, itemB) {\r\n                        return itemA.sortIndex - itemB.sortIndex\r\n                    })\r\n                },\r\n                _renderExportMenu: function($buttonContainer) {\r\n                    var that = this;\r\n                    var $button = $buttonContainer.find(\".\" + BUTTON_CLASS);\r\n                    var texts = that.option(\"export.texts\");\r\n                    var menuItems = [{\r\n                        text: texts.exportAll,\r\n                        icon: DATAGRID_EXPORT_EXCEL_ICON\r\n                    }, {\r\n                        text: texts.exportSelectedRows,\r\n                        exportSelected: true,\r\n                        icon: DATAGRID_EXPORT_SELECTED_ICON\r\n                    }];\r\n                    var $menuContainer = (0, _renderer.default)(\"<div>\").appendTo($buttonContainer);\r\n                    that._contextMenu = that._createComponent($menuContainer, _context_menu.default, {\r\n                        showEvent: \"dxclick\",\r\n                        items: menuItems,\r\n                        cssClass: DATAGRID_EXPORT_MENU_CLASS,\r\n                        onItemClick: function(e) {\r\n                            that._exportController.exportToExcel(e.itemData.exportSelected)\r\n                        },\r\n                        target: $button,\r\n                        position: {\r\n                            at: \"left bottom\",\r\n                            my: \"left top\",\r\n                            offset: \"0 3\",\r\n                            collision: \"fit\",\r\n                            boundary: that._$parent,\r\n                            boundaryOffset: \"1 1\"\r\n                        }\r\n                    })\r\n                },\r\n                _isExportButtonVisible: function() {\r\n                    return this.option(\"export.enabled\")\r\n                },\r\n                _getButtonOptions: function(allowExportSelected) {\r\n                    var that = this;\r\n                    var texts = that.option(\"export.texts\");\r\n                    var options;\r\n                    if (allowExportSelected) {\r\n                        options = {\r\n                            hint: texts.exportTo,\r\n                            icon: DATAGRID_EXPORT_ICON\r\n                        }\r\n                    } else {\r\n                        options = {\r\n                            hint: texts.exportAll,\r\n                            icon: DATAGRID_EXPORT_EXCEL_BUTTON_ICON,\r\n                            onClick: function() {\r\n                                that._exportController.exportToExcel()\r\n                            }\r\n                        }\r\n                    }\r\n                    return options\r\n                },\r\n                optionChanged: function(args) {\r\n                    this.callBase(args);\r\n                    if (\"export\" === args.name) {\r\n                        args.handled = true;\r\n                        this._invalidate()\r\n                    }\r\n                },\r\n                init: function() {\r\n                    var that = this;\r\n                    this.callBase();\r\n                    this._exportController = this.getController(\"export\");\r\n                    this._editingController = this.getController(\"editing\");\r\n                    this._editingController.editingChanged.add(function(hasChanges) {\r\n                        that.setToolbarItemDisabled(\"exportButton\", hasChanges)\r\n                    })\r\n                },\r\n                isVisible: function() {\r\n                    return this.callBase() || this._isExportButtonVisible()\r\n                }\r\n            }\r\n        }\r\n    }\r\n});\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.export_mixin.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _default = {\r\n    _getEmptyCell: function() {\r\n        return {\r\n            text: \"\",\r\n            value: void 0,\r\n            colspan: 1,\r\n            rowspan: 1\r\n        }\r\n    },\r\n    _defaultSetter: function(value) {\r\n        return !value ? 1 : value\r\n    },\r\n    _cloneItem: function(item) {\r\n        return (0, _extend.extend)({}, item, this._getEmptyCell())\r\n    },\r\n    _prepareItems: function(items) {\r\n        var that = this;\r\n        var resultItems = [];\r\n        var cols = (items[0] || []).reduce(function(sum, item) {\r\n            return sum + that._defaultSetter(item.colspan)\r\n        }, 0);\r\n        var getItem = function(items) {\r\n            var rowIndex = 0;\r\n            var cellIndex = 0;\r\n            return function() {\r\n                var row = items[rowIndex] || [];\r\n                var item = row[cellIndex++];\r\n                if (cellIndex >= row.length) {\r\n                    rowIndex++;\r\n                    cellIndex = 0\r\n                }\r\n                if (item) {\r\n                    item.colspan = that._defaultSetter(item.colspan);\r\n                    item.rowspan = that._defaultSetter(item.rowspan)\r\n                }\r\n                return item\r\n            }\r\n        }(items);\r\n\r\n        function addItem(rowIndex, cellIndex, item) {\r\n            var row = resultItems[rowIndex] = resultItems[rowIndex] || [];\r\n            row[cellIndex] = item;\r\n            if (item.colspan > 1 || item.rowspan > 1) {\r\n                var clone = that._cloneItem(item);\r\n                for (var c = 1; c < item.colspan; c++) {\r\n                    addItem(rowIndex, cellIndex + c, clone)\r\n                }\r\n                for (var r = 1; r < item.rowspan; r++) {\r\n                    for (var _c = 0; _c < item.colspan; _c++) {\r\n                        addItem(rowIndex + r, cellIndex + _c, clone)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var item = getItem();\r\n        var rowIndex = 0;\r\n        while (item) {\r\n            for (var cellIndex = 0; cellIndex < cols; cellIndex++) {\r\n                if (!item) {\r\n                    break\r\n                }\r\n                if (resultItems[rowIndex] && resultItems[rowIndex][cellIndex]) {\r\n                    continue\r\n                }\r\n                addItem(rowIndex, cellIndex, item);\r\n                cellIndex += item.colspan - 1;\r\n                item = getItem()\r\n            }\r\n            rowIndex++\r\n        }\r\n        return resultItems\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (exporter.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.export = _export;\r\nObject.defineProperty(exports, \"fileSaver\", {\r\n    enumerable: true,\r\n    get: function() {\r\n        return _file_saver.fileSaver\r\n    }\r\n});\r\nexports.svg = exports.pdf = exports.image = exports.excel = void 0;\r\nvar _file_saver = require(\"./exporter/file_saver\");\r\nvar _excel_creator = require(\"./exporter/excel_creator\");\r\nvar _image_creator = require(\"./exporter/image_creator\");\r\nvar _svg_creator = require(\"./exporter/svg_creator\");\r\nvar _type = require(\"./core/utils/type\");\r\nvar _deferred = require(\"./core/utils/deferred\");\r\nvar _excel_format_converter = _interopRequireDefault(require(\"./exporter/excel_format_converter\"));\r\nvar _pdf_creator = require(\"./exporter/pdf_creator\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _export(data, options, getData) {\r\n    if (!data) {\r\n        return (new _deferred.Deferred).resolve()\r\n    }\r\n    var exportingAction = options.exportingAction;\r\n    var exportedAction = options.exportedAction;\r\n    var fileSavingAction = options.fileSavingAction;\r\n    var eventArgs = {\r\n        fileName: options.fileName,\r\n        format: options.format,\r\n        cancel: false\r\n    };\r\n    (0, _type.isFunction)(exportingAction) && exportingAction(eventArgs);\r\n    if (!eventArgs.cancel) {\r\n        return getData(data, options).then(function(blob) {\r\n            (0, _type.isFunction)(exportedAction) && exportedAction();\r\n            if ((0, _type.isFunction)(fileSavingAction)) {\r\n                eventArgs.data = blob;\r\n                fileSavingAction(eventArgs)\r\n            }\r\n            if (!eventArgs.cancel) {\r\n                _file_saver.fileSaver.saveAs(eventArgs.fileName, options.format, blob, options.proxyUrl, options.forceProxy)\r\n            }\r\n        })\r\n    }\r\n    return (new _deferred.Deferred).resolve()\r\n}\r\nvar excel = {\r\n    creator: _excel_creator.ExcelCreator,\r\n    getData: _excel_creator.getData,\r\n    formatConverter: _excel_format_converter.default\r\n};\r\nexports.excel = excel;\r\nvar image = {\r\n    creator: _image_creator.imageCreator,\r\n    getData: _image_creator.getData,\r\n    testFormats: _image_creator.testFormats\r\n};\r\nexports.image = image;\r\nvar pdf = {\r\n    getData: _pdf_creator.getData\r\n};\r\nexports.pdf = pdf;\r\nvar svg = {\r\n    creator: _svg_creator.svgCreator,\r\n    getData: _svg_creator.getData\r\n};\r\nexports.svg = svg;\r\n","/**\r\n * DevExtreme (exporter/excel_creator.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.getData = getData;\r\nexports.ExcelCreator = void 0;\r\nvar _class = _interopRequireDefault(require(\"../core/class\"));\r\nvar _window = require(\"../core/utils/window\");\r\nvar _type = require(\"../core/utils/type\");\r\nvar _extend = require(\"../core/utils/extend\");\r\nvar _ui = _interopRequireDefault(require(\"../ui/widget/ui.errors\"));\r\nvar _string = require(\"../core/utils/string\");\r\nvar _jszip = _interopRequireDefault(require(\"jszip\"));\r\nvar _file_saver = require(\"./file_saver\");\r\nvar _excel_format_converter = _interopRequireDefault(require(\"./excel_format_converter\"));\r\nvar _excel = _interopRequireDefault(require(\"./excel/excel.file\"));\r\nvar _deferred = require(\"../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nvar XML_TAG = '<?xml version=\"1.0\" encoding=\"utf-8\"?>';\r\nvar GROUP_SHEET_PR_XML = '<sheetPr><outlinePr summaryBelow=\"0\"/></sheetPr>';\r\nvar SINGLE_SHEET_PR_XML = \"<sheetPr/>\";\r\nvar BASE_STYLE_XML2 = '<borders count=\"1\"><border><left style=\"thin\"><color rgb=\"FFD3D3D3\"/></left><right style=\"thin\"><color rgb=\"FFD3D3D3\"/></right><top style=\"thin\"><color rgb=\"FFD3D3D3\"/></top><bottom style=\"thin\"><color rgb=\"FFD3D3D3\"/></bottom></border></borders><cellStyleXfs count=\"1\"><xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\"/></cellStyleXfs>';\r\nvar OPEN_XML_FORMAT_URL = \"http://schemas.openxmlformats.org\";\r\nvar RELATIONSHIP_PART_NAME = \"rels\";\r\nvar XL_FOLDER_NAME = \"xl\";\r\nvar WORKBOOK_FILE_NAME = \"workbook.xml\";\r\nvar CONTENTTYPES_FILE_NAME = \"[Content_Types].xml\";\r\nvar SHAREDSTRING_FILE_NAME = \"sharedStrings.xml\";\r\nvar STYLE_FILE_NAME = \"styles.xml\";\r\nvar WORKSHEETS_FOLDER = \"worksheets\";\r\nvar WORKSHEET_FILE_NAME = \"sheet1.xml\";\r\nvar WORKSHEET_HEADER_XML = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><worksheet xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" mc:Ignorable=\"x14ac\" xmlns:x14ac=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\">';\r\nvar VALID_TYPES = {\r\n    \"boolean\": \"b\",\r\n    date: \"d\",\r\n    number: \"n\",\r\n    string: \"s\"\r\n};\r\nvar EXCEL_START_TIME = Date.UTC(1899, 11, 30);\r\nvar DAYS_COUNT_BEFORE_29_FEB_1900 = 60;\r\nvar MAX_DIGIT_WIDTH_IN_PIXELS = 7;\r\nvar UNSUPPORTED_FORMAT_MAPPING = {\r\n    quarter: \"shortDate\",\r\n    quarterAndYear: \"shortDate\",\r\n    minute: \"longTime\",\r\n    millisecond: \"longTime\"\r\n};\r\nvar ExcelCreator = _class.default.inherit({\r\n    _getXMLTag: function(tagName, attributes, content) {\r\n        var result = \"<\" + tagName;\r\n        var i;\r\n        var length = attributes.length;\r\n        var attr;\r\n        for (i = 0; i < length; i++) {\r\n            attr = attributes[i];\r\n            if (void 0 !== attr.value) {\r\n                result = result + \" \" + attr.name + '=\"' + attr.value + '\"'\r\n            }\r\n        }\r\n        return (0, _type.isDefined)(content) ? result + \">\" + content + \"</\" + tagName + \">\" : result + \" />\"\r\n    },\r\n    _convertToExcelCellRef: function(zeroBasedRowIndex, zeroBasedCellIndex) {\r\n        var columnName = \"\";\r\n        var max = 26;\r\n        var charCode;\r\n        var isCellIndexFound;\r\n        while (!isCellIndexFound) {\r\n            charCode = 65 + (zeroBasedCellIndex >= max ? zeroBasedCellIndex % max : Math.ceil(zeroBasedCellIndex));\r\n            columnName = String.fromCharCode(charCode) + columnName;\r\n            if (zeroBasedCellIndex >= max) {\r\n                zeroBasedCellIndex = Math.floor(zeroBasedCellIndex / max) - 1\r\n            } else {\r\n                isCellIndexFound = true\r\n            }\r\n        }\r\n        return columnName + (zeroBasedRowIndex + 1)\r\n    },\r\n    _convertToExcelCellRefAndTrackMaxIndex: function(rowIndex, cellIndex) {\r\n        if (this._maxRowIndex < Number(rowIndex)) {\r\n            this._maxRowIndex = Number(rowIndex)\r\n        }\r\n        if (this._maxColumnIndex < Number(cellIndex)) {\r\n            this._maxColumnIndex = Number(cellIndex)\r\n        }\r\n        return this._convertToExcelCellRef(rowIndex, cellIndex)\r\n    },\r\n    _getDataType: function(dataType) {\r\n        return VALID_TYPES[dataType] || VALID_TYPES.string\r\n    },\r\n    _tryGetExcelCellDataType: function(object) {\r\n        if ((0, _type.isDefined)(object)) {\r\n            if (\"number\" === typeof object) {\r\n                if (isFinite(object)) {\r\n                    return VALID_TYPES.number\r\n                } else {\r\n                    return VALID_TYPES.string\r\n                }\r\n            } else {\r\n                if ((0, _type.isString)(object)) {\r\n                    return VALID_TYPES.string\r\n                } else {\r\n                    if ((0, _type.isDate)(object)) {\r\n                        return VALID_TYPES.number\r\n                    } else {\r\n                        if ((0, _type.isBoolean)(object)) {\r\n                            return VALID_TYPES.boolean\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _formatObjectConverter: function(format, dataType) {\r\n        var result = {\r\n            format: format,\r\n            precision: format && format.precision,\r\n            dataType: dataType\r\n        };\r\n        if ((0, _type.isObject)(format)) {\r\n            return (0, _extend.extend)(result, format, {\r\n                format: format.formatter || format.type,\r\n                currency: format.currency\r\n            })\r\n        }\r\n        return result\r\n    },\r\n    _tryConvertToExcelNumberFormat: function(format, dataType) {\r\n        var newFormat = this._formatObjectConverter(format, dataType);\r\n        format = newFormat.format;\r\n        var currency = newFormat.currency;\r\n        dataType = newFormat.dataType;\r\n        if ((0, _type.isDefined)(format) && \"date\" === dataType) {\r\n            format = UNSUPPORTED_FORMAT_MAPPING[format && format.type || format] || format\r\n        }\r\n        return _excel_format_converter.default.convertFormat(format, newFormat.precision, dataType, currency)\r\n    },\r\n    _appendString: function(value) {\r\n        if ((0, _type.isDefined)(value)) {\r\n            value = String(value);\r\n            if (value.length) {\r\n                value = (0, _string.encodeHtml)(value);\r\n                if (void 0 === this._stringHash[value]) {\r\n                    this._stringHash[value] = this._stringArray.length;\r\n                    this._stringArray.push(value)\r\n                }\r\n                return this._stringHash[value]\r\n            }\r\n        }\r\n    },\r\n    _tryGetExcelDateValue: function(date) {\r\n        var days;\r\n        var totalTime;\r\n        if ((0, _type.isDate)(date)) {\r\n            days = Math.floor((Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()) - EXCEL_START_TIME) / 864e5);\r\n            if (days < DAYS_COUNT_BEFORE_29_FEB_1900) {\r\n                days--\r\n            }\r\n            totalTime = (3600 * date.getHours() + 60 * date.getMinutes() + date.getSeconds()) / 86400;\r\n            return days + totalTime\r\n        }\r\n    },\r\n    _prepareValue: function(rowIndex, cellIndex) {\r\n        var dataProvider = this._dataProvider;\r\n        var _ref = dataProvider.getCellData(rowIndex, cellIndex) || {},\r\n            cellSourceData = _ref.cellSourceData;\r\n        var _ref2 = dataProvider.getCellData(rowIndex, cellIndex) || {},\r\n            value = _ref2.value;\r\n        var sourceValue;\r\n        var type = this._getDataType(dataProvider.getCellType(rowIndex, cellIndex));\r\n        if (type === VALID_TYPES.date && !(0, _type.isDate)(value)) {\r\n            type = VALID_TYPES.string\r\n        }\r\n        switch (type) {\r\n            case VALID_TYPES.string:\r\n                sourceValue = value;\r\n                value = this._appendString(value);\r\n                break;\r\n            case VALID_TYPES.date:\r\n                sourceValue = value;\r\n                value = this._tryGetExcelDateValue(value);\r\n                type = VALID_TYPES.number\r\n        }\r\n        return {\r\n            value: value,\r\n            type: type,\r\n            sourceValue: sourceValue,\r\n            cellSourceData: cellSourceData\r\n        }\r\n    },\r\n    _callCustomizeExcelCell: function(_ref3) {\r\n        var dataProvider = _ref3.dataProvider,\r\n            value = _ref3.value,\r\n            style = _ref3.style,\r\n            sourceData = _ref3.sourceData;\r\n        var styleCopy = _excel.default.copyCellFormat(style);\r\n        var args = {\r\n            value: value,\r\n            numberFormat: styleCopy.numberFormat,\r\n            clearStyle: function() {\r\n                this.horizontalAlignment = null;\r\n                this.verticalAlignment = null;\r\n                this.wrapTextEnabled = null;\r\n                this.font = null;\r\n                this.numberFormat = null\r\n            }\r\n        };\r\n        if ((0, _type.isDefined)(styleCopy)) {\r\n            if ((0, _type.isDefined)(styleCopy.alignment)) {\r\n                args.horizontalAlignment = styleCopy.alignment.horizontal;\r\n                args.verticalAlignment = styleCopy.alignment.vertical;\r\n                args.wrapTextEnabled = styleCopy.alignment.wrapText\r\n            }\r\n            args.backgroundColor = styleCopy.backgroundColor;\r\n            args.fillPatternType = styleCopy.fillPatternType;\r\n            args.fillPatternColor = styleCopy.fillPatternColor;\r\n            args.font = styleCopy.font\r\n        }\r\n        dataProvider.customizeExcelCell(args, sourceData);\r\n        var newStyle = styleCopy || {};\r\n        newStyle.font = args.font;\r\n        newStyle.alignment = newStyle.alignment || {};\r\n        newStyle.alignment.horizontal = args.horizontalAlignment;\r\n        newStyle.alignment.vertical = args.verticalAlignment;\r\n        newStyle.alignment.wrapText = args.wrapTextEnabled;\r\n        newStyle.backgroundColor = args.backgroundColor;\r\n        newStyle.fillPatternType = args.fillPatternType;\r\n        newStyle.fillPatternColor = args.fillPatternColor;\r\n        newStyle.numberFormat = args.numberFormat;\r\n        return {\r\n            value: args.value,\r\n            style: newStyle\r\n        }\r\n    },\r\n    _getDataArray: function() {\r\n        var that = this;\r\n        var rowIndex;\r\n        var cellIndex;\r\n        var cellsArray;\r\n        var cellData;\r\n        var result = [];\r\n        var dataProvider = that._dataProvider;\r\n        var rowsLength = dataProvider.getRowsCount();\r\n        var columns = dataProvider.getColumns();\r\n        var cellsLength;\r\n        for (rowIndex = 0; rowIndex < rowsLength; rowIndex++) {\r\n            cellsArray = [];\r\n            cellsLength = columns.length;\r\n            for (cellIndex = 0; cellIndex !== cellsLength; cellIndex++) {\r\n                cellData = that._prepareValue(rowIndex, cellIndex);\r\n                var styleArrayIndex = dataProvider.getStyleId(rowIndex, cellIndex);\r\n                var cellStyleId = this._styleArrayIndexToCellStyleIdMap[styleArrayIndex];\r\n                if (dataProvider.hasCustomizeExcelCell && dataProvider.hasCustomizeExcelCell()) {\r\n                    var value = cellData.sourceValue || cellData.value;\r\n                    var modifiedExcelCell = this._callCustomizeExcelCell({\r\n                        dataProvider: dataProvider,\r\n                        value: value,\r\n                        style: that._styleArray[styleArrayIndex],\r\n                        sourceData: cellData.cellSourceData\r\n                    });\r\n                    if (modifiedExcelCell.value !== value) {\r\n                        if (_typeof(modifiedExcelCell.value) !== _typeof(value) || \"number\" === typeof modifiedExcelCell.value && !isFinite(modifiedExcelCell.value)) {\r\n                            var cellDataType = this._tryGetExcelCellDataType(modifiedExcelCell.value);\r\n                            if ((0, _type.isDefined)(cellDataType)) {\r\n                                cellData.type = cellDataType\r\n                            }\r\n                        }\r\n                        switch (cellData.type) {\r\n                            case VALID_TYPES.string:\r\n                                cellData.value = this._appendString(modifiedExcelCell.value);\r\n                                break;\r\n                            case VALID_TYPES.date:\r\n                                cellData.value = modifiedExcelCell.value;\r\n                                break;\r\n                            case VALID_TYPES.number:\r\n                                var newValue = modifiedExcelCell.value;\r\n                                var excelDateValue = this._tryGetExcelDateValue(newValue);\r\n                                if ((0, _type.isDefined)(excelDateValue)) {\r\n                                    newValue = excelDateValue\r\n                                }\r\n                                cellData.value = newValue;\r\n                                break;\r\n                            default:\r\n                                cellData.value = modifiedExcelCell.value\r\n                        }\r\n                    }\r\n                    cellStyleId = this._excelFile.registerCellFormat(modifiedExcelCell.style)\r\n                }\r\n                cellsArray.push({\r\n                    style: cellStyleId,\r\n                    value: cellData.value,\r\n                    type: cellData.type\r\n                })\r\n            }\r\n            if (!that._needSheetPr && dataProvider.getGroupLevel(rowIndex) > 0) {\r\n                that._needSheetPr = true\r\n            }\r\n            result.push(cellsArray)\r\n        }\r\n        return result\r\n    },\r\n    _calculateWidth: function(pixelsWidth) {\r\n        pixelsWidth = parseInt(pixelsWidth, 10);\r\n        if (!pixelsWidth || pixelsWidth < 5) {\r\n            pixelsWidth = 100\r\n        }\r\n        return Math.min(255, Math.floor((pixelsWidth - 5) / MAX_DIGIT_WIDTH_IN_PIXELS * 100 + .5) / 100)\r\n    },\r\n    _prepareStyleData: function() {\r\n        var _this = this;\r\n        var that = this;\r\n        var styles = that._dataProvider.getStyles();\r\n        that._dataProvider.getColumns().forEach(function(column) {\r\n            that._colsArray.push(that._calculateWidth(column.width))\r\n        });\r\n        var fonts = [{\r\n            size: 11,\r\n            color: {\r\n                theme: 1\r\n            },\r\n            name: \"Calibri\",\r\n            family: 2,\r\n            scheme: \"minor\",\r\n            bold: false\r\n        }, {\r\n            size: 11,\r\n            color: {\r\n                theme: 1\r\n            },\r\n            name: \"Calibri\",\r\n            family: 2,\r\n            scheme: \"minor\",\r\n            bold: true\r\n        }];\r\n        this._excelFile.registerFont(fonts[0]);\r\n        this._excelFile.registerFont(fonts[1]);\r\n        styles.forEach(function(style) {\r\n            var numberFormat = that._tryConvertToExcelNumberFormat(style.format, style.dataType);\r\n            if (!(0, _type.isDefined)(numberFormat)) {\r\n                numberFormat = 0\r\n            }\r\n            that._styleArray.push({\r\n                font: fonts[Number(!!style.bold)],\r\n                numberFormat: numberFormat,\r\n                alignment: {\r\n                    vertical: \"top\",\r\n                    wrapText: !!style.wrapText,\r\n                    horizontal: style.alignment || \"left\"\r\n                }\r\n            })\r\n        });\r\n        that._styleArrayIndexToCellStyleIdMap = that._styleArray.map(function(item) {\r\n            return _this._excelFile.registerCellFormat(item)\r\n        })\r\n    },\r\n    _prepareCellData: function() {\r\n        this._cellsArray = this._getDataArray()\r\n    },\r\n    _createXMLRelationships: function(xmlRelationships) {\r\n        return this._getXMLTag(\"Relationships\", [{\r\n            name: \"xmlns\",\r\n            value: OPEN_XML_FORMAT_URL + \"/package/2006/relationships\"\r\n        }], xmlRelationships)\r\n    },\r\n    _createXMLRelationship: function(id, type, target) {\r\n        return this._getXMLTag(\"Relationship\", [{\r\n            name: \"Id\",\r\n            value: \"rId\" + id\r\n        }, {\r\n            name: \"Type\",\r\n            value: OPEN_XML_FORMAT_URL + \"/officeDocument/2006/relationships/\" + type\r\n        }, {\r\n            name: \"Target\",\r\n            value: target\r\n        }])\r\n    },\r\n    _getWorkbookContent: function() {\r\n        var content = '<bookViews><workbookView xWindow=\"0\" yWindow=\"0\" windowWidth=\"0\" windowHeight=\"0\"/></bookViews><sheets><sheet name=\"Sheet\" sheetId=\"1\" r:id=\"rId1\" /></sheets><definedNames><definedName name=\"_xlnm.Print_Titles\" localSheetId=\"0\">Sheet!$1:$1</definedName><definedName name=\"_xlnm._FilterDatabase\" hidden=\"0\" localSheetId=\"0\">Sheet!$A$1:$F$6332</definedName></definedNames>';\r\n        return XML_TAG + this._getXMLTag(\"workbook\", [{\r\n            name: \"xmlns:r\",\r\n            value: OPEN_XML_FORMAT_URL + \"/officeDocument/2006/relationships\"\r\n        }, {\r\n            name: \"xmlns\",\r\n            value: OPEN_XML_FORMAT_URL + \"/spreadsheetml/2006/main\"\r\n        }], content)\r\n    },\r\n    _getContentTypesContent: function() {\r\n        return XML_TAG + '<Types xmlns=\"' + OPEN_XML_FORMAT_URL + '/package/2006/content-types\"><Default Extension=\"rels\" ContentType=\"application/vnd.openxmlformats-package.relationships+xml\" /><Default Extension=\"xml\" ContentType=\"application/xml\" /><Override PartName=\"/xl/worksheets/sheet1.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\" /><Override PartName=\"/xl/styles.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\" /><Override PartName=\"/xl/sharedStrings.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\" /><Override PartName=\"/xl/workbook.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\" /></Types>'\r\n    },\r\n    _generateStylesXML: function() {\r\n        var that = this;\r\n        var folder = that._zip.folder(XL_FOLDER_NAME);\r\n        var XML = \"\";\r\n        XML += this._excelFile.generateNumberFormatsXml();\r\n        XML += this._excelFile.generateFontsXml();\r\n        XML += this._excelFile.generateFillsXml();\r\n        XML += BASE_STYLE_XML2;\r\n        XML += this._excelFile.generateCellFormatsXml();\r\n        XML += that._getXMLTag(\"cellStyles\", [{\r\n            name: \"count\",\r\n            value: 1\r\n        }], that._getXMLTag(\"cellStyle\", [{\r\n            name: \"name\",\r\n            value: \"Normal\"\r\n        }, {\r\n            name: \"xfId\",\r\n            value: 0\r\n        }, {\r\n            name: \"builtinId\",\r\n            value: 0\r\n        }]));\r\n        XML = XML_TAG + that._getXMLTag(\"styleSheet\", [{\r\n            name: \"xmlns\",\r\n            value: OPEN_XML_FORMAT_URL + \"/spreadsheetml/2006/main\"\r\n        }], XML);\r\n        folder.file(STYLE_FILE_NAME, XML);\r\n        that._styleArray = []\r\n    },\r\n    _generateStringsXML: function() {\r\n        var folder = this._zip.folder(XL_FOLDER_NAME);\r\n        var stringIndex;\r\n        var stringsLength = this._stringArray.length;\r\n        var sharedStringXml = XML_TAG;\r\n        for (stringIndex = 0; stringIndex < stringsLength; stringIndex++) {\r\n            this._stringArray[stringIndex] = this._getXMLTag(\"si\", [], this._getXMLTag(\"t\", [], this._stringArray[stringIndex]))\r\n        }\r\n        sharedStringXml += this._getXMLTag(\"sst\", [{\r\n            name: \"xmlns\",\r\n            value: OPEN_XML_FORMAT_URL + \"/spreadsheetml/2006/main\"\r\n        }, {\r\n            name: \"count\",\r\n            value: this._stringArray.length\r\n        }, {\r\n            name: \"uniqueCount\",\r\n            value: this._stringArray.length\r\n        }], this._stringArray.join(\"\"));\r\n        folder.file(SHAREDSTRING_FILE_NAME, sharedStringXml);\r\n        this._stringArray = []\r\n    },\r\n    _getPaneXML: function() {\r\n        var attributes = [{\r\n            name: \"activePane\",\r\n            value: \"bottomLeft\"\r\n        }, {\r\n            name: \"state\",\r\n            value: \"frozen\"\r\n        }];\r\n        var frozenArea = this._dataProvider.getFrozenArea();\r\n        if (!(frozenArea.x || frozenArea.y)) {\r\n            return \"\"\r\n        }\r\n        if (frozenArea.x) {\r\n            attributes.push({\r\n                name: \"xSplit\",\r\n                value: frozenArea.x\r\n            })\r\n        }\r\n        if (frozenArea.y) {\r\n            attributes.push({\r\n                name: \"ySplit\",\r\n                value: frozenArea.y\r\n            })\r\n        }\r\n        attributes.push({\r\n            name: \"topLeftCell\",\r\n            value: this._convertToExcelCellRefAndTrackMaxIndex(frozenArea.y, frozenArea.x)\r\n        });\r\n        return this._getXMLTag(\"pane\", attributes)\r\n    },\r\n    _getAutoFilterXML: function(maxCellIndex) {\r\n        if (this._options.autoFilterEnabled) {\r\n            return '<autoFilter ref=\"A' + this._dataProvider.getHeaderRowCount() + \":\" + maxCellIndex + '\" />'\r\n        }\r\n        return \"\"\r\n    },\r\n    _getIgnoredErrorsXML: function(maxCellIndex) {\r\n        if (this._options.ignoreErrors) {\r\n            return '<ignoredErrors><ignoredError sqref=\"A1:' + maxCellIndex + '\" numberStoredAsText=\"1\" /></ignoredErrors>'\r\n        }\r\n        return \"\"\r\n    },\r\n    _generateWorksheetXML: function() {\r\n        var colIndex;\r\n        var rowIndex;\r\n        var cellData;\r\n        var xmlCells;\r\n        var xmlRows = [];\r\n        var rowsLength = this._cellsArray.length;\r\n        var cellsLength;\r\n        var colsLength = this._colsArray.length;\r\n        var rSpans = \"1:\" + colsLength;\r\n        var headerRowCount = this._dataProvider.getHeaderRowCount ? this._dataProvider.getHeaderRowCount() : 1;\r\n        var xmlResult = [WORKSHEET_HEADER_XML];\r\n        xmlResult.push(this._needSheetPr ? GROUP_SHEET_PR_XML : SINGLE_SHEET_PR_XML);\r\n        xmlResult.push('<dimension ref=\"A1:C1\"/>');\r\n        xmlResult.push(\"<sheetViews><sheetView \");\r\n        xmlResult.push(this._rtlEnabled ? 'rightToLeft=\"1\" ' : \"\");\r\n        xmlResult.push('tabSelected=\"1\" workbookViewId=\"0\">');\r\n        xmlResult.push(this._getPaneXML());\r\n        xmlResult.push(\"</sheetView></sheetViews>\");\r\n        xmlResult.push('<sheetFormatPr defaultRowHeight=\"15\"');\r\n        xmlResult.push(' outlineLevelRow=\"' + (this._dataProvider.getRowsCount() > 0 ? this._dataProvider.getGroupLevel(0) : 0) + '\"');\r\n        xmlResult.push(' x14ac:dyDescent=\"0.25\"/>');\r\n        for (colIndex = 0; colIndex < colsLength; colIndex++) {\r\n            this._colsArray[colIndex] = this._getXMLTag(\"col\", [{\r\n                name: \"width\",\r\n                value: this._colsArray[colIndex]\r\n            }, {\r\n                name: \"min\",\r\n                value: Number(colIndex) + 1\r\n            }, {\r\n                name: \"max\",\r\n                value: Number(colIndex) + 1\r\n            }, {\r\n                name: \"customWidth\",\r\n                value: 1\r\n            }])\r\n        }\r\n        xmlResult.push(this._getXMLTag(\"cols\", [], this._colsArray.join(\"\")) + \"<sheetData>\");\r\n        for (rowIndex = 0; rowIndex < rowsLength; rowIndex++) {\r\n            xmlCells = [];\r\n            cellsLength = this._cellsArray[rowIndex].length;\r\n            for (colIndex = 0; colIndex < cellsLength; colIndex++) {\r\n                rowIndex = Number(rowIndex);\r\n                cellData = this._cellsArray[rowIndex][colIndex];\r\n                xmlCells.push(this._getXMLTag(\"c\", [{\r\n                    name: \"r\",\r\n                    value: this._convertToExcelCellRefAndTrackMaxIndex(rowIndex, colIndex)\r\n                }, {\r\n                    name: \"s\",\r\n                    value: cellData.style\r\n                }, {\r\n                    name: \"t\",\r\n                    value: cellData.type\r\n                }], (0, _type.isDefined)(cellData.value) ? this._getXMLTag(\"v\", [], cellData.value) : null))\r\n            }\r\n            xmlRows.push(this._getXMLTag(\"row\", [{\r\n                name: \"r\",\r\n                value: Number(rowIndex) + 1\r\n            }, {\r\n                name: \"spans\",\r\n                value: rSpans\r\n            }, {\r\n                name: \"outlineLevel\",\r\n                value: rowIndex >= headerRowCount ? this._dataProvider.getGroupLevel(rowIndex) : 0\r\n            }, {\r\n                name: \"x14ac:dyDescent\",\r\n                value: \"0.25\"\r\n            }], xmlCells.join(\"\")));\r\n            this._cellsArray[rowIndex] = null;\r\n            if (xmlRows.length > 1e4) {\r\n                xmlResult.push(xmlRows.join(\"\"));\r\n                xmlRows = []\r\n            }\r\n        }\r\n        xmlResult.push(xmlRows.join(\"\"));\r\n        xmlRows = [];\r\n        var rightBottomCellRef = this._convertToExcelCellRef(this._maxRowIndex, this._maxColumnIndex);\r\n        xmlResult.push(\"</sheetData>\" + this._getAutoFilterXML(rightBottomCellRef) + this._generateMergingXML() + this._getIgnoredErrorsXML(rightBottomCellRef) + \"</worksheet>\");\r\n        this._zip.folder(XL_FOLDER_NAME).folder(WORKSHEETS_FOLDER).file(WORKSHEET_FILE_NAME, xmlResult.join(\"\"));\r\n        this._colsArray = [];\r\n        this._cellsArray = [];\r\n        xmlResult = []\r\n    },\r\n    _generateMergingXML: function() {\r\n        var k;\r\n        var l;\r\n        var cellIndex;\r\n        var rowIndex;\r\n        var rowsLength = (0, _type.isDefined)(this._dataProvider.getHeaderRowCount) ? this._dataProvider.getHeaderRowCount() : this._dataProvider.getRowsCount();\r\n        var columnsLength = this._dataProvider.getColumns().length;\r\n        var usedArea = [];\r\n        var mergeArray = [];\r\n        var mergeIndex;\r\n        var mergeXML = \"\";\r\n        for (rowIndex = 0; rowIndex < rowsLength; rowIndex++) {\r\n            for (cellIndex = 0; cellIndex !== columnsLength; cellIndex++) {\r\n                if (!(0, _type.isDefined)(usedArea[rowIndex]) || !(0, _type.isDefined)(usedArea[rowIndex][cellIndex])) {\r\n                    var cellMerge = this._dataProvider.getCellMerging(rowIndex, cellIndex);\r\n                    if (cellMerge.colspan || cellMerge.rowspan) {\r\n                        mergeArray.push({\r\n                            start: this._convertToExcelCellRefAndTrackMaxIndex(rowIndex, cellIndex),\r\n                            end: this._convertToExcelCellRefAndTrackMaxIndex(rowIndex + (cellMerge.rowspan || 0), cellIndex + (cellMerge.colspan || 0))\r\n                        });\r\n                        for (k = rowIndex; k <= rowIndex + cellMerge.rowspan || 0; k++) {\r\n                            for (l = cellIndex; l <= cellIndex + cellMerge.colspan || 0; l++) {\r\n                                if (!(0, _type.isDefined)(usedArea[k])) {\r\n                                    usedArea[k] = []\r\n                                }\r\n                                usedArea[k][l] = true\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var mergeArrayLength = mergeArray.length;\r\n        for (mergeIndex = 0; mergeIndex < mergeArrayLength; mergeIndex++) {\r\n            mergeXML += this._getXMLTag(\"mergeCell\", [{\r\n                name: \"ref\",\r\n                value: mergeArray[mergeIndex].start + \":\" + mergeArray[mergeIndex].end\r\n            }])\r\n        }\r\n        return mergeXML.length ? this._getXMLTag(\"mergeCells\", [{\r\n            name: \"count\",\r\n            value: mergeArrayLength\r\n        }], mergeXML) : \"\"\r\n    },\r\n    _generateCommonXML: function() {\r\n        var relsFileContent = XML_TAG + this._createXMLRelationships(this._createXMLRelationship(1, \"officeDocument\", \"xl/\" + WORKBOOK_FILE_NAME));\r\n        var folder = this._zip.folder(XL_FOLDER_NAME);\r\n        var relsXML = XML_TAG;\r\n        this._zip.folder(\"_\" + RELATIONSHIP_PART_NAME).file(\".\" + RELATIONSHIP_PART_NAME, relsFileContent);\r\n        var xmlRelationships = this._createXMLRelationship(1, \"worksheet\", \"worksheets/\" + WORKSHEET_FILE_NAME) + this._createXMLRelationship(2, \"styles\", STYLE_FILE_NAME) + this._createXMLRelationship(3, \"sharedStrings\", SHAREDSTRING_FILE_NAME);\r\n        relsXML += this._createXMLRelationships(xmlRelationships);\r\n        folder.folder(\"_\" + RELATIONSHIP_PART_NAME).file(WORKBOOK_FILE_NAME + \".rels\", relsXML);\r\n        folder.file(WORKBOOK_FILE_NAME, this._getWorkbookContent());\r\n        this._zip.file(CONTENTTYPES_FILE_NAME, this._getContentTypesContent())\r\n    },\r\n    _generateContent: function() {\r\n        this._prepareStyleData();\r\n        this._prepareCellData();\r\n        this._generateWorkXML();\r\n        this._generateCommonXML()\r\n    },\r\n    _generateWorkXML: function() {\r\n        this._generateStylesXML();\r\n        this._generateStringsXML();\r\n        this._generateWorksheetXML()\r\n    },\r\n    ctor: function(dataProvider, options) {\r\n        this._rtlEnabled = options && !!options.rtlEnabled;\r\n        this._options = options;\r\n        this._maxRowIndex = 0;\r\n        this._maxColumnIndex = 0;\r\n        this._stringArray = [];\r\n        this._stringHash = {};\r\n        this._styleArray = [];\r\n        this._colsArray = [];\r\n        this._cellsArray = [];\r\n        this._needSheetPr = false;\r\n        this._dataProvider = dataProvider;\r\n        this._excelFile = new _excel.default;\r\n        if ((0, _type.isDefined)(ExcelCreator.JSZip)) {\r\n            this._zip = new ExcelCreator.JSZip\r\n        } else {\r\n            this._zip = null\r\n        }\r\n    },\r\n    _checkZipState: function() {\r\n        if (!this._zip) {\r\n            throw _ui.default.Error(\"E1041\", \"JSZip\")\r\n        }\r\n    },\r\n    ready: function() {\r\n        return this._dataProvider.ready()\r\n    },\r\n    getData: function(isBlob) {\r\n        var options = {\r\n            type: isBlob ? \"blob\" : \"base64\",\r\n            compression: \"DEFLATE\",\r\n            mimeType: _file_saver.MIME_TYPES.EXCEL\r\n        };\r\n        var deferred = new _deferred.Deferred;\r\n        this._checkZipState();\r\n        this._generateContent();\r\n        if (this._zip.generateAsync) {\r\n            this._zip.generateAsync(options).then(deferred.resolve)\r\n        } else {\r\n            deferred.resolve(this._zip.generate(options))\r\n        }\r\n        return deferred\r\n    }\r\n});\r\nexports.ExcelCreator = ExcelCreator;\r\nExcelCreator.JSZip = _jszip.default;\r\n\r\nfunction getData(data, options) {\r\n    var excelCreator = new ExcelCreator(data, options);\r\n    excelCreator._checkZipState();\r\n    return excelCreator.ready().then(function() {\r\n        return excelCreator.getData((0, _type.isFunction)((0, _window.getWindow)().Blob))\r\n    })\r\n}\r\n","/*!\n\nJSZip v3.7.1 - A JavaScript class for generating and reading zip files\n<http://stuartk.com/jszip>\n\n(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>\nDual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.\n\nJSZip uses the library pako released under the MIT license :\nhttps://github.com/nodeca/pako/blob/master/LICENSE\n*/\n\n!function(t){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).JSZip=t()}}(function(){return function s(a,o,h){function u(r,t){if(!o[r]){if(!a[r]){var e=\"function\"==typeof require&&require;if(!t&&e)return e(r,!0);if(l)return l(r,!0);var i=new Error(\"Cannot find module '\"+r+\"'\");throw i.code=\"MODULE_NOT_FOUND\",i}var n=o[r]={exports:{}};a[r][0].call(n.exports,function(t){var e=a[r][1][t];return u(e||t)},n,n.exports,s,a,o,h)}return o[r].exports}for(var l=\"function\"==typeof require&&require,t=0;t<h.length;t++)u(h[t]);return u}({1:[function(t,e,r){\"use strict\";var c=t(\"./utils\"),d=t(\"./support\"),p=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";r.encode=function(t){for(var e,r,i,n,s,a,o,h=[],u=0,l=t.length,f=l,d=\"string\"!==c.getTypeOf(t);u<t.length;)f=l-u,i=d?(e=t[u++],r=u<l?t[u++]:0,u<l?t[u++]:0):(e=t.charCodeAt(u++),r=u<l?t.charCodeAt(u++):0,u<l?t.charCodeAt(u++):0),n=e>>2,s=(3&e)<<4|r>>4,a=1<f?(15&r)<<2|i>>6:64,o=2<f?63&i:64,h.push(p.charAt(n)+p.charAt(s)+p.charAt(a)+p.charAt(o));return h.join(\"\")},r.decode=function(t){var e,r,i,n,s,a,o=0,h=0,u=\"data:\";if(t.substr(0,u.length)===u)throw new Error(\"Invalid base64 input, it looks like a data url.\");var l,f=3*(t=t.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\")).length/4;if(t.charAt(t.length-1)===p.charAt(64)&&f--,t.charAt(t.length-2)===p.charAt(64)&&f--,f%1!=0)throw new Error(\"Invalid base64 input, bad content length.\");for(l=d.uint8array?new Uint8Array(0|f):new Array(0|f);o<t.length;)e=p.indexOf(t.charAt(o++))<<2|(n=p.indexOf(t.charAt(o++)))>>4,r=(15&n)<<4|(s=p.indexOf(t.charAt(o++)))>>2,i=(3&s)<<6|(a=p.indexOf(t.charAt(o++))),l[h++]=e,64!==s&&(l[h++]=r),64!==a&&(l[h++]=i);return l}},{\"./support\":30,\"./utils\":32}],2:[function(t,e,r){\"use strict\";var i=t(\"./external\"),n=t(\"./stream/DataWorker\"),s=t(\"./stream/Crc32Probe\"),a=t(\"./stream/DataLengthProbe\");function o(t,e,r,i,n){this.compressedSize=t,this.uncompressedSize=e,this.crc32=r,this.compression=i,this.compressedContent=n}o.prototype={getContentWorker:function(){var t=new n(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a(\"data_length\")),e=this;return t.on(\"end\",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error(\"Bug : uncompressed data size mismatch\")}),t},getCompressedWorker:function(){return new n(i.Promise.resolve(this.compressedContent)).withStreamInfo(\"compressedSize\",this.compressedSize).withStreamInfo(\"uncompressedSize\",this.uncompressedSize).withStreamInfo(\"crc32\",this.crc32).withStreamInfo(\"compression\",this.compression)}},o.createWorkerFrom=function(t,e,r){return t.pipe(new s).pipe(new a(\"uncompressedSize\")).pipe(e.compressWorker(r)).pipe(new a(\"compressedSize\")).withStreamInfo(\"compression\",e)},e.exports=o},{\"./external\":6,\"./stream/Crc32Probe\":25,\"./stream/DataLengthProbe\":26,\"./stream/DataWorker\":27}],3:[function(t,e,r){\"use strict\";var i=t(\"./stream/GenericWorker\");r.STORE={magic:\"\\0\\0\",compressWorker:function(t){return new i(\"STORE compression\")},uncompressWorker:function(){return new i(\"STORE decompression\")}},r.DEFLATE=t(\"./flate\")},{\"./flate\":7,\"./stream/GenericWorker\":28}],4:[function(t,e,r){\"use strict\";var i=t(\"./utils\");var o=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?\"string\"!==i.getTypeOf(t)?function(t,e,r,i){var n=o,s=i+r;t^=-1;for(var a=i;a<s;a++)t=t>>>8^n[255&(t^e[a])];return-1^t}(0|e,t,t.length,0):function(t,e,r,i){var n=o,s=i+r;t^=-1;for(var a=i;a<s;a++)t=t>>>8^n[255&(t^e.charCodeAt(a))];return-1^t}(0|e,t,t.length,0):0}},{\"./utils\":32}],5:[function(t,e,r){\"use strict\";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,e,r){\"use strict\";var i=null;i=\"undefined\"!=typeof Promise?Promise:t(\"lie\"),e.exports={Promise:i}},{lie:37}],7:[function(t,e,r){\"use strict\";var i=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,n=t(\"pako\"),s=t(\"./utils\"),a=t(\"./stream/GenericWorker\"),o=i?\"uint8array\":\"array\";function h(t,e){a.call(this,\"FlateWorker/\"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}r.magic=\"\\b\\0\",s.inherits(h,a),h.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,t.data),!1)},h.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(t){return new h(\"Deflate\",t)},r.uncompressWorker=function(){return new h(\"Inflate\",{})}},{\"./stream/GenericWorker\":28,\"./utils\":32,pako:38}],8:[function(t,e,r){\"use strict\";function A(t,e){var r,i=\"\";for(r=0;r<e;r++)i+=String.fromCharCode(255&t),t>>>=8;return i}function i(t,e,r,i,n,s){var a,o,h=t.file,u=t.compression,l=s!==O.utf8encode,f=I.transformTo(\"string\",s(h.name)),d=I.transformTo(\"string\",O.utf8encode(h.name)),c=h.comment,p=I.transformTo(\"string\",s(c)),m=I.transformTo(\"string\",O.utf8encode(c)),_=d.length!==h.name.length,g=m.length!==c.length,b=\"\",v=\"\",y=\"\",w=h.dir,k=h.date,x={crc32:0,compressedSize:0,uncompressedSize:0};e&&!r||(x.crc32=t.crc32,x.compressedSize=t.compressedSize,x.uncompressedSize=t.uncompressedSize);var S=0;e&&(S|=8),l||!_&&!g||(S|=2048);var z=0,C=0;w&&(z|=16),\"UNIX\"===n?(C=798,z|=function(t,e){var r=t;return t||(r=e?16893:33204),(65535&r)<<16}(h.unixPermissions,w)):(C=20,z|=function(t){return 63&(t||0)}(h.dosPermissions)),a=k.getUTCHours(),a<<=6,a|=k.getUTCMinutes(),a<<=5,a|=k.getUTCSeconds()/2,o=k.getUTCFullYear()-1980,o<<=4,o|=k.getUTCMonth()+1,o<<=5,o|=k.getUTCDate(),_&&(v=A(1,1)+A(B(f),4)+d,b+=\"up\"+A(v.length,2)+v),g&&(y=A(1,1)+A(B(p),4)+m,b+=\"uc\"+A(y.length,2)+y);var E=\"\";return E+=\"\\n\\0\",E+=A(S,2),E+=u.magic,E+=A(a,2),E+=A(o,2),E+=A(x.crc32,4),E+=A(x.compressedSize,4),E+=A(x.uncompressedSize,4),E+=A(f.length,2),E+=A(b.length,2),{fileRecord:R.LOCAL_FILE_HEADER+E+f+b,dirRecord:R.CENTRAL_FILE_HEADER+A(C,2)+E+A(p.length,2)+\"\\0\\0\\0\\0\"+A(z,4)+A(i,4)+f+b+p}}var I=t(\"../utils\"),n=t(\"../stream/GenericWorker\"),O=t(\"../utf8\"),B=t(\"../crc32\"),R=t(\"../signature\");function s(t,e,r,i){n.call(this,\"ZipFileWorker\"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=r,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}I.inherits(s,n),s.prototype.push=function(t){var e=t.meta.percent||0,r=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,n.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:r?(e+100*(r-i-1))/r:100}}))},s.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var r=i(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},s.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,r=i(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),e)this.push({data:function(t){return R.DATA_DESCRIPTOR+A(t.crc32,4)+A(t.compressedSize,4)+A(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},s.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var r=this.bytesWritten-t,i=function(t,e,r,i,n){var s=I.transformTo(\"string\",n(i));return R.CENTRAL_DIRECTORY_END+\"\\0\\0\\0\\0\"+A(t,2)+A(t,2)+A(e,4)+A(r,4)+A(s.length,2)+s}(this.dirRecords.length,r,t,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},s.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},s.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on(\"data\",function(t){e.processChunk(t)}),t.on(\"end\",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on(\"error\",function(t){e.error(t)}),this},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},s.prototype.error=function(t){var e=this._sources;if(!n.prototype.error.call(this,t))return!1;for(var r=0;r<e.length;r++)try{e[r].error(t)}catch(t){}return!0},s.prototype.lock=function(){n.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=s},{\"../crc32\":4,\"../signature\":23,\"../stream/GenericWorker\":28,\"../utf8\":31,\"../utils\":32}],9:[function(t,e,r){\"use strict\";var u=t(\"../compressions\"),i=t(\"./ZipFileWorker\");r.generateWorker=function(t,a,e){var o=new i(a.streamFiles,e,a.platform,a.encodeFileName),h=0;try{t.forEach(function(t,e){h++;var r=function(t,e){var r=t||e,i=u[r];if(!i)throw new Error(r+\" is not a valid compression method !\");return i}(e.options.compression,a.compression),i=e.options.compressionOptions||a.compressionOptions||{},n=e.dir,s=e.date;e._compressWorker(r,i).withStreamInfo(\"file\",{name:t,dir:n,date:s,comment:e.comment||\"\",unixPermissions:e.unixPermissions,dosPermissions:e.dosPermissions}).pipe(o)}),o.entriesCount=h}catch(t){o.error(t)}return o}},{\"../compressions\":3,\"./ZipFileWorker\":8}],10:[function(t,e,r){\"use strict\";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error(\"The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.\");this.files=Object.create(null),this.comment=null,this.root=\"\",this.clone=function(){var t=new i;for(var e in this)\"function\"!=typeof this[e]&&(t[e]=this[e]);return t}}(i.prototype=t(\"./object\")).loadAsync=t(\"./load\"),i.support=t(\"./support\"),i.defaults=t(\"./defaults\"),i.version=\"3.7.1\",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=t(\"./external\"),e.exports=i},{\"./defaults\":5,\"./external\":6,\"./load\":11,\"./object\":15,\"./support\":30}],11:[function(t,e,r){\"use strict\";var i=t(\"./utils\"),n=t(\"./external\"),o=t(\"./utf8\"),h=t(\"./zipEntries\"),s=t(\"./stream/Crc32Probe\"),u=t(\"./nodejsUtils\");function l(i){return new n.Promise(function(t,e){var r=i.decompressed.getContentWorker().pipe(new s);r.on(\"error\",function(t){e(t)}).on(\"end\",function(){r.streamInfo.crc32!==i.decompressed.crc32?e(new Error(\"Corrupted zip : CRC32 mismatch\")):t()}).resume()})}e.exports=function(t,s){var a=this;return s=i.extend(s||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(t)?n.Promise.reject(new Error(\"JSZip can't accept a stream when loading a zip file.\")):i.prepareContent(\"the loaded zip file\",t,!0,s.optimizedBinaryString,s.base64).then(function(t){var e=new h(s);return e.load(t),e}).then(function(t){var e=[n.Promise.resolve(t)],r=t.files;if(s.checkCRC32)for(var i=0;i<r.length;i++)e.push(l(r[i]));return n.Promise.all(e)}).then(function(t){for(var e=t.shift(),r=e.files,i=0;i<r.length;i++){var n=r[i];a.file(n.fileNameStr,n.decompressed,{binary:!0,optimizedBinaryString:!0,date:n.date,dir:n.dir,comment:n.fileCommentStr.length?n.fileCommentStr:null,unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions,createFolders:s.createFolders})}return e.zipComment.length&&(a.comment=e.zipComment),a})}},{\"./external\":6,\"./nodejsUtils\":14,\"./stream/Crc32Probe\":25,\"./utf8\":31,\"./utils\":32,\"./zipEntries\":33}],12:[function(t,e,r){\"use strict\";var i=t(\"../utils\"),n=t(\"../stream/GenericWorker\");function s(t,e){n.call(this,\"Nodejs stream input adapter for \"+t),this._upstreamEnded=!1,this._bindStream(e)}i.inherits(s,n),s.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on(\"data\",function(t){e.push({data:t,meta:{percent:0}})}).on(\"error\",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on(\"end\",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},s.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=s},{\"../stream/GenericWorker\":28,\"../utils\":32}],13:[function(t,e,r){\"use strict\";var n=t(\"readable-stream\").Readable;function i(t,e,r){n.call(this,e),this._helper=t;var i=this;t.on(\"data\",function(t,e){i.push(t)||i._helper.pause(),r&&r(e)}).on(\"error\",function(t){i.emit(\"error\",t)}).on(\"end\",function(){i.push(null)})}t(\"../utils\").inherits(i,n),i.prototype._read=function(){this._helper.resume()},e.exports=i},{\"../utils\":32,\"readable-stream\":16}],14:[function(t,e,r){\"use strict\";e.exports={isNode:\"undefined\"!=typeof Buffer,newBufferFrom:function(t,e){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(t,e);if(\"number\"==typeof t)throw new Error('The \"data\" argument must not be a number');return new Buffer(t,e)},allocBuffer:function(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&\"function\"==typeof t.on&&\"function\"==typeof t.pause&&\"function\"==typeof t.resume}}},{}],15:[function(t,e,r){\"use strict\";function s(t,e,r){var i,n=u.getTypeOf(e),s=u.extend(r||{},f);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),\"string\"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(t=g(t)),s.createFolders&&(i=_(t))&&b.call(this,i,!0);var a=\"string\"===n&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!a),(e instanceof d&&0===e.uncompressedSize||s.dir||!e||0===e.length)&&(s.base64=!1,s.binary=!0,e=\"\",s.compression=\"STORE\",n=\"string\");var o=null;o=e instanceof d||e instanceof l?e:p.isNode&&p.isStream(e)?new m(t,e):u.prepareContent(t,e,s.binary,s.optimizedBinaryString,s.base64);var h=new c(t,o,s);this.files[t]=h}var n=t(\"./utf8\"),u=t(\"./utils\"),l=t(\"./stream/GenericWorker\"),a=t(\"./stream/StreamHelper\"),f=t(\"./defaults\"),d=t(\"./compressedObject\"),c=t(\"./zipObject\"),o=t(\"./generate\"),p=t(\"./nodejsUtils\"),m=t(\"./nodejs/NodejsStreamInputAdapter\"),_=function(t){\"/\"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf(\"/\");return 0<e?t.substring(0,e):\"\"},g=function(t){return\"/\"!==t.slice(-1)&&(t+=\"/\"),t},b=function(t,e){return e=void 0!==e?e:f.createFolders,t=g(t),this.files[t]||s.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function h(t){return\"[object RegExp]\"===Object.prototype.toString.call(t)}var i={load:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},forEach:function(t){var e,r,i;for(e in this.files)i=this.files[e],(r=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(r,i)},filter:function(r){var i=[];return this.forEach(function(t,e){r(t,e)&&i.push(e)}),i},file:function(t,e,r){if(1!==arguments.length)return t=this.root+t,s.call(this,t,e,r),this;if(h(t)){var i=t;return this.filter(function(t,e){return!e.dir&&i.test(t)})}var n=this.files[this.root+t];return n&&!n.dir?n:null},folder:function(r){if(!r)return this;if(h(r))return this.filter(function(t,e){return e.dir&&r.test(t)});var t=this.root+r,e=b.call(this,t),i=this.clone();return i.root=e.name,i},remove:function(r){r=this.root+r;var t=this.files[r];if(t||(\"/\"!==r.slice(-1)&&(r+=\"/\"),t=this.files[r]),t&&!t.dir)delete this.files[r];else for(var e=this.filter(function(t,e){return e.name.slice(0,r.length)===r}),i=0;i<e.length;i++)delete this.files[e[i].name];return this},generate:function(t){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},generateInternalStream:function(t){var e,r={};try{if((r=u.extend(t||{},{streamFiles:!1,compression:\"STORE\",compressionOptions:null,type:\"\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:n.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),\"binarystring\"===r.type&&(r.type=\"string\"),!r.type)throw new Error(\"No output type specified.\");u.checkSupport(r.type),\"darwin\"!==r.platform&&\"freebsd\"!==r.platform&&\"linux\"!==r.platform&&\"sunos\"!==r.platform||(r.platform=\"UNIX\"),\"win32\"===r.platform&&(r.platform=\"DOS\");var i=r.comment||this.comment||\"\";e=o.generateWorker(this,r,i)}catch(t){(e=new l(\"error\")).error(t)}return new a(e,r.type||\"string\",r.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type=\"nodebuffer\"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=i},{\"./compressedObject\":2,\"./defaults\":5,\"./generate\":9,\"./nodejs/NodejsStreamInputAdapter\":12,\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31,\"./utils\":32,\"./zipObject\":35}],16:[function(t,e,r){e.exports=t(\"stream\")},{stream:void 0}],17:[function(t,e,r){\"use strict\";var i=t(\"./DataReader\");function n(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t(\"../utils\").inherits(n,i),n.prototype.byteAt=function(t){return this.data[this.zero+t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),r=t.charCodeAt(1),i=t.charCodeAt(2),n=t.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===e&&this.data[s+1]===r&&this.data[s+2]===i&&this.data[s+3]===n)return s-this.zero;return-1},n.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1),i=t.charCodeAt(2),n=t.charCodeAt(3),s=this.readData(4);return e===s[0]&&r===s[1]&&i===s[2]&&n===s[3]},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{\"../utils\":32,\"./DataReader\":18}],18:[function(t,e,r){\"use strict\";var i=t(\"../utils\");function n(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+t+\"). Corrupted zip ?\")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,r=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)r=(r<<8)+this.byteAt(e);return this.index+=t,r},readString:function(t){return i.transformTo(\"string\",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=n},{\"../utils\":32}],19:[function(t,e,r){\"use strict\";var i=t(\"./Uint8ArrayReader\");function n(t){i.call(this,t)}t(\"../utils\").inherits(n,i),n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{\"../utils\":32,\"./Uint8ArrayReader\":21}],20:[function(t,e,r){\"use strict\";var i=t(\"./DataReader\");function n(t){i.call(this,t)}t(\"../utils\").inherits(n,i),n.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},n.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{\"../utils\":32,\"./DataReader\":18}],21:[function(t,e,r){\"use strict\";var i=t(\"./ArrayReader\");function n(t){i.call(this,t)}t(\"../utils\").inherits(n,i),n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{\"../utils\":32,\"./ArrayReader\":17}],22:[function(t,e,r){\"use strict\";var i=t(\"../utils\"),n=t(\"../support\"),s=t(\"./ArrayReader\"),a=t(\"./StringReader\"),o=t(\"./NodeBufferReader\"),h=t(\"./Uint8ArrayReader\");e.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),\"string\"!==e||n.uint8array?\"nodebuffer\"===e?new o(t):n.uint8array?new h(i.transformTo(\"uint8array\",t)):new s(i.transformTo(\"array\",t)):new a(t)}},{\"../support\":30,\"../utils\":32,\"./ArrayReader\":17,\"./NodeBufferReader\":19,\"./StringReader\":20,\"./Uint8ArrayReader\":21}],23:[function(t,e,r){\"use strict\";r.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",r.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",r.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\u0007\",r.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",r.DATA_DESCRIPTOR=\"PK\u0007\\b\"},{}],24:[function(t,e,r){\"use strict\";var i=t(\"./GenericWorker\"),n=t(\"../utils\");function s(t){i.call(this,\"ConvertWorker to \"+t),this.destType=t}n.inherits(s,i),s.prototype.processChunk=function(t){this.push({data:n.transformTo(this.destType,t.data),meta:t.meta})},e.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],25:[function(t,e,r){\"use strict\";var i=t(\"./GenericWorker\"),n=t(\"../crc32\");function s(){i.call(this,\"Crc32Probe\"),this.withStreamInfo(\"crc32\",0)}t(\"../utils\").inherits(s,i),s.prototype.processChunk=function(t){this.streamInfo.crc32=n(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=s},{\"../crc32\":4,\"../utils\":32,\"./GenericWorker\":28}],26:[function(t,e,r){\"use strict\";var i=t(\"../utils\"),n=t(\"./GenericWorker\");function s(t){n.call(this,\"DataLengthProbe for \"+t),this.propName=t,this.withStreamInfo(t,0)}i.inherits(s,n),s.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}n.prototype.processChunk.call(this,t)},e.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],27:[function(t,e,r){\"use strict\";var i=t(\"../utils\"),n=t(\"./GenericWorker\");function s(t){n.call(this,\"DataWorker\");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type=\"\",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}i.inherits(s,n),s.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case\"string\":t=this.data.substring(this.index,e);break;case\"uint8array\":t=this.data.subarray(this.index,e);break;case\"array\":case\"nodebuffer\":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],28:[function(t,e,r){\"use strict\";function i(t){this.name=t||\"default\",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit(\"data\",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit(\"end\"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit(\"error\",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit(\"error\",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on(\"data\",function(t){e.processChunk(t)}),t.on(\"end\",function(){e.end()}),t.on(\"error\",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t=\"Worker \"+this.name;return this.previous?this.previous+\" -> \"+t:t}},e.exports=i},{}],29:[function(t,e,r){\"use strict\";var h=t(\"../utils\"),n=t(\"./ConvertWorker\"),s=t(\"./GenericWorker\"),u=t(\"../base64\"),i=t(\"../support\"),a=t(\"../external\"),o=null;if(i.nodestream)try{o=t(\"../nodejs/NodejsStreamOutputAdapter\")}catch(t){}function l(t,o){return new a.Promise(function(e,r){var i=[],n=t._internalType,s=t._outputType,a=t._mimeType;t.on(\"data\",function(t,e){i.push(t),o&&o(e)}).on(\"error\",function(t){i=[],r(t)}).on(\"end\",function(){try{var t=function(t,e,r){switch(t){case\"blob\":return h.newBlob(h.transformTo(\"arraybuffer\",e),r);case\"base64\":return u.encode(e);default:return h.transformTo(t,e)}}(s,function(t,e){var r,i=0,n=null,s=0;for(r=0;r<e.length;r++)s+=e[r].length;switch(t){case\"string\":return e.join(\"\");case\"array\":return Array.prototype.concat.apply([],e);case\"uint8array\":for(n=new Uint8Array(s),r=0;r<e.length;r++)n.set(e[r],i),i+=e[r].length;return n;case\"nodebuffer\":return Buffer.concat(e);default:throw new Error(\"concat : unsupported type '\"+t+\"'\")}}(n,i),a);e(t)}catch(t){r(t)}i=[]}).resume()})}function f(t,e,r){var i=e;switch(e){case\"blob\":case\"arraybuffer\":i=\"uint8array\";break;case\"base64\":i=\"string\"}try{this._internalType=i,this._outputType=e,this._mimeType=r,h.checkSupport(i),this._worker=t.pipe(new n(i)),t.lock()}catch(t){this._worker=new s(\"error\"),this._worker.error(t)}}f.prototype={accumulate:function(t){return l(this,t)},on:function(t,e){var r=this;return\"data\"===t?this._worker.on(t,function(t){e.call(r,t.data,t.meta)}):this._worker.on(t,function(){h.delay(e,arguments,r)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(h.checkSupport(\"nodestream\"),\"nodebuffer\"!==this._outputType)throw new Error(this._outputType+\" is not supported by this method\");return new o(this,{objectMode:\"nodebuffer\"!==this._outputType},t)}},e.exports=f},{\"../base64\":1,\"../external\":6,\"../nodejs/NodejsStreamOutputAdapter\":13,\"../support\":30,\"../utils\":32,\"./ConvertWorker\":24,\"./GenericWorker\":28}],30:[function(t,e,r){\"use strict\";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,r.nodebuffer=\"undefined\"!=typeof Buffer,r.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)r.blob=!1;else{var i=new ArrayBuffer(0);try{r.blob=0===new Blob([i],{type:\"application/zip\"}).size}catch(t){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(i),r.blob=0===n.getBlob(\"application/zip\").size}catch(t){r.blob=!1}}}try{r.nodestream=!!t(\"readable-stream\").Readable}catch(t){r.nodestream=!1}},{\"readable-stream\":16}],31:[function(t,e,s){\"use strict\";for(var o=t(\"./utils\"),h=t(\"./support\"),r=t(\"./nodejsUtils\"),i=t(\"./stream/GenericWorker\"),u=new Array(256),n=0;n<256;n++)u[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;u[254]=u[254]=1;function a(){i.call(this,\"utf-8 decode\"),this.leftOver=null}function l(){i.call(this,\"utf-8 encode\")}s.utf8encode=function(t){return h.nodebuffer?r.newBufferFrom(t,\"utf-8\"):function(t){var e,r,i,n,s,a=t.length,o=0;for(n=0;n<a;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=h.uint8array?new Uint8Array(o):new Array(o),n=s=0;s<o;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),r<128?e[s++]=r:(r<2048?e[s++]=192|r>>>6:(r<65536?e[s++]=224|r>>>12:(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63),e[s++]=128|r>>>6&63),e[s++]=128|63&r);return e}(t)},s.utf8decode=function(t){return h.nodebuffer?o.transformTo(\"nodebuffer\",t).toString(\"utf-8\"):function(t){var e,r,i,n,s=t.length,a=new Array(2*s);for(e=r=0;e<s;)if((i=t[e++])<128)a[r++]=i;else if(4<(n=u[i]))a[r++]=65533,e+=n-1;else{for(i&=2===n?31:3===n?15:7;1<n&&e<s;)i=i<<6|63&t[e++],n--;1<n?a[r++]=65533:i<65536?a[r++]=i:(i-=65536,a[r++]=55296|i>>10&1023,a[r++]=56320|1023&i)}return a.length!==r&&(a.subarray?a=a.subarray(0,r):a.length=r),o.applyFromCharCode(a)}(t=o.transformTo(h.uint8array?\"uint8array\":\"array\",t))},o.inherits(a,i),a.prototype.processChunk=function(t){var e=o.transformTo(h.uint8array?\"uint8array\":\"array\",t.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var r=e;(e=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),e.set(r,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var i=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+u[t[r]]>e?r:e}(e),n=e;i!==e.length&&(h.uint8array?(n=e.subarray(0,i),this.leftOver=e.subarray(i,e.length)):(n=e.slice(0,i),this.leftOver=e.slice(i,e.length))),this.push({data:s.utf8decode(n),meta:t.meta})},a.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=a,o.inherits(l,i),l.prototype.processChunk=function(t){this.push({data:s.utf8encode(t.data),meta:t.meta})},s.Utf8EncodeWorker=l},{\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./support\":30,\"./utils\":32}],32:[function(t,e,a){\"use strict\";var o=t(\"./support\"),h=t(\"./base64\"),r=t(\"./nodejsUtils\"),i=t(\"set-immediate-shim\"),u=t(\"./external\");function n(t){return t}function l(t,e){for(var r=0;r<t.length;++r)e[r]=255&t.charCodeAt(r);return e}a.newBlob=function(e,r){a.checkSupport(\"blob\");try{return new Blob([e],{type:r})}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(r)}catch(t){throw new Error(\"Bug : can't construct the Blob.\")}}};var s={stringifyByChunk:function(t,e,r){var i=[],n=0,s=t.length;if(s<=r)return String.fromCharCode.apply(null,t);for(;n<s;)\"array\"===e||\"nodebuffer\"===e?i.push(String.fromCharCode.apply(null,t.slice(n,Math.min(n+r,s)))):i.push(String.fromCharCode.apply(null,t.subarray(n,Math.min(n+r,s)))),n+=r;return i.join(\"\")},stringifyByChar:function(t){for(var e=\"\",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(t){return!1}}()}};function f(t){var e=65536,r=a.getTypeOf(t),i=!0;if(\"uint8array\"===r?i=s.applyCanBeUsed.uint8array:\"nodebuffer\"===r&&(i=s.applyCanBeUsed.nodebuffer),i)for(;1<e;)try{return s.stringifyByChunk(t,r,e)}catch(t){e=Math.floor(e/2)}return s.stringifyByChar(t)}function d(t,e){for(var r=0;r<t.length;r++)e[r]=t[r];return e}a.applyFromCharCode=f;var c={};c.string={string:n,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return c.string.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:function(t){return l(t,r.allocBuffer(t.length))}},c.array={string:f,array:n,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(t)}},c.arraybuffer={string:function(t){return f(new Uint8Array(t))},array:function(t){return d(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:n,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(new Uint8Array(t))}},c.uint8array={string:f,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:n,nodebuffer:function(t){return r.newBufferFrom(t)}},c.nodebuffer={string:f,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return c.nodebuffer.uint8array(t).buffer},uint8array:function(t){return d(t,new Uint8Array(t.length))},nodebuffer:n},a.transformTo=function(t,e){if(e=e||\"\",!t)return e;a.checkSupport(t);var r=a.getTypeOf(e);return c[r][t](e)},a.getTypeOf=function(t){return\"string\"==typeof t?\"string\":\"[object Array]\"===Object.prototype.toString.call(t)?\"array\":o.nodebuffer&&r.isBuffer(t)?\"nodebuffer\":o.uint8array&&t instanceof Uint8Array?\"uint8array\":o.arraybuffer&&t instanceof ArrayBuffer?\"arraybuffer\":void 0},a.checkSupport=function(t){if(!o[t.toLowerCase()])throw new Error(t+\" is not supported by this platform\")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(t){var e,r,i=\"\";for(r=0;r<(t||\"\").length;r++)i+=\"\\\\x\"+((e=t.charCodeAt(r))<16?\"0\":\"\")+e.toString(16).toUpperCase();return i},a.delay=function(t,e,r){i(function(){t.apply(r||null,e||[])})},a.inherits=function(t,e){function r(){}r.prototype=e.prototype,t.prototype=new r},a.extend=function(){var t,e,r={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===r[e]&&(r[e]=arguments[t][e]);return r},a.prepareContent=function(r,t,i,n,s){return u.Promise.resolve(t).then(function(i){return o.blob&&(i instanceof Blob||-1!==[\"[object File]\",\"[object Blob]\"].indexOf(Object.prototype.toString.call(i)))&&\"undefined\"!=typeof FileReader?new u.Promise(function(e,r){var t=new FileReader;t.onload=function(t){e(t.target.result)},t.onerror=function(t){r(t.target.error)},t.readAsArrayBuffer(i)}):i}).then(function(t){var e=a.getTypeOf(t);return e?(\"arraybuffer\"===e?t=a.transformTo(\"uint8array\",t):\"string\"===e&&(s?t=h.decode(t):i&&!0!==n&&(t=function(t){return l(t,o.uint8array?new Uint8Array(t.length):new Array(t.length))}(t))),t):u.Promise.reject(new Error(\"Can't read the data of '\"+r+\"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?\"))})}},{\"./base64\":1,\"./external\":6,\"./nodejsUtils\":14,\"./support\":30,\"set-immediate-shim\":54}],33:[function(t,e,r){\"use strict\";var i=t(\"./reader/readerFor\"),n=t(\"./utils\"),s=t(\"./signature\"),a=t(\"./zipEntry\"),o=(t(\"./utf8\"),t(\"./support\"));function h(t){this.files=[],this.loadOptions=t}h.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error(\"Corrupted zip or bug: unexpected signature (\"+n.pretty(e)+\", expected \"+n.pretty(t)+\")\")}},isSignature:function(t,e){var r=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(r),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=o.uint8array?\"uint8array\":\"array\",r=n.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,r,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),r=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error(\"Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html\"):new Error(\"Corrupted zip: can't find end of central directory\");this.reader.setIndex(t);var e=t;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(t),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var i=e-r;if(0<i)this.isSignature(e,s.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error(\"Corrupted zip: missing \"+Math.abs(i)+\" bytes.\")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=h},{\"./reader/readerFor\":22,\"./signature\":23,\"./support\":30,\"./utf8\":31,\"./utils\":32,\"./zipEntry\":34}],34:[function(t,e,r){\"use strict\";var i=t(\"./reader/readerFor\"),s=t(\"./utils\"),n=t(\"./compressedObject\"),a=t(\"./crc32\"),o=t(\"./utf8\"),h=t(\"./compressions\"),u=t(\"./support\");function l(t,e){this.options=t,this.loadOptions=e}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,r;if(t.skip(22),this.fileNameLength=t.readInt(2),r=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)\");if(null===(e=function(t){for(var e in h)if(h.hasOwnProperty(e)&&h[e].magic===t)return h[e];return null}(this.compressionMethod)))throw new Error(\"Corrupted zip : compression \"+s.pretty(this.compressionMethod)+\" unknown (inner file : \"+s.transformTo(\"string\",this.fileName)+\")\");this.decompressed=new n(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,r,i,n=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<n;)e=t.readInt(2),r=t.readInt(2),i=t.readData(r),this.extraFields[e]={id:e,length:r,value:i};t.setIndex(n)},handleUTF8:function(){var t=u.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var r=s.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var n=s.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(n)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileName)!==e.readInt(4)?null:o.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileComment)!==e.readInt(4)?null:o.utf8decode(e.readData(t.length-5))}return null}},e.exports=l},{\"./compressedObject\":2,\"./compressions\":3,\"./crc32\":4,\"./reader/readerFor\":22,\"./support\":30,\"./utf8\":31,\"./utils\":32}],35:[function(t,e,r){\"use strict\";function i(t,e,r){this.name=t,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=e,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var s=t(\"./stream/StreamHelper\"),n=t(\"./stream/DataWorker\"),a=t(\"./utf8\"),o=t(\"./compressedObject\"),h=t(\"./stream/GenericWorker\");i.prototype={internalStream:function(t){var e=null,r=\"string\";try{if(!t)throw new Error(\"No output type specified.\");var i=\"string\"===(r=t.toLowerCase())||\"text\"===r;\"binarystring\"!==r&&\"text\"!==r||(r=\"string\"),e=this._decompressWorker();var n=!this._dataBinary;n&&!i&&(e=e.pipe(new a.Utf8EncodeWorker)),!n&&i&&(e=e.pipe(new a.Utf8DecodeWorker))}catch(t){(e=new h(\"error\")).error(t)}return new s(e,r,\"\")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||\"nodebuffer\").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof o&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(r,t,e)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof h?this._data:new n(this._data)}};for(var u=[\"asText\",\"asBinary\",\"asNodeBuffer\",\"asUint8Array\",\"asArrayBuffer\"],l=function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},f=0;f<u.length;f++)i.prototype[u[f]]=l;e.exports=i},{\"./compressedObject\":2,\"./stream/DataWorker\":27,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31}],36:[function(t,l,e){(function(e){\"use strict\";var r,i,t=e.MutationObserver||e.WebKitMutationObserver;if(t){var n=0,s=new t(u),a=e.document.createTextNode(\"\");s.observe(a,{characterData:!0}),r=function(){a.data=n=++n%2}}else if(e.setImmediate||void 0===e.MessageChannel)r=\"document\"in e&&\"onreadystatechange\"in e.document.createElement(\"script\")?function(){var t=e.document.createElement(\"script\");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var o=new e.MessageChannel;o.port1.onmessage=u,r=function(){o.port2.postMessage(0)}}var h=[];function u(){var t,e;i=!0;for(var r=h.length;r;){for(e=h,h=[],t=-1;++t<r;)e[t]();r=h.length}i=!1}l.exports=function(t){1!==h.push(t)||i||r()}}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],37:[function(t,e,r){\"use strict\";var n=t(\"immediate\");function u(){}var l={},s=[\"REJECTED\"],a=[\"FULFILLED\"],i=[\"PENDING\"];function o(t){if(\"function\"!=typeof t)throw new TypeError(\"resolver must be a function\");this.state=i,this.queue=[],this.outcome=void 0,t!==u&&c(this,t)}function h(t,e,r){this.promise=t,\"function\"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),\"function\"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(e,r,i){n(function(){var t;try{t=r(i)}catch(t){return l.reject(e,t)}t===e?l.reject(e,new TypeError(\"Cannot resolve promise with itself\")):l.resolve(e,t)})}function d(t){var e=t&&t.then;if(t&&(\"object\"==typeof t||\"function\"==typeof t)&&\"function\"==typeof e)return function(){e.apply(t,arguments)}}function c(e,t){var r=!1;function i(t){r||(r=!0,l.reject(e,t))}function n(t){r||(r=!0,l.resolve(e,t))}var s=p(function(){t(n,i)});\"error\"===s.status&&i(s.value)}function p(t,e){var r={};try{r.value=t(e),r.status=\"success\"}catch(t){r.status=\"error\",r.value=t}return r}(e.exports=o).prototype.finally=function(e){if(\"function\"!=typeof e)return this;var r=this.constructor;return this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})})},o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){if(\"function\"!=typeof t&&this.state===a||\"function\"!=typeof e&&this.state===s)return this;var r=new this.constructor(u);this.state!==i?f(r,this.state===a?t:e,this.outcome):this.queue.push(new h(r,t,e));return r},h.prototype.callFulfilled=function(t){l.resolve(this.promise,t)},h.prototype.otherCallFulfilled=function(t){f(this.promise,this.onFulfilled,t)},h.prototype.callRejected=function(t){l.reject(this.promise,t)},h.prototype.otherCallRejected=function(t){f(this.promise,this.onRejected,t)},l.resolve=function(t,e){var r=p(d,e);if(\"error\"===r.status)return l.reject(t,r.value);var i=r.value;if(i)c(t,i);else{t.state=a,t.outcome=e;for(var n=-1,s=t.queue.length;++n<s;)t.queue[n].callFulfilled(e)}return t},l.reject=function(t,e){t.state=s,t.outcome=e;for(var r=-1,i=t.queue.length;++r<i;)t.queue[r].callRejected(e);return t},o.resolve=function(t){if(t instanceof this)return t;return l.resolve(new this(u),t)},o.reject=function(t){var e=new this(u);return l.reject(e,t)},o.all=function(t){var r=this;if(\"[object Array]\"!==Object.prototype.toString.call(t))return this.reject(new TypeError(\"must be an array\"));var i=t.length,n=!1;if(!i)return this.resolve([]);var s=new Array(i),a=0,e=-1,o=new this(u);for(;++e<i;)h(t[e],e);return o;function h(t,e){r.resolve(t).then(function(t){s[e]=t,++a!==i||n||(n=!0,l.resolve(o,s))},function(t){n||(n=!0,l.reject(o,t))})}},o.race=function(t){var e=this;if(\"[object Array]\"!==Object.prototype.toString.call(t))return this.reject(new TypeError(\"must be an array\"));var r=t.length,i=!1;if(!r)return this.resolve([]);var n=-1,s=new this(u);for(;++n<r;)a=t[n],e.resolve(a).then(function(t){i||(i=!0,l.resolve(s,t))},function(t){i||(i=!0,l.reject(s,t))});var a;return s}},{immediate:36}],38:[function(t,e,r){\"use strict\";var i={};(0,t(\"./lib/utils/common\").assign)(i,t(\"./lib/deflate\"),t(\"./lib/inflate\"),t(\"./lib/zlib/constants\")),e.exports=i},{\"./lib/deflate\":39,\"./lib/inflate\":40,\"./lib/utils/common\":41,\"./lib/zlib/constants\":44}],39:[function(t,e,r){\"use strict\";var a=t(\"./zlib/deflate\"),o=t(\"./utils/common\"),h=t(\"./utils/strings\"),n=t(\"./zlib/messages\"),s=t(\"./zlib/zstream\"),u=Object.prototype.toString,l=0,f=-1,d=0,c=8;function p(t){if(!(this instanceof p))return new p(t);this.options=o.assign({level:f,method:c,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:\"\"},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==l)throw new Error(n[r]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i=\"string\"==typeof e.dictionary?h.string2buf(e.dictionary):\"[object ArrayBuffer]\"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(r=a.deflateSetDictionary(this.strm,i))!==l)throw new Error(n[r]);this._dict_set=!0}}function i(t,e){var r=new p(e);if(r.push(t,!0),r.err)throw r.msg||n[r.err];return r.result}p.prototype.push=function(t,e){var r,i,n=this.strm,s=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,\"string\"==typeof t?n.input=h.string2buf(t):\"[object ArrayBuffer]\"===u.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new o.Buf8(s),n.next_out=0,n.avail_out=s),1!==(r=a.deflate(n,i))&&r!==l)return this.onEnd(r),!(this.ended=!0);0!==n.avail_out&&(0!==n.avail_in||4!==i&&2!==i)||(\"string\"===this.options.to?this.onData(h.buf2binstring(o.shrinkBuf(n.output,n.next_out))):this.onData(o.shrinkBuf(n.output,n.next_out)))}while((0<n.avail_in||0===n.avail_out)&&1!==r);return 4===i?(r=a.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===l):2!==i||(this.onEnd(l),!(n.avail_out=0))},p.prototype.onData=function(t){this.chunks.push(t)},p.prototype.onEnd=function(t){t===l&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Deflate=p,r.deflate=i,r.deflateRaw=function(t,e){return(e=e||{}).raw=!0,i(t,e)},r.gzip=function(t,e){return(e=e||{}).gzip=!0,i(t,e)}},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/deflate\":46,\"./zlib/messages\":51,\"./zlib/zstream\":53}],40:[function(t,e,r){\"use strict\";var d=t(\"./zlib/inflate\"),c=t(\"./utils/common\"),p=t(\"./utils/strings\"),m=t(\"./zlib/constants\"),i=t(\"./zlib/messages\"),n=t(\"./zlib/zstream\"),s=t(\"./zlib/gzheader\"),_=Object.prototype.toString;function a(t){if(!(this instanceof a))return new a(t);this.options=c.assign({chunkSize:16384,windowBits:0,to:\"\"},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new n,this.strm.avail_out=0;var r=d.inflateInit2(this.strm,e.windowBits);if(r!==m.Z_OK)throw new Error(i[r]);this.header=new s,d.inflateGetHeader(this.strm,this.header)}function o(t,e){var r=new a(e);if(r.push(t,!0),r.err)throw r.msg||i[r.err];return r.result}a.prototype.push=function(t,e){var r,i,n,s,a,o,h=this.strm,u=this.options.chunkSize,l=this.options.dictionary,f=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?m.Z_FINISH:m.Z_NO_FLUSH,\"string\"==typeof t?h.input=p.binstring2buf(t):\"[object ArrayBuffer]\"===_.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new c.Buf8(u),h.next_out=0,h.avail_out=u),(r=d.inflate(h,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&l&&(o=\"string\"==typeof l?p.string2buf(l):\"[object ArrayBuffer]\"===_.call(l)?new Uint8Array(l):l,r=d.inflateSetDictionary(this.strm,o)),r===m.Z_BUF_ERROR&&!0===f&&(r=m.Z_OK,f=!1),r!==m.Z_STREAM_END&&r!==m.Z_OK)return this.onEnd(r),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&r!==m.Z_STREAM_END&&(0!==h.avail_in||i!==m.Z_FINISH&&i!==m.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(n=p.utf8border(h.output,h.next_out),s=h.next_out-n,a=p.buf2string(h.output,n),h.next_out=s,h.avail_out=u-s,s&&c.arraySet(h.output,h.output,n,s,0),this.onData(a)):this.onData(c.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(f=!0)}while((0<h.avail_in||0===h.avail_out)&&r!==m.Z_STREAM_END);return r===m.Z_STREAM_END&&(i=m.Z_FINISH),i===m.Z_FINISH?(r=d.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===m.Z_OK):i!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(h.avail_out=0))},a.prototype.onData=function(t){this.chunks.push(t)},a.prototype.onEnd=function(t){t===m.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Inflate=a,r.inflate=o,r.inflateRaw=function(t,e){return(e=e||{}).raw=!0,o(t,e)},r.ungzip=o},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/constants\":44,\"./zlib/gzheader\":47,\"./zlib/inflate\":49,\"./zlib/messages\":51,\"./zlib/zstream\":53}],41:[function(t,e,r){\"use strict\";var i=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;r.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if(\"object\"!=typeof r)throw new TypeError(r+\"must be non-object\");for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}}return t},r.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,r,i,n){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+i),n);else for(var s=0;s<i;s++)t[n+s]=e[r+s]},flattenChunks:function(t){var e,r,i,n,s,a;for(e=i=0,r=t.length;e<r;e++)i+=t[e].length;for(a=new Uint8Array(i),e=n=0,r=t.length;e<r;e++)s=t[e],a.set(s,n),n+=s.length;return a}},s={arraySet:function(t,e,r,i,n){for(var s=0;s<i;s++)t[n+s]=e[r+s]},flattenChunks:function(t){return[].concat.apply([],t)}};r.setTyped=function(t){t?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,n)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(i)},{}],42:[function(t,e,r){\"use strict\";var h=t(\"./common\"),n=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var u=new h.Buf8(256),i=0;i<256;i++)u[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;function l(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&n))return String.fromCharCode.apply(null,h.shrinkBuf(t,e));for(var r=\"\",i=0;i<e;i++)r+=String.fromCharCode(t[i]);return r}u[254]=u[254]=1,r.string2buf=function(t){var e,r,i,n,s,a=t.length,o=0;for(n=0;n<a;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new h.Buf8(o),n=s=0;s<o;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),r<128?e[s++]=r:(r<2048?e[s++]=192|r>>>6:(r<65536?e[s++]=224|r>>>12:(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63),e[s++]=128|r>>>6&63),e[s++]=128|63&r);return e},r.buf2binstring=function(t){return l(t,t.length)},r.binstring2buf=function(t){for(var e=new h.Buf8(t.length),r=0,i=e.length;r<i;r++)e[r]=t.charCodeAt(r);return e},r.buf2string=function(t,e){var r,i,n,s,a=e||t.length,o=new Array(2*a);for(r=i=0;r<a;)if((n=t[r++])<128)o[i++]=n;else if(4<(s=u[n]))o[i++]=65533,r+=s-1;else{for(n&=2===s?31:3===s?15:7;1<s&&r<a;)n=n<<6|63&t[r++],s--;1<s?o[i++]=65533:n<65536?o[i++]=n:(n-=65536,o[i++]=55296|n>>10&1023,o[i++]=56320|1023&n)}return l(o,i)},r.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+u[t[r]]>e?r:e}},{\"./common\":41}],43:[function(t,e,r){\"use strict\";e.exports=function(t,e,r,i){for(var n=65535&t|0,s=t>>>16&65535|0,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;s=s+(n=n+e[i++]|0)|0,--a;);n%=65521,s%=65521}return n|s<<16|0}},{}],44:[function(t,e,r){\"use strict\";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,r){\"use strict\";var o=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e,r,i){var n=o,s=i+r;t^=-1;for(var a=i;a<s;a++)t=t>>>8^n[255&(t^e[a])];return-1^t}},{}],46:[function(t,e,r){\"use strict\";var h,d=t(\"../utils/common\"),u=t(\"./trees\"),c=t(\"./adler32\"),p=t(\"./crc32\"),i=t(\"./messages\"),l=0,f=4,m=0,_=-2,g=-1,b=4,n=2,v=8,y=9,s=286,a=30,o=19,w=2*s+1,k=15,x=3,S=258,z=S+x+1,C=42,E=113,A=1,I=2,O=3,B=4;function R(t,e){return t.msg=i[e],e}function T(t){return(t<<1)-(4<t?9:0)}function D(t){for(var e=t.length;0<=--e;)t[e]=0}function F(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(d.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function N(t,e){u._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,F(t.strm)}function U(t,e){t.pending_buf[t.pending++]=e}function P(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function L(t,e){var r,i,n=t.max_chain_length,s=t.strstart,a=t.prev_length,o=t.nice_match,h=t.strstart>t.w_size-z?t.strstart-(t.w_size-z):0,u=t.window,l=t.w_mask,f=t.prev,d=t.strstart+S,c=u[s+a-1],p=u[s+a];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(u[(r=e)+a]===p&&u[r+a-1]===c&&u[r]===u[s]&&u[++r]===u[s+1]){s+=2,r++;do{}while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<d);if(i=S-(d-s),s=d-S,a<i){if(t.match_start=e,o<=(a=i))break;c=u[s+a-1],p=u[s+a]}}}while((e=f[e&l])>h&&0!=--n);return a<=t.lookahead?a:t.lookahead}function j(t){var e,r,i,n,s,a,o,h,u,l,f=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=f+(f-z)){for(d.arraySet(t.window,t.window,f,f,0),t.match_start-=f,t.strstart-=f,t.block_start-=f,e=r=t.hash_size;i=t.head[--e],t.head[e]=f<=i?i-f:0,--r;);for(e=r=f;i=t.prev[--e],t.prev[e]=f<=i?i-f:0,--r;);n+=f}if(0===t.strm.avail_in)break;if(a=t.strm,o=t.window,h=t.strstart+t.lookahead,u=n,l=void 0,l=a.avail_in,u<l&&(l=u),r=0===l?0:(a.avail_in-=l,d.arraySet(o,a.input,a.next_in,l,h),1===a.state.wrap?a.adler=c(a.adler,o,l,h):2===a.state.wrap&&(a.adler=p(a.adler,o,l,h)),a.next_in+=l,a.total_in+=l,l),t.lookahead+=r,t.lookahead+t.insert>=x)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+x-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<x)););}while(t.lookahead<z&&0!==t.strm.avail_in)}function Z(t,e){for(var r,i;;){if(t.lookahead<z){if(j(t),t.lookahead<z&&e===l)return A;if(0===t.lookahead)break}if(r=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-z&&(t.match_length=L(t,r)),t.match_length>=x)if(i=u._tr_tally(t,t.strstart-t.match_start,t.match_length-x),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=x){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=t.strstart<x-1?t.strstart:x-1,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}function W(t,e){for(var r,i,n;;){if(t.lookahead<z){if(j(t),t.lookahead<z&&e===l)return A;if(0===t.lookahead)break}if(r=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=x-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-z&&(t.match_length=L(t,r),t.match_length<=5&&(1===t.strategy||t.match_length===x&&4096<t.strstart-t.match_start)&&(t.match_length=x-1)),t.prev_length>=x&&t.match_length<=t.prev_length){for(n=t.strstart+t.lookahead-x,i=u._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-x),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=x-1,t.strstart++,i&&(N(t,!1),0===t.strm.avail_out))return A}else if(t.match_available){if((i=u._tr_tally(t,0,t.window[t.strstart-1]))&&N(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return A}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=u._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<x-1?t.strstart:x-1,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}function M(t,e,r,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=i,this.func=n}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*w),this.dyn_dtree=new d.Buf16(2*(2*a+1)),this.bl_tree=new d.Buf16(2*(2*o+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(k+1),this.heap=new d.Buf16(2*s+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*s+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=n,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?C:E,t.adler=2===e.wrap?0:1,e.last_flush=l,u._tr_init(e),m):R(t,_)}function K(t){var e=G(t);return e===m&&function(t){t.window_size=2*t.w_size,D(t.head),t.max_lazy_match=h[t.level].max_lazy,t.good_match=h[t.level].good_length,t.nice_match=h[t.level].nice_length,t.max_chain_length=h[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=x-1,t.match_available=0,t.ins_h=0}(t.state),e}function Y(t,e,r,i,n,s){if(!t)return _;var a=1;if(e===g&&(e=6),i<0?(a=0,i=-i):15<i&&(a=2,i-=16),n<1||y<n||r!==v||i<8||15<i||e<0||9<e||s<0||b<s)return R(t,_);8===i&&(i=9);var o=new H;return(t.state=o).strm=t,o.wrap=a,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+x-1)/x),o.window=new d.Buf8(2*o.w_size),o.head=new d.Buf16(o.hash_size),o.prev=new d.Buf16(o.w_size),o.lit_bufsize=1<<n+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new d.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=e,o.strategy=s,o.method=r,K(t)}h=[new M(0,0,0,0,function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(j(t),0===t.lookahead&&e===l)return A;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+r;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,N(t,!1),0===t.strm.avail_out))return A;if(t.strstart-t.block_start>=t.w_size-z&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(N(t,!0),0===t.strm.avail_out?O:B):(t.strstart>t.block_start&&(N(t,!1),t.strm.avail_out),A)}),new M(4,4,8,4,Z),new M(4,5,16,8,Z),new M(4,6,32,32,Z),new M(4,4,16,16,W),new M(8,16,32,32,W),new M(8,16,128,128,W),new M(8,32,128,256,W),new M(32,128,258,1024,W),new M(32,258,258,4096,W)],r.deflateInit=function(t,e){return Y(t,e,v,15,8,0)},r.deflateInit2=Y,r.deflateReset=K,r.deflateResetKeep=G,r.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?_:(t.state.gzhead=e,m):_},r.deflate=function(t,e){var r,i,n,s;if(!t||!t.state||5<e||e<0)return t?R(t,_):_;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&e!==f)return R(t,0===t.avail_out?-5:_);if(i.strm=t,r=i.last_flush,i.last_flush=e,i.status===C)if(2===i.wrap)t.adler=0,U(i,31),U(i,139),U(i,8),i.gzhead?(U(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),U(i,255&i.gzhead.time),U(i,i.gzhead.time>>8&255),U(i,i.gzhead.time>>16&255),U(i,i.gzhead.time>>24&255),U(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),U(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(U(i,255&i.gzhead.extra.length),U(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=p(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(U(i,0),U(i,0),U(i,0),U(i,0),U(i,0),U(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),U(i,3),i.status=E);else{var a=v+(i.w_bits-8<<4)<<8;a|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(a|=32),a+=31-a%31,i.status=E,P(i,a),0!==i.strstart&&(P(i,t.adler>>>16),P(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),F(t),n=i.pending,i.pending!==i.pending_buf_size));)U(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),F(t),n=i.pending,i.pending===i.pending_buf_size)){s=1;break}s=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,U(i,s)}while(0!==s);i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),0===s&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),F(t),n=i.pending,i.pending===i.pending_buf_size)){s=1;break}s=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,U(i,s)}while(0!==s);i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),0===s&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&F(t),i.pending+2<=i.pending_buf_size&&(U(i,255&t.adler),U(i,t.adler>>8&255),t.adler=0,i.status=E)):i.status=E),0!==i.pending){if(F(t),0===t.avail_out)return i.last_flush=-1,m}else if(0===t.avail_in&&T(e)<=T(r)&&e!==f)return R(t,-5);if(666===i.status&&0!==t.avail_in)return R(t,-5);if(0!==t.avail_in||0!==i.lookahead||e!==l&&666!==i.status){var o=2===i.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(j(t),0===t.lookahead)){if(e===l)return A;break}if(t.match_length=0,r=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}(i,e):3===i.strategy?function(t,e){for(var r,i,n,s,a=t.window;;){if(t.lookahead<=S){if(j(t),t.lookahead<=S&&e===l)return A;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=x&&0<t.strstart&&(i=a[n=t.strstart-1])===a[++n]&&i===a[++n]&&i===a[++n]){s=t.strstart+S;do{}while(i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&n<s);t.match_length=S-(s-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=x?(r=u._tr_tally(t,1,t.match_length-x),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}(i,e):h[i.level].func(i,e);if(o!==O&&o!==B||(i.status=666),o===A||o===O)return 0===t.avail_out&&(i.last_flush=-1),m;if(o===I&&(1===e?u._tr_align(i):5!==e&&(u._tr_stored_block(i,0,0,!1),3===e&&(D(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),F(t),0===t.avail_out))return i.last_flush=-1,m}return e!==f?m:i.wrap<=0?1:(2===i.wrap?(U(i,255&t.adler),U(i,t.adler>>8&255),U(i,t.adler>>16&255),U(i,t.adler>>24&255),U(i,255&t.total_in),U(i,t.total_in>>8&255),U(i,t.total_in>>16&255),U(i,t.total_in>>24&255)):(P(i,t.adler>>>16),P(i,65535&t.adler)),F(t),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?m:1)},r.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==C&&69!==e&&73!==e&&91!==e&&103!==e&&e!==E&&666!==e?R(t,_):(t.state=null,e===E?R(t,-3):m):_},r.deflateSetDictionary=function(t,e){var r,i,n,s,a,o,h,u,l=e.length;if(!t||!t.state)return _;if(2===(s=(r=t.state).wrap)||1===s&&r.status!==C||r.lookahead)return _;for(1===s&&(t.adler=c(t.adler,e,l,0)),r.wrap=0,l>=r.w_size&&(0===s&&(D(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new d.Buf8(r.w_size),d.arraySet(u,e,l-r.w_size,r.w_size,0),e=u,l=r.w_size),a=t.avail_in,o=t.next_in,h=t.input,t.avail_in=l,t.next_in=0,t.input=e,j(r);r.lookahead>=x;){for(i=r.strstart,n=r.lookahead-(x-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+x-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++,--n;);r.strstart=i,r.lookahead=x-1,j(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=x-1,r.match_available=0,t.next_in=o,t.input=h,t.avail_in=a,r.wrap=s,m},r.deflateInfo=\"pako deflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./messages\":51,\"./trees\":52}],47:[function(t,e,r){\"use strict\";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,r){\"use strict\";e.exports=function(t,e){var r,i,n,s,a,o,h,u,l,f,d,c,p,m,_,g,b,v,y,w,k,x,S,z,C;r=t.state,i=t.next_in,z=t.input,n=i+(t.avail_in-5),s=t.next_out,C=t.output,a=s-(e-t.avail_out),o=s+(t.avail_out-257),h=r.dmax,u=r.wsize,l=r.whave,f=r.wnext,d=r.window,c=r.hold,p=r.bits,m=r.lencode,_=r.distcode,g=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;t:do{p<15&&(c+=z[i++]<<p,p+=8,c+=z[i++]<<p,p+=8),v=m[c&g];e:for(;;){if(c>>>=y=v>>>24,p-=y,0===(y=v>>>16&255))C[s++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=m[(65535&v)+(c&(1<<y)-1)];continue e}if(32&y){r.mode=12;break t}t.msg=\"invalid literal/length code\",r.mode=30;break t}w=65535&v,(y&=15)&&(p<y&&(c+=z[i++]<<p,p+=8),w+=c&(1<<y)-1,c>>>=y,p-=y),p<15&&(c+=z[i++]<<p,p+=8,c+=z[i++]<<p,p+=8),v=_[c&b];r:for(;;){if(c>>>=y=v>>>24,p-=y,!(16&(y=v>>>16&255))){if(0==(64&y)){v=_[(65535&v)+(c&(1<<y)-1)];continue r}t.msg=\"invalid distance code\",r.mode=30;break t}if(k=65535&v,p<(y&=15)&&(c+=z[i++]<<p,(p+=8)<y&&(c+=z[i++]<<p,p+=8)),h<(k+=c&(1<<y)-1)){t.msg=\"invalid distance too far back\",r.mode=30;break t}if(c>>>=y,p-=y,(y=s-a)<k){if(l<(y=k-y)&&r.sane){t.msg=\"invalid distance too far back\",r.mode=30;break t}if(S=d,(x=0)===f){if(x+=u-y,y<w){for(w-=y;C[s++]=d[x++],--y;);x=s-k,S=C}}else if(f<y){if(x+=u+f-y,(y-=f)<w){for(w-=y;C[s++]=d[x++],--y;);if(x=0,f<w){for(w-=y=f;C[s++]=d[x++],--y;);x=s-k,S=C}}}else if(x+=f-y,y<w){for(w-=y;C[s++]=d[x++],--y;);x=s-k,S=C}for(;2<w;)C[s++]=S[x++],C[s++]=S[x++],C[s++]=S[x++],w-=3;w&&(C[s++]=S[x++],1<w&&(C[s++]=S[x++]))}else{for(x=s-k;C[s++]=C[x++],C[s++]=C[x++],C[s++]=C[x++],2<(w-=3););w&&(C[s++]=C[x++],1<w&&(C[s++]=C[x++]))}break}}break}}while(i<n&&s<o);i-=w=p>>3,c&=(1<<(p-=w<<3))-1,t.next_in=i,t.next_out=s,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=s<o?o-s+257:257-(s-o),r.hold=c,r.bits=p}},{}],49:[function(t,e,r){\"use strict\";var I=t(\"../utils/common\"),O=t(\"./adler32\"),B=t(\"./crc32\"),R=t(\"./inffast\"),T=t(\"./inftrees\"),D=1,F=2,N=0,U=-2,P=1,i=852,n=592;function L(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function s(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new I.Buf16(320),this.work=new I.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg=\"\",e.wrap&&(t.adler=1&e.wrap),e.mode=P,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new I.Buf32(i),e.distcode=e.distdyn=new I.Buf32(n),e.sane=1,e.back=-1,N):U}function o(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,a(t)):U}function h(t,e){var r,i;return t&&t.state?(i=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?U:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=r,i.wbits=e,o(t))):U}function u(t,e){var r,i;return t?(i=new s,(t.state=i).window=null,(r=h(t,e))!==N&&(t.state=null),r):U}var l,f,d=!0;function j(t){if(d){var e;for(l=new I.Buf32(512),f=new I.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(T(D,t.lens,0,288,l,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;T(F,t.lens,0,32,f,0,t.work,{bits:5}),d=!1}t.lencode=l,t.lenbits=9,t.distcode=f,t.distbits=5}function Z(t,e,r,i){var n,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new I.Buf8(s.wsize)),i>=s.wsize?(I.arraySet(s.window,e,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i<(n=s.wsize-s.wnext)&&(n=i),I.arraySet(s.window,e,r-i,n,s.wnext),(i-=n)?(I.arraySet(s.window,e,r-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0}r.inflateReset=o,r.inflateReset2=h,r.inflateResetKeep=a,r.inflateInit=function(t){return u(t,15)},r.inflateInit2=u,r.inflate=function(t,e){var r,i,n,s,a,o,h,u,l,f,d,c,p,m,_,g,b,v,y,w,k,x,S,z,C=0,E=new I.Buf8(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return U;12===(r=t.state).mode&&(r.mode=13),a=t.next_out,n=t.output,h=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,u=r.hold,l=r.bits,f=o,d=h,x=N;t:for(;;)switch(r.mode){case P:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(2&r.wrap&&35615===u){E[r.check=0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0),l=u=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg=\"incorrect header check\",r.mode=30;break}if(8!=(15&u)){t.msg=\"unknown compression method\",r.mode=30;break}if(l-=4,k=8+(15&(u>>>=4)),0===r.wbits)r.wbits=k;else if(k>r.wbits){t.msg=\"invalid window size\",r.mode=30;break}r.dmax=1<<k,t.adler=r.check=1,r.mode=512&u?10:12,l=u=0;break;case 2:for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(r.flags=u,8!=(255&r.flags)){t.msg=\"unknown compression method\",r.mode=30;break}if(57344&r.flags){t.msg=\"unknown header flags set\",r.mode=30;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=3;case 3:for(;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.head&&(r.head.time=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,r.check=B(r.check,E,4,0)),l=u=0,r.mode=4;case 4:for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(o<(c=r.length)&&(c=o),c&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),I.arraySet(r.head.extra,i,s,c,k)),512&r.flags&&(r.check=B(r.check,i,c,s)),o-=c,s+=c,r.length-=c),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break t;for(c=0;k=i[s+c++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k)),k&&c<o;);if(512&r.flags&&(r.check=B(r.check,i,c,s)),o-=c,s+=c,k)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break t;for(c=0;k=i[s+c++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k)),k&&c<o;);if(512&r.flags&&(r.check=B(r.check,i,c,s)),o-=c,s+=c,k)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(u!==(65535&r.check)){t.msg=\"header crc mismatch\",r.mode=30;break}l=u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=12;break;case 10:for(;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}t.adler=r.check=L(u),l=u=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=l,2;t.adler=r.check=1,r.mode=12;case 12:if(5===e||6===e)break t;case 13:if(r.last){u>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}switch(r.last=1&u,l-=1,3&(u>>>=1)){case 0:r.mode=14;break;case 1:if(j(r),r.mode=20,6!==e)break;u>>>=2,l-=2;break t;case 2:r.mode=17;break;case 3:t.msg=\"invalid block type\",r.mode=30}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){t.msg=\"invalid stored block lengths\",r.mode=30;break}if(r.length=65535&u,l=u=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(c=r.length){if(o<c&&(c=o),h<c&&(c=h),0===c)break t;I.arraySet(n,i,s,c,a),o-=c,s+=c,h-=c,a+=c,r.length-=c;break}r.mode=12;break;case 17:for(;l<14;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(r.nlen=257+(31&u),u>>>=5,l-=5,r.ndist=1+(31&u),u>>>=5,l-=5,r.ncode=4+(15&u),u>>>=4,l-=4,286<r.nlen||30<r.ndist){t.msg=\"too many length or distance symbols\",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.lens[A[r.have++]]=7&u,u>>>=3,l-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},x=T(0,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,x){t.msg=\"invalid code lengths set\",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(b<16)u>>>=_,l-=_,r.lens[r.have++]=b;else{if(16===b){for(z=_+2;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(u>>>=_,l-=_,0===r.have){t.msg=\"invalid bit length repeat\",r.mode=30;break}k=r.lens[r.have-1],c=3+(3&u),u>>>=2,l-=2}else if(17===b){for(z=_+3;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}l-=_,k=0,c=3+(7&(u>>>=_)),u>>>=3,l-=3}else{for(z=_+7;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}l-=_,k=0,c=11+(127&(u>>>=_)),u>>>=7,l-=7}if(r.have+c>r.nlen+r.ndist){t.msg=\"invalid bit length repeat\",r.mode=30;break}for(;c--;)r.lens[r.have++]=k}}if(30===r.mode)break;if(0===r.lens[256]){t.msg=\"invalid code -- missing end-of-block\",r.mode=30;break}if(r.lenbits=9,S={bits:r.lenbits},x=T(D,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,x){t.msg=\"invalid literal/lengths set\",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},x=T(F,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,x){t.msg=\"invalid distances set\",r.mode=30;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(6<=o&&258<=h){t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=l,R(t,d),a=t.next_out,n=t.output,h=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,u=r.hold,l=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(g&&0==(240&g)){for(v=_,y=g,w=b;g=(C=r.lencode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,r.length=b,0===g){r.mode=26;break}if(32&g){r.back=-1,r.mode=12;break}if(64&g){t.msg=\"invalid literal/length code\",r.mode=30;break}r.extra=15&g,r.mode=22;case 22:if(r.extra){for(z=r.extra;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;g=(C=r.distcode[u&(1<<r.distbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(0==(240&g)){for(v=_,y=g,w=b;g=(C=r.distcode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,64&g){t.msg=\"invalid distance code\",r.mode=30;break}r.offset=b,r.extra=15&g,r.mode=24;case 24:if(r.extra){for(z=r.extra;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg=\"invalid distance too far back\",r.mode=30;break}r.mode=25;case 25:if(0===h)break t;if(c=d-h,r.offset>c){if((c=r.offset-c)>r.whave&&r.sane){t.msg=\"invalid distance too far back\",r.mode=30;break}p=c>r.wnext?(c-=r.wnext,r.wsize-c):r.wnext-c,c>r.length&&(c=r.length),m=r.window}else m=n,p=a-r.offset,c=r.length;for(h<c&&(c=h),h-=c,r.length-=c;n[a++]=m[p++],--c;);0===r.length&&(r.mode=21);break;case 26:if(0===h)break t;n[a++]=r.length,h--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===o)break t;o--,u|=i[s++]<<l,l+=8}if(d-=h,t.total_out+=d,r.total+=d,d&&(t.adler=r.check=r.flags?B(r.check,n,d,a-d):O(r.check,n,d,a-d)),d=h,(r.flags?u:L(u))!==r.check){t.msg=\"incorrect data check\",r.mode=30;break}l=u=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(u!==(4294967295&r.total)){t.msg=\"incorrect length check\",r.mode=30;break}l=u=0}r.mode=29;case 29:x=1;break t;case 30:x=-3;break t;case 31:return-4;case 32:default:return U}return t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=l,(r.wsize||d!==t.avail_out&&r.mode<30&&(r.mode<27||4!==e))&&Z(t,t.output,t.next_out,d-t.avail_out)?(r.mode=31,-4):(f-=t.avail_in,d-=t.avail_out,t.total_in+=f,t.total_out+=d,r.total+=d,r.wrap&&d&&(t.adler=r.check=r.flags?B(r.check,n,d,t.next_out-d):O(r.check,n,d,t.next_out-d)),t.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==f&&0===d||4===e)&&x===N&&(x=-5),x)},r.inflateEnd=function(t){if(!t||!t.state)return U;var e=t.state;return e.window&&(e.window=null),t.state=null,N},r.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?U:((r.head=e).done=!1,N):U},r.inflateSetDictionary=function(t,e){var r,i=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?U:11===r.mode&&O(1,e,i,0)!==r.check?-3:Z(t,e,i,i)?(r.mode=31,-4):(r.havedict=1,N):U},r.inflateInfo=\"pako inflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./inffast\":48,\"./inftrees\":50}],50:[function(t,e,r){\"use strict\";var D=t(\"../utils/common\"),F=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],N=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,r,i,n,s,a,o){var h,u,l,f,d,c,p,m,_,g=o.bits,b=0,v=0,y=0,w=0,k=0,x=0,S=0,z=0,C=0,E=0,A=null,I=0,O=new D.Buf16(16),B=new D.Buf16(16),R=null,T=0;for(b=0;b<=15;b++)O[b]=0;for(v=0;v<i;v++)O[e[r+v]]++;for(k=g,w=15;1<=w&&0===O[w];w--);if(w<k&&(k=w),0===w)return n[s++]=20971520,n[s++]=20971520,o.bits=1,0;for(y=1;y<w&&0===O[y];y++);for(k<y&&(k=y),b=z=1;b<=15;b++)if(z<<=1,(z-=O[b])<0)return-1;if(0<z&&(0===t||1!==w))return-1;for(B[1]=0,b=1;b<15;b++)B[b+1]=B[b]+O[b];for(v=0;v<i;v++)0!==e[r+v]&&(a[B[e[r+v]]++]=v);if(c=0===t?(A=R=a,19):1===t?(A=F,I-=257,R=N,T-=257,256):(A=U,R=P,-1),b=y,d=s,S=v=E=0,l=-1,f=(C=1<<(x=k))-1,1===t&&852<C||2===t&&592<C)return 1;for(;;){for(p=b-S,_=a[v]<c?(m=0,a[v]):a[v]>c?(m=R[T+a[v]],A[I+a[v]]):(m=96,0),h=1<<b-S,y=u=1<<x;n[d+(E>>S)+(u-=h)]=p<<24|m<<16|_|0,0!==u;);for(h=1<<b-1;E&h;)h>>=1;if(0!==h?(E&=h-1,E+=h):E=0,v++,0==--O[b]){if(b===w)break;b=e[r+a[v]]}if(k<b&&(E&f)!==l){for(0===S&&(S=k),d+=y,z=1<<(x=b-S);x+S<w&&!((z-=O[x+S])<=0);)x++,z<<=1;if(C+=1<<x,1===t&&852<C||2===t&&592<C)return 1;n[l=E&f]=k<<24|x<<16|d-s|0}}return 0!==E&&(n[d+E]=b-S<<24|64<<16|0),o.bits=k,0}},{\"../utils/common\":41}],51:[function(t,e,r){\"use strict\";e.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},{}],52:[function(t,e,r){\"use strict\";var n=t(\"../utils/common\"),o=0,h=1;function i(t){for(var e=t.length;0<=--e;)t[e]=0}var s=0,a=29,u=256,l=u+1+a,f=30,d=19,_=2*l+1,g=15,c=16,p=7,m=256,b=16,v=17,y=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(l+2));i(z);var C=new Array(2*f);i(C);var E=new Array(512);i(E);var A=new Array(256);i(A);var I=new Array(a);i(I);var O,B,R,T=new Array(f);function D(t,e,r,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function F(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function N(t){return t<256?E[t]:E[256+(t>>>7)]}function U(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function P(t,e,r){t.bi_valid>c-r?(t.bi_buf|=e<<t.bi_valid&65535,U(t,t.bi_buf),t.bi_buf=e>>c-t.bi_valid,t.bi_valid+=r-c):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function L(t,e,r){P(t,r[2*e],r[2*e+1])}function j(t,e){for(var r=0;r|=1&t,t>>>=1,r<<=1,0<--e;);return r>>>1}function Z(t,e,r){var i,n,s=new Array(g+1),a=0;for(i=1;i<=g;i++)s[i]=a=a+r[i-1]<<1;for(n=0;n<=e;n++){var o=t[2*n+1];0!==o&&(t[2*n]=j(s[o]++,o))}}function W(t){var e;for(e=0;e<l;e++)t.dyn_ltree[2*e]=0;for(e=0;e<f;e++)t.dyn_dtree[2*e]=0;for(e=0;e<d;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*m]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function M(t){8<t.bi_valid?U(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function H(t,e,r,i){var n=2*e,s=2*r;return t[n]<t[s]||t[n]===t[s]&&i[e]<=i[r]}function G(t,e,r){for(var i=t.heap[r],n=r<<1;n<=t.heap_len&&(n<t.heap_len&&H(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!H(e,i,t.heap[n],t.depth));)t.heap[r]=t.heap[n],r=n,n<<=1;t.heap[r]=i}function K(t,e,r){var i,n,s,a,o=0;if(0!==t.last_lit)for(;i=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],n=t.pending_buf[t.l_buf+o],o++,0===i?L(t,n,e):(L(t,(s=A[n])+u+1,e),0!==(a=w[s])&&P(t,n-=I[s],a),L(t,s=N(--i),r),0!==(a=k[s])&&P(t,i-=T[s],a)),o<t.last_lit;);L(t,m,e)}function Y(t,e){var r,i,n,s=e.dyn_tree,a=e.stat_desc.static_tree,o=e.stat_desc.has_stree,h=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=_,r=0;r<h;r++)0!==s[2*r]?(t.heap[++t.heap_len]=u=r,t.depth[r]=0):s[2*r+1]=0;for(;t.heap_len<2;)s[2*(n=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[n]=0,t.opt_len--,o&&(t.static_len-=a[2*n+1]);for(e.max_code=u,r=t.heap_len>>1;1<=r;r--)G(t,s,r);for(n=h;r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],G(t,s,1),i=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=i,s[2*n]=s[2*r]+s[2*i],t.depth[n]=(t.depth[r]>=t.depth[i]?t.depth[r]:t.depth[i])+1,s[2*r+1]=s[2*i+1]=n,t.heap[1]=n++,G(t,s,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,i,n,s,a,o,h=e.dyn_tree,u=e.max_code,l=e.stat_desc.static_tree,f=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(s=0;s<=g;s++)t.bl_count[s]=0;for(h[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<_;r++)p<(s=h[2*h[2*(i=t.heap[r])+1]+1]+1)&&(s=p,m++),h[2*i+1]=s,u<i||(t.bl_count[s]++,a=0,c<=i&&(a=d[i-c]),o=h[2*i],t.opt_len+=o*(s+a),f&&(t.static_len+=o*(l[2*i+1]+a)));if(0!==m){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,m-=2}while(0<m);for(s=p;0!==s;s--)for(i=t.bl_count[s];0!==i;)u<(n=t.heap[--r])||(h[2*n+1]!==s&&(t.opt_len+=(s-h[2*n+1])*h[2*n],h[2*n+1]=s),i--)}}(t,e),Z(s,u,t.bl_count)}function X(t,e,r){var i,n,s=-1,a=e[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),e[2*(r+1)+1]=65535,i=0;i<=r;i++)n=a,a=e[2*(i+1)+1],++o<h&&n===a||(o<u?t.bl_tree[2*n]+=o:0!==n?(n!==s&&t.bl_tree[2*n]++,t.bl_tree[2*b]++):o<=10?t.bl_tree[2*v]++:t.bl_tree[2*y]++,s=n,u=(o=0)===a?(h=138,3):n===a?(h=6,3):(h=7,4))}function V(t,e,r){var i,n,s=-1,a=e[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),i=0;i<=r;i++)if(n=a,a=e[2*(i+1)+1],!(++o<h&&n===a)){if(o<u)for(;L(t,n,t.bl_tree),0!=--o;);else 0!==n?(n!==s&&(L(t,n,t.bl_tree),o--),L(t,b,t.bl_tree),P(t,o-3,2)):o<=10?(L(t,v,t.bl_tree),P(t,o-3,3)):(L(t,y,t.bl_tree),P(t,o-11,7));s=n,u=(o=0)===a?(h=138,3):n===a?(h=6,3):(h=7,4)}}i(T);var q=!1;function J(t,e,r,i){P(t,(s<<1)+(i?1:0),3),function(t,e,r,i){M(t),i&&(U(t,r),U(t,~r)),n.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r,!0)}r._tr_init=function(t){q||(function(){var t,e,r,i,n,s=new Array(g+1);for(i=r=0;i<a-1;i++)for(I[i]=r,t=0;t<1<<w[i];t++)A[r++]=i;for(A[r-1]=i,i=n=0;i<16;i++)for(T[i]=n,t=0;t<1<<k[i];t++)E[n++]=i;for(n>>=7;i<f;i++)for(T[i]=n<<7,t=0;t<1<<k[i]-7;t++)E[256+n++]=i;for(e=0;e<=g;e++)s[e]=0;for(t=0;t<=143;)z[2*t+1]=8,t++,s[8]++;for(;t<=255;)z[2*t+1]=9,t++,s[9]++;for(;t<=279;)z[2*t+1]=7,t++,s[7]++;for(;t<=287;)z[2*t+1]=8,t++,s[8]++;for(Z(z,l+1,s),t=0;t<f;t++)C[2*t+1]=5,C[2*t]=j(t,5);O=new D(z,w,u+1,l,g),B=new D(C,k,0,f,g),R=new D(new Array(0),x,0,d,p)}(),q=!0),t.l_desc=new F(t.dyn_ltree,O),t.d_desc=new F(t.dyn_dtree,B),t.bl_desc=new F(t.bl_tree,R),t.bi_buf=0,t.bi_valid=0,W(t)},r._tr_stored_block=J,r._tr_flush_block=function(t,e,r,i){var n,s,a=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return h;for(e=32;e<u;e++)if(0!==t.dyn_ltree[2*e])return h;return o}(t)),Y(t,t.l_desc),Y(t,t.d_desc),a=function(t){var e;for(X(t,t.dyn_ltree,t.l_desc.max_code),X(t,t.dyn_dtree,t.d_desc.max_code),Y(t,t.bl_desc),e=d-1;3<=e&&0===t.bl_tree[2*S[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),n=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=n&&(n=s)):n=s=r+5,r+4<=n&&-1!==e?J(t,e,r,i):4===t.strategy||s===n?(P(t,2+(i?1:0),3),K(t,z,C)):(P(t,4+(i?1:0),3),function(t,e,r,i){var n;for(P(t,e-257,5),P(t,r-1,5),P(t,i-4,4),n=0;n<i;n++)P(t,t.bl_tree[2*S[n]+1],3);V(t,t.dyn_ltree,e-1),V(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),K(t,t.dyn_ltree,t.dyn_dtree)),W(t),i&&M(t)},r._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(A[r]+u+1)]++,t.dyn_dtree[2*N(e)]++),t.last_lit===t.lit_bufsize-1},r._tr_align=function(t){P(t,2,3),L(t,m,z),function(t){16===t.bi_valid?(U(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{\"../utils/common\":41}],53:[function(t,e,r){\"use strict\";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,r){\"use strict\";e.exports=\"function\"==typeof setImmediate?setImmediate:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},{}]},{},[10])(10)});","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","/**\r\n * DevExtreme (exporter/excel/excel.file.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _excel = _interopRequireDefault(require(\"./excel.tag_helper\"));\r\nvar _excel2 = _interopRequireDefault(require(\"./excel.cell_format_helper\"));\r\nvar _excel3 = _interopRequireDefault(require(\"./excel.fill_helper\"));\r\nvar _excel4 = _interopRequireDefault(require(\"./excel.font_helper\"));\r\nvar _excel5 = _interopRequireDefault(require(\"./excel.number_format_helper\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\nvar ExcelFile = function() {\r\n    function ExcelFile() {\r\n        _classCallCheck(this, ExcelFile);\r\n        this._cellFormatTags = [];\r\n        this._fillTags = [];\r\n        this._fontTags = [];\r\n        this._numberFormatTags = [];\r\n        this._fillTags.push(_excel3.default.tryCreateTag({\r\n            patternFill: {\r\n                patternType: \"none\"\r\n            }\r\n        }))\r\n    }\r\n    _createClass(ExcelFile, [{\r\n        key: \"registerCellFormat\",\r\n        value: function(cellFormat) {\r\n            var result;\r\n            var cellFormatTag = _excel2.default.tryCreateTag(cellFormat, {\r\n                registerFill: this.registerFill.bind(this),\r\n                registerFont: this.registerFont.bind(this),\r\n                registerNumberFormat: this.registerNumberFormat.bind(this)\r\n            });\r\n            if ((0, _type.isDefined)(cellFormatTag)) {\r\n                for (var i = 0; i < this._cellFormatTags.length; i++) {\r\n                    if (_excel2.default.areEqual(this._cellFormatTags[i], cellFormatTag)) {\r\n                        result = i;\r\n                        break\r\n                    }\r\n                }\r\n                if (void 0 === result) {\r\n                    result = this._cellFormatTags.push(cellFormatTag) - 1\r\n                }\r\n            }\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"generateCellFormatsXml\",\r\n        value: function() {\r\n            var cellFormatTagsAsXmlStringsArray = this._cellFormatTags.map(function(tag) {\r\n                return _excel2.default.toXml(tag)\r\n            });\r\n            return _excel.default.toXml(\"cellXfs\", {\r\n                count: cellFormatTagsAsXmlStringsArray.length\r\n            }, cellFormatTagsAsXmlStringsArray.join(\"\"))\r\n        }\r\n    }, {\r\n        key: \"registerFill\",\r\n        value: function(fill) {\r\n            var result;\r\n            var fillTag = _excel3.default.tryCreateTag(fill);\r\n            if ((0, _type.isDefined)(fillTag)) {\r\n                for (var i = 0; i < this._fillTags.length; i++) {\r\n                    if (_excel3.default.areEqual(this._fillTags[i], fillTag)) {\r\n                        result = i;\r\n                        break\r\n                    }\r\n                }\r\n                if (void 0 === result) {\r\n                    if (this._fillTags.length < 2) {\r\n                        this._fillTags.push(_excel3.default.tryCreateTag({\r\n                            patternFill: {\r\n                                patternType: \"Gray125\"\r\n                            }\r\n                        }))\r\n                    }\r\n                    result = this._fillTags.push(fillTag) - 1\r\n                }\r\n            }\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"generateFillsXml\",\r\n        value: function() {\r\n            var tagsAsXmlStringsArray = this._fillTags.map(function(tag) {\r\n                return _excel3.default.toXml(tag)\r\n            });\r\n            return _excel.default.toXml(\"fills\", {\r\n                count: tagsAsXmlStringsArray.length\r\n            }, tagsAsXmlStringsArray.join(\"\"))\r\n        }\r\n    }, {\r\n        key: \"registerFont\",\r\n        value: function(font) {\r\n            var result;\r\n            var fontTag = _excel4.default.tryCreateTag(font);\r\n            if ((0, _type.isDefined)(fontTag)) {\r\n                for (var i = 0; i < this._fontTags.length; i++) {\r\n                    if (_excel4.default.areEqual(this._fontTags[i], fontTag)) {\r\n                        result = i;\r\n                        break\r\n                    }\r\n                }\r\n                if (void 0 === result) {\r\n                    result = this._fontTags.push(fontTag) - 1\r\n                }\r\n            }\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"generateFontsXml\",\r\n        value: function() {\r\n            var xmlStringsArray = this._fontTags.map(function(tag) {\r\n                return _excel4.default.toXml(tag)\r\n            });\r\n            return _excel.default.toXml(\"fonts\", {\r\n                count: xmlStringsArray.length\r\n            }, xmlStringsArray.join(\"\"))\r\n        }\r\n    }, {\r\n        key: \"_convertNumberFormatIndexToId\",\r\n        value: function(index) {\r\n            var CUSTOM_FORMAT_ID_START_VALUE = 165;\r\n            return CUSTOM_FORMAT_ID_START_VALUE + index\r\n        }\r\n    }, {\r\n        key: \"registerNumberFormat\",\r\n        value: function(numberFormat) {\r\n            var result;\r\n            var tag = _excel5.default.tryCreateTag(numberFormat);\r\n            if ((0, _type.isDefined)(tag)) {\r\n                for (var i = 0; i < this._numberFormatTags.length; i++) {\r\n                    if (_excel5.default.areEqual(this._numberFormatTags[i], tag)) {\r\n                        result = this._numberFormatTags[i][_excel5.default.ID_PROPERTY_NAME];\r\n                        break\r\n                    }\r\n                }\r\n                if (void 0 === result) {\r\n                    tag[_excel5.default.ID_PROPERTY_NAME] = this._convertNumberFormatIndexToId(this._numberFormatTags.length);\r\n                    result = tag[_excel5.default.ID_PROPERTY_NAME];\r\n                    this._numberFormatTags.push(tag)\r\n                }\r\n            }\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"generateNumberFormatsXml\",\r\n        value: function() {\r\n            if (this._numberFormatTags.length > 0) {\r\n                var xmlStringsArray = this._numberFormatTags.map(function(tag) {\r\n                    return _excel5.default.toXml(tag)\r\n                });\r\n                return _excel.default.toXml(\"numFmts\", {\r\n                    count: xmlStringsArray.length\r\n                }, xmlStringsArray.join(\"\"))\r\n            } else {\r\n                return \"\"\r\n            }\r\n        }\r\n    }], [{\r\n        key: \"copyCellFormat\",\r\n        value: function(source) {\r\n            return _excel2.default.copy(source)\r\n        }\r\n    }]);\r\n    return ExcelFile\r\n}();\r\nexports.default = ExcelFile;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (exporter/excel/excel.cell_format_helper.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _excel = _interopRequireDefault(require(\"./excel.tag_helper\"));\r\nvar _excel2 = _interopRequireDefault(require(\"./excel.cell_alignment_helper\"));\r\nvar _excel3 = _interopRequireDefault(require(\"./excel.fill_helper\"));\r\nvar _excel4 = _interopRequireDefault(require(\"./excel.font_helper\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar cellFormatHelper = {\r\n    tryCreateTag: function(sourceObj, sharedItemsContainer) {\r\n        var result = null;\r\n        if ((0, _type.isDefined)(sourceObj)) {\r\n            var numberFormatId;\r\n            if (\"number\" === typeof sourceObj.numberFormat) {\r\n                numberFormatId = sourceObj.numberFormat\r\n            } else {\r\n                numberFormatId = sharedItemsContainer.registerNumberFormat(sourceObj.numberFormat)\r\n            }\r\n            var fill = sourceObj.fill;\r\n            if (!(0, _type.isDefined)(fill)) {\r\n                fill = _excel3.default.tryCreateFillFromSimpleFormat(sourceObj)\r\n            }\r\n            result = {\r\n                numberFormatId: numberFormatId,\r\n                alignment: _excel2.default.tryCreateTag(sourceObj.alignment),\r\n                fontId: sharedItemsContainer.registerFont(sourceObj.font),\r\n                fillId: sharedItemsContainer.registerFill(fill)\r\n            };\r\n            if (cellFormatHelper.isEmpty(result)) {\r\n                result = null\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    copy: function(source) {\r\n        var result;\r\n        if (null === source) {\r\n            result = null\r\n        } else {\r\n            if ((0, _type.isDefined)(source)) {\r\n                result = {};\r\n                if (void 0 !== source.numberFormat) {\r\n                    result.numberFormat = source.numberFormat\r\n                }\r\n                if (void 0 !== source.fill) {\r\n                    result.fill = _excel3.default.copy(source.fill)\r\n                } else {\r\n                    _excel3.default.copySimpleFormat(source, result)\r\n                }\r\n                if (void 0 !== source.alignment) {\r\n                    result.alignment = _excel2.default.copy(source.alignment)\r\n                }\r\n                if (void 0 !== source.font) {\r\n                    result.font = _excel4.default.copy(source.font)\r\n                }\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    areEqual: function(leftTag, rightTag) {\r\n        return cellFormatHelper.isEmpty(leftTag) && cellFormatHelper.isEmpty(rightTag) || (0, _type.isDefined)(leftTag) && (0, _type.isDefined)(rightTag) && leftTag.fontId === rightTag.fontId && leftTag.numberFormatId === rightTag.numberFormatId && leftTag.fillId === rightTag.fillId && _excel2.default.areEqual(leftTag.alignment, rightTag.alignment)\r\n    },\r\n    isEmpty: function(tag) {\r\n        return !(0, _type.isDefined)(tag) || !(0, _type.isDefined)(tag.fontId) && !(0, _type.isDefined)(tag.numberFormatId) && !(0, _type.isDefined)(tag.fillId) && _excel2.default.isEmpty(tag.alignment)\r\n    },\r\n    toXml: function(tag) {\r\n        var isAlignmentEmpty = _excel2.default.isEmpty(tag.alignment);\r\n        var applyNumberFormat;\r\n        if ((0, _type.isDefined)(tag.numberFormatId)) {\r\n            applyNumberFormat = tag.numberFormatId > 0 ? 1 : 0\r\n        }\r\n        return _excel.default.toXml(\"xf\", {\r\n            xfId: 0,\r\n            applyAlignment: isAlignmentEmpty ? null : 1,\r\n            fontId: tag.fontId,\r\n            applyNumberFormat: applyNumberFormat,\r\n            fillId: tag.fillId,\r\n            numFmtId: tag.numberFormatId\r\n        }, isAlignmentEmpty ? null : _excel2.default.toXml(tag.alignment))\r\n    }\r\n};\r\nvar _default = cellFormatHelper;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (exporter/excel/excel.cell_alignment_helper.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _excel = _interopRequireDefault(require(\"./excel.tag_helper\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar cellAlignmentHelper = {\r\n    tryCreateTag: function(sourceObj) {\r\n        var result = null;\r\n        if ((0, _type.isDefined)(sourceObj)) {\r\n            result = {\r\n                vertical: sourceObj.vertical,\r\n                wrapText: sourceObj.wrapText,\r\n                horizontal: sourceObj.horizontal\r\n            };\r\n            if (cellAlignmentHelper.isEmpty(result)) {\r\n                result = null\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    copy: function(source) {\r\n        var result = null;\r\n        if ((0, _type.isDefined)(source)) {\r\n            result = {};\r\n            if (void 0 !== source.horizontal) {\r\n                result.horizontal = source.horizontal\r\n            }\r\n            if (void 0 !== source.vertical) {\r\n                result.vertical = source.vertical\r\n            }\r\n            if (void 0 !== source.wrapText) {\r\n                result.wrapText = source.wrapText\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    areEqual: function(leftTag, rightTag) {\r\n        return cellAlignmentHelper.isEmpty(leftTag) && cellAlignmentHelper.isEmpty(rightTag) || (0, _type.isDefined)(leftTag) && (0, _type.isDefined)(rightTag) && leftTag.vertical === rightTag.vertical && leftTag.wrapText === rightTag.wrapText && leftTag.horizontal === rightTag.horizontal\r\n    },\r\n    isEmpty: function(tag) {\r\n        return !(0, _type.isDefined)(tag) || !(0, _type.isDefined)(tag.vertical) && !(0, _type.isDefined)(tag.wrapText) && !(0, _type.isDefined)(tag.horizontal)\r\n    },\r\n    toXml: function(tag) {\r\n        return _excel.default.toXml(\"alignment\", {\r\n            vertical: tag.vertical,\r\n            wrapText: (0, _type.isDefined)(tag.wrapText) ? Number(tag.wrapText) : void 0,\r\n            horizontal: tag.horizontal\r\n        })\r\n    }\r\n};\r\nvar _default = cellAlignmentHelper;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (exporter/excel/excel.pattern_fill_helper.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _excel = _interopRequireDefault(require(\"./excel.tag_helper\"));\r\nvar _excel2 = _interopRequireDefault(require(\"./excel.color_helper\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar patternFillHelper = {\r\n    tryCreateTag: function(sourceObj) {\r\n        var result = null;\r\n        if ((0, _type.isDefined)(sourceObj)) {\r\n            result = {\r\n                patternType: sourceObj.patternType,\r\n                backgroundColor: _excel2.default.tryCreateTag(sourceObj.backgroundColor),\r\n                foregroundColor: _excel2.default.tryCreateTag(sourceObj.foregroundColor)\r\n            };\r\n            if (patternFillHelper.isEmpty(result)) {\r\n                result = null\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    copy: function(source) {\r\n        var result = null;\r\n        if ((0, _type.isDefined)(source)) {\r\n            result = {};\r\n            if (void 0 !== source.patternType) {\r\n                result.patternType = source.patternType\r\n            }\r\n            if (void 0 !== source.backgroundColor) {\r\n                result.backgroundColor = _excel2.default.copy(source.backgroundColor)\r\n            }\r\n            if (void 0 !== source.foregroundColor) {\r\n                result.foregroundColor = _excel2.default.copy(source.foregroundColor)\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    areEqual: function(leftTag, rightTag) {\r\n        return patternFillHelper.isEmpty(leftTag) && patternFillHelper.isEmpty(rightTag) || (0, _type.isDefined)(leftTag) && (0, _type.isDefined)(rightTag) && leftTag.patternType === rightTag.patternType && _excel2.default.areEqual(leftTag.backgroundColor, rightTag.backgroundColor) && _excel2.default.areEqual(leftTag.foregroundColor, rightTag.foregroundColor)\r\n    },\r\n    isEmpty: function(tag) {\r\n        return !(0, _type.isDefined)(tag) || !(0, _type.isDefined)(tag.patternType)\r\n    },\r\n    toXml: function(tag) {\r\n        var content = [(0, _type.isDefined)(tag.foregroundColor) ? _excel2.default.toXml(\"fgColor\", tag.foregroundColor) : \"\", (0, _type.isDefined)(tag.backgroundColor) ? _excel2.default.toXml(\"bgColor\", tag.backgroundColor) : \"\"].join(\"\");\r\n        return _excel.default.toXml(\"patternFill\", {\r\n            patternType: tag.patternType\r\n        }, content)\r\n    }\r\n};\r\nvar _default = patternFillHelper;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (exporter/excel/excel.number_format_helper.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _excel = _interopRequireDefault(require(\"./excel.tag_helper\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar numberFormatHelper = {\r\n    ID_PROPERTY_NAME: \"id\",\r\n    tryCreateTag: function(sourceObj) {\r\n        var result = null;\r\n        if (\"string\" === typeof sourceObj) {\r\n            result = {\r\n                formatCode: sourceObj\r\n            };\r\n            if (numberFormatHelper.isEmpty(result)) {\r\n                result = null\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    areEqual: function(leftTag, rightTag) {\r\n        return numberFormatHelper.isEmpty(leftTag) && numberFormatHelper.isEmpty(rightTag) || (0, _type.isDefined)(leftTag) && (0, _type.isDefined)(rightTag) && leftTag.formatCode === rightTag.formatCode\r\n    },\r\n    isEmpty: function(tag) {\r\n        return !(0, _type.isDefined)(tag) || !(0, _type.isDefined)(tag.formatCode) || \"\" === tag.formatCode\r\n    },\r\n    toXml: function(tag) {\r\n        return _excel.default.toXml(\"numFmt\", {\r\n            numFmtId: tag[numberFormatHelper.ID_PROPERTY_NAME],\r\n            formatCode: tag.formatCode\r\n        })\r\n    }\r\n};\r\nvar _default = numberFormatHelper;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (exporter/svg_creator.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.getData = getData;\r\nexports.svgCreator = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../core/renderer\"));\r\nvar _ajax = _interopRequireDefault(require(\"../core/utils/ajax\"));\r\nvar _window = require(\"../core/utils/window\");\r\nvar _type = require(\"../core/utils/type\");\r\nvar _iterator = require(\"../core/utils/iterator\");\r\nvar _svg = require(\"../core/utils/svg\");\r\nvar _deferred = require(\"../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar window = (0, _window.getWindow)();\r\nvar svgCreator = {\r\n    _markup: \"\",\r\n    _imageArray: {},\r\n    _imageDeferreds: [],\r\n    _getBinaryFile: function(src, callback) {\r\n        _ajax.default.sendRequest({\r\n            url: src,\r\n            method: \"GET\",\r\n            responseType: \"arraybuffer\"\r\n        }).done(callback).fail(function() {\r\n            callback(false)\r\n        })\r\n    },\r\n    _loadImages: function() {\r\n        var that = this;\r\n        (0, _iterator.each)(that._imageArray, function(src) {\r\n            var deferred = new _deferred.Deferred;\r\n            that._imageDeferreds.push(deferred);\r\n            that._getBinaryFile(src, function(response) {\r\n                if (!response) {\r\n                    delete that._imageArray[src];\r\n                    deferred.resolve();\r\n                    return\r\n                }\r\n                var i;\r\n                var binary = \"\";\r\n                var bytes = new Uint8Array(response);\r\n                var length = bytes.byteLength;\r\n                for (i = 0; i < length; i++) {\r\n                    binary += String.fromCharCode(bytes[i])\r\n                }\r\n                that._imageArray[src] = \"data:image/png;base64,\" + window.btoa(binary);\r\n                deferred.resolve()\r\n            })\r\n        })\r\n    },\r\n    _parseImages: function(element) {\r\n        var href;\r\n        var that = this;\r\n        if (\"image\" === element.tagName) {\r\n            href = (0, _renderer.default)(element).attr(\"href\") || (0, _renderer.default)(element).attr(\"xlink:href\");\r\n            if (!that._imageArray[href]) {\r\n                that._imageArray[href] = \"\"\r\n            }\r\n        }(0, _iterator.each)(element.childNodes, function(_, element) {\r\n            that._parseImages(element)\r\n        })\r\n    },\r\n    _prepareImages: function(svgElem) {\r\n        this._parseImages(svgElem);\r\n        this._loadImages();\r\n        return _deferred.when.apply(_renderer.default, this._imageDeferreds)\r\n    },\r\n    getData: function(data, options) {\r\n        var markup;\r\n        var that = this;\r\n        var xmlVersion = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\" ?>';\r\n        var svgElem = (0, _svg.getSvgElement)(data);\r\n        var $svgObject = (0, _renderer.default)(svgElem);\r\n        markup = xmlVersion + (0, _svg.getSvgMarkup)($svgObject.get(0), options.backgroundColor);\r\n        return that._prepareImages(svgElem).then(function() {\r\n            (0, _iterator.each)(that._imageArray, function(href, dataURI) {\r\n                var regexpString = \"href=['|\\\"]\".concat(href, \"['|\\\"]\");\r\n                markup = markup.replace(new RegExp(regexpString, \"gi\"), 'href=\"'.concat(dataURI, '\"'))\r\n            });\r\n            return (0, _type.isFunction)(window.Blob) ? that._getBlob(markup) : that._getBase64(markup)\r\n        })\r\n    },\r\n    _getBlob: function(markup) {\r\n        return new window.Blob([markup], {\r\n            type: \"image/svg+xml\"\r\n        })\r\n    },\r\n    _getBase64: function(markup) {\r\n        return window.btoa(markup)\r\n    }\r\n};\r\nexports.svgCreator = svgCreator;\r\n\r\nfunction getData(data, options) {\r\n    return svgCreator.getData(data, options)\r\n}\r\n","/**\r\n * DevExtreme (exporter/pdf_creator.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.getData = getData;\r\nvar _version = _interopRequireDefault(require(\"../core/version\"));\r\nvar _window = require(\"../core/utils/window\");\r\nvar _image_creator = require(\"./image_creator\");\r\nvar _type = require(\"../core/utils/type\");\r\nvar _extend = require(\"../core/utils/extend\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar window = (0, _window.getWindow)();\r\nvar mainPageTemplate = \"%PDF-1.3\\r\\n2 0 obj\\r\\n<</ProcSet[/PDF/ImageB/ImageC/ImageI]/XObject<</I0 5 0 R>>>>\\r\\nendobj\\r\\n4 0 obj\\r\\n<</Type/Pages/Kids[1 0 R]/Count 1>>\\r\\nendobj\\r\\n7 0 obj\\r\\n<</OpenAction[1 0 R /FitH null]/Type/Catalog/Pages 4 0 R/PageLayout/OneColumn>>\\r\\nendobj\\r\\n1 0 obj\\r\\n<</Type/Page/Resources 2 0 R/MediaBox[0 0 _width_ _height_]/Contents 3 0 R/Parent 4 0 R>>\\r\\nendobj\\r\\n\";\r\nvar contentTemplate = \"3 0 obj\\r\\n<</Length 52>>stream\\r\\n0.20 w\\n0 G\\nq _width_ 0 0 _height_ 0.00 0.00 cm /I0 Do Q\\r\\nendstream\\r\\nendobj\\r\\n\";\r\nvar infoTemplate = \"6 0 obj\\r\\n<</CreationDate _date_/Producer(DevExtreme _version_)>>\\r\\nendobj\\r\\n\";\r\nvar imageStartTemplate = \"5 0 obj\\r\\n<</Type/XObject/Subtype/Image/Width _width_/Height _height_/ColorSpace/DeviceRGB/BitsPerComponent 8/Filter/DCTDecode/Length _length_>>stream\\r\\n\";\r\nvar imageEndTemplate = \"\\r\\nendstream\\r\\nendobj\\r\\n\";\r\nvar trailerTemplate = \"trailer\\r\\n<<\\r\\n/Size 8\\r\\n/Root 7 0 R\\r\\n/Info 6 0 R\\r\\n>>\\r\\nstartxref\\r\\n_length_\\r\\n%%EOF\";\r\nvar xrefTemplate = \"xref\\r\\n0 8\\r\\n0000000000 65535 f\\r\\n0000000241 00000 n\\r\\n0000000010 00000 n\\r\\n_main_ 00000 n\\r\\n0000000089 00000 n\\r\\n_image_ 00000 n\\r\\n_info_ 00000 n\\r\\n0000000143 00000 n\\r\\n\";\r\nvar pad = function pad(str, len) {\r\n    return str.length < len ? pad(\"0\" + str, len) : str\r\n};\r\nvar composePdfString = function(imageString, options, curDate) {\r\n    var margin = 2 * (options.margin || 0);\r\n    var width = options.width + margin;\r\n    var height = options.height + margin;\r\n    var widthPt = (.75 * width).toFixed(2);\r\n    var heightPt = (.75 * height).toFixed(2);\r\n    var mainPage = mainPageTemplate.replace(\"_width_\", widthPt).replace(\"_height_\", heightPt);\r\n    var content = contentTemplate.replace(\"_width_\", widthPt).replace(\"_height_\", heightPt);\r\n    var info = infoTemplate.replace(\"_date_\", curDate).replace(\"_version_\", _version.default);\r\n    var image = imageStartTemplate.replace(\"_width_\", width).replace(\"_height_\", height).replace(\"_length_\", imageString.length) + imageString + imageEndTemplate;\r\n    var xref = getXref(mainPage.length, content.length, info.length);\r\n    var mainContent = mainPage + content + info + image;\r\n    var trailer = trailerTemplate.replace(\"_length_\", mainContent.length);\r\n    return mainContent + xref + trailer\r\n};\r\n\r\nfunction getXref(mainPageLength, contentLength, infoLength) {\r\n    return xrefTemplate.replace(\"_main_\", pad(mainPageLength + \"\", 10)).replace(\"_info_\", pad(mainPageLength + contentLength + \"\", 10)).replace(\"_image_\", pad(mainPageLength + contentLength + infoLength + \"\", 10))\r\n}\r\nvar getCurDate = function() {\r\n    return new Date\r\n};\r\nvar getBlob = function(binaryData) {\r\n    var i = 0;\r\n    var dataArray = new Uint8Array(binaryData.length);\r\n    for (; i < binaryData.length; i++) {\r\n        dataArray[i] = binaryData.charCodeAt(i)\r\n    }\r\n    return new window.Blob([dataArray.buffer], {\r\n        type: \"application/pdf\"\r\n    })\r\n};\r\nvar getBase64 = function(binaryData) {\r\n    return window.btoa(binaryData)\r\n};\r\n\r\nfunction getData(data, options) {\r\n    return _image_creator.imageCreator.getImageData(data, (0, _extend.extend)({}, options, {\r\n        format: \"JPEG\"\r\n    })).then(function(imageString) {\r\n        var binaryData = composePdfString(imageString, options, getCurDate());\r\n        var pdfData = (0, _type.isFunction)(window.Blob) ? getBlob(binaryData) : getBase64(binaryData);\r\n        return pdfData\r\n    })\r\n}\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.focus.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.focus\"));\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _uiData_grid2 = require(\"./ui.data_grid.utils\");\r\nvar _data = require(\"../../core/utils/data\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\r\n_uiData_grid.default.registerModule(\"focus\", (0, _extend.extend)(true, {}, _uiGrid_core.default, {\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                changeRowExpand: function(path, isRowClick) {\r\n                    if (this.option(\"focusedRowEnabled\") && Array.isArray(path) && this.isRowExpanded(path)) {\r\n                        var keyboardNavigation = this.getController(\"keyboardNavigation\");\r\n                        if ((!isRowClick || !keyboardNavigation.isKeyboardEnabled()) && this._isFocusedRowInsideGroup(path)) {\r\n                            this.option(\"focusedRowKey\", path)\r\n                        }\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _isFocusedRowInsideGroup: function(path) {\r\n                    var columnsController = this.getController(\"columns\");\r\n                    var focusedRowKey = this.option(\"focusedRowKey\");\r\n                    var rowIndex = this.getRowIndexByKey(focusedRowKey);\r\n                    var focusedRow = rowIndex >= 0 && this.getVisibleRows()[rowIndex];\r\n                    var groups = columnsController.getGroupDataSourceParameters(true);\r\n                    if (focusedRow) {\r\n                        for (var i = 0; i < path.length; ++i) {\r\n                            var getter = (0, _data.compileGetter)(groups[i] && groups[i].selector);\r\n                            if (getter(focusedRow.data) !== path[i]) {\r\n                                return false\r\n                            }\r\n                        }\r\n                    }\r\n                    return true\r\n                },\r\n                _getGroupPath: function(group) {\r\n                    var groupPath = [group.key];\r\n                    var items = group.items;\r\n                    while (items && items[0]) {\r\n                        var item = items[0];\r\n                        if (void 0 !== item.key) {\r\n                            groupPath.push(item.key)\r\n                        }\r\n                        items = item.items\r\n                    }\r\n                    return groupPath\r\n                },\r\n                _expandGroupByPath: function(that, groupPath, level) {\r\n                    var d = new _deferred.Deferred;\r\n                    level++;\r\n                    that.expandRow(groupPath.slice(0, level)).done(function() {\r\n                        if (level === groupPath.length) {\r\n                            d.resolve()\r\n                        } else {\r\n                            that._expandGroupByPath(that, groupPath, level).done(d.resolve).fail(d.reject)\r\n                        }\r\n                    }).fail(d.reject);\r\n                    return d.promise()\r\n                },\r\n                _calculateGlobalRowIndexByGroupedData: function(key) {\r\n                    var that = this;\r\n                    var dataSource = that._dataSource;\r\n                    var filter = that._generateFilterByKey(key);\r\n                    var deferred = new _deferred.Deferred;\r\n                    var isGroupKey = Array.isArray(key);\r\n                    var group = dataSource.group();\r\n                    if (isGroupKey) {\r\n                        return deferred.resolve(-1).promise()\r\n                    }\r\n                    if (!dataSource._grouping._updatePagingOptions) {\r\n                        that._calculateGlobalRowIndexByFlatData(key, null, true).done(deferred.resolve).fail(deferred.reject);\r\n                        return deferred\r\n                    }\r\n                    dataSource.load({\r\n                        filter: that._concatWithCombinedFilter(filter),\r\n                        group: group\r\n                    }).done(function(data) {\r\n                        if (!data || 0 === data.length || !(0, _type.isDefined)(data[0].key) || data[0].key === -1) {\r\n                            return deferred.resolve(-1).promise()\r\n                        }\r\n                        var groupPath = that._getGroupPath(data[0]);\r\n                        that._expandGroupByPath(that, groupPath, 0).done(function() {\r\n                            that._calculateExpandedRowGlobalIndex(deferred, key, groupPath, group)\r\n                        }).fail(deferred.reject)\r\n                    }).fail(deferred.reject);\r\n                    return deferred.promise()\r\n                },\r\n                _calculateExpandedRowGlobalIndex: function(deferred, key, groupPath, group) {\r\n                    var groupFilter = (0, _uiData_grid2.createGroupFilter)(groupPath, {\r\n                        group: group\r\n                    });\r\n                    var dataSource = this._dataSource;\r\n                    var scrollingMode = this.option(\"scrolling.mode\");\r\n                    var isVirtualScrolling = \"virtual\" === scrollingMode || \"infinite\" === scrollingMode;\r\n                    var pageSize = dataSource.pageSize();\r\n                    var groupOffset;\r\n                    dataSource._grouping._updatePagingOptions({\r\n                        skip: 0,\r\n                        take: MAX_SAFE_INTEGER\r\n                    }, function(groupInfo, totalOffset) {\r\n                        if ((0, _common.equalByValue)(groupInfo.path, groupPath)) {\r\n                            groupOffset = totalOffset\r\n                        }\r\n                    });\r\n                    this._calculateGlobalRowIndexByFlatData(key, groupFilter).done(function(dataOffset) {\r\n                        var count;\r\n                        var groupContinuationCount;\r\n                        if (dataOffset < 0) {\r\n                            deferred.resolve(-1);\r\n                            return\r\n                        }\r\n                        var currentPageOffset = groupOffset % pageSize || pageSize;\r\n                        count = currentPageOffset + dataOffset - groupPath.length;\r\n                        if (isVirtualScrolling) {\r\n                            groupContinuationCount = 0\r\n                        } else {\r\n                            groupContinuationCount = Math.floor(count / (pageSize - groupPath.length)) * groupPath.length\r\n                        }\r\n                        count = groupOffset + dataOffset + groupContinuationCount;\r\n                        deferred.resolve(count)\r\n                    }).fail(deferred.reject)\r\n                }\r\n            }\r\n        }\r\n    }\r\n}));\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.focus.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.modules\"));\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _uiGrid_core2 = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar ROW_FOCUSED_CLASS = \"dx-row-focused\";\r\nvar FOCUSED_ROW_SELECTOR = \".dx-row.\" + ROW_FOCUSED_CLASS;\r\nvar TABLE_POSTFIX_CLASS = \"table\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar FocusController = _uiGrid_core.default.ViewController.inherit(function() {\r\n    return {\r\n        init: function() {\r\n            this._dataController = this.getController(\"data\");\r\n            this._keyboardController = this.getController(\"keyboardNavigation\");\r\n            this.component._optionsByReference.focusedRowKey = true\r\n        },\r\n        optionChanged: function(args) {\r\n            if (\"focusedRowIndex\" === args.name) {\r\n                var focusedRowKey = this.option(\"focusedRowKey\");\r\n                this._focusRowByIndex(args.value);\r\n                this._triggerFocusedRowChangedIfNeed(focusedRowKey, args.value);\r\n                args.handled = true\r\n            } else {\r\n                if (\"focusedRowKey\" === args.name) {\r\n                    var focusedRowIndex = this.option(\"focusedRowIndex\");\r\n                    this._focusRowByKey(args.value);\r\n                    this._triggerFocusedRowChangedIfNeed(args.value, focusedRowIndex);\r\n                    args.handled = true\r\n                } else {\r\n                    if (\"focusedColumnIndex\" === args.name) {\r\n                        args.handled = true\r\n                    } else {\r\n                        if (\"focusedRowEnabled\" === args.name) {\r\n                            args.handled = true\r\n                        } else {\r\n                            if (\"autoNavigateToFocusedRow\" === args.name) {\r\n                                args.handled = true\r\n                            } else {\r\n                                this.callBase(args)\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        _triggerFocusedRowChangedIfNeed: function(focusedRowKey, focusedRowIndex) {\r\n            var focusedRowIndexByKey = this.getFocusedRowIndexByKey(focusedRowKey);\r\n            if (focusedRowIndex === focusedRowIndexByKey) {\r\n                var rowIndex = this._dataController.getRowIndexByKey(focusedRowKey);\r\n                if (rowIndex >= 0) {\r\n                    var $rowElement = (0, _renderer.default)(this.getView(\"rowsView\").getRowElement(rowIndex));\r\n                    this.getController(\"keyboardNavigation\")._fireFocusedRowChanged($rowElement, focusedRowIndex)\r\n                }\r\n            }\r\n        },\r\n        isAutoNavigateToFocusedRow: function() {\r\n            return \"infinite\" !== this.option(\"scrolling.mode\") && this.option(\"autoNavigateToFocusedRow\")\r\n        },\r\n        _focusRowByIndex: function(index) {\r\n            if (!this.option(\"focusedRowEnabled\")) {\r\n                return\r\n            }\r\n            index = void 0 !== index ? index : this.option(\"focusedRowIndex\");\r\n            if (index < 0) {\r\n                if (this.isAutoNavigateToFocusedRow()) {\r\n                    this._resetFocusedRow()\r\n                }\r\n            } else {\r\n                this._focusRowByIndexCore(index)\r\n            }\r\n        },\r\n        _focusRowByIndexCore: function(index) {\r\n            var _this = this;\r\n            var dataController = this.getController(\"data\");\r\n            var pageSize = dataController.pageSize();\r\n            var setKeyByIndex = function() {\r\n                if (_this._isValidFocusedRowIndex(index)) {\r\n                    var visibleIndex = index - dataController.getRowIndexOffset();\r\n                    var lastItemIndex = dataController._getLastItemIndex();\r\n                    var rowIndex = Math.min(visibleIndex, lastItemIndex);\r\n                    var focusedRowKey = dataController.getKeyByRowIndex(rowIndex);\r\n                    if ((0, _type.isDefined)(focusedRowKey) && !_this.isRowFocused(focusedRowKey)) {\r\n                        _this.option(\"focusedRowKey\", focusedRowKey)\r\n                    }\r\n                }\r\n            };\r\n            if (pageSize >= 0) {\r\n                if (!this._isLocalRowIndex(index)) {\r\n                    var pageIndex = Math.floor(index / dataController.pageSize());\r\n                    (0, _deferred.when)(dataController.pageIndex(pageIndex), dataController.waitReady()).done(function() {\r\n                        setKeyByIndex()\r\n                    })\r\n                } else {\r\n                    setKeyByIndex()\r\n                }\r\n            }\r\n        },\r\n        _isLocalRowIndex: function(index) {\r\n            var dataController = this.getController(\"data\");\r\n            var isVirtualScrolling = this.getController(\"keyboardNavigation\")._isVirtualScrolling();\r\n            if (isVirtualScrolling) {\r\n                var pageIndex = Math.floor(index / dataController.pageSize());\r\n                var virtualItems = dataController.virtualItemsCount();\r\n                var virtualItemsBegin = virtualItems ? virtualItems.begin : -1;\r\n                var visibleRowsCount = dataController.getVisibleRows().length + dataController.getRowIndexOffset();\r\n                var visiblePagesCount = Math.ceil(visibleRowsCount / dataController.pageSize());\r\n                return virtualItemsBegin <= index && visiblePagesCount > pageIndex\r\n            }\r\n            return true\r\n        },\r\n        _setFocusedRowKeyByIndex: function(index) {\r\n            var dataController = this.getController(\"data\");\r\n            if (this._isValidFocusedRowIndex(index)) {\r\n                var rowIndex = Math.min(index - dataController.getRowIndexOffset(), dataController.items().length - 1);\r\n                var focusedRowKey = dataController.getKeyByRowIndex(rowIndex);\r\n                if ((0, _type.isDefined)(focusedRowKey) && !this.isRowFocused(focusedRowKey)) {\r\n                    this.option(\"focusedRowKey\", focusedRowKey)\r\n                }\r\n            }\r\n        },\r\n        _focusRowByKey: function(key) {\r\n            if (!(0, _type.isDefined)(key)) {\r\n                this._resetFocusedRow()\r\n            } else {\r\n                this._navigateToRow(key, true)\r\n            }\r\n        },\r\n        _resetFocusedRow: function() {\r\n            var focusedRowKey = this.option(\"focusedRowKey\");\r\n            var isFocusedRowKeyDefined = (0, _type.isDefined)(focusedRowKey);\r\n            if (!isFocusedRowKeyDefined && this.option(\"focusedRowIndex\") < 0) {\r\n                return\r\n            }\r\n            var keyboardController = this.getController(\"keyboardNavigation\");\r\n            if (isFocusedRowKeyDefined) {\r\n                this.option(\"focusedRowKey\", void 0)\r\n            }\r\n            keyboardController.setFocusedRowIndex(-1);\r\n            this.option(\"focusedRowIndex\", -1);\r\n            this.getController(\"data\").updateItems({\r\n                changeType: \"updateFocusedRow\",\r\n                focusedRowKey: void 0\r\n            });\r\n            keyboardController._fireFocusedRowChanged(void 0, -1)\r\n        },\r\n        _isValidFocusedRowIndex: function(rowIndex) {\r\n            var dataController = this.getController(\"data\");\r\n            var row = dataController.getVisibleRows()[rowIndex];\r\n            return !row || \"data\" === row.rowType || \"group\" === row.rowType\r\n        },\r\n        publicMethods: function() {\r\n            return [\"navigateToRow\", \"isRowFocused\"]\r\n        },\r\n        navigateToRow: function(key) {\r\n            if (!this.isAutoNavigateToFocusedRow()) {\r\n                this.option(\"focusedRowIndex\", -1)\r\n            }\r\n            this._navigateToRow(key)\r\n        },\r\n        _navigateToRow: function(key, needFocusRow) {\r\n            var that = this;\r\n            var dataController = that.getController(\"data\");\r\n            var isAutoNavigate = that.isAutoNavigateToFocusedRow();\r\n            var d = new _deferred.Deferred;\r\n            if (void 0 === key || !dataController.dataSource()) {\r\n                return d.reject().promise()\r\n            }\r\n            var rowIndexByKey = that.getFocusedRowIndexByKey(key);\r\n            var isPaginate = dataController.getDataSource().paginate();\r\n            if (!isAutoNavigate && needFocusRow || !isPaginate || rowIndexByKey >= 0) {\r\n                that._navigateTo(key, d, needFocusRow)\r\n            } else {\r\n                dataController.getPageIndexByKey(key).done(function(pageIndex) {\r\n                    if (pageIndex < 0) {\r\n                        d.resolve(-1);\r\n                        return\r\n                    }\r\n                    if (pageIndex === dataController.pageIndex()) {\r\n                        dataController.reload().done(function() {\r\n                            if (that.isRowFocused(key)) {\r\n                                d.resolve(that.getFocusedRowIndexByKey(key))\r\n                            } else {\r\n                                that._navigateTo(key, d, needFocusRow)\r\n                            }\r\n                        }).fail(d.reject)\r\n                    } else {\r\n                        dataController.pageIndex(pageIndex).done(function() {\r\n                            that._navigateTo(key, d, needFocusRow)\r\n                        }).fail(d.reject)\r\n                    }\r\n                }).fail(d.reject)\r\n            }\r\n            return d.promise()\r\n        },\r\n        _navigateTo: function(key, deferred, needFocusRow) {\r\n            var visibleRowIndex = this.getController(\"data\").getRowIndexByKey(key);\r\n            var isVirtualRowRenderingMode = \"virtual\" === this.option(\"scrolling.rowRenderingMode\");\r\n            var isAutoNavigate = this.isAutoNavigateToFocusedRow();\r\n            if (isAutoNavigate && isVirtualRowRenderingMode && visibleRowIndex < 0) {\r\n                this._navigateToVirtualRow(key, deferred, needFocusRow)\r\n            } else {\r\n                this._navigateToVisibleRow(key, deferred, needFocusRow)\r\n            }\r\n        },\r\n        _navigateToVisibleRow: function(key, deferred, needFocusRow) {\r\n            if (needFocusRow) {\r\n                this._triggerUpdateFocusedRow(key, deferred)\r\n            } else {\r\n                this.getView(\"rowsView\").scrollToRowElement(key)\r\n            }\r\n        },\r\n        _navigateToVirtualRow: function(key, deferred, needFocusRow) {\r\n            var that = this;\r\n            var dataController = this.getController(\"data\");\r\n            var rowsScrollController = dataController._rowsScrollController;\r\n            var rowIndex = _uiGrid_core2.default.getIndexByKey(key, dataController.items(true));\r\n            var scrollable = that.getView(\"rowsView\").getScrollable();\r\n            if (rowsScrollController && scrollable && rowIndex >= 0) {\r\n                var focusedRowIndex = rowIndex + dataController.getRowIndexOffset() - dataController.getRowIndexDelta();\r\n                var offset = rowsScrollController.getItemOffset(focusedRowIndex);\r\n                if (needFocusRow) {\r\n                    var triggerUpdateFocusedRow = function triggerUpdateFocusedRow() {\r\n                        that.component.off(\"contentReady\", triggerUpdateFocusedRow);\r\n                        that._triggerUpdateFocusedRow(key, deferred)\r\n                    };\r\n                    that.component.on(\"contentReady\", triggerUpdateFocusedRow)\r\n                }\r\n                scrollable.scrollTo({\r\n                    y: offset\r\n                })\r\n            }\r\n        },\r\n        _triggerUpdateFocusedRow: function(key, deferred) {\r\n            var dataController = this.getController(\"data\");\r\n            var focusedRowIndex = this.getFocusedRowIndexByKey(key);\r\n            if (this._isValidFocusedRowIndex(focusedRowIndex)) {\r\n                if (this.option(\"focusedRowEnabled\")) {\r\n                    dataController.updateItems({\r\n                        changeType: \"updateFocusedRow\",\r\n                        focusedRowKey: key\r\n                    })\r\n                } else {\r\n                    this.getView(\"rowsView\").scrollToRowElement(key)\r\n                }\r\n                this.getController(\"keyboardNavigation\").setFocusedRowIndex(focusedRowIndex);\r\n                deferred && deferred.resolve(focusedRowIndex)\r\n            } else {\r\n                deferred && deferred.resolve(-1)\r\n            }\r\n        },\r\n        getFocusedRowIndexByKey: function(key) {\r\n            var dataController = this.getController(\"data\");\r\n            var rowIndex = dataController.getRowIndexByKey(key);\r\n            return rowIndex >= 0 ? rowIndex + dataController.getRowIndexOffset() : -1\r\n        },\r\n        _focusRowByKeyOrIndex: function() {\r\n            var _this2 = this;\r\n            var focusedRowKey = this.option(\"focusedRowKey\");\r\n            var currentFocusedRowIndex = this.option(\"focusedRowIndex\");\r\n            var keyboardController = this.getController(\"keyboardNavigation\");\r\n            var dataController = this.getController(\"data\");\r\n            if ((0, _type.isDefined)(focusedRowKey)) {\r\n                var visibleRowIndex = dataController.getRowIndexByKey(focusedRowKey);\r\n                if (visibleRowIndex >= 0) {\r\n                    if (keyboardController._isVirtualScrolling()) {\r\n                        currentFocusedRowIndex = visibleRowIndex + dataController.getRowIndexOffset()\r\n                    }\r\n                    keyboardController.setFocusedRowIndex(currentFocusedRowIndex);\r\n                    this._triggerUpdateFocusedRow(focusedRowKey)\r\n                } else {\r\n                    this._navigateToRow(focusedRowKey, true).done(function(focusedRowIndex) {\r\n                        if (currentFocusedRowIndex >= 0 && focusedRowIndex < 0) {\r\n                            _this2._focusRowByIndex()\r\n                        }\r\n                    })\r\n                }\r\n            } else {\r\n                if (currentFocusedRowIndex >= 0) {\r\n                    this.getController(\"focus\")._focusRowByIndex(currentFocusedRowIndex)\r\n                }\r\n            }\r\n        },\r\n        isRowFocused: function(key) {\r\n            var focusedRowKey = this.option(\"focusedRowKey\");\r\n            if ((0, _type.isDefined)(focusedRowKey)) {\r\n                return (0, _common.equalByValue)(key, this.option(\"focusedRowKey\"))\r\n            }\r\n        },\r\n        updateFocusedRow: function(change) {\r\n            var that = this;\r\n            var focusedRowIndex = that._dataController.getRowIndexByKey(change.focusedRowKey);\r\n            var rowsView = that.getView(\"rowsView\");\r\n            var $tableElement;\r\n            (0, _iterator.each)(rowsView.getTableElements(), function(index, element) {\r\n                var _change$items;\r\n                var isMainTable = 0 === index;\r\n                $tableElement = (0, _renderer.default)(element);\r\n                that._clearPreviousFocusedRow($tableElement, focusedRowIndex);\r\n                that._prepareFocusedRow({\r\n                    changedItem: null === change || void 0 === change ? void 0 : null === (_change$items = change.items) || void 0 === _change$items ? void 0 : _change$items[focusedRowIndex],\r\n                    $tableElement: $tableElement,\r\n                    focusedRowIndex: focusedRowIndex,\r\n                    isMainTable: isMainTable\r\n                })\r\n            })\r\n        },\r\n        _clearPreviousFocusedRow: function($tableElement, focusedRowIndex) {\r\n            var _this3 = this;\r\n            var isNotMasterDetailFocusedRow = function(_, focusedRow) {\r\n                var $focusedRowTable = (0, _renderer.default)(focusedRow).closest(\".\".concat(_this3.addWidgetPrefix(TABLE_POSTFIX_CLASS)));\r\n                return $tableElement.is($focusedRowTable)\r\n            };\r\n            var $prevRowFocusedElement = $tableElement.find(FOCUSED_ROW_SELECTOR).filter(isNotMasterDetailFocusedRow);\r\n            $prevRowFocusedElement.removeClass(ROW_FOCUSED_CLASS).removeClass(CELL_FOCUS_DISABLED_CLASS).removeAttr(\"tabindex\");\r\n            $prevRowFocusedElement.children(\"td\").removeAttr(\"tabindex\");\r\n            if (0 !== focusedRowIndex) {\r\n                var $firstRow = (0, _renderer.default)(this.getView(\"rowsView\").getRowElement(0));\r\n                $firstRow.removeClass(CELL_FOCUS_DISABLED_CLASS).removeAttr(\"tabIndex\")\r\n            }\r\n        },\r\n        _prepareFocusedRow: function(options) {\r\n            var $row;\r\n            var changedItem = options.changedItem;\r\n            if (changedItem && (\"data\" === changedItem.rowType || \"group\" === changedItem.rowType)) {\r\n                var focusedRowIndex = options.focusedRowIndex;\r\n                var $tableElement = options.$tableElement;\r\n                var isMainTable = options.isMainTable;\r\n                var tabIndex = this.option(\"tabindex\") || 0;\r\n                var rowsView = this.getView(\"rowsView\");\r\n                $row = (0, _renderer.default)(rowsView._getRowElements($tableElement).eq(focusedRowIndex));\r\n                $row.addClass(ROW_FOCUSED_CLASS).attr(\"tabindex\", tabIndex);\r\n                if (isMainTable) {\r\n                    rowsView.scrollToElementVertically($row)\r\n                }\r\n            }\r\n            return $row\r\n        }\r\n    }\r\n}());\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            focusedRowEnabled: false,\r\n            autoNavigateToFocusedRow: true,\r\n            focusedRowKey: void 0,\r\n            focusedRowIndex: -1,\r\n            focusedColumnIndex: -1\r\n        }\r\n    },\r\n    controllers: {\r\n        focus: FocusController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            keyboardNavigation: {\r\n                init: function() {\r\n                    var rowIndex = this.option(\"focusedRowIndex\");\r\n                    var columnIndex = this.option(\"focusedColumnIndex\");\r\n                    this.createAction(\"onFocusedRowChanging\", {\r\n                        excludeValidators: [\"disabled\", \"readOnly\"]\r\n                    });\r\n                    this.createAction(\"onFocusedRowChanged\", {\r\n                        excludeValidators: [\"disabled\", \"readOnly\"]\r\n                    });\r\n                    this.createAction(\"onFocusedCellChanging\", {\r\n                        excludeValidators: [\"disabled\", \"readOnly\"]\r\n                    });\r\n                    this.createAction(\"onFocusedCellChanged\", {\r\n                        excludeValidators: [\"disabled\", \"readOnly\"]\r\n                    });\r\n                    this.callBase();\r\n                    this.setRowFocusType();\r\n                    this._focusedCellPosition = {};\r\n                    if ((0, _type.isDefined)(rowIndex)) {\r\n                        this._focusedCellPosition.rowIndex = this.option(\"focusedRowIndex\")\r\n                    }\r\n                    if ((0, _type.isDefined)(columnIndex)) {\r\n                        this._focusedCellPosition.columnIndex = this.option(\"focusedColumnIndex\")\r\n                    }\r\n                },\r\n                setFocusedRowIndex: function(rowIndex) {\r\n                    var dataController = this.getController(\"data\");\r\n                    this.callBase(rowIndex);\r\n                    var visibleRowIndex = rowIndex - dataController.getRowIndexOffset();\r\n                    var visibleRow = dataController.getVisibleRows()[visibleRowIndex];\r\n                    if (!visibleRow || !visibleRow.isNewRow) {\r\n                        this.option(\"focusedRowIndex\", rowIndex)\r\n                    }\r\n                },\r\n                setFocusedColumnIndex: function(columnIndex) {\r\n                    this.callBase(columnIndex);\r\n                    this.option(\"focusedColumnIndex\", columnIndex)\r\n                },\r\n                _escapeKeyHandler: function(eventArgs, isEditing) {\r\n                    if (isEditing || !this.option(\"focusedRowEnabled\")) {\r\n                        this.callBase(eventArgs, isEditing);\r\n                        return\r\n                    }\r\n                    if (this.isCellFocusType()) {\r\n                        this.setRowFocusType();\r\n                        this._focus(this._getCellElementFromTarget(eventArgs.originalEvent.target), true)\r\n                    }\r\n                },\r\n                _updateFocusedCellPosition: function($cell, direction) {\r\n                    var prevRowIndex = this.option(\"focusedRowIndex\");\r\n                    var prevColumnIndex = this.option(\"focusedColumnIndex\");\r\n                    var position = this.callBase($cell, direction);\r\n                    if (position && position.columnIndex >= 0) {\r\n                        this._fireFocusedCellChanged($cell, prevColumnIndex, prevRowIndex)\r\n                    }\r\n                }\r\n            },\r\n            editorFactory: {\r\n                renderFocusOverlay: function($element, hideBorder) {\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    var focusedRowEnabled = this.option(\"focusedRowEnabled\");\r\n                    var editingController = this.getController(\"editing\");\r\n                    var isRowElement = \"row\" === keyboardController._getElementType($element);\r\n                    var $cell;\r\n                    if (!focusedRowEnabled || !keyboardController.isRowFocusType() || editingController.isEditing()) {\r\n                        this.callBase($element, hideBorder)\r\n                    } else {\r\n                        if (focusedRowEnabled) {\r\n                            if (isRowElement && !$element.hasClass(ROW_FOCUSED_CLASS)) {\r\n                                $cell = keyboardController.getFirstValidCellInRow($element);\r\n                                keyboardController.focus($cell)\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            columns: {\r\n                getSortDataSourceParameters: function(_, sortByKey) {\r\n                    var _this4 = this;\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    var dataController = this.getController(\"data\");\r\n                    var dataSource = dataController._dataSource;\r\n                    var store = dataController.store();\r\n                    var key = store && store.key();\r\n                    var remoteOperations = dataSource && dataSource.remoteOperations() || {};\r\n                    var isLocalOperations = Object.keys(remoteOperations).every(function(operationName) {\r\n                        return !remoteOperations[operationName]\r\n                    });\r\n                    if (key && (this.option(\"focusedRowEnabled\") && false !== this.getController(\"focus\").isAutoNavigateToFocusedRow() || sortByKey)) {\r\n                        key = Array.isArray(key) ? key : [key];\r\n                        var notSortedKeys = key.filter(function(key) {\r\n                            return !_this4.columnOption(key, \"sortOrder\")\r\n                        });\r\n                        if (notSortedKeys.length) {\r\n                            result = result || [];\r\n                            if (isLocalOperations) {\r\n                                result.push({\r\n                                    selector: dataSource.getDataIndexGetter(),\r\n                                    desc: false\r\n                                })\r\n                            } else {\r\n                                notSortedKeys.forEach(function(notSortedKey) {\r\n                                    return result.push({\r\n                                        selector: notSortedKey,\r\n                                        desc: false\r\n                                    })\r\n                                })\r\n                            }\r\n                        }\r\n                    }\r\n                    return result\r\n                }\r\n            },\r\n            data: {\r\n                _applyChange: function(change) {\r\n                    if (change && \"updateFocusedRow\" === change.changeType) {\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _fireChanged: function(e) {\r\n                    this.callBase(e);\r\n                    if (this.option(\"focusedRowEnabled\") && this._dataSource) {\r\n                        var isPartialUpdate = \"update\" === e.changeType && e.repaintChangesOnly;\r\n                        var isPartialUpdateWithDeleting = isPartialUpdate && e.changeTypes && e.changeTypes.indexOf(\"remove\") >= 0;\r\n                        if (\"refresh\" === e.changeType && e.items.length || isPartialUpdateWithDeleting) {\r\n                            this._updatePageIndexes();\r\n                            this.processUpdateFocusedRow(e)\r\n                        } else {\r\n                            if (\"append\" === e.changeType || \"prepend\" === e.changeType) {\r\n                                this._updatePageIndexes()\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                _updatePageIndexes: function() {\r\n                    var prevRenderingPageIndex = this._lastRenderingPageIndex || 0;\r\n                    var renderingPageIndex = this._rowsScrollController ? this._rowsScrollController.pageIndex() : 0;\r\n                    this._lastRenderingPageIndex = renderingPageIndex;\r\n                    this._isPagingByRendering = renderingPageIndex !== prevRenderingPageIndex\r\n                },\r\n                isPagingByRendering: function() {\r\n                    return this._isPagingByRendering\r\n                },\r\n                processUpdateFocusedRow: function(e) {\r\n                    var operationTypes = e.operationTypes || {};\r\n                    var focusController = this.getController(\"focus\");\r\n                    var reload = operationTypes.reload,\r\n                        fullReload = operationTypes.fullReload;\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    var isVirtualScrolling = keyboardController._isVirtualScrolling();\r\n                    var focusedRowKey = this.option(\"focusedRowKey\");\r\n                    var isAutoNavigate = focusController.isAutoNavigateToFocusedRow();\r\n                    if (reload && !fullReload && (0, _type.isDefined)(focusedRowKey)) {\r\n                        focusController._navigateToRow(focusedRowKey, true).done(function(focusedRowIndex) {\r\n                            if (focusedRowIndex < 0) {\r\n                                focusController._focusRowByIndex()\r\n                            }\r\n                        })\r\n                    } else {\r\n                        if (operationTypes.paging && !isVirtualScrolling) {\r\n                            if (isAutoNavigate) {\r\n                                var rowIndexByKey = this.getRowIndexByKey(focusedRowKey);\r\n                                var isValidRowIndexByKey = rowIndexByKey >= 0;\r\n                                var focusedRowIndex = this.option(\"focusedRowIndex\");\r\n                                var needFocusRowByIndex = focusedRowIndex >= 0 && (focusedRowIndex === rowIndexByKey || !isValidRowIndexByKey);\r\n                                if (needFocusRowByIndex) {\r\n                                    focusController._focusRowByIndex()\r\n                                }\r\n                            } else {\r\n                                if (this.getRowIndexByKey(focusedRowKey) < 0) {\r\n                                    this.option(\"focusedRowIndex\", -1)\r\n                                }\r\n                            }\r\n                        } else {\r\n                            if (operationTypes.fullReload) {\r\n                                focusController._focusRowByKeyOrIndex()\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                getPageIndexByKey: function(key) {\r\n                    var that = this;\r\n                    var d = new _deferred.Deferred;\r\n                    that.getGlobalRowIndexByKey(key).done(function(globalIndex) {\r\n                        d.resolve(globalIndex >= 0 ? Math.floor(globalIndex / that.pageSize()) : -1)\r\n                    }).fail(d.reject);\r\n                    return d.promise()\r\n                },\r\n                getGlobalRowIndexByKey: function(key) {\r\n                    if (this._dataSource.group()) {\r\n                        return this._calculateGlobalRowIndexByGroupedData(key)\r\n                    }\r\n                    return this._calculateGlobalRowIndexByFlatData(key)\r\n                },\r\n                _calculateGlobalRowIndexByFlatData: function(key, groupFilter, useGroup) {\r\n                    var that = this;\r\n                    var deferred = new _deferred.Deferred;\r\n                    var dataSource = that._dataSource;\r\n                    var filter = that._generateFilterByKey(key);\r\n                    dataSource.load({\r\n                        filter: that._concatWithCombinedFilter(filter),\r\n                        skip: 0,\r\n                        take: 1\r\n                    }).done(function(data) {\r\n                        if (data.length > 0) {\r\n                            filter = that._generateOperationFilterByKey(key, data[0], useGroup);\r\n                            dataSource.load({\r\n                                filter: that._concatWithCombinedFilter(filter, groupFilter),\r\n                                skip: 0,\r\n                                take: 1,\r\n                                requireTotalCount: true\r\n                            }).done(function(_, extra) {\r\n                                deferred.resolve(extra.totalCount)\r\n                            })\r\n                        } else {\r\n                            deferred.resolve(-1)\r\n                        }\r\n                    });\r\n                    return deferred.promise()\r\n                },\r\n                _concatWithCombinedFilter: function(filter, groupFilter) {\r\n                    var combinedFilter = this.getCombinedFilter();\r\n                    return _uiGrid_core2.default.combineFilters([filter, combinedFilter, groupFilter])\r\n                },\r\n                _generateBooleanFilter: function(selector, value, sortInfo) {\r\n                    var result;\r\n                    if (false === value) {\r\n                        result = [selector, \"=\", sortInfo.desc ? true : null]\r\n                    } else {\r\n                        if (true === value ? !sortInfo.desc : sortInfo.desc) {\r\n                            result = [selector, \"<>\", value]\r\n                        }\r\n                    }\r\n                    return result\r\n                },\r\n                _generateOperationFilterByKey: function(key, rowData, useGroup) {\r\n                    var that = this;\r\n                    var dataSource = that._dataSource;\r\n                    var filter = that._generateFilterByKey(key, \"<\");\r\n                    var sort = that._columnsController.getSortDataSourceParameters(!dataSource.remoteOperations().filtering, true);\r\n                    if (useGroup) {\r\n                        var group = that._columnsController.getGroupDataSourceParameters(!dataSource.remoteOperations().filtering);\r\n                        if (group) {\r\n                            sort = sort ? group.concat(sort) : group\r\n                        }\r\n                    }\r\n                    if (sort) {\r\n                        sort.slice().reverse().forEach(function(sortInfo) {\r\n                            var selector = sortInfo.selector;\r\n                            var getter;\r\n                            if (\"function\" === typeof selector) {\r\n                                getter = selector\r\n                            } else {\r\n                                getter = that._columnsController.columnOption(selector, \"selector\")\r\n                            }\r\n                            var value = getter ? getter(rowData) : rowData[selector];\r\n                            filter = [\r\n                                [selector, \"=\", value], \"and\", filter\r\n                            ];\r\n                            if (null === value || (0, _type.isBoolean)(value)) {\r\n                                var booleanFilter = that._generateBooleanFilter(selector, value, sortInfo);\r\n                                if (booleanFilter) {\r\n                                    filter = [booleanFilter, \"or\", filter]\r\n                                }\r\n                            } else {\r\n                                var filterOperation = sortInfo.desc ? \">\" : \"<\";\r\n                                var sortFilter = [selector, filterOperation, value];\r\n                                if (!sortInfo.desc) {\r\n                                    sortFilter = [sortFilter, \"or\", [selector, \"=\", null]]\r\n                                }\r\n                                filter = [sortFilter, \"or\", filter]\r\n                            }\r\n                        })\r\n                    }\r\n                    return filter\r\n                },\r\n                _generateFilterByKey: function(key, operation) {\r\n                    var dataSourceKey = this._dataSource.key();\r\n                    var filter = [];\r\n                    if (!operation) {\r\n                        operation = \"=\"\r\n                    }\r\n                    if (Array.isArray(dataSourceKey)) {\r\n                        for (var i = 0; i < dataSourceKey.length; ++i) {\r\n                            var keyPart = key[dataSourceKey[i]];\r\n                            if (keyPart) {\r\n                                if (filter.length > 0) {\r\n                                    filter.push(\"and\")\r\n                                }\r\n                                filter.push([dataSourceKey[i], operation, keyPart])\r\n                            }\r\n                        }\r\n                    } else {\r\n                        filter = [dataSourceKey, operation, key]\r\n                    }\r\n                    return filter\r\n                },\r\n                _getLastItemIndex: function() {\r\n                    return this.items(true).length - 1\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: {\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase(row);\r\n                    if (this.option(\"focusedRowEnabled\") && row) {\r\n                        if (this.getController(\"focus\").isRowFocused(row.key)) {\r\n                            $row.addClass(ROW_FOCUSED_CLASS)\r\n                        }\r\n                    }\r\n                    return $row\r\n                },\r\n                _checkRowKeys: function(options) {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (this.option(\"focusedRowEnabled\") && this.option(\"dataSource\")) {\r\n                        var store = this._dataController.store();\r\n                        if (store && !store.key()) {\r\n                            this._dataController.fireError(\"E1042\", \"Row focusing\")\r\n                        }\r\n                    }\r\n                },\r\n                _update: function(change) {\r\n                    if (\"updateFocusedRow\" === change.changeType) {\r\n                        if (this.option(\"focusedRowEnabled\")) {\r\n                            this.getController(\"focus\").updateFocusedRow(change)\r\n                        }\r\n                    } else {\r\n                        this.callBase(change)\r\n                    }\r\n                },\r\n                updateFocusElementTabIndex: function($cellElements, preventScroll) {\r\n                    if (this.option(\"focusedRowEnabled\")) {\r\n                        this._setFocusedRowElementTabIndex(preventScroll)\r\n                    } else {\r\n                        this.callBase($cellElements)\r\n                    }\r\n                },\r\n                _setFocusedRowElementTabIndex: function(preventScroll) {\r\n                    var _this5 = this;\r\n                    var focusedRowKey = this.option(\"focusedRowKey\");\r\n                    var tabIndex = this.option(\"tabIndex\") || 0;\r\n                    var dataController = this._dataController;\r\n                    var columnsController = this._columnsController;\r\n                    var rowIndex = dataController.getRowIndexByKey(focusedRowKey);\r\n                    var columnIndex = this.option(\"focusedColumnIndex\");\r\n                    var $row = this._findRowElementForTabIndex();\r\n                    if (!(0, _type.isDefined)(this._scrollToFocusOnResize)) {\r\n                        this._scrollToFocusOnResize = function() {\r\n                            _this5.scrollToElementVertically(_this5._findRowElementForTabIndex());\r\n                            _this5.resizeCompleted.remove(_this5._scrollToFocusOnResize)\r\n                        }\r\n                    }\r\n                    $row.attr(\"tabIndex\", tabIndex);\r\n                    if (rowIndex >= 0 && !preventScroll) {\r\n                        if (columnIndex < 0) {\r\n                            columnIndex = 0\r\n                        }\r\n                        rowIndex += dataController.getRowIndexOffset();\r\n                        columnIndex += columnsController.getColumnIndexOffset();\r\n                        this.getController(\"keyboardNavigation\").setFocusedCellPosition(rowIndex, columnIndex);\r\n                        if (this.getController(\"focus\").isAutoNavigateToFocusedRow()) {\r\n                            var dataSource = dataController.dataSource();\r\n                            var operationTypes = dataSource && dataSource.operationTypes();\r\n                            if (operationTypes && !operationTypes.paging && !dataController.isPagingByRendering()) {\r\n                                this.resizeCompleted.remove(this._scrollToFocusOnResize);\r\n                                this.resizeCompleted.add(this._scrollToFocusOnResize)\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                _findRowElementForTabIndex: function() {\r\n                    var focusedRowKey = this.option(\"focusedRowKey\");\r\n                    var rowIndex = this._dataController.getRowIndexByKey(focusedRowKey);\r\n                    return (0, _renderer.default)(this.getRowElement(rowIndex >= 0 ? rowIndex : 0))\r\n                },\r\n                scrollToRowElement: function(key) {\r\n                    var rowIndex = this.getController(\"data\").getRowIndexByKey(key);\r\n                    var $row = (0, _renderer.default)(this.getRow(rowIndex));\r\n                    this.scrollToElementVertically($row)\r\n                },\r\n                scrollToElementVertically: function($row) {\r\n                    var scrollable = this.getScrollable();\r\n                    if (scrollable) {\r\n                        var position = scrollable.getScrollElementPosition($row, \"vertical\");\r\n                        scrollable.scrollTo({\r\n                            top: position\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n","/**\r\n * DevExtreme (ui/data_grid/ui.data_grid.row_dragging.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _uiData_grid = _interopRequireDefault(require(\"./ui.data_grid.core\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"../grid_core/ui.grid_core.row_dragging\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n_uiData_grid.default.registerModule(\"rowDragging\", _uiGrid_core.default);\r\n","/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.row_dragging.js)\r\n * Version: 20.2.5\r\n * Build date: Fri Jan 15 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _sortable = _interopRequireDefault(require(\"../sortable\"));\r\nvar _uiGrid_core = _interopRequireDefault(require(\"./ui.grid_core.utils\"));\r\nvar _browser = _interopRequireDefault(require(\"../../core/utils/browser\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar COMMAND_HANDLE_CLASS = \"dx-command-drag\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar HANDLE_ICON_CLASS = \"drag-icon\";\r\nvar ROWS_VIEW = \"rowsview\";\r\nvar SORTABLE_WITHOUT_HANDLE_CLASS = \"dx-sortable-without-handle\";\r\nvar RowDraggingExtender = {\r\n    init: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._updateHandleColumn()\r\n    },\r\n    _allowReordering: function() {\r\n        var rowDragging = this.option(\"rowDragging\");\r\n        return !!(rowDragging && (rowDragging.allowReordering || rowDragging.allowDropInsideItem || rowDragging.group))\r\n    },\r\n    _updateHandleColumn: function() {\r\n        var rowDragging = this.option(\"rowDragging\");\r\n        var allowReordering = this._allowReordering();\r\n        var columnsController = this._columnsController;\r\n        var isHandleColumnVisible = allowReordering && rowDragging.showDragIcons;\r\n        columnsController && columnsController.addCommandColumn({\r\n            type: \"drag\",\r\n            command: \"drag\",\r\n            visibleIndex: -2,\r\n            alignment: \"center\",\r\n            cssClass: COMMAND_HANDLE_CLASS,\r\n            width: \"auto\",\r\n            cellTemplate: this._getHandleTemplate(),\r\n            visible: isHandleColumnVisible\r\n        });\r\n        columnsController.columnOption(\"type:drag\", \"visible\", isHandleColumnVisible)\r\n    },\r\n    _renderContent: function() {\r\n        var _this = this;\r\n        var rowDragging = this.option(\"rowDragging\");\r\n        var allowReordering = this._allowReordering();\r\n        var $content = this.callBase.apply(this, arguments);\r\n        var isFixedTableRendering = this._isFixedTableRendering;\r\n        var sortableName = \"_sortable\";\r\n        var sortableFixedName = \"_sortableFixed\";\r\n        var currentSortableName = isFixedTableRendering ? sortableFixedName : sortableName;\r\n        var anotherSortableName = isFixedTableRendering ? sortableName : sortableFixedName;\r\n        var togglePointerEventsStyle = function(toggle) {\r\n            var _this$sortableFixedNa;\r\n            null === (_this$sortableFixedNa = _this[sortableFixedName]) || void 0 === _this$sortableFixedNa ? void 0 : _this$sortableFixedNa.$element().css(\"pointerEvents\", toggle ? \"auto\" : \"\")\r\n        };\r\n        if (allowReordering && $content.length) {\r\n            this[currentSortableName] = this._createComponent($content, _sortable.default, (0, _extend.extend)({\r\n                component: this.component,\r\n                contentTemplate: null,\r\n                filter: \"> table > tbody > .dx-row:not(.dx-freespace-row):not(.dx-virtual-row)\",\r\n                dragTemplate: this._getDraggableRowTemplate(),\r\n                handle: rowDragging.showDragIcons && \".\".concat(COMMAND_HANDLE_CLASS),\r\n                dropFeedbackMode: \"indicate\"\r\n            }, rowDragging, {\r\n                onDragStart: function(e) {\r\n                    var _rowDragging$onDragSt;\r\n                    var row = e.component.getVisibleRows()[e.fromIndex];\r\n                    e.itemData = row && row.data;\r\n                    var isDataRow = row && \"data\" === row.rowType;\r\n                    e.cancel = !isDataRow;\r\n                    null === (_rowDragging$onDragSt = rowDragging.onDragStart) || void 0 === _rowDragging$onDragSt ? void 0 : _rowDragging$onDragSt.call(rowDragging, e)\r\n                },\r\n                onDragEnter: function() {\r\n                    togglePointerEventsStyle(true)\r\n                },\r\n                onDragLeave: function() {\r\n                    togglePointerEventsStyle(false)\r\n                },\r\n                onDragEnd: function(e) {\r\n                    var _rowDragging$onDragEn;\r\n                    togglePointerEventsStyle(false);\r\n                    null === (_rowDragging$onDragEn = rowDragging.onDragEnd) || void 0 === _rowDragging$onDragEn ? void 0 : _rowDragging$onDragEn.call(rowDragging, e)\r\n                },\r\n                dropFeedbackMode: _browser.default.msie ? \"indicate\" : rowDragging.dropFeedbackMode,\r\n                onOptionChanged: function(e) {\r\n                    var hasFixedSortable = _this[sortableFixedName];\r\n                    if (hasFixedSortable) {\r\n                        if (\"fromIndex\" === e.name || \"toIndex\" === e.name) {\r\n                            _this[anotherSortableName].option(e.name, e.value)\r\n                        }\r\n                    }\r\n                }\r\n            }));\r\n            $content.toggleClass(SORTABLE_WITHOUT_HANDLE_CLASS, !rowDragging.showDragIcons)\r\n        }\r\n        return $content\r\n    },\r\n    _resizeCore: function() {\r\n        this.callBase.apply(this, arguments);\r\n        var offset = this._dataController.getRowIndexOffset();\r\n        [this._sortable, this._sortableFixed].forEach(function(sortable) {\r\n            null === sortable || void 0 === sortable ? void 0 : sortable.option(\"offset\", offset);\r\n            null === sortable || void 0 === sortable ? void 0 : sortable.update()\r\n        })\r\n    },\r\n    _getDraggableGridOptions: function(options) {\r\n        var gridOptions = this.option();\r\n        var columns = this.getColumns();\r\n        var $rowElement = (0, _renderer.default)(this.getRowElement(options.rowIndex));\r\n        return {\r\n            dataSource: [{\r\n                id: 1,\r\n                parentId: 0\r\n            }],\r\n            showBorders: true,\r\n            showColumnHeaders: false,\r\n            scrolling: {\r\n                useNative: false,\r\n                showScrollbar: false\r\n            },\r\n            pager: {\r\n                visible: false\r\n            },\r\n            loadingTimeout: void 0,\r\n            columnFixing: gridOptions.columnFixing,\r\n            columnAutoWidth: gridOptions.columnAutoWidth,\r\n            showColumnLines: gridOptions.showColumnLines,\r\n            columns: columns.map(function(column) {\r\n                return {\r\n                    width: column.width || column.visibleWidth,\r\n                    fixed: column.fixed,\r\n                    fixedPosition: column.fixedPosition\r\n                }\r\n            }),\r\n            onRowPrepared: function(e) {\r\n                var rowsView = e.component.getView(\"rowsView\");\r\n                (0, _renderer.default)(e.rowElement).replaceWith($rowElement.eq(rowsView._isFixedTableRendering ? 1 : 0).clone())\r\n            }\r\n        }\r\n    },\r\n    _getDraggableRowTemplate: function() {\r\n        var _this2 = this;\r\n        return function(options) {\r\n            var $rootElement = _this2.component.$element();\r\n            var $dataGridContainer = (0, _renderer.default)(\"<div>\").width($rootElement.width());\r\n            var items = _this2._dataController.items();\r\n            var row = items && items[options.fromIndex];\r\n            var gridOptions = _this2._getDraggableGridOptions(row);\r\n            _this2._createComponent($dataGridContainer, _this2.component.NAME, gridOptions);\r\n            $dataGridContainer.find(\".dx-gridbase-container\").children(\":not(.\".concat(_this2.addWidgetPrefix(ROWS_VIEW), \")\")).hide();\r\n            return $dataGridContainer\r\n        }\r\n    },\r\n    _getHandleTemplate: function() {\r\n        var _this3 = this;\r\n        return function(container, options) {\r\n            if (\"data\" === options.rowType) {\r\n                (0, _renderer.default)(container).addClass(CELL_FOCUS_DISABLED_CLASS);\r\n                return (0, _renderer.default)(\"<span>\").addClass(_this3.addWidgetPrefix(HANDLE_ICON_CLASS))\r\n            } else {\r\n                _uiGrid_core.default.setEmptyText((0, _renderer.default)(container))\r\n            }\r\n        }\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"rowDragging\" === args.name) {\r\n            this._updateHandleColumn();\r\n            this._invalidate(true, true);\r\n            args.handled = true\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    }\r\n};\r\nvar _default = {\r\n    defaultOptions: function() {\r\n        return {\r\n            rowDragging: {\r\n                showDragIcons: true,\r\n                dropFeedbackMode: \"indicate\",\r\n                allowReordering: false,\r\n                allowDropInsideItem: false\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        views: {\r\n            rowsView: RowDraggingExtender\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"],"sourceRoot":""}