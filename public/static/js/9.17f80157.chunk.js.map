{"version":3,"sources":["res/images/loading.gif","Data Stores/admin section/Grid Stores.js","Data Stores/admin section/Lookup Stores.js","helpers/datagridExporter.js","pages/admin section/Financial/Customers/Customers.js"],"names":["generateParamsForRequest","loadOptions","isMoreOptions","params","i","JSON","stringify","slice","finCustomersSuppliersDataGrid","CustomStore","key","load","a","request","get","data","totalCount","allCount","summary","insert","values","post","update","customerId","remove","delete","finBillsDataGrid","financialPeriodId","billId","getRecords","finPaymentsDataGrid","reduce","acc","p","value","paymentId","finCustomersSuppliersDataLookup","byKey","length","e","htmlColumns","objectColumns","workbook","ExcelJS","Workbook","worksheet","addWorksheet","i18next","t","exportDataGrid","component","customizeCell","gridCell","excelCell","rowType","objCol","find","c","column","dataField","name","map","v","d","fieldName1","fieldName2","displayName","join","htmlToText","wordwrap","Date","toDateString","fill","type","pattern","fgColor","argb","font","italic","then","xlsx","writeBuffer","buffer","saveAs","Blob","cancel","Customers","props","useTranslation","basic","title","dataSource","showBorders","showColumnLines","columnHidingEnabled","wordWrapEnabled","columnAutoWidth","repaintChangesOnly","remoteOperations","allowColumnResizing","allowColumnReordering","onExporting","datagridExporter","loadPanel","indicatorSrc","LoadingGifImage","onRowPrepared","rowIndex","rowElement","style","backgroundColor","mode","visible","useIcons","allowUpdating","allowDeleting","allowAdding","refreshMode","itemType","colCount","colSpan","isRequired","caption","summaryType","displayFormat","enabled"],"mappings":"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","file":"static/js/9.17f80157.chunk.js","sourcesContent":["export default \"data:image/gif;base64,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\"","import CustomStore from 'devextreme/data/custom_store';\r\nimport request from '../../api';\r\n\r\n\r\nconst generateParamsForRequest = (loadOptions, isMoreOptions) => {\r\n    let params = '?';\r\n    for (let i in loadOptions) {\r\n        if (loadOptions[i])\r\n            params += `${i}=${JSON.stringify(loadOptions[i])}&`;\r\n    }\r\n    if (isMoreOptions)\r\n        return params;\r\n    return params = params.slice(0, -1);\r\n};\r\n\r\nexport const finCustomersSuppliersDataGrid = new CustomStore({\r\n    key: 'idCustomer',\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions);\r\n            const { data: { data, allCount: totalCount } } = await request.get(`/user/customer/fullinfo${params}`);\r\n            return { data, totalCount, summary: [totalCount] };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n    insert: async (values) => await request.post('/user/customer', values),\r\n    update: async (key, values) => await request.post('/user/customer/update', { ...values, customerId: key }),\r\n    remove: async (key) => await request.delete('/user/customer', { data: { customerId: key } })\r\n});\r\n\r\nexport const finPeriodsDataGrid = new CustomStore({\r\n    key: 'financialPeriodId',\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions);\r\n            const { data: { data, allCount: totalCount } } = await request.get(`/admin/aw/financial/periods/obbranch/${params}`);\r\n            return { data, totalCount };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n    insert: async (values) => await request.post('/admin/aw/financial/period', { ...values }),\r\n    update: async (key, values) => await request.post('/admin/aw/financial/period/update', { ...values, financialPeriodId: key }),\r\n    remove: async (key) => await request.delete('/admin/aw/financial/period', { data: { financialPeriodId: key } })\r\n});\r\n\r\nexport const finBillsDataGrid = new CustomStore({\r\n    key: 'billId',\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions, true);\r\n            const { data: { data, allCount: totalCount } } = await request.get(`/user/bill/fullinfo${params}`);\r\n            return { data, totalCount };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n    insert: async (values) => await request.post('/user/bill', values),\r\n    update: async (key, values) => await request.post('/user/bill/update', { ...values, billId: key }),\r\n    remove: async (key) => await request.delete('/user/bill', { data: { billId: key } })\r\n});\r\nfinBillsDataGrid.getRecords = async (billId) => await request.get(`/user/bill/${billId}/records`);\r\n\r\n\r\nexport const finPaymentsDataGrid = new CustomStore({\r\n    key: 'paymentId',\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions, true);\r\n            const { data: { data, allCount: totalCount } } = await request.get(`/user/payment/fullinfo${params}`);\r\n            const summary = data.reduce((acc, p) => acc + (p.value || 0), 0);\r\n            return { data, totalCount, summary: [summary] };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n    insert: async (values) => await request.post('/user/payment', values),\r\n    update: async (key, values) => await request.post('/user/payment/update', { ...values, paymentId: key }),\r\n    remove: async (key) => await request.delete('/user/payment', { data: { paymentId: key } })\r\n});","import CustomStore from 'devextreme/data/custom_store';\r\nimport request from '../../api';\r\n\r\nconst generateParamsForRequest = (loadOptions, isMoreOptions) => {\r\n    let params = '?';\r\n    for (let i in loadOptions) {\r\n        if (loadOptions[i])\r\n            params += `${i}=${JSON.stringify(loadOptions[i])}&`;\r\n    }\r\n    if (isMoreOptions)\r\n        return params;\r\n    return params = params.slice(0, -1);\r\n};\r\n\r\n\r\nexport const finCustomersSuppliersDataLookup = new CustomStore({\r\n    key: 'idCustomer',\r\n    byKey: async (key) => { },\r\n    load: async (loadOptions) => {\r\n        try {\r\n            const params = generateParamsForRequest(loadOptions);\r\n            const { data: { data } } = await request.get(`/user/customer/fullinfo${params}`);\r\n            return { data, totalCount: data.length };\r\n        } catch (err) {\r\n            return err;\r\n        }\r\n    },\r\n});\r\n\r\n\r\n","import { exportDataGrid } from 'devextreme/exporter/exceljs/export_data_grid';\r\nimport { htmlToText } from 'html-to-text';\r\nimport i18next from 'i18next';\r\nimport saveAs from 'file-saver';\r\nimport ExcelJS from 'exceljs';\r\n\r\nexport default (e, htmlColumns = [], objectColumns = []) => {\r\n    const workbook = new ExcelJS.Workbook();\r\n    const worksheet = workbook.addWorksheet(i18next.t('DataGrid'));\r\n\r\n    exportDataGrid({\r\n        component: e.component,\r\n        worksheet: worksheet,\r\n        customizeCell: ({ gridCell, excelCell }) => {\r\n\r\n            if (gridCell.rowType === 'data') {\r\n                const objCol = objectColumns.find(c => gridCell.column.dataField === c.name);\r\n                if (objCol && gridCell.value) {\r\n                    excelCell.value = gridCell.value.map(v => {\r\n                        const res = objCol.data.find(d => d[objCol.fieldName1] === v[objCol.fieldName2]);\r\n                        return res[objCol.displayName];\r\n                    }).join();\r\n                }\r\n\r\n                if (htmlColumns.find(c => gridCell.column.dataField === c)) {\r\n                    excelCell.value = htmlToText(gridCell.value, { wordwrap: null });\r\n                }\r\n\r\n                if (gridCell.column.dataField === 'creatAt') {\r\n                    excelCell.value = new Date(gridCell.value).toDateString();\r\n                }\r\n                if (gridCell.column.dataField === 'isActive') {\r\n                    excelCell.value = gridCell.value ? i18next.t('YES') : i18next.t('NO');\r\n                }\r\n            }\r\n            if (gridCell.rowType === 'group') {\r\n                excelCell.fill = { type: 'pattern', pattern: 'solid', fgColor: { argb: 'BEDFE6' } };\r\n            }\r\n            if (gridCell.rowType === 'totalFooter' && excelCell.value) {\r\n                excelCell.font.italic = true;\r\n            }\r\n        }\r\n    }).then(() => {\r\n        workbook.xlsx.writeBuffer().then((buffer) => {\r\n            saveAs(new Blob([buffer], { type: 'application/octet-stream' }), 'DataGrid.xlsx');\r\n        });\r\n    });\r\n    e.cancel = true;\r\n};","import React from 'react';\r\nimport { Segment } from 'semantic-ui-react';\r\nimport DataGrid, { Column, Editing, FilterPanel, FilterRow, Form, Scrolling, SearchPanel, Sorting, Summary, TotalItem, Export } from 'devextreme-react/data-grid';\r\nimport { Item } from 'devextreme-react/ui/form';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { PageHeader } from '../../../../components';\r\nimport { finCustomersSuppliersDataGrid } from '../../../../Data Stores';\r\nimport LoadingGifImage from '../../../../res/images/loading.gif';\r\nimport datagridExporter from '../../../../helpers/datagridExporter';\r\n\r\nconst Customers = (props) => {\r\n    const { t } = useTranslation();\r\n\r\n    return (\r\n        <Segment basic>\r\n            <PageHeader title={t('Customers')} />\r\n            <Segment basic>\r\n                <DataGrid\r\n                    dataSource={finCustomersSuppliersDataGrid}\r\n                    showBorders\r\n                    showColumnLines\r\n                    columnHidingEnabled\r\n                    wordWrapEnabled\r\n                    columnAutoWidth\r\n                    repaintChangesOnly\r\n                    remoteOperations\r\n                    allowColumnResizing\r\n                    allowColumnReordering\r\n                    onExporting={datagridExporter}\r\n                    loadPanel={{ indicatorSrc: LoadingGifImage }}\r\n                    onRowPrepared={(e) => {\r\n                        if (e.rowType === \"data\" && e.rowIndex % 2 !== 0) {\r\n                            e.rowElement.style.backgroundColor = \"rgba(33,55,150,0.3)\";\r\n                        }\r\n                    }}\r\n                >\r\n                    <Sorting mode='multiple' />\r\n                    <FilterRow visible />\r\n                    <FilterPanel visible />\r\n                    <Scrolling mode=\"infinite\" />\r\n                    <SearchPanel visible />\r\n                    <Editing\r\n                        mode='popup'\r\n                        useIcons\r\n                        allowUpdating\r\n                        allowDeleting\r\n                        allowAdding\r\n                        refreshMode='reshape'\r\n                    >\r\n\r\n                        <Form>\r\n                            <Item itemType=\"group\" colCount={2} colSpan={2}>\r\n                                <Item dataField=\"firstName\" isRequired />\r\n                                <Item dataField=\"lastName\" isRequired />\r\n                                <Item dataField=\"mobile\" isRequired />\r\n                                <Item dataField=\"address\" />\r\n                            </Item>\r\n                        </Form>\r\n                    </Editing>\r\n\r\n\r\n                    <Column dataField=\"firstName\" caption={t('FirstName')} />\r\n                    <Column dataField=\"lastName\" caption={t('LastName')} />\r\n                    <Column dataField=\"mobile\" caption={t('Mobile')} />\r\n                    <Column dataField=\"address\" caption={t('Address')} />\r\n\r\n                    <Summary>\r\n                        <TotalItem\r\n                            column=\"mobile\"\r\n                            summaryType=\"count\"\r\n                            displayFormat={`${t('Total')}: {0}`}\r\n                        />\r\n                    </Summary>\r\n\r\n                    <Export enabled />\r\n                </DataGrid>\r\n            </Segment>\r\n\r\n        </Segment>\r\n    );\r\n};\r\n\r\n\r\nexport default Customers;\r\n"],"sourceRoot":""}